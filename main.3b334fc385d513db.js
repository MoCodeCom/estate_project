(self.webpackChunkestate=self.webpackChunkestate||[]).push([[179],{2011:(Yt,Xe,z)=>{"use strict";z.d(Xe,{Dh:()=>je,GT:()=>Ee,cc:()=>it,hO:()=>tt,on:()=>he,pX:()=>Oe,xv:()=>Ne});var o=z(4650),te=z(9260),W=z(4976);Yt=z.hmd(Yt);const Ce=["ngOnDestroy"],Oe=(st,dt,mt,nt={})=>new Proxy(st,{get:(Qe,lt)=>mt.runOutsideAngular(()=>{var vt;if(st[lt])return!(null===(vt=nt?.spy)||void 0===vt)&&vt.get&&nt.spy.get(lt,st[lt]),st[lt];if(Ce.indexOf(lt)>-1)return()=>{};const rt=dt.toPromise().then(Ae=>{const Lt=Ae&&Ae[lt];return"function"==typeof Lt?Lt.bind(Ae):Lt&&Lt.then?Lt.then(tn=>mt.run(()=>tn)):mt.run(()=>Lt)});return new Proxy(()=>{},{get:(Ae,Lt)=>rt[Lt],apply:(Ae,Lt,tn)=>rt.then(Zt=>{var dn;const zt=Zt&&Zt(...tn);return!(null===(dn=nt?.spy)||void 0===dn)&&dn.apply&&nt.spy.apply(lt,tn,zt),zt})})})}),Ee=(st,dt)=>{dt.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(nt=>{Object.defineProperty(st.prototype,nt,Object.getOwnPropertyDescriptor(mt.prototype||mt,nt))})})};class $e{constructor(dt){return dt}}const je=new o.OlP("angularfire2.app.options"),Ne=new o.OlP("angularfire2.app.name");function he(st,dt,mt){const Qe="object"==typeof mt&&mt||{};Qe.name=Qe.name||"string"==typeof mt&&mt||"[DEFAULT]";const vt=te.Z.apps.filter(rt=>rt&&rt.name===Qe.name)[0]||dt.runOutsideAngular(()=>te.Z.initializeApp(st,Qe));try{JSON.stringify(st)!==JSON.stringify(vt.options)&&fe("error",`${vt.name} Firebase App already initialized with different options${Yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new $e(vt)}const fe=(st,...dt)=>{(0,o.X6Q)()&&typeof console<"u"&&console[st](...dt)},be={provide:$e,useFactory:he,deps:[je,o.R0b,[new o.FiY,Ne]]};let tt=(()=>{class st{constructor(mt){te.Z.registerVersion("angularfire",W.q4.full,"core"),te.Z.registerVersion("angularfire",W.q4.full,"app-compat"),te.Z.registerVersion("angular",o.q4F.full,mt.toString())}static initializeApp(mt,nt){return{ngModule:st,providers:[{provide:je,useValue:mt},{provide:Ne,useValue:nt}]}}}return st.\u0275fac=function(mt){return new(mt||st)(o.LFG(o.Lbi))},st.\u0275mod=o.oAB({type:st}),st.\u0275inj=o.cJS({providers:[be]}),st})();function it(st,dt,mt,nt,Qe){const[,lt,vt]=globalThis.\u0275AngularfireInstanceCache.find(rt=>rt[0]===st)||[];if(lt)return function Tt(st,dt){try{return st.toString()===dt.toString()}catch{return st===dt}}(Qe,vt)||(Be("error",`${dt} was already initialized on the ${mt} Firebase App with different settings.${Vt?" You may need to reload as Firebase is not HMR aware.":""}`),Be("warn",{is:Qe,was:vt})),lt;{const rt=nt();return globalThis.\u0275AngularfireInstanceCache.push([st,rt,Qe]),rt}}const Vt=!!Yt.hot,Be=(st,...dt)=>{(0,o.X6Q)()&&typeof console<"u"&&console[st](...dt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Yt,Xe,z)=>{"use strict";z.d(Xe,{q4:()=>Nr,iC:()=>Tf,fc:()=>Ef,HU:()=>Xl,vb:()=>Lp,JM:()=>bu,u3:()=>Up});var o=z(4650),te=z(259),W=z(5861),Ce=z(6881),Oe=z(2090),Ee=z(4859),$e=z(1877);const je=(x,k)=>k.some(B=>x instanceof B);let Ne,he;const tt=new WeakMap,it=new WeakMap,Tt=new WeakMap,Vt=new WeakMap,Be=new WeakMap;let mt={get(x,k,B){if(x instanceof IDBTransaction){if("done"===k)return it.get(x);if("objectStoreNames"===k)return x.objectStoreNames||Tt.get(x);if("store"===k)return B.objectStoreNames[1]?void 0:B.objectStore(B.objectStoreNames[0])}return vt(x[k])},set:(x,k,B)=>(x[k]=B,!0),has:(x,k)=>x instanceof IDBTransaction&&("done"===k||"store"===k)||k in x};function lt(x){return"function"==typeof x?function Qe(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...k){return x.apply(rt(this),k),vt(tt.get(this))}:function(...k){return vt(x.apply(rt(this),k))}:function(k,...B){const X=x.call(rt(this),k,...B);return Tt.set(X,k.sort?k.sort():[k]),vt(X)}}(x):(x instanceof IDBTransaction&&function dt(x){if(it.has(x))return;const k=new Promise((B,X)=>{const me=()=>{x.removeEventListener("complete",ye),x.removeEventListener("error",Ve),x.removeEventListener("abort",Ve)},ye=()=>{B(),me()},Ve=()=>{X(x.error||new DOMException("AbortError","AbortError")),me()};x.addEventListener("complete",ye),x.addEventListener("error",Ve),x.addEventListener("abort",Ve)});it.set(x,k)}(x),je(x,function fe(){return Ne||(Ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,mt):x)}function vt(x){if(x instanceof IDBRequest)return function st(x){const k=new Promise((B,X)=>{const me=()=>{x.removeEventListener("success",ye),x.removeEventListener("error",Ve)},ye=()=>{B(vt(x.result)),me()},Ve=()=>{X(x.error),me()};x.addEventListener("success",ye),x.addEventListener("error",Ve)});return k.then(B=>{B instanceof IDBCursor&&tt.set(B,x)}).catch(()=>{}),Be.set(k,x),k}(x);if(Vt.has(x))return Vt.get(x);const k=lt(x);return k!==x&&(Vt.set(x,k),Be.set(k,x)),k}const rt=x=>Be.get(x),tn=["get","getKey","getAll","getAllKeys","count"],Zt=["put","add","delete","clear"],dn=new Map;function zt(x,k){if(!(x instanceof IDBDatabase)||k in x||"string"!=typeof k)return;if(dn.get(k))return dn.get(k);const B=k.replace(/FromIndex$/,""),X=k!==B,me=Zt.includes(B);if(!(B in(X?IDBIndex:IDBObjectStore).prototype)||!me&&!tn.includes(B))return;const ye=function(){var Ve=(0,W.Z)(function*(Dt,...Et){const Jt=this.transaction(Dt,me?"readwrite":"readonly");let An=Jt.store;return X&&(An=An.index(Et.shift())),(yield Promise.all([An[B](...Et),me&&Jt.done]))[0]});return function(Et){return Ve.apply(this,arguments)}}();return dn.set(k,ye),ye}!function nt(x){mt=x(mt)}(x=>({...x,get:(k,B,X)=>zt(k,B)||x.get(k,B,X),has:(k,B)=>!!zt(k,B)||x.has(k,B)}));const Cn="@firebase/installations",Fe="0.6.4",Ie=1e4,ze=`w:${Fe}`,Ke="FIS_v2",pt="https://firebaseinstallations.googleapis.com/v1",Je=36e5,Pt=new Oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rn(x){return x instanceof Oe.ZR&&x.code.includes("request-failed")}function Vn({projectId:x}){return`${pt}/projects/${x}/installations`}function ri(x){return{token:x.token,requestStatus:2,expiresIn:Co(x.expiresIn),creationTime:Date.now()}}function mi(x,k){return kr.apply(this,arguments)}function kr(){return(kr=(0,W.Z)(function*(x,k){const X=(yield k.json()).error;return Pt.create("request-failed",{requestName:x,serverCode:X.code,serverMessage:X.message,serverStatus:X.status})})).apply(this,arguments)}function ar({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function ir(x){return oo.apply(this,arguments)}function oo(){return(oo=(0,W.Z)(function*(x){const k=yield x();return k.status>=500&&k.status<600?x():k})).apply(this,arguments)}function Co(x){return Number(x.replace("s","000"))}function jt(){return(jt=(0,W.Z)(function*({appConfig:x,heartbeatServiceProvider:k},{fid:B}){const X=Vn(x),me=ar(x),ye=k.getImmediate({optional:!0});if(ye){const Jt=yield ye.getHeartbeatsHeader();Jt&&me.append("x-firebase-client",Jt)}const Dt={method:"POST",headers:me,body:JSON.stringify({fid:B,authVersion:Ke,appId:x.appId,sdkVersion:ze})},Et=yield ir(()=>fetch(X,Dt));if(Et.ok){const Jt=yield Et.json();return{fid:Jt.fid||B,registrationStatus:2,refreshToken:Jt.refreshToken,authToken:ri(Jt.authToken)}}throw yield mi("Create Installation",Et)})).apply(this,arguments)}function Yi(x){return new Promise(k=>{setTimeout(k,x)})}const lr=/^[cdef][\w-]{21}$/,so="";function qr(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const B=function ti(x){return function Cs(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return lr.test(B)?B:so}catch{return so}}function Ln(x){return`${x.appName}!${x.appId}`}const Wt=new Map;function In(x,k){const B=Ln(x);zi(B,k),function Wr(x,k){const B=function Cr(){return!Ki&&"BroadcastChannel"in self&&(Ki=new BroadcastChannel("[Firebase] FID Change"),Ki.onmessage=x=>{zi(x.data.key,x.data.fid)}),Ki}();B&&B.postMessage({key:x,fid:k}),function kn(){0===Wt.size&&Ki&&(Ki.close(),Ki=null)}()}(B,k)}function zi(x,k){const B=Wt.get(x);if(B)for(const X of B)X(k)}let Ki=null;const Go="firebase-installations-database",zn=1,Eo="firebase-installations-store";let Rn=null;function rr(){return Rn||(Rn=function Ae(x,k,{blocked:B,upgrade:X,blocking:me,terminated:ye}={}){const Ve=indexedDB.open(x,k),Dt=vt(Ve);return X&&Ve.addEventListener("upgradeneeded",Et=>{X(vt(Ve.result),Et.oldVersion,Et.newVersion,vt(Ve.transaction))}),B&&Ve.addEventListener("blocked",()=>B()),Dt.then(Et=>{ye&&Et.addEventListener("close",()=>ye()),me&&Et.addEventListener("versionchange",()=>me())}).catch(()=>{}),Dt}(Go,zn,{upgrade:(x,k)=>{0===k&&x.createObjectStore(Eo)}})),Rn}function Qi(x,k){return $r.apply(this,arguments)}function $r(){return($r=(0,W.Z)(function*(x,k){const B=Ln(x),me=(yield rr()).transaction(Eo,"readwrite"),ye=me.objectStore(Eo),Ve=yield ye.get(B);return yield ye.put(k,B),yield me.done,(!Ve||Ve.fid!==k.fid)&&In(x,k.fid),k})).apply(this,arguments)}function cr(x){return To.apply(this,arguments)}function To(){return(To=(0,W.Z)(function*(x){const k=Ln(x),X=(yield rr()).transaction(Eo,"readwrite");yield X.objectStore(Eo).delete(k),yield X.done})).apply(this,arguments)}function ao(x,k){return Do.apply(this,arguments)}function Do(){return(Do=(0,W.Z)(function*(x,k){const B=Ln(x),me=(yield rr()).transaction(Eo,"readwrite"),ye=me.objectStore(Eo),Ve=yield ye.get(B),Dt=k(Ve);return void 0===Dt?yield ye.delete(B):yield ye.put(Dt,B),yield me.done,Dt&&(!Ve||Ve.fid!==Dt.fid)&&In(x,Dt.fid),Dt})).apply(this,arguments)}function le(x){return oe.apply(this,arguments)}function oe(){return oe=(0,W.Z)(function*(x){let k;const B=yield ao(x.appConfig,X=>{const me=function G(x){return cn(x||{fid:qr(),registrationStatus:0})}(X),ye=function Y(x,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(Pt.create("app-offline"))};const B={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},X=function q(x,k){return ge.apply(this,arguments)}(x,B);return{installationEntry:B,registrationPromise:X}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:De(x)}:{installationEntry:k}}(x,me);return k=ye.registrationPromise,ye.installationEntry});return B.fid===so?{installationEntry:yield k}:{installationEntry:B,registrationPromise:k}}),oe.apply(this,arguments)}function ge(){return ge=(0,W.Z)(function*(x,k){try{const B=yield function Gi(x,k){return jt.apply(this,arguments)}(x,k);return Qi(x.appConfig,B)}catch(B){throw rn(B)&&409===B.customData.serverCode?yield cr(x.appConfig):yield Qi(x.appConfig,{fid:k.fid,registrationStatus:0}),B}}),ge.apply(this,arguments)}function De(x){return kt.apply(this,arguments)}function kt(){return(kt=(0,W.Z)(function*(x){let k=yield pn(x.appConfig);for(;1===k.registrationStatus;)yield Yi(100),k=yield pn(x.appConfig);if(0===k.registrationStatus){const{installationEntry:B,registrationPromise:X}=yield le(x);return X||B}return k})).apply(this,arguments)}function pn(x){return ao(x,k=>{if(!k)throw Pt.create("installation-not-found");return cn(k)})}function cn(x){return function Fn(x){return 1===x.registrationStatus&&x.registrationTime+Ie<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function xi(){return(xi=(0,W.Z)(function*({appConfig:x,heartbeatServiceProvider:k},B){const X=function Tn(x,{fid:k}){return`${Vn(x)}/${k}/authTokens:generate`}(x,B),me=function Or(x,{refreshToken:k}){const B=ar(x);return B.append("Authorization",function nl(x){return`${Ke} ${x}`}(k)),B}(x,B),ye=k.getImmediate({optional:!0});if(ye){const Jt=yield ye.getHeartbeatsHeader();Jt&&me.append("x-firebase-client",Jt)}const Dt={method:"POST",headers:me,body:JSON.stringify({installation:{sdkVersion:ze,appId:x.appId}})},Et=yield ir(()=>fetch(X,Dt));if(Et.ok)return ri(yield Et.json());throw yield mi("Generate Auth Token",Et)})).apply(this,arguments)}function Er(x){return aa.apply(this,arguments)}function aa(){return aa=(0,W.Z)(function*(x,k=!1){let B;const X=yield ao(x.appConfig,ye=>{if(!Nn(ye))throw Pt.create("not-registered");const Ve=ye.authToken;if(!k&&function on(x){return 2===x.requestStatus&&!function fi(x){const k=Date.now();return k<x.creationTime||x.creationTime+x.expiresIn<k+Je}(x)}(Ve))return ye;if(1===Ve.requestStatus)return B=function He(x,k){return Me.apply(this,arguments)}(x,k),ye;{if(!navigator.onLine)throw Pt.create("app-offline");const Dt=function Xn(x){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:k})}(ye);return B=function Kt(x,k){return wn.apply(this,arguments)}(x,Dt),Dt}});return B?yield B:X.authToken}),aa.apply(this,arguments)}function Me(){return(Me=(0,W.Z)(function*(x,k){let B=yield ht(x.appConfig);for(;1===B.authToken.requestStatus;)yield Yi(100),B=yield ht(x.appConfig);const X=B.authToken;return 0===X.requestStatus?Er(x,k):X})).apply(this,arguments)}function ht(x){return ao(x,k=>{if(!Nn(k))throw Pt.create("not-registered");return function lo(x){return 1===x.requestStatus&&x.requestTime+Ie<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function wn(){return wn=(0,W.Z)(function*(x,k){try{const B=yield function _n(x,k){return xi.apply(this,arguments)}(x,k),X=Object.assign(Object.assign({},k),{authToken:B});return yield Qi(x.appConfig,X),B}catch(B){if(!rn(B)||401!==B.customData.serverCode&&404!==B.customData.serverCode){const X=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield Qi(x.appConfig,X)}else yield cr(x.appConfig);throw B}}),wn.apply(this,arguments)}function Nn(x){return void 0!==x&&2===x.registrationStatus}function Ll(){return(Ll=(0,W.Z)(function*(x){const k=x,{installationEntry:B,registrationPromise:X}=yield le(k);return X?X.catch(console.error):Er(k).catch(console.error),B.fid})).apply(this,arguments)}function la(){return la=(0,W.Z)(function*(x,k=!1){const B=x;return yield function Tr(x){return It.apply(this,arguments)}(B),(yield Er(B,k)).token}),la.apply(this,arguments)}function It(){return(It=(0,W.Z)(function*(x){const{registrationPromise:k}=yield le(x);k&&(yield k)})).apply(this,arguments)}function _i(x){return Pt.create("missing-app-config-values",{valueName:x})}const On="installations",ls=x=>{const k=x.getProvider("app").getImmediate(),B=function Li(x){if(!x||!x.options)throw _i("App Configuration");if(!x.name)throw _i("App Name");const k=["projectId","apiKey","appId"];for(const B of k)if(!x.options[B])throw _i(B);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(k);return{app:k,appConfig:B,heartbeatServiceProvider:(0,Ce._getProvider)(k,"heartbeat"),_delete:()=>Promise.resolve()}},Pa=x=>{const k=x.getProvider("app").getImmediate(),B=(0,Ce._getProvider)(k,On).getImmediate();return{getId:()=>function Rr(x){return Ll.apply(this,arguments)}(B),getToken:me=>function vc(x){return la.apply(this,arguments)}(B,me)}};(function Ro(){(0,Ce._registerComponent)(new Ee.wA(On,ls,"PUBLIC")),(0,Ce._registerComponent)(new Ee.wA("installations-internal",Pa,"PRIVATE"))})(),(0,Ce.registerVersion)(Cn,Fe),(0,Ce.registerVersion)(Cn,Fe,"esm2017");const Yn="@firebase/remote-config",mr=new Oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class co{constructor(k,B,X,me){this.client=k,this.storage=B,this.storageCache=X,this.logger=me}isCachedDataFresh(k,B){if(!B)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const X=Date.now()-B,me=X<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${X}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${me}.`),me}fetch(k){var B=this;return(0,W.Z)(function*(){const[X,me]=yield Promise.all([B.storage.getLastSuccessfulFetchTimestampMillis(),B.storage.getLastSuccessfulFetchResponse()]);if(me&&B.isCachedDataFresh(k.cacheMaxAgeMillis,X))return me;k.eTag=me&&me.eTag;const ye=yield B.client.fetch(k),Ve=[B.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ye.status&&Ve.push(B.storage.setLastSuccessfulFetchResponse(ye)),yield Promise.all(Ve),ye})()}}function Ra(x=navigator){return x.languages&&x.languages[0]||x.language}class Gd{constructor(k,B,X,me,ye,Ve){this.firebaseInstallations=k,this.sdkVersion=B,this.namespace=X,this.projectId=me,this.apiKey=ye,this.appId=Ve}fetch(k){var B=this;return(0,W.Z)(function*(){const[X,me]=yield Promise.all([B.firebaseInstallations.getId(),B.firebaseInstallations.getToken()]),Ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${B.projectId}/namespaces/${B.namespace}:fetch?key=${B.apiKey}`,Dt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},Et={sdk_version:B.sdkVersion,app_instance_id:X,app_instance_id_token:me,app_id:B.appId,language_code:Ra()},Jt={method:"POST",headers:Dt,body:JSON.stringify(Et)},An=fetch(Ve,Jt),Dn=new Promise((Ms,Uo)=>{k.signal.addEventListener(()=>{const wh=new Error("The operation was aborted.");wh.name="AbortError",Uo(wh)})});let wr;try{yield Promise.race([An,Dn]),wr=yield An}catch(Ms){let Uo="fetch-client-network";throw"AbortError"===Ms?.name&&(Uo="fetch-timeout"),mr.create(Uo,{originalErrorMessage:Ms?.message})}let fn=wr.status;const _a=wr.headers.get("ETag")||void 0;let If,Qs;if(200===wr.status){let Ms;try{Ms=yield wr.json()}catch(Uo){throw mr.create("fetch-client-parse",{originalErrorMessage:Uo?.message})}If=Ms.entries,Qs=Ms.state}if("INSTANCE_STATE_UNSPECIFIED"===Qs?fn=500:"NO_CHANGE"===Qs?fn=304:("NO_TEMPLATE"===Qs||"EMPTY_CONFIG"===Qs)&&(If={}),304!==fn&&200!==fn)throw mr.create("fetch-status",{httpStatus:fn});return{status:fn,eTag:_a,config:If}})()}}class Yu{constructor(k,B){this.client=k,this.storage=B}fetch(k){var B=this;return(0,W.Z)(function*(){const X=(yield B.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return B.attemptFetch(k,X)})()}attemptFetch(k,{throttleEndTimeMillis:B,backoffCount:X}){var me=this;return(0,W.Z)(function*(){yield function Gu(x,k){return new Promise((B,X)=>{const me=Math.max(k-Date.now(),0),ye=setTimeout(B,me);x.addEventListener(()=>{clearTimeout(ye),X(mr.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,B);try{const ye=yield me.client.fetch(k);return yield me.storage.deleteThrottleMetadata(),ye}catch(ye){if(!function Tp(x){if(!(x instanceof Oe.ZR&&x.customData))return!1;const k=Number(x.customData.httpStatus);return 429===k||500===k||503===k||504===k}(ye))throw ye;const Ve={throttleEndTimeMillis:Date.now()+(0,Oe.$s)(X),backoffCount:X+1};return yield me.storage.setThrottleMetadata(Ve),me.attemptFetch(k,Ve)}})()}}class Kd{constructor(k,B,X,me,ye){this.app=k,this._client=B,this._storageCache=X,this._storage=me,this._logger=ye,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Un(x,k){const B=x.target.error||void 0;return mr.create(k,{originalErrorMessage:B&&B?.message})}const Ds="app_namespace_store";class Jd{constructor(k,B,X,me=function Qd(){return new Promise((x,k)=>{try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=X=>{k(Un(X,"storage-open"))},B.onsuccess=X=>{x(X.target.result)},B.onupgradeneeded=X=>{0===X.oldVersion&&X.target.result.createObjectStore(Ds,{keyPath:"compositeKey"})}}catch(B){k(mr.create("storage-open",{originalErrorMessage:B?.message}))}})}()){this.appId=k,this.appName=B,this.namespace=X,this.openDbPromise=me}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var B=this;return(0,W.Z)(function*(){const X=yield B.openDbPromise;return new Promise((me,ye)=>{const Dt=X.transaction([Ds],"readonly").objectStore(Ds),Et=B.createCompositeKey(k);try{const Jt=Dt.get(Et);Jt.onerror=An=>{ye(Un(An,"storage-get"))},Jt.onsuccess=An=>{const Dn=An.target.result;me(Dn?Dn.value:void 0)}}catch(Jt){ye(mr.create("storage-get",{originalErrorMessage:Jt?.message}))}})})()}set(k,B){var X=this;return(0,W.Z)(function*(){const me=yield X.openDbPromise;return new Promise((ye,Ve)=>{const Et=me.transaction([Ds],"readwrite").objectStore(Ds),Jt=X.createCompositeKey(k);try{const An=Et.put({compositeKey:Jt,value:B});An.onerror=Dn=>{Ve(Un(Dn,"storage-set"))},An.onsuccess=()=>{ye()}}catch(An){Ve(mr.create("storage-set",{originalErrorMessage:An?.message}))}})})()}delete(k){var B=this;return(0,W.Z)(function*(){const X=yield B.openDbPromise;return new Promise((me,ye)=>{const Dt=X.transaction([Ds],"readwrite").objectStore(Ds),Et=B.createCompositeKey(k);try{const Jt=Dt.delete(Et);Jt.onerror=An=>{ye(Un(An,"storage-delete"))},Jt.onsuccess=()=>{me()}}catch(Jt){ye(mr.create("storage-delete",{originalErrorMessage:Jt?.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class ca{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,W.Z)(function*(){const B=k.storage.getLastFetchStatus(),X=k.storage.getLastSuccessfulFetchTimestampMillis(),me=k.storage.getActiveConfig(),ye=yield B;ye&&(k.lastFetchStatus=ye);const Ve=yield X;Ve&&(k.lastSuccessfulFetchTimestampMillis=Ve);const Dt=yield me;Dt&&(k.activeConfig=Dt)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function eh(){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,W.Z)(function*(){if(!(0,Oe.hl)())return!1;try{return yield(0,Oe.eu)()}catch{return!1}})).apply(this,arguments)}!function ol(){(0,Ce._registerComponent)(new Ee.wA("remote-config",function x(k,{instanceIdentifier:B}){const X=k.getProvider("app").getImmediate(),me=k.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw mr.create("registration-window");if(!(0,Oe.hl)())throw mr.create("indexed-db-unavailable");const{projectId:ye,apiKey:Ve,appId:Dt}=X.options;if(!ye)throw mr.create("registration-project-id");if(!Ve)throw mr.create("registration-api-key");if(!Dt)throw mr.create("registration-app-id");const Et=new Jd(Dt,X.name,B=B||"firebase"),Jt=new ca(Et),An=new $e.Yd(Yn);An.logLevel=$e.in.ERROR;const Dn=new Gd(me,Ce.SDK_VERSION,B,ye,Ve,Dt),wr=new Yu(Dn,Et),fn=new co(wr,Et,Jt,An),_a=new Kd(X,fn,Jt,Et,An);return function an(x){const k=(0,Oe.m9)(x);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(_a),_a},"PUBLIC").setMultipleInstances(!0)),(0,Ce.registerVersion)(Yn,"0.4.4"),(0,Ce.registerVersion)(Yn,"0.4.4","esm2017")}();const lf=(x,k)=>k.some(B=>x instanceof B);let Kr,Ku;const sl=new WeakMap,Na=new WeakMap,Fi=new WeakMap,bc=new WeakMap,Cc=new WeakMap;let ll={get(x,k,B){if(x instanceof IDBTransaction){if("done"===k)return Na.get(x);if("objectStoreNames"===k)return x.objectStoreNames||Fi.get(x);if("store"===k)return B.objectStoreNames[1]?void 0:B.objectStore(B.objectStoreNames[0])}return uo(x[k])},set:(x,k,B)=>(x[k]=B,!0),has:(x,k)=>x instanceof IDBTransaction&&("done"===k||"store"===k)||k in x};function Ec(x){return"function"==typeof x?function cf(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ua(){return Ku||(Ku=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...k){return x.apply(ur(this),k),uo(sl.get(this))}:function(...k){return uo(x.apply(ur(this),k))}:function(k,...B){const X=x.call(ur(this),k,...B);return Fi.set(X,k.sort?k.sort():[k]),uo(X)}}(x):(x instanceof IDBTransaction&&function al(x){if(Na.has(x))return;const k=new Promise((B,X)=>{const me=()=>{x.removeEventListener("complete",ye),x.removeEventListener("error",Ve),x.removeEventListener("abort",Ve)},ye=()=>{B(),me()},Ve=()=>{X(x.error||new DOMException("AbortError","AbortError")),me()};x.addEventListener("complete",ye),x.addEventListener("error",Ve),x.addEventListener("abort",Ve)});Na.set(x,k)}(x),lf(x,function wc(){return Kr||(Kr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,ll):x)}function uo(x){if(x instanceof IDBRequest)return function _r(x){const k=new Promise((B,X)=>{const me=()=>{x.removeEventListener("success",ye),x.removeEventListener("error",Ve)},ye=()=>{B(uo(x.result)),me()},Ve=()=>{X(x.error),me()};x.addEventListener("success",ye),x.addEventListener("error",Ve)});return k.then(B=>{B instanceof IDBCursor&&sl.set(B,x)}).catch(()=>{}),Cc.set(k,x),k}(x);if(bc.has(x))return bc.get(x);const k=Ec(x);return k!==x&&(bc.set(x,k),Cc.set(k,x)),k}const ur=x=>Cc.get(x);function xs(x,k,{blocked:B,upgrade:X,blocking:me,terminated:ye}={}){const Ve=indexedDB.open(x,k),Dt=uo(Ve);return X&&Ve.addEventListener("upgradeneeded",Et=>{X(uo(Ve.result),Et.oldVersion,Et.newVersion,uo(Ve.transaction))}),B&&Ve.addEventListener("blocked",()=>B()),Dt.then(Et=>{ye&&Et.addEventListener("close",()=>ye()),me&&Et.addEventListener("versionchange",()=>me())}).catch(()=>{}),Dt}function La(x,{blocked:k}={}){const B=indexedDB.deleteDatabase(x);return k&&B.addEventListener("blocked",()=>k()),uo(B).then(()=>{})}const Bl=["get","getKey","getAll","getAllKeys","count"],vr=["put","add","delete","clear"],Vl=new Map;function cl(x,k){if(!(x instanceof IDBDatabase)||k in x||"string"!=typeof k)return;if(Vl.get(k))return Vl.get(k);const B=k.replace(/FromIndex$/,""),X=k!==B,me=vr.includes(B);if(!(B in(X?IDBIndex:IDBObjectStore).prototype)||!me&&!Bl.includes(B))return;const ye=function(){var Ve=(0,W.Z)(function*(Dt,...Et){const Jt=this.transaction(Dt,me?"readwrite":"readonly");let An=Jt.store;return X&&(An=An.index(Et.shift())),(yield Promise.all([An[B](...Et),me&&Jt.done]))[0]});return function(Et){return Ve.apply(this,arguments)}}();return Vl.set(k,ye),ye}!function xr(x){ll=x(ll)}(x=>({...x,get:(k,B,X)=>cl(k,B)||x.get(k,B,X),has:(k,B)=>!!cl(k,B)||x.has(k,B)}));const xn="/firebase-messaging-sw.js",Zl="/firebase-cloud-messaging-push-scope",Qu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ju="https://fcmregistrations.googleapis.com/v1",Xu="google.c.a.c_id",lu="google.c.a.c_l",th="google.c.a.ts",cs="google.c.a.e";var qe=(()=>{return(x=qe||(qe={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",qe;var x})();function hn(x){const k=new Uint8Array(x);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ed(x){const B=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),X=atob(B),me=new Uint8Array(X.length);for(let ye=0;ye<X.length;++ye)me[ye]=X.charCodeAt(ye);return me}const Zs="fcm_token_details_db",dr=5,zl="fcm_token_object_Store";function xo(){return xo=(0,W.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ye=>ye.name).includes(Zs))return null;let k=null;return(yield xs(Zs,dr,{upgrade:(X=(0,W.Z)(function*(me,ye,Ve,Dt){var Et;if(ye<2||!me.objectStoreNames.contains(zl))return;const Jt=Dt.objectStore(zl),An=yield Jt.index("fcmSenderId").get(x);if(yield Jt.clear(),An)if(2===ye){const Dn=An;if(!Dn.auth||!Dn.p256dh||!Dn.endpoint)return;k={token:Dn.fcmToken,createTime:null!==(Et=Dn.createTime)&&void 0!==Et?Et:Date.now(),subscriptionOptions:{auth:Dn.auth,p256dh:Dn.p256dh,endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:"string"==typeof Dn.vapidKey?Dn.vapidKey:hn(Dn.vapidKey)}}}else if(3===ye){const Dn=An;k={token:Dn.fcmToken,createTime:Dn.createTime,subscriptionOptions:{auth:hn(Dn.auth),p256dh:hn(Dn.p256dh),endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:hn(Dn.vapidKey)}}}else if(4===ye){const Dn=An;k={token:Dn.fcmToken,createTime:Dn.createTime,subscriptionOptions:{auth:hn(Dn.auth),p256dh:hn(Dn.p256dh),endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:hn(Dn.vapidKey)}}}}),function(ye,Ve,Dt,Et){return X.apply(this,arguments)})})).close(),yield La(Zs),yield La("fcm_vapid_details_db"),yield La("undefined"),function cu(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:k}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}(k)?k:null;var X}),xo.apply(this,arguments)}const da="firebase-messaging-database",Dc=1,Fa="firebase-messaging-store";let Ua=null;function Qr(){return Ua||(Ua=xs(da,Dc,{upgrade:(x,k)=>{0===k&&x.createObjectStore(Fa)}})),Ua}function or(x){return Ba.apply(this,arguments)}function Ba(){return Ba=(0,W.Z)(function*(x){const k=td(x),X=yield(yield Qr()).transaction(Fa).objectStore(Fa).get(k);if(X)return X;{const me=yield function ul(x){return xo.apply(this,arguments)}(x.appConfig.senderId);if(me)return yield Fo(x,me),me}}),Ba.apply(this,arguments)}function Fo(x,k){return zs.apply(this,arguments)}function zs(){return(zs=(0,W.Z)(function*(x,k){const B=td(x),me=(yield Qr()).transaction(Fa,"readwrite");return yield me.objectStore(Fa).put(k,B),yield me.done,k})).apply(this,arguments)}function qs(){return(qs=(0,W.Z)(function*(x){const k=td(x),X=(yield Qr()).transaction(Fa,"readwrite");yield X.objectStore(Fa).delete(k),yield X.done})).apply(this,arguments)}function td({appConfig:x}){return x.appId}const Hi=new Oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Hl(x,k){return Va.apply(this,arguments)}function Va(){return(Va=(0,W.Z)(function*(x,k){const B=yield Za(x),X=Ic(k),me={method:"POST",headers:B,body:JSON.stringify(X)};let ye;try{ye=yield(yield fetch(nd(x.appConfig),me)).json()}catch(Ve){throw Hi.create("token-subscribe-failed",{errorInfo:Ve?.toString()})}if(ye.error)throw Hi.create("token-subscribe-failed",{errorInfo:ye.error.message});if(!ye.token)throw Hi.create("token-subscribe-no-token");return ye.token})).apply(this,arguments)}function hl(){return(hl=(0,W.Z)(function*(x,k){const B=yield Za(x),X=Ic(k.subscriptionOptions),me={method:"PATCH",headers:B,body:JSON.stringify(X)};let ye;try{ye=yield(yield fetch(`${nd(x.appConfig)}/${k.token}`,me)).json()}catch(Ve){throw Hi.create("token-update-failed",{errorInfo:Ve?.toString()})}if(ye.error)throw Hi.create("token-update-failed",{errorInfo:ye.error.message});if(!ye.token)throw Hi.create("token-update-no-token");return ye.token})).apply(this,arguments)}function uu(x,k){return fl.apply(this,arguments)}function fl(){return(fl=(0,W.Z)(function*(x,k){const X={method:"DELETE",headers:yield Za(x)};try{const ye=yield(yield fetch(`${nd(x.appConfig)}/${k}`,X)).json();if(ye.error)throw Hi.create("token-unsubscribe-failed",{errorInfo:ye.error.message})}catch(me){throw Hi.create("token-unsubscribe-failed",{errorInfo:me?.toString()})}})).apply(this,arguments)}function nd({projectId:x}){return`${Ju}/projects/${x}/registrations`}function Za(x){return id.apply(this,arguments)}function id(){return(id=(0,W.Z)(function*({appConfig:x,installations:k}){const B=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${B}`})})).apply(this,arguments)}function Ic({p256dh:x,auth:k,endpoint:B,vapidKey:X}){const me={web:{endpoint:B,auth:k,p256dh:x}};return X!==Qu&&(me.web.applicationPubKey=X),me}const ih=6048e5;function rh(){return rh=(0,W.Z)(function*(x){const k=yield function Dp(x,k){return jl.apply(this,arguments)}(x.swRegistration,x.vapidKey),B={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:k.endpoint,auth:hn(k.getKey("auth")),p256dh:hn(k.getKey("p256dh"))},X=yield or(x.firebaseDependencies);if(X){if(function Ip(x,k){return k.vapidKey===x.vapidKey&&k.endpoint===x.endpoint&&k.auth===x.auth&&k.p256dh===x.p256dh}(X.subscriptionOptions,B))return Date.now()>=X.createTime+ih?function qi(x,k){return xc.apply(this,arguments)}(x,{token:X.token,createTime:Date.now(),subscriptionOptions:B}):X.token;try{yield uu(x.firebaseDependencies,X.token)}catch(me){console.warn(me)}return ql(x.firebaseDependencies,B)}return ql(x.firebaseDependencies,B)}),rh.apply(this,arguments)}function Jo(){return Jo=(0,W.Z)(function*(x){const k=yield or(x.firebaseDependencies);k&&(yield uu(x.firebaseDependencies,k.token),yield function Hs(x){return qs.apply(this,arguments)}(x.firebaseDependencies));const B=yield x.swRegistration.pushManager.getSubscription();return!B||B.unsubscribe()}),Jo.apply(this,arguments)}function xc(){return xc=(0,W.Z)(function*(x,k){try{const B=yield function dl(x,k){return hl.apply(this,arguments)}(x.firebaseDependencies,k),X=Object.assign(Object.assign({},k),{token:B,createTime:Date.now()});return yield Fo(x.firebaseDependencies,X),B}catch(B){throw yield function Ui(x){return Jo.apply(this,arguments)}(x),B}}),xc.apply(this,arguments)}function ql(x,k){return hu.apply(this,arguments)}function hu(){return(hu=(0,W.Z)(function*(x,k){const X={token:yield Hl(x,k),createTime:Date.now(),subscriptionOptions:k};return yield Fo(x,X),X.token})).apply(this,arguments)}function jl(){return(jl=(0,W.Z)(function*(x,k){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ed(k)})})).apply(this,arguments)}function ha(x){const k={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function fu(x,k){if(!k.notification)return;x.notification={};const B=k.notification.title;B&&(x.notification.title=B);const X=k.notification.body;X&&(x.notification.body=X);const me=k.notification.image;me&&(x.notification.image=me);const ye=k.notification.icon;ye&&(x.notification.icon=ye)}(k,x),function rd(x,k){k.data&&(x.data=k.data)}(k,x),function oh(x,k){var B,X,me,ye,Ve;if(!(k.fcmOptions||null!==(B=k.notification)&&void 0!==B&&B.click_action))return;x.fcmOptions={};const Dt=null!==(me=null===(X=k.fcmOptions)||void 0===X?void 0:X.link)&&void 0!==me?me:null===(ye=k.notification)||void 0===ye?void 0:ye.click_action;Dt&&(x.fcmOptions.link=Dt);const Et=null===(Ve=k.fcmOptions)||void 0===Ve?void 0:Ve.analytics_label;Et&&(x.fcmOptions.analyticsLabel=Et)}(k,x),k}function pl(x,k){const B=[];for(let X=0;X<x.length;X++)B.push(x.charAt(X)),X<k.length&&B.push(k.charAt(X));return B.join("")}function Xo(x){return Hi.create("missing-app-config-values",{valueName:x})}pl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xp{constructor(k,B,X){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const me=function Wl(x){if(!x||!x.options)throw Xo("App Configuration Object");if(!x.name)throw Xo("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:B}=x;for(const X of k)if(!B[X])throw Xo(X);return{appName:x.name,projectId:B.projectId,apiKey:B.apiKey,appId:B.appId,senderId:B.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:me,installations:B,analyticsProvider:X}}_delete(){return Promise.resolve()}}function pu(x){return za.apply(this,arguments)}function za(){return(za=(0,W.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(xn,{scope:Zl}),x.swRegistration.update().catch(()=>{})}catch(k){throw Hi.create("failed-service-worker-registration",{browserErrorMessage:k?.message})}})).apply(this,arguments)}function js(){return(js=(0,W.Z)(function*(x,k){if(!k&&!x.swRegistration&&(yield pu(x)),k||!x.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw Hi.create("invalid-sw-registration");x.swRegistration=k}})).apply(this,arguments)}function $l(){return($l=(0,W.Z)(function*(x,k){k?x.vapidKey=k:x.vapidKey||(x.vapidKey=Qu)})).apply(this,arguments)}function gl(){return gl=(0,W.Z)(function*(x,k){if(!navigator)throw Hi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hi.create("permission-blocked");return yield function sd(x,k){return $l.apply(this,arguments)}(x,k?.vapidKey),yield function od(x,k){return js.apply(this,arguments)}(x,k?.serviceWorkerRegistration),function du(x){return rh.apply(this,arguments)}(x)}),gl.apply(this,arguments)}function fa(){return(fa=(0,W.Z)(function*(x,k,B){const X=function ml(x){switch(x){case qe.NOTIFICATION_CLICKED:return"notification_open";case qe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(k);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(X,{message_id:B[Xu],message_name:B[lu],message_time:B[th],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ha(){return Ha=(0,W.Z)(function*(x,k){const B=k.data;if(!B.isFirebaseMessaging)return;x.onMessageHandler&&B.messageType===qe.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(ha(B)):x.onMessageHandler.next(ha(B)));const X=B.data;(function us(x){return"object"==typeof x&&!!x&&Xu in x})(X)&&"1"===X[cs]&&(yield function ad(x,k,B){return fa.apply(this,arguments)}(x,B.messageType,X))}),Ha.apply(this,arguments)}const Gl="@firebase/messaging",f="0.12.4",m=x=>{const k=new xp(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",B=>function _l(x,k){return Ha.apply(this,arguments)}(k,B)),k},E=x=>{const k=x.getProvider("messaging").getImmediate();return{getToken:X=>function Sc(x,k){return gl.apply(this,arguments)}(k,X)}};function N(){return H.apply(this,arguments)}function H(){return(H=(0,W.Z)(function*(){try{yield(0,Oe.eu)()}catch{return!1}return typeof window<"u"&&(0,Oe.hl)()&&(0,Oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function M(){(0,Ce._registerComponent)(new Ee.wA("messaging",m,"PUBLIC")),(0,Ce._registerComponent)(new Ee.wA("messaging-internal",E,"PRIVATE")),(0,Ce.registerVersion)(Gl,f),(0,Ce.registerVersion)(Gl,f,"esm2017")}();const Bi="analytics",So="firebase_id",Ao="origin",Ws=6e4,sh="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gu="https://www.googletagmanager.com/gtag/js",Sr=new $e.Yd("@firebase/analytics"),er=new Oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ah(x){if(!x.startsWith(gu)){const k=er.create("invalid-gtag-resource",{gtagURL:x});return Sr.warn(k.message),""}return x}function Ai(x){return Promise.all(x.map(k=>k.catch(B=>B)))}function $s(){return($s=(0,W.Z)(function*(x,k,B,X,me,ye){const Ve=X[me];try{if(Ve)yield k[Ve];else{const Et=(yield Ai(B)).find(Jt=>Jt.measurementId===me);Et&&(yield k[Et.appId])}}catch(Dt){Sr.error(Dt)}x("config",me,ye)})).apply(this,arguments)}function wl(){return(wl=(0,W.Z)(function*(x,k,B,X,me){try{let ye=[];if(me&&me.send_to){let Ve=me.send_to;Array.isArray(Ve)||(Ve=[Ve]);const Dt=yield Ai(B);for(const Et of Ve){const Jt=Dt.find(Dn=>Dn.measurementId===Et),An=Jt&&k[Jt.appId];if(!An){ye=[];break}ye.push(An)}}0===ye.length&&(ye=Object.values(k)),yield Promise.all(ye),x("event",X,me||{})}catch(ye){Sr.error(ye)}})).apply(this,arguments)}const ch=30,Pc=new class Sp{constructor(k={},B=1e3){this.throttleMetadata=k,this.intervalMillis=B}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,B){this.throttleMetadata[k]=B}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function uh(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function ui(){return(ui=(0,W.Z)(function*(x){var k;const{appId:B,apiKey:X}=x,me={method:"GET",headers:uh(X)},ye=sh.replace("{app-id}",B),Ve=yield fetch(ye,me);if(200!==Ve.status&&304!==Ve.status){let Dt="";try{const Et=yield Ve.json();null!==(k=Et.error)&&void 0!==k&&k.message&&(Dt=Et.error.message)}catch{}throw er.create("config-fetch-failed",{httpStatus:Ve.status,responseMessage:Dt})}return Ve.json()})).apply(this,arguments)}function hf(){return(hf=(0,W.Z)(function*(x,k=Pc,B){const{appId:X,apiKey:me,measurementId:ye}=x.options;if(!X)throw er.create("no-app-id");if(!me){if(ye)return{measurementId:ye,appId:X};throw er.create("no-api-key")}const Ve=k.getThrottleMetadata(X)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Dt=new Cw;return setTimeout((0,W.Z)(function*(){Dt.abort()}),void 0!==B?B:Ws),dh({appId:X,apiKey:me,measurementId:ye},Ve,Dt,k)})).apply(this,arguments)}function dh(x,k,B){return hh.apply(this,arguments)}function hh(){return hh=(0,W.Z)(function*(x,{throttleEndTimeMillis:k,backoffCount:B},X,me=Pc){var ye;const{appId:Ve,measurementId:Dt}=x;try{yield function _m(x,k){return new Promise((B,X)=>{const me=Math.max(k-Date.now(),0),ye=setTimeout(B,me);x.addEventListener(()=>{clearTimeout(ye),X(er.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(X,k)}catch(Et){if(Dt)return Sr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Dt} provided in the "measurementId" field in the local Firebase config. [${Et?.message}]`),{appId:Ve,measurementId:Dt};throw Et}try{const Et=yield function Ap(x){return ui.apply(this,arguments)}(x);return me.deleteThrottleMetadata(Ve),Et}catch(Et){const Jt=Et;if(!function bw(x){if(!(x instanceof Oe.ZR&&x.customData))return!1;const k=Number(x.customData.httpStatus);return 429===k||500===k||503===k||504===k}(Jt)){if(me.deleteThrottleMetadata(Ve),Dt)return Sr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Dt} provided in the "measurementId" field in the local Firebase config. [${Jt?.message}]`),{appId:Ve,measurementId:Dt};throw Et}const An=503===Number(null===(ye=Jt?.customData)||void 0===ye?void 0:ye.httpStatus)?(0,Oe.$s)(B,me.intervalMillis,ch):(0,Oe.$s)(B,me.intervalMillis),Dn={throttleEndTimeMillis:Date.now()+An,backoffCount:B+1};return me.setThrottleMetadata(Ve,Dn),Sr.debug(`Calling attemptFetch again in ${An} millis`),dh(x,Dn,X,me)}}),hh.apply(this,arguments)}class Cw{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}let kc,gf;function vm(){return(vm=(0,W.Z)(function*(x,k,B,X,me){if(me&&me.global)x("event",B,X);else{const ye=yield k;x("event",B,Object.assign(Object.assign({},X),{send_to:ye}))}})).apply(this,arguments)}function si(){return(si=(0,W.Z)(function*(){if(!(0,Oe.hl)())return Sr.warn(er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Oe.eu)()}catch(x){return Sr.warn(er.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ht(){return Ht=(0,W.Z)(function*(x,k,B,X,me,ye,Ve){var Dt;const Et=function df(x){return hf.apply(this,arguments)}(x);Et.then(fn=>{B[fn.measurementId]=fn.appId,x.options.measurementId&&fn.measurementId!==x.options.measurementId&&Sr.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${fn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fn=>Sr.error(fn)),k.push(Et);const Jt=function Gs(){return si.apply(this,arguments)}().then(fn=>{if(fn)return X.getId()}),[An,Dn]=yield Promise.all([Et,Jt]);(function Mc(x){const k=window.document.getElementsByTagName("script");for(const B of Object.values(k))if(B.src&&B.src.includes(gu)&&B.src.includes(x))return B;return null})(ye)||function Yl(x,k){const B=function yl(x,k){let B;return window.trustedTypes&&(B=window.trustedTypes.createPolicy(x,k)),B}("firebase-js-sdk-policy",{createScriptURL:ah}),X=document.createElement("script"),me=`${gu}?l=${x}&id=${k}`;X.src=B?B?.createScriptURL(me):me,X.async=!0,document.head.appendChild(X)}(ye,An.measurementId),gf&&(me("consent","default",gf),function gh(x){gf=x}(void 0)),me("js",new Date);const wr=null!==(Dt=Ve?.config)&&void 0!==Dt?Dt:{};return wr[Ao]="firebase",wr.update=!0,null!=Dn&&(wr[So]=Dn),me("config",An.measurementId,wr),kc&&(me("set",kc),function mf(x){kc=x}(void 0)),An.measurementId}),Ht.apply(this,arguments)}class ds{constructor(k){this.app=k}_delete(){return delete yr[this.app.options.appId],Promise.resolve()}}let yr={},Pp=[];const hd={};let kp,Ks,Ei="dataLayer",_f="gtag",Ql=!1;function Jl(x,k,B){!function Oc(){const x=[];if((0,Oe.ru)()&&x.push("This is a browser extension environment."),(0,Oe.zI)()||x.push("Cookies are not available."),x.length>0){const k=x.map((X,me)=>`(${me+1}) ${X}`).join(" "),B=er.create("invalid-analytics-context",{errorInfo:k});Sr.warn(B.message)}}();const X=x.options.appId;if(!X)throw er.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw er.create("no-api-key");Sr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=yr[X])throw er.create("already-exists",{id:X});if(!Ql){!function ld(x){let k=[];Array.isArray(window[x])?k=window[x]:window[x]=k}(Ei);const{wrappedGtag:ye,gtagCore:Ve}=function Ac(x,k,B,X,me){let ye=function(...Ve){window[X].push(arguments)};return window[me]&&"function"==typeof window[me]&&(ye=window[me]),window[me]=function ud(x,k,B,X){function ye(){return ye=(0,W.Z)(function*(Ve,...Dt){try{if("event"===Ve){const[Et,Jt]=Dt;yield function lh(x,k,B,X,me){return wl.apply(this,arguments)}(x,k,B,Et,Jt)}else if("config"===Ve){const[Et,Jt]=Dt;yield function cd(x,k,B,X,me,ye){return $s.apply(this,arguments)}(x,k,B,X,Et,Jt)}else if("consent"===Ve){const[Et]=Dt;x("consent","update",Et)}else if("get"===Ve){const[Et,Jt,An]=Dt;x("get",Et,Jt,An)}else if("set"===Ve){const[Et]=Dt;x("set",Et)}else x(Ve,...Dt)}catch(Et){Sr.error(Et)}}),ye.apply(this,arguments)}return function me(Ve){return ye.apply(this,arguments)}}(ye,x,k,B),{gtagCore:ye,wrappedGtag:window[me]}}(yr,Pp,hd,Ei,_f);Ks=ye,kp=Ve,Ql=!0}return yr[X]=function Ys(x,k,B,X,me,ye,Ve){return Ht.apply(this,arguments)}(x,Pp,hd,k,kp,Ei,B),new ds(x)}function Op(){return hs.apply(this,arguments)}function hs(){return(hs=(0,W.Z)(function*(){if((0,Oe.ru)()||!(0,Oe.zI)()||!(0,Oe.hl)())return!1;try{return yield(0,Oe.eu)()}catch{return!1}})).apply(this,arguments)}const bl="@firebase/analytics";!function wf(){(0,Ce._registerComponent)(new Ee.wA(Bi,(k,{options:B})=>Jl(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),B),"PUBLIC")),(0,Ce._registerComponent)(new Ee.wA("analytics-internal",function x(k){try{const B=k.getProvider(Bi).getImmediate();return{logEvent:(X,me,ye)=>function ym(x,k,B,X){x=(0,Oe.m9)(x),function Ew(x,k,B,X,me){return vm.apply(this,arguments)}(Ks,yr[x.app.options.appId],k,B,X).catch(me=>Sr.error(me))}(B,X,me,ye)}}catch(B){throw er.create("interop-component-reg-failed",{reason:B})}},"PRIVATE")),(0,Ce.registerVersion)(bl,"0.10.0"),(0,Ce.registerVersion)(bl,"0.10.0","esm2017")}();var _u=z(4408),As=z(7565);const Ar=new class bf extends As.v{}(class vu extends _u.o{constructor(k,B){super(k,B),this.scheduler=k,this.work=B}schedule(k,B=0){return B>0?super.schedule(k,B):(this.delay=B,this.state=k,this.scheduler.flush(this),this)}execute(k,B){return B>0||this.closed?super.execute(k,B):this._execute(k,B)}requestAsyncId(k,B,X=0){return null!=X&&X>0||null==X&&this.delay>0?super.requestAsyncId(k,B,X):(k.flush(this),0)}});var Np=z(4986),Mi=z(9751),Nc=z(8505),pa=z(5363),es=z(9468);const Nr=new o.GfV("7.6.1"),_d="__angularfire_symbol__analyticsIsSupportedValue",yh="__angularfire_symbol__analyticsIsSupported",yu="__angularfire_symbol__remoteConfigIsSupportedValue",ga="__angularfire_symbol__remoteConfigIsSupported",Cl="__angularfire_symbol__messagingIsSupportedValue",ho="__angularfire_symbol__messagingIsSupported";function bu(x,k,B){if(k){if(1===k.length)return k[0];const ye=k.filter(Ve=>Ve.app===B);if(1===ye.length)return ye[0]}return B.container.getProvider(x).getImmediate({optional:!0})}globalThis[yh]||(globalThis[yh]=Op().then(x=>globalThis[_d]=x).catch(()=>globalThis[_d]=!1)),globalThis[ho]||(globalThis[ho]=N().then(x=>globalThis[Cl]=x).catch(()=>globalThis[Cl]=!1)),globalThis[ga]||(globalThis[ga]=eh().then(x=>globalThis[yu]=x).catch(()=>globalThis[yu]=!1));const Lp=(x,k)=>{const B=k?[k]:(0,te.C6)(),X=[];return B.forEach(me=>{me.container.getProvider(x).instances.forEach(Ve=>{X.includes(Ve)||X.push(Ve)})}),X};function Lc(){}class Cu{constructor(k,B=Ar){this.zone=k,this.delegate=B}now(){return this.delegate.now()}schedule(k,B,X){const me=this.zone;return this.delegate.schedule(function(Ve){me.runGuarded(()=>{k.apply(this,[Ve])})},B,X)}}class bn{constructor(k){this.zone=k,this.task=null}call(k,B){const X=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Lc,{},Lc,Lc)),B.pipe((0,Nc.b)({next:X,complete:X,error:X})).subscribe(k).add(X)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xl=(()=>{class x{constructor(B){this.ngZone=B,this.outsideAngular=B.runOutsideAngular(()=>new Cu(Zone.current)),this.insideAngular=B.run(()=>new Cu(Zone.current,Np.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(B){return new(B||x)(o.LFG(o.R0b))},x.\u0275prov=o.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Fc(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function ec(x){return Fc().ngZone.run(()=>x())}function Ef(x){return x.pipe((0,pa.Q)(Fc().outsideAngular))}function Tf(x){return Fc(),function Fp(x){return function(B){return(B=B.lift(new bn(x.ngZone))).pipe((0,es.R)(x.outsideAngular),(0,pa.Q)(x.insideAngular))}}(Fc())(x)}const Df=(x,k)=>function(){const X=arguments;return k&&setTimeout(()=>{"scheduled"===k.state&&k.invoke()},10),ec(()=>x.apply(void 0,X))},Up=(x,k)=>function(){let B;const X=arguments;for(let ye=0;ye<arguments.length;ye++)"function"==typeof X[ye]&&(k&&(B||(B=ec(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Lc,{},Lc,Lc)))),X[ye]=Df(X[ye],B));const me=function Eu(x){return Fc().ngZone.runOutsideAngular(()=>x())}(()=>x.apply(this,X));if(!k){if(me instanceof Mi.y){const ye=Fc();return me.pipe((0,es.R)(ye.outsideAngular),(0,pa.Q)(ye.insideAngular))}return ec(()=>me)}return me instanceof Mi.y?me.pipe(Tf):me instanceof Promise?ec(()=>new Promise((ye,Ve)=>me.then(Dt=>ec(()=>ye(Dt)),Dt=>ec(()=>Ve(Dt))))):"function"==typeof me&&B?function(){return setTimeout(()=>{B&&"scheduled"===B.state&&B.invoke()},10),me.apply(this,arguments)}:ec(()=>me)}},1389:(Yt,Xe,z)=>{"use strict";z.d(Xe,{$:()=>xn,A:()=>fe,D:()=>it,I:()=>Qt,J:()=>ls,L:()=>Lo,N:()=>ao,P:()=>Ys,Q:()=>Jd,R:()=>ph,U:()=>Xd,V:()=>eh,W:()=>Ul,X:()=>Vs,Y:()=>wc,Z:()=>ua,_:()=>Cc,a:()=>ke,a0:()=>Qu,a1:()=>Xu,a2:()=>Tc,a3:()=>zl,a4:()=>xo,a5:()=>da,a6:()=>Fa,a7:()=>Qr,a8:()=>Ba,a9:()=>zs,aA:()=>Ae,aB:()=>yh,aC:()=>cr,aD:()=>Do,aE:()=>Nc,aF:()=>gd,aG:()=>pd,aH:()=>oi,aL:()=>sn,aO:()=>Kr,aa:()=>Hs,ab:()=>td,ac:()=>nh,ad:()=>dl,ae:()=>uu,af:()=>nd,ai:()=>ih,aj:()=>rh,ak:()=>Ui,an:()=>cf,ao:()=>fu,aq:()=>$l,ar:()=>Gl,as:()=>tn,at:()=>cn,au:()=>De,av:()=>nt,aw:()=>Dn,ax:()=>ho,ay:()=>Fn,az:()=>Qe,b:()=>ce,c:()=>Ks,d:()=>Jl,e:()=>mh,f:()=>bl,g:()=>bf,h:()=>_u,i:()=>uf,j:()=>Np,k:()=>Qs,l:()=>dd,m:()=>wh,p:()=>je,r:()=>Mp,s:()=>Kl,u:()=>Gs});var o=z(5861),te=z(2090),W=z(6881),Ce=z(7582),Oe=z(1877),Ee=z(4859);const je={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},fe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const it=function be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Tt=function tt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Vt=new te.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new Oe.Yd("@firebase/auth");function mt(I,...y){st.logLevel<=Oe.in.ERROR&&st.error(`Auth (${W.SDK_VERSION}): ${I}`,...y)}function nt(I,...y){throw rt(I,...y)}function Qe(I,...y){return rt(I,...y)}function lt(I,y,C){const S=Object.assign(Object.assign({},Tt()),{[y]:C});return new te.LL("auth","Firebase",S).create(y,{appName:I.name})}function vt(I,y,C){if(!(y instanceof C))throw C.name!==y.constructor.name&&nt(I,"argument-error"),lt(I,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rt(I,...y){if("string"!=typeof I){const C=y[0],S=[...y.slice(1)];return S[0]&&(S[0].appName=I.name),I._errorFactory.create(C,...S)}return Vt.create(I,...y)}function Ae(I,y,...C){if(!I)throw rt(y,...C)}function Lt(I){const y="INTERNAL ASSERTION FAILED: "+I;throw mt(y),new Error(y)}function tn(I,y){I||Lt(y)}function Zt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function dn(){return"http:"===zt()||"https:"===zt()}function zt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Ie{constructor(y,C){this.shortDelay=y,this.longDelay=C,tn(C>y,"Short delay should be less than long delay!"),this.isMobile=(0,te.uI)()||(0,te.b$)()}get(){return function Cn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dn()||(0,te.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ze(I,y){tn(I.emulator,"Emulator should always be set here");const{url:C}=I.emulator;return y?`${C}${y.startsWith("/")?y.slice(1):y}`:C}class Ke{static initialize(y,C,S){this.fetchImpl=y,C&&(this.headersImpl=C),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Lt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Lt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Lt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Je=new Ie(3e4,6e4);function We(I,y){return I.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:I.tenantId}):y}function gt(I,y,C,S){return ci.apply(this,arguments)}function ci(){return(ci=(0,o.Z)(function*(I,y,C,S,Z={}){return Pt(I,Z,(0,o.Z)(function*(){let $={},we={};S&&("GET"===y?we=S:$={body:JSON.stringify(S)});const Ue=(0,te.xO)(Object.assign({key:I.config.apiKey},we)).slice(1),yt=yield I._getAdditionalHeaders();return yt["Content-Type"]="application/json",I.languageCode&&(yt["X-Firebase-Locale"]=I.languageCode),Ke.fetch()(mi(I,I.config.apiHost,C,Ue),Object.assign({method:y,headers:yt,referrerPolicy:"no-referrer"},$))}))})).apply(this,arguments)}function Pt(I,y,C){return rn.apply(this,arguments)}function rn(){return(rn=(0,o.Z)(function*(I,y,C){I._canInitEmulator=!1;const S=Object.assign(Object.assign({},pt),y);try{const Z=new kr(I),$=yield Promise.race([C(),Z.promise]);Z.clearNetworkTimeout();const we=yield $.json();if("needConfirmation"in we)throw ar(I,"account-exists-with-different-credential",we);if($.ok&&!("errorMessage"in we))return we;{const Ue=$.ok?we.errorMessage:we.error.message,[yt,St]=Ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===yt)throw ar(I,"credential-already-in-use",we);if("EMAIL_EXISTS"===yt)throw ar(I,"email-already-in-use",we);if("USER_DISABLED"===yt)throw ar(I,"user-disabled",we);const ln=S[yt]||yt.toLowerCase().replace(/[_\s]+/g,"-");if(St)throw lt(I,ln,St);nt(I,ln)}}catch(Z){if(Z instanceof te.ZR)throw Z;nt(I,"network-request-failed",{message:String(Z)})}})).apply(this,arguments)}function Vn(I,y,C,S){return ri.apply(this,arguments)}function ri(){return(ri=(0,o.Z)(function*(I,y,C,S,Z={}){const $=yield gt(I,y,C,S,Z);return"mfaPendingCredential"in $&&nt(I,"multi-factor-auth-required",{_serverResponse:$}),$})).apply(this,arguments)}function mi(I,y,C,S){const Z=`${y}${C}?${S}`;return I.config.emulator?ze(I.config,Z):`${I.config.apiScheme}://${Z}`}class kr{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((C,S)=>{this.timer=setTimeout(()=>S(Qe(this.auth,"network-request-failed")),Je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ar(I,y,C){const S={appName:I.name};C.email&&(S.email=C.email),C.phoneNumber&&(S.phoneNumber=C.phoneNumber);const Z=Qe(I,y,S);return Z.customData._tokenResponse=C,Z}function ir(){return(ir=(0,o.Z)(function*(I,y){return gt(I,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function Co(){return(Co=(0,o.Z)(function*(I,y){return gt(I,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Gi(){return(Gi=(0,o.Z)(function*(I,y){return gt(I,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function jt(I){if(I)try{const y=new Date(Number(I));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function lr(){return(lr=(0,o.Z)(function*(I,y=!1){const C=(0,te.m9)(I),S=yield C.getIdToken(y),Z=qr(S);Ae(Z&&Z.exp&&Z.auth_time&&Z.iat,C.auth,"internal-error");const $="object"==typeof Z.firebase?Z.firebase:void 0,we=$?.sign_in_provider;return{claims:Z,token:S,authTime:jt(so(Z.auth_time)),issuedAtTime:jt(so(Z.iat)),expirationTime:jt(so(Z.exp)),signInProvider:we||null,signInSecondFactor:$?.sign_in_second_factor||null}})).apply(this,arguments)}function so(I){return 1e3*Number(I)}function qr(I){const[y,C,S]=I.split(".");if(void 0===y||void 0===C||void 0===S)return mt("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,te.tV)(C);return Z?JSON.parse(Z):(mt("Failed to decode base64 JWT payload"),null)}catch(Z){return mt("Caught error parsing JWT payload as JSON",Z?.toString()),null}}function Ln(I,y){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,o.Z)(function*(I,y,C=!1){if(C)return y;try{return yield y}catch(S){throw S instanceof te.ZR&&function In({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(S)&&I.auth.currentUser===I&&(yield I.auth.signOut()),S}})).apply(this,arguments)}class Zn{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var C;if(y){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const Z=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(y=!1){var C=this;if(!this.isRunning)return;const S=this.getInterval(y);this.timerId=setTimeout((0,o.Z)(function*(){yield C.iteration()}),S)}iteration(){var y=this;return(0,o.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===C?.code&&y.schedule(!0))}y.schedule()})()}}class jr{constructor(y,C){this.createdAt=y,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=jt(this.lastLoginAt),this.creationTime=jt(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zi(I){return Wr.apply(this,arguments)}function Wr(){return Wr=(0,o.Z)(function*(I){var y;const C=I.auth,S=yield I.getIdToken(),Z=yield Ln(I,function nl(I,y){return Gi.apply(this,arguments)}(C,{idToken:S}));Ae(Z?.users.length,C,"internal-error");const $=Z.users[0];I._notifyReloadListener($);const we=null!==(y=$.providerUserInfo)&&void 0!==y&&y.length?function Go(I){return I.map(y=>{var{providerId:C}=y,S=(0,Ce._T)(y,["providerId"]);return{providerId:C,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}($.providerUserInfo):[],Ue=function kn(I,y){return[...I.filter(S=>!y.some(Z=>Z.providerId===S.providerId)),...y]}(I.providerData,we),ln=!!I.isAnonymous&&!(I.email&&$.passwordHash||Ue?.length),Hn={uid:$.localId,displayName:$.displayName||null,photoURL:$.photoUrl||null,email:$.email||null,emailVerified:$.emailVerified||!1,phoneNumber:$.phoneNumber||null,tenantId:$.tenantId||null,providerData:Ue,metadata:new jr($.createdAt,$.lastLoginAt),isAnonymous:ln};Object.assign(I,Hn)}),Wr.apply(this,arguments)}function Cr(){return(Cr=(0,o.Z)(function*(I){const y=(0,te.m9)(I);yield zi(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function Eo(){return(Eo=(0,o.Z)(function*(I,y){const C=yield Pt(I,{},(0,o.Z)(function*(){const S=(0,te.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:Z,apiKey:$}=I.config,we=mi(I,Z,"/v1/token",`key=${$}`),Ue=yield I._getAdditionalHeaders();return Ue["Content-Type"]="application/x-www-form-urlencoded",Ke.fetch()(we,{method:"POST",headers:Ue,body:S})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class Rn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){Ae(y.idToken,"internal-error"),Ae(typeof y.idToken<"u","internal-error"),Ae(typeof y.refreshToken<"u","internal-error");const C="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function ti(I){const y=qr(I);return Ae(y,"internal-error"),Ae(typeof y.exp<"u","internal-error"),Ae(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,C)}getToken(y,C=!1){var S=this;return(0,o.Z)(function*(){return Ae(!S.accessToken||S.refreshToken,y,"user-token-expired"),C||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(y,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,C){var S=this;return(0,o.Z)(function*(){const{accessToken:Z,refreshToken:$,expiresIn:we}=yield function zn(I,y){return Eo.apply(this,arguments)}(y,C);S.updateTokensAndExpiration(Z,$,Number(we))})()}updateTokensAndExpiration(y,C,S){this.refreshToken=C||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(y,C){const{refreshToken:S,accessToken:Z,expirationTime:$}=C,we=new Rn;return S&&(Ae("string"==typeof S,"internal-error",{appName:y}),we.refreshToken=S),Z&&(Ae("string"==typeof Z,"internal-error",{appName:y}),we.accessToken=Z),$&&(Ae("number"==typeof $,"internal-error",{appName:y}),we.expirationTime=$),we}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new Rn,this.toJSON())}_performRefresh(){return Lt("not implemented")}}function rr(I,y){Ae("string"==typeof I||typeof I>"u","internal-error",{appName:y})}class Qi{constructor(y){var{uid:C,auth:S,stsTokenManager:Z}=y,$=(0,Ce._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=S,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=$.displayName||null,this.email=$.email||null,this.emailVerified=$.emailVerified||!1,this.phoneNumber=$.phoneNumber||null,this.photoURL=$.photoURL||null,this.isAnonymous=$.isAnonymous||!1,this.tenantId=$.tenantId||null,this.providerData=$.providerData?[...$.providerData]:[],this.metadata=new jr($.createdAt||void 0,$.lastLoginAt||void 0)}getIdToken(y){var C=this;return(0,o.Z)(function*(){const S=yield Ln(C,C.stsTokenManager.getToken(C.auth,y));return Ae(S,C.auth,"internal-error"),C.accessToken!==S&&(C.accessToken=S,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),S})()}getIdTokenResult(y){return function Cs(I){return lr.apply(this,arguments)}(this,y)}reload(){return function Ki(I){return Cr.apply(this,arguments)}(this)}_assign(y){this!==y&&(Ae(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(C=>Object.assign({},C)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){const C=new Qi(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}));return C.metadata._copy(this.metadata),C}_onReload(y){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,C=!1){var S=this;return(0,o.Z)(function*(){let Z=!1;y.idToken&&y.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(y),Z=!0),C&&(yield zi(S)),yield S.auth._persistUserIfCurrent(S),Z&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var y=this;return(0,o.Z)(function*(){const C=yield y.getIdToken();return yield Ln(y,function Or(I,y){return ir.apply(this,arguments)}(y.auth,{idToken:C})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,C){var S,Z,$,we,Ue,yt,St,ln;const Hn=null!==(S=C.displayName)&&void 0!==S?S:void 0,fs=null!==(Z=C.email)&&void 0!==Z?Z:void 0,Uc=null!==($=C.phoneNumber)&&void 0!==$?$:void 0,Du=null!==(we=C.photoURL)&&void 0!==we?we:void 0,xf=null!==(Ue=C.tenantId)&&void 0!==Ue?Ue:void 0,Tl=null!==(yt=C._redirectEventId)&&void 0!==yt?yt:void 0,Tm=null!==(St=C.createdAt)&&void 0!==St?St:void 0,Vp=null!==(ln=C.lastLoginAt)&&void 0!==ln?ln:void 0,{uid:Sf,emailVerified:Iu,isAnonymous:Zp,providerData:zp,stsTokenManager:Th}=C;Ae(Sf&&Th,y,"internal-error");const Hp=Rn.fromJSON(this.name,Th);Ae("string"==typeof Sf,y,"internal-error"),rr(Hn,y.name),rr(fs,y.name),Ae("boolean"==typeof Iu,y,"internal-error"),Ae("boolean"==typeof Zp,y,"internal-error"),rr(Uc,y.name),rr(Du,y.name),rr(xf,y.name),rr(Tl,y.name),rr(Tm,y.name),rr(Vp,y.name);const Dh=new Qi({uid:Sf,auth:y,email:fs,emailVerified:Iu,displayName:Hn,isAnonymous:Zp,photoURL:Du,phoneNumber:Uc,tenantId:xf,stsTokenManager:Hp,createdAt:Tm,lastLoginAt:Vp});return zp&&Array.isArray(zp)&&(Dh.providerData=zp.map(xu=>Object.assign({},xu))),Tl&&(Dh._redirectEventId=Tl),Dh}static _fromIdTokenResponse(y,C,S=!1){return(0,o.Z)(function*(){const Z=new Rn;Z.updateFromServerResponse(C);const $=new Qi({uid:C.localId,auth:y,stsTokenManager:Z,isAnonymous:S});return yield zi($),$})()}}const $r=new Map;function cr(I){tn(I instanceof Function,"Expected a class definition");let y=$r.get(I);return y?(tn(y instanceof I,"Instance stored in cache mismatched with class"),y):(y=new I,$r.set(I,y),y)}const ao=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(C,S){var Z=this;return(0,o.Z)(function*(){Z.storage[C]=S})()}_get(C){var S=this;return(0,o.Z)(function*(){const Z=S.storage[C];return void 0===Z?null:Z})()}_remove(C){var S=this;return(0,o.Z)(function*(){delete S.storage[C]})()}_addListener(C,S){}_removeListener(C,S){}}return I.type="NONE",I})();function Do(I,y,C){return`firebase:${I}:${y}:${C}`}class le{constructor(y,C,S){this.persistence=y,this.auth=C,this.userKey=S;const{config:Z,name:$}=this.auth;this.fullUserKey=Do(this.userKey,Z.apiKey,$),this.fullPersistenceKey=Do("persistence",Z.apiKey,$),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,o.Z)(function*(){const C=yield y.persistence._get(y.fullUserKey);return C?Qi._fromJSON(y.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var C=this;return(0,o.Z)(function*(){if(C.persistence===y)return;const S=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=y,S?C.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,C,S="authUser"){return(0,o.Z)(function*(){if(!C.length)return new le(cr(ao),y,S);const Z=(yield Promise.all(C.map(function(){var St=(0,o.Z)(function*(ln){if(yield ln._isAvailable())return ln});return function(ln){return St.apply(this,arguments)}}()))).filter(St=>St);let $=Z[0]||cr(ao);const we=Do(S,y.config.apiKey,y.name);let Ue=null;for(const St of C)try{const ln=yield St._get(we);if(ln){const Hn=Qi._fromJSON(y,ln);St!==$&&(Ue=Hn),$=St;break}}catch{}const yt=Z.filter(St=>St._shouldAllowMigration);return $._shouldAllowMigration&&yt.length?($=yt[0],Ue&&(yield $._set(we,Ue.toJSON())),yield Promise.all(C.map(function(){var St=(0,o.Z)(function*(ln){if(ln!==$)try{yield ln._remove(we)}catch{}});return function(ln){return St.apply(this,arguments)}}())),new le($,y,S)):new le($,y,S)})()}}function oe(I){const y=I.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(ge(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(G(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(kt(y))return"Blackberry";if(pn(y))return"Webos";if(Y(y))return"Safari";if((y.includes("chrome/")||q(y))&&!y.includes("edge/"))return"Chrome";if(De(y))return"Android";{const S=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function G(I=(0,te.z$)()){return/firefox\//i.test(I)}function Y(I=(0,te.z$)()){const y=I.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function q(I=(0,te.z$)()){return/crios\//i.test(I)}function ge(I=(0,te.z$)()){return/iemobile/i.test(I)}function De(I=(0,te.z$)()){return/android/i.test(I)}function kt(I=(0,te.z$)()){return/blackberry/i.test(I)}function pn(I=(0,te.z$)()){return/webos/i.test(I)}function cn(I=(0,te.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Fn(I=(0,te.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Tn(I=(0,te.z$)()){return cn(I)||De(I)||pn(I)||kt(I)||/windows phone/i.test(I)||ge(I)}function aa(I,y=[]){let C;switch(I){case"Browser":C=oe((0,te.z$)());break;case"Worker":C=`${oe((0,te.z$)())}-${I}`;break;default:C=I}const S=y.length?y.join(","):"FirebaseCore-web";return`${C}/JsCore/${W.SDK_VERSION}/${S}`}function Me(){return(Me=(0,o.Z)(function*(I){return(yield gt(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ht(I,y){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,o.Z)(function*(I,y){return gt(I,"GET","/v2/recaptchaConfig",We(I,y))})).apply(this,arguments)}function wn(I){return void 0!==I&&void 0!==I.getResponse}function Nn(I){return void 0!==I&&void 0!==I.enterprise}class on{constructor(y){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===y.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=y.recaptchaKey.split("/")[3],this.emailPasswordEnabled=y.recaptchaEnforcementState.some(C=>"EMAIL_PASSWORD_PROVIDER"===C.provider&&"OFF"!==C.enforcementState)}}function Xn(I){return new Promise((y,C)=>{const S=document.createElement("script");S.setAttribute("src",I),S.onload=y,S.onerror=Z=>{const $=Qe("internal-error");$.customData=Z,C($)},S.type="text/javascript",S.charset="UTF-8",function fi(){var I,y;return null!==(y=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==y?y:document}().appendChild(S)})}function lo(I){return`__${I}${Math.floor(1e6*Math.random())}`}const vc="NO_RECAPTCHA";class la{constructor(y){this.type="recaptcha-enterprise",this.auth=oi(y)}verify(y="verify",C=!1){var S=this;return(0,o.Z)(function*(){function $(){return $=(0,o.Z)(function*(Ue){if(!C){if(null==Ue.tenantId&&null!=Ue._agentRecaptchaConfig)return Ue._agentRecaptchaConfig.siteKey;if(null!=Ue.tenantId&&void 0!==Ue._tenantRecaptchaConfigs[Ue.tenantId])return Ue._tenantRecaptchaConfigs[Ue.tenantId].siteKey}return new Promise(function(){var yt=(0,o.Z)(function*(St,ln){ht(Ue,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Hn=>{if(void 0!==Hn.recaptchaKey){const fs=new on(Hn);return null==Ue.tenantId?Ue._agentRecaptchaConfig=fs:Ue._tenantRecaptchaConfigs[Ue.tenantId]=fs,St(fs.siteKey)}ln(new Error("recaptcha Enterprise site key undefined"))}).catch(Hn=>{ln(Hn)})});return function(St,ln){return yt.apply(this,arguments)}}())}),$.apply(this,arguments)}function we(Ue,yt,St){const ln=window.grecaptcha;Nn(ln)?ln.enterprise.ready(()=>{ln.enterprise.execute(Ue,{action:y}).then(Hn=>{yt(Hn)}).catch(()=>{yt(vc)})}):St(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ue,yt)=>{(function Z(Ue){return $.apply(this,arguments)})(S.auth).then(St=>{if(!C&&Nn(window.grecaptcha))we(St,Ue,yt);else{if(typeof window>"u")return void yt(new Error("RecaptchaVerifier is only supported in browser"));Xn("https://www.google.com/recaptcha/enterprise.js?render="+St).then(()=>{we(St,Ue,yt)}).catch(ln=>{yt(ln)})}}).catch(St=>{yt(St)})})})()}}function Tr(I,y,C){return It.apply(this,arguments)}function It(){return(It=(0,o.Z)(function*(I,y,C,S=!1){const Z=new la(I);let $;try{$=yield Z.verify(C)}catch{$=yield Z.verify(C,!0)}const we=Object.assign({},y);return Object.assign(we,S?{captchaResp:$}:{captchaResponse:$}),Object.assign(we,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(we,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),we})).apply(this,arguments)}class Ot{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,C){const S=$=>new Promise((we,Ue)=>{try{we(y($))}catch(yt){Ue(yt)}});S.onAbort=C,this.queue.push(S);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(y){var C=this;return(0,o.Z)(function*(){if(C.auth.currentUser===y)return;const S=[];try{for(const Z of C.queue)yield Z(y),Z.onAbort&&S.push(Z.onAbort)}catch(Z){S.reverse();for(const $ of S)try{$()}catch{}throw C.auth._errorFactory.create("login-blocked",{originalMessage:Z?.message})}})()}}class Sn{constructor(y,C,S,Z){this.app=y,this.heartbeatServiceProvider=C,this.appCheckServiceProvider=S,this.config=Z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yo(this),this.idTokenSubscription=new Yo(this),this.beforeStateQueue=new Ot(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=Z.sdkClientVersion}_initializeWithPersistence(y,C){var S=this;return C&&(this._popupRedirectResolver=cr(C)),this._initializationPromise=this.queue((0,o.Z)(function*(){var Z,$;if(!S._deleted&&(S.persistenceManager=yield le.create(S,y),!S._deleted)){if(null!==(Z=S._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(C),S.lastNotifiedUid=(null===($=S.currentUser)||void 0===$?void 0:$.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,o.Z)(function*(){if(y._deleted)return;const C=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||C){if(y.currentUser&&C&&y.currentUser.uid===C.uid)return y._currentUser._assign(C),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(C,!0)}})()}initializeCurrentUser(y){var C=this;return(0,o.Z)(function*(){var S;const Z=yield C.assertedPersistence.getCurrentUser();let $=Z,we=!1;if(y&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const Ue=null===(S=C.redirectUser)||void 0===S?void 0:S._redirectEventId,yt=$?._redirectEventId,St=yield C.tryRedirectSignIn(y);(!Ue||Ue===yt)&&St?.user&&($=St.user,we=!0)}if(!$)return C.directlySetCurrentUser(null);if(!$._redirectEventId){if(we)try{yield C.beforeStateQueue.runMiddleware($)}catch(Ue){$=Z,C._popupRedirectResolver._overrideRedirectResult(C,()=>Promise.reject(Ue))}return $?C.reloadAndSetCurrentUserOrClear($):C.directlySetCurrentUser(null)}return Ae(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===$._redirectEventId?C.directlySetCurrentUser($):C.reloadAndSetCurrentUserOrClear($)})()}tryRedirectSignIn(y){var C=this;return(0,o.Z)(function*(){let S=null;try{S=yield C._popupRedirectResolver._completeRedirectFn(C,y,!0)}catch{yield C._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(y){var C=this;return(0,o.Z)(function*(){try{yield zi(y)}catch(S){if("auth/network-request-failed"!==S?.code)return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function Fe(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var y=this;return(0,o.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var C=this;return(0,o.Z)(function*(){const S=y?(0,te.m9)(y):null;return S&&Ae(S.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(S&&S._clone(C))})()}_updateCurrentUser(y,C=!1){var S=this;return(0,o.Z)(function*(){if(!S._deleted)return y&&Ae(S.tenantId===y.tenantId,S,"tenant-id-mismatch"),C||(yield S.beforeStateQueue.runMiddleware(y)),S.queue((0,o.Z)(function*(){yield S.directlySetCurrentUser(y),S.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,o.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var C=this;return this.queue((0,o.Z)(function*(){yield C.assertedPersistence.setPersistence(cr(y))}))}initializeRecaptchaConfig(){var y=this;return(0,o.Z)(function*(){const C=yield ht(y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),S=new on(C);null==y.tenantId?y._agentRecaptchaConfig=S:y._tenantRecaptchaConfigs[y.tenantId]=S,S.emailPasswordEnabled&&new la(y).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new te.LL("auth","Firebase",y())}onAuthStateChanged(y,C,S){return this.registerStateListener(this.authStateSubscription,y,C,S)}beforeAuthStateChanged(y,C){return this.beforeStateQueue.pushCallback(y,C)}onIdTokenChanged(y,C,S){return this.registerStateListener(this.idTokenSubscription,y,C,S)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,C){var S=this;return(0,o.Z)(function*(){const Z=yield S.getOrInitRedirectPersistenceManager(C);return null===y?Z.removeCurrentUser():Z.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var C=this;return(0,o.Z)(function*(){if(!C.redirectPersistenceManager){const S=y&&cr(y)||C._popupRedirectResolver;Ae(S,C,"argument-error"),C.redirectPersistenceManager=yield le.create(C,[cr(S._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(y){var C=this;return(0,o.Z)(function*(){var S,Z;return C._isInitialized&&(yield C.queue((0,o.Z)(function*(){}))),(null===(S=C._currentUser)||void 0===S?void 0:S._redirectEventId)===y?C._currentUser:(null===(Z=C.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===y?C.redirectUser:null})()}_persistUserIfCurrent(y){var C=this;return(0,o.Z)(function*(){if(y===C.currentUser)return C.queue((0,o.Z)(function*(){return C.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(C=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,C,S,Z){if(this._deleted)return()=>{};const $="function"==typeof C?C:C.next.bind(C),we=this._isInitialized?Promise.resolve():this._initializationPromise;return Ae(we,this,"internal-error"),we.then(()=>$(this.currentUser)),"function"==typeof C?y.addObserver(C,S,Z):y.addObserver(C)}directlySetCurrentUser(y){var C=this;return(0,o.Z)(function*(){C.currentUser&&C.currentUser!==y&&C._currentUser._stopProactiveRefresh(),y&&C.isProactiveRefreshEnabled&&y._startProactiveRefresh(),C.currentUser=y,y?yield C.assertedPersistence.setCurrentUser(y):yield C.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=aa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,o.Z)(function*(){var C;const S={"X-Client-Version":y.clientVersion};y.app.options.appId&&(S["X-Firebase-gmpid"]=y.app.options.appId);const Z=yield null===(C=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();Z&&(S["X-Firebase-Client"]=Z);const $=yield y._getAppCheckToken();return $&&(S["X-Firebase-AppCheck"]=$),S})()}_getAppCheckToken(){var y=this;return(0,o.Z)(function*(){var C;const S=yield null===(C=y.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getToken();return S?.error&&function dt(I,...y){st.logLevel<=Oe.in.WARN&&st.warn(`Auth (${W.SDK_VERSION}): ${I}`,...y)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function oi(I){return(0,te.m9)(I)}class Yo{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,te.ne)(C=>this.observer=C)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Qt(I,y,C){const S=oi(I);Ae(S._canInitEmulator,S,"emulator-config-failed"),Ae(/^https?:\/\//.test(y),S,"invalid-emulator-scheme");const Z=!!C?.disableWarnings,$=Li(y),{host:we,port:Ue}=function _i(I){const y=Li(I),C=/(\/\/)?([^?#/]+)/.exec(I.substr(y.length));if(!C)return{host:"",port:null};const S=C[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(S);if(Z){const $=Z[1];return{host:$,port:On(S.substr($.length+1))}}{const[$,we]=S.split(":");return{host:$,port:On(we)}}}(y);S.config.emulator={url:`${$}//${we}${null===Ue?"":`:${Ue}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:we,port:Ue,protocol:$.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function Io(){function I(){const y=document.createElement("p"),C=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Li(I){const y=I.indexOf(":");return y<0?"":I.substr(0,y+1)}function On(I){if(!I)return null;const y=Number(I);return isNaN(y)?null:y}class ls{constructor(y,C){this.providerId=y,this.signInMethod=C}toJSON(){return Lt("not implemented")}_getIdTokenResponse(y){return Lt("not implemented")}_linkToIdToken(y,C){return Lt("not implemented")}_getReauthenticationResolver(y){return Lt("not implemented")}}function Pa(I,y){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,o.Z)(function*(I,y){return gt(I,"POST","/v1/accounts:resetPassword",We(I,y))})).apply(this,arguments)}function Yn(I,y){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,o.Z)(function*(I,y){return gt(I,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Gr(){return(Gr=(0,o.Z)(function*(I,y){return gt(I,"POST","/v1/accounts:update",We(I,y))})).apply(this,arguments)}function Dr(I,y){return mr.apply(this,arguments)}function mr(){return(mr=(0,o.Z)(function*(I,y){return Vn(I,"POST","/v1/accounts:signInWithPassword",We(I,y))})).apply(this,arguments)}function Ci(I,y){return No.apply(this,arguments)}function No(){return(No=(0,o.Z)(function*(I,y){return gt(I,"POST","/v1/accounts:sendOobCode",We(I,y))})).apply(this,arguments)}function il(){return(il=(0,o.Z)(function*(I,y){return Ci(I,y)})).apply(this,arguments)}function ka(I,y){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,o.Z)(function*(I,y){return Ci(I,y)})).apply(this,arguments)}function Oa(I,y){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,o.Z)(function*(I,y){return Ci(I,y)})).apply(this,arguments)}function an(){return(an=(0,o.Z)(function*(I,y){return Ci(I,y)})).apply(this,arguments)}function hi(){return(hi=(0,o.Z)(function*(I,y){return Vn(I,"POST","/v1/accounts:signInWithEmailLink",We(I,y))})).apply(this,arguments)}function rl(){return(rl=(0,o.Z)(function*(I,y){return Vn(I,"POST","/v1/accounts:signInWithEmailLink",We(I,y))})).apply(this,arguments)}class Yr extends ls{constructor(y,C,S,Z=null){super("password",S),this._email=y,this._password=C,this._tenantId=Z}static _fromEmailAndPassword(y,C){return new Yr(y,C,"password")}static _fromEmailAndCode(y,C,S=null){return new Yr(y,C,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const C="string"==typeof y?JSON.parse(y):y;if(C?.email&&C?.password){if("password"===C.signInMethod)return this._fromEmailAndPassword(C.email,C.password);if("emailLink"===C.signInMethod)return this._fromEmailAndCode(C.email,C.password,C.tenantId)}return null}_getIdTokenResponse(y){var C=this;return(0,o.Z)(function*(){var S;switch(C.signInMethod){case"password":const Z={returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(S=y._getRecaptchaConfig())&&void 0!==S&&S.emailPasswordEnabled){const $=yield Tr(y,Z,"signInWithPassword");return Dr(y,$)}return Dr(y,Z).catch(function(){var $=(0,o.Z)(function*(we){if("auth/missing-recaptcha-token"===we.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ue=yield Tr(y,Z,"signInWithPassword");return Dr(y,Ue)}return Promise.reject(we)});return function(we){return $.apply(this,arguments)}}());case"emailLink":return function Si(I,y){return hi.apply(this,arguments)}(y,{email:C._email,oobCode:C._password});default:nt(y,"internal-error")}})()}_linkToIdToken(y,C){var S=this;return(0,o.Z)(function*(){switch(S.signInMethod){case"password":return Yn(y,{idToken:C,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function yc(I,y){return rl.apply(this,arguments)}(y,{idToken:C,email:S._email,oobCode:S._password});default:nt(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Us(I,y){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,o.Z)(function*(I,y){return Vn(I,"POST","/v1/accounts:signInWithIdp",We(I,y))})).apply(this,arguments)}class Lo extends ls{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const C=new Lo(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(C.idToken=y.idToken),y.accessToken&&(C.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(C.nonce=y.nonce),y.pendingToken&&(C.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(C.accessToken=y.oauthToken,C.secret=y.oauthTokenSecret):nt("argument-error"),C}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const C="string"==typeof y?JSON.parse(y):y,{providerId:S,signInMethod:Z}=C,$=(0,Ce._T)(C,["providerId","signInMethod"]);if(!S||!Z)return null;const we=new Lo(S,Z);return we.idToken=$.idToken||void 0,we.accessToken=$.accessToken||void 0,we.secret=$.secret,we.nonce=$.nonce,we.pendingToken=$.pendingToken||null,we}_getIdTokenResponse(y){return Us(y,this.buildRequest())}_linkToIdToken(y,C){const S=this.buildRequest();return S.idToken=C,Us(y,S)}_getReauthenticationResolver(y){const C=this.buildRequest();return C.autoCreate=!1,Us(y,C)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const C={};this.idToken&&(C.id_token=this.idToken),this.accessToken&&(C.access_token=this.accessToken),this.secret&&(C.oauth_token_secret=this.secret),C.providerId=this.providerId,this.nonce&&!this.pendingToken&&(C.nonce=this.nonce),y.postBody=(0,te.xO)(C)}return y}}function Ra(){return(Ra=(0,o.Z)(function*(I,y){return gt(I,"POST","/v1/accounts:sendVerificationCode",We(I,y))})).apply(this,arguments)}function Gu(){return(Gu=(0,o.Z)(function*(I,y){return Vn(I,"POST","/v1/accounts:signInWithPhoneNumber",We(I,y))})).apply(this,arguments)}function Yu(){return(Yu=(0,o.Z)(function*(I,y){const C=yield Vn(I,"POST","/v1/accounts:signInWithPhoneNumber",We(I,y));if(C.temporaryProof)throw ar(I,"account-exists-with-different-credential",C);return C})).apply(this,arguments)}const au={USER_NOT_FOUND:"user-not-found"};function Kd(){return(Kd=(0,o.Z)(function*(I,y){return Vn(I,"POST","/v1/accounts:signInWithPhoneNumber",We(I,Object.assign(Object.assign({},y),{operation:"REAUTH"})),au)})).apply(this,arguments)}class Un extends ls{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,C){return new Un({verificationId:y,verificationCode:C})}static _fromTokenResponse(y,C){return new Un({phoneNumber:y,temporaryProof:C})}_getIdTokenResponse(y){return function Gd(I,y){return Gu.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,C){return function Tp(I,y){return Yu.apply(this,arguments)}(y,Object.assign({idToken:C},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function Yd(I,y){return Kd.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:C,verificationId:S,verificationCode:Z}=this.params;return y&&C?{temporaryProof:y,phoneNumber:C}:{sessionInfo:S,code:Z}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:C,verificationCode:S,phoneNumber:Z,temporaryProof:$}=y;return S||C||Z||$?new Un({verificationId:C,verificationCode:S,phoneNumber:Z,temporaryProof:$}):null}}class Bs{constructor(y){var C,S,Z,$,we,Ue;const yt=(0,te.zd)((0,te.pd)(y)),St=null!==(C=yt.apiKey)&&void 0!==C?C:null,ln=null!==(S=yt.oobCode)&&void 0!==S?S:null,Hn=function Ds(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=yt.mode)&&void 0!==Z?Z:null);Ae(St&&ln&&Hn,"argument-error"),this.apiKey=St,this.operation=Hn,this.code=ln,this.continueUrl=null!==($=yt.continueUrl)&&void 0!==$?$:null,this.languageCode=null!==(we=yt.languageCode)&&void 0!==we?we:null,this.tenantId=null!==(Ue=yt.tenantId)&&void 0!==Ue?Ue:null}static parseLink(y){const C=function Is(I){const y=(0,te.zd)((0,te.pd)(I)).link,C=y?(0,te.zd)((0,te.pd)(y)).deep_link_id:null,S=(0,te.zd)((0,te.pd)(I)).deep_link_id;return(S?(0,te.zd)((0,te.pd)(S)).link:null)||S||C||y||I}(y);try{return new Bs(C)}catch{return null}}}let Jd=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(C,S){return Yr._fromEmailAndPassword(C,S)}static credentialWithLink(C,S){const Z=Bs.parseLink(S);return Ae(Z,"argument-error"),Yr._fromEmailAndCode(C,Z.code,Z.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class ca{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class ol extends ca{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Vs extends ol{static credentialFromJSON(y){const C="string"==typeof y?JSON.parse(y):y;return Ae("providerId"in C&&"signInMethod"in C,"argument-error"),Lo._fromParams(C)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return Ae(y.idToken||y.accessToken,"argument-error"),Lo._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Vs.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Vs.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:C,oauthAccessToken:S,oauthTokenSecret:Z,pendingToken:$,nonce:we,providerId:Ue}=y;if(!S&&!Z&&!C&&!$||!Ue)return null;try{return new Vs(Ue)._credential({idToken:C,accessToken:S,nonce:we,pendingToken:$})}catch{return null}}}let Xd=(()=>{class I extends ol{constructor(){super("facebook.com")}static credential(C){return Lo._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return I.credentialFromTaggedObject(C)}static credentialFromError(C){return I.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return I.credential(C.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),eh=(()=>{class I extends ol{constructor(){super("google.com"),this.addScope("profile")}static credential(C,S){return Lo._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:C,accessToken:S})}static credentialFromResult(C){return I.credentialFromTaggedObject(C)}static credentialFromError(C){return I.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:S,oauthAccessToken:Z}=C;if(!S&&!Z)return null;try{return I.credential(S,Z)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Ul=(()=>{class I extends ol{constructor(){super("github.com")}static credential(C){return Lo._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return I.credentialFromTaggedObject(C)}static credentialFromError(C){return I.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return I.credential(C.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Kr extends ls{constructor(y,C){super(y,y),this.pendingToken=C}_getIdTokenResponse(y){return Us(y,this.buildRequest())}_linkToIdToken(y,C){const S=this.buildRequest();return S.idToken=C,Us(y,S)}_getReauthenticationResolver(y){const C=this.buildRequest();return C.autoCreate=!1,Us(y,C)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const C="string"==typeof y?JSON.parse(y):y,{providerId:S,signInMethod:Z,pendingToken:$}=C;return S&&Z&&$&&S===Z?new Kr(S,$):null}static _create(y,C){return new Kr(y,C)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class wc extends ca{constructor(y){Ae(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return wc.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return wc.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const C=Kr.fromJSON(y);return Ae(C,"argument-error"),C}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:C,providerId:S}=y;if(!C||!S)return null;try{return Kr._create(S,C)}catch{return null}}}let ua=(()=>{class I extends ol{constructor(){super("twitter.com")}static credential(C,S){return Lo._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:C,oauthTokenSecret:S})}static credentialFromResult(C){return I.credentialFromTaggedObject(C)}static credentialFromError(C){return I.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthAccessToken:S,oauthTokenSecret:Z}=C;if(!S||!Z)return null;try{return I.credential(S,Z)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function sl(I,y){return Na.apply(this,arguments)}function Na(){return(Na=(0,o.Z)(function*(I,y){return Vn(I,"POST","/v1/accounts:signUp",We(I,y))})).apply(this,arguments)}class Fi{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,C,S,Z=!1){return(0,o.Z)(function*(){const $=yield Qi._fromIdTokenResponse(y,S,Z),we=bc(S);return new Fi({user:$,providerId:we,_tokenResponse:S,operationType:C})})()}static _forOperation(y,C,S){return(0,o.Z)(function*(){yield y._updateTokensIfNecessary(S,!0);const Z=bc(S);return new Fi({user:y,providerId:Z,_tokenResponse:S,operationType:C})})()}}function bc(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Cc(I){return _r.apply(this,arguments)}function _r(){return(_r=(0,o.Z)(function*(I){var y;const C=oi(I);if(yield C._initializationPromise,null!==(y=C.currentUser)&&void 0!==y&&y.isAnonymous)return new Fi({user:C.currentUser,providerId:null,operationType:"signIn"});const S=yield sl(C,{returnSecureToken:!0}),Z=yield Fi._fromIdTokenResponse(C,"signIn",S,!0);return yield C._updateCurrentUser(Z.user),Z})).apply(this,arguments)}class al extends te.ZR{constructor(y,C,S,Z){var $;super(C.code,C.message),this.operationType=S,this.user=Z,Object.setPrototypeOf(this,al.prototype),this.customData={appName:y.name,tenantId:null!==($=y.tenantId)&&void 0!==$?$:void 0,_serverResponse:C.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(y,C,S,Z){return new al(y,C,S,Z)}}function ll(I,y,C,S){return("reauthenticate"===y?C._getReauthenticationResolver(I):C._getIdTokenResponse(I)).catch($=>{throw"auth/multi-factor-auth-required"===$.code?al._fromErrorAndOperation(I,$,y,S):$})}function xr(I){return new Set(I.map(({providerId:y})=>y).filter(y=>!!y))}function cf(I,y){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,o.Z)(function*(I,y){const C=(0,te.m9)(I);yield xs(!0,C,y);const{providerUserInfo:S}=yield function oo(I,y){return Co.apply(this,arguments)}(C.auth,{idToken:yield C.getIdToken(),deleteProvider:[y]}),Z=xr(S||[]);return C.providerData=C.providerData.filter($=>Z.has($.providerId)),Z.has("phone")||(C.phoneNumber=null),yield C.auth._persistUserIfCurrent(C),C}),Ec.apply(this,arguments)}function uo(I,y){return ur.apply(this,arguments)}function ur(){return(ur=(0,o.Z)(function*(I,y,C=!1){const S=yield Ln(I,y._linkToIdToken(I.auth,yield I.getIdToken()),C);return Fi._forOperation(I,"link",S)})).apply(this,arguments)}function xs(I,y,C){return La.apply(this,arguments)}function La(){return(La=(0,o.Z)(function*(I,y,C){yield zi(y);const Z=!1===I?"provider-already-linked":"no-such-provider";Ae(xr(y.providerData).has(C)===I,y.auth,Z)})).apply(this,arguments)}function Bl(I,y){return vr.apply(this,arguments)}function vr(){return(vr=(0,o.Z)(function*(I,y,C=!1){const{auth:S}=I,Z="reauthenticate";try{const $=yield Ln(I,ll(S,Z,y,I),C);Ae($.idToken,S,"internal-error");const we=qr($.idToken);Ae(we,S,"internal-error");const{sub:Ue}=we;return Ae(I.uid===Ue,S,"user-mismatch"),Fi._forOperation(I,Z,$)}catch($){throw"auth/user-not-found"===$?.code&&nt(S,"user-mismatch"),$}})).apply(this,arguments)}function Vl(I,y){return cl.apply(this,arguments)}function cl(){return(cl=(0,o.Z)(function*(I,y,C=!1){const S="signIn",Z=yield ll(I,S,y),$=yield Fi._fromIdTokenResponse(I,S,Z);return C||(yield I._updateCurrentUser($.user)),$})).apply(this,arguments)}function xn(I,y){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,o.Z)(function*(I,y){return Vl(oi(I),y)})).apply(this,arguments)}function Qu(I,y){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,o.Z)(function*(I,y){const C=(0,te.m9)(I);return yield xs(!1,C,y.providerId),uo(C,y)})).apply(this,arguments)}function Xu(I,y){return lu.apply(this,arguments)}function lu(){return(lu=(0,o.Z)(function*(I,y){return Bl((0,te.m9)(I),y)})).apply(this,arguments)}function cs(){return(cs=(0,o.Z)(function*(I,y){return Vn(I,"POST","/v1/accounts:signInWithCustomToken",We(I,y))})).apply(this,arguments)}function Tc(I,y){return qe.apply(this,arguments)}function qe(){return qe=(0,o.Z)(function*(I,y){const C=oi(I),S=yield function th(I,y){return cs.apply(this,arguments)}(C,{token:y,returnSecureToken:!0}),Z=yield Fi._fromIdTokenResponse(C,"signIn",S);return yield C._updateCurrentUser(Z.user),Z}),qe.apply(this,arguments)}class hn{constructor(y,C){this.factorId=y,this.uid=C.mfaEnrollmentId,this.enrollmentTime=new Date(C.enrolledAt).toUTCString(),this.displayName=C.displayName}static _fromServerResponse(y,C){return"phoneInfo"in C?ed._fromServerResponse(y,C):"totpInfo"in C?Zs._fromServerResponse(y,C):nt(y,"internal-error")}}class ed extends hn{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,C){return new ed(C)}}class Zs extends hn{constructor(y){super("totp",y)}static _fromServerResponse(y,C){return new Zs(C)}}function dr(I,y,C){var S;Ae((null===(S=C.url)||void 0===S?void 0:S.length)>0,I,"invalid-continue-uri"),Ae(typeof C.dynamicLinkDomain>"u"||C.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),y.continueUrl=C.url,y.dynamicLinkDomain=C.dynamicLinkDomain,y.canHandleCodeInApp=C.handleCodeInApp,C.iOS&&(Ae(C.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),y.iOSBundleId=C.iOS.bundleId),C.android&&(Ae(C.android.packageName.length>0,I,"missing-android-pkg-name"),y.androidInstallApp=C.android.installApp,y.androidMinimumVersionCode=C.android.minimumVersion,y.androidPackageName=C.android.packageName)}function zl(I,y,C){return ul.apply(this,arguments)}function ul(){return ul=(0,o.Z)(function*(I,y,C){var S;const Z=oi(I),$={requestType:"PASSWORD_RESET",email:y,clientType:"CLIENT_TYPE_WEB"};if(null!==(S=Z._getRecaptchaConfig())&&void 0!==S&&S.emailPasswordEnabled){const we=yield Tr(Z,$,"getOobCode",!0);C&&dr(Z,we,C),yield ka(Z,we)}else C&&dr(Z,$,C),yield ka(Z,$).catch(function(){var we=(0,o.Z)(function*(Ue){if("auth/missing-recaptcha-token"!==Ue.code)return Promise.reject(Ue);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const yt=yield Tr(Z,$,"getOobCode",!0);C&&dr(Z,yt,C),yield ka(Z,yt)}});return function(Ue){return we.apply(this,arguments)}}())}),ul.apply(this,arguments)}function xo(I,y,C){return cu.apply(this,arguments)}function cu(){return(cu=(0,o.Z)(function*(I,y,C){yield Pa((0,te.m9)(I),{oobCode:y,newPassword:C})})).apply(this,arguments)}function da(I,y){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,o.Z)(function*(I,y){yield function Es(I,y){return Gr.apply(this,arguments)}((0,te.m9)(I),{oobCode:y})}),Dc.apply(this,arguments)}function Fa(I,y){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,o.Z)(function*(I,y){const C=(0,te.m9)(I),S=yield Pa(C,{oobCode:y}),Z=S.requestType;switch(Ae(Z,C,"internal-error"),Z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ae(S.newEmail,C,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ae(S.mfaInfo,C,"internal-error");default:Ae(S.email,C,"internal-error")}let $=null;return S.mfaInfo&&($=hn._fromServerResponse(oi(C),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:$},operation:Z}})).apply(this,arguments)}function Qr(I,y){return or.apply(this,arguments)}function or(){return(or=(0,o.Z)(function*(I,y){const{data:C}=yield Fa((0,te.m9)(I),y);return C.email})).apply(this,arguments)}function Ba(I,y,C){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,o.Z)(function*(I,y,C){var S;const Z=oi(I),$={returnSecureToken:!0,email:y,password:C,clientType:"CLIENT_TYPE_WEB"};let we;if(null!==(S=Z._getRecaptchaConfig())&&void 0!==S&&S.emailPasswordEnabled){const St=yield Tr(Z,$,"signUpPassword");we=sl(Z,St)}else we=sl(Z,$).catch(function(){var St=(0,o.Z)(function*(ln){if("auth/missing-recaptcha-token"===ln.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Hn=yield Tr(Z,$,"signUpPassword");return sl(Z,Hn)}return Promise.reject(ln)});return function(ln){return St.apply(this,arguments)}}());const Ue=yield we.catch(St=>Promise.reject(St)),yt=yield Fi._fromIdTokenResponse(Z,"signIn",Ue);return yield Z._updateCurrentUser(yt.user),yt}),Fo.apply(this,arguments)}function zs(I,y,C){return xn((0,te.m9)(I),Jd.credential(y,C))}function Hs(I,y,C){return qs.apply(this,arguments)}function qs(){return qs=(0,o.Z)(function*(I,y,C){var S;const Z=oi(I),$={requestType:"EMAIL_SIGNIN",email:y,clientType:"CLIENT_TYPE_WEB"};function we(Ue,yt){Ae(yt.handleCodeInApp,Z,"argument-error"),yt&&dr(Z,Ue,yt)}if(null!==(S=Z._getRecaptchaConfig())&&void 0!==S&&S.emailPasswordEnabled){const Ue=yield Tr(Z,$,"getOobCode",!0);we(Ue,C),yield Oa(Z,Ue)}else we($,C),yield Oa(Z,$).catch(function(){var Ue=(0,o.Z)(function*(yt){if("auth/missing-recaptcha-token"!==yt.code)return Promise.reject(yt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const St=yield Tr(Z,$,"getOobCode",!0);we(St,C),yield Oa(Z,St)}});return function(yt){return Ue.apply(this,arguments)}}())}),qs.apply(this,arguments)}function td(I,y){return"EMAIL_SIGNIN"===Bs.parseLink(y)?.operation}function nh(I,y,C){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,o.Z)(function*(I,y,C){const S=(0,te.m9)(I),Z=Jd.credentialWithLink(y,C||Zt());return Ae(Z._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),xn(S,Z)})).apply(this,arguments)}function Va(){return(Va=(0,o.Z)(function*(I,y){return gt(I,"POST","/v1/accounts:createAuthUri",We(I,y))})).apply(this,arguments)}function dl(I,y){return hl.apply(this,arguments)}function hl(){return hl=(0,o.Z)(function*(I,y){const S={identifier:y,continueUri:dn()?Zt():"http://localhost"},{signinMethods:Z}=yield function Hl(I,y){return Va.apply(this,arguments)}((0,te.m9)(I),S);return Z||[]}),hl.apply(this,arguments)}function uu(I,y){return fl.apply(this,arguments)}function fl(){return fl=(0,o.Z)(function*(I,y){const C=(0,te.m9)(I),Z={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};y&&dr(C.auth,Z,y);const{email:$}=yield function Fl(I,y){return il.apply(this,arguments)}(C.auth,Z);$!==I.email&&(yield I.reload())}),fl.apply(this,arguments)}function nd(I,y,C){return Za.apply(this,arguments)}function Za(){return Za=(0,o.Z)(function*(I,y,C){const S=(0,te.m9)(I),$={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:y};C&&dr(S.auth,$,C);const{email:we}=yield function Wd(I,y){return an.apply(this,arguments)}(S.auth,$);we!==I.email&&(yield I.reload())}),Za.apply(this,arguments)}function Ic(){return(Ic=(0,o.Z)(function*(I,y){return gt(I,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ih(I,y){return du.apply(this,arguments)}function du(){return du=(0,o.Z)(function*(I,{displayName:y,photoURL:C}){if(void 0===y&&void 0===C)return;const S=(0,te.m9)(I),$={idToken:yield S.getIdToken(),displayName:y,photoUrl:C,returnSecureToken:!0},we=yield Ln(S,function id(I,y){return Ic.apply(this,arguments)}(S.auth,$));S.displayName=we.displayName||null,S.photoURL=we.photoUrl||null;const Ue=S.providerData.find(({providerId:yt})=>"password"===yt);Ue&&(Ue.displayName=S.displayName,Ue.photoURL=S.photoURL),yield S._updateTokensIfNecessary(we)}),du.apply(this,arguments)}function rh(I,y){return Jo((0,te.m9)(I),y,null)}function Ui(I,y){return Jo((0,te.m9)(I),null,y)}function Jo(I,y,C){return qi.apply(this,arguments)}function qi(){return(qi=(0,o.Z)(function*(I,y,C){const{auth:S}=I,$={idToken:yield I.getIdToken(),returnSecureToken:!0};y&&($.email=y),C&&($.password=C);const we=yield Ln(I,Yn(S,$));yield I._updateTokensIfNecessary(we,!0)})).apply(this,arguments)}class ql{constructor(y,C,S={}){this.isNewUser=y,this.providerId=C,this.profile=S}}class hu extends ql{constructor(y,C,S,Z){super(y,C,S),this.username=Z}}class Dp extends ql{constructor(y,C){super(y,"facebook.com",C)}}class jl extends hu{constructor(y,C){super(y,"github.com",C,"string"==typeof C?.login?C?.login:null)}}class Ip extends ql{constructor(y,C){super(y,"google.com",C)}}class ha extends hu{constructor(y,C,S){super(y,"twitter.com",C,S)}}function fu(I){const{user:y,_tokenResponse:C}=I;return y.isAnonymous&&!C?{providerId:null,isNewUser:!1,profile:null}:function xc(I){var y,C;if(!I)return null;const{providerId:S}=I,Z=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},$=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!S&&I?.idToken){const we=null===(C=null===(y=qr(I.idToken))||void 0===y?void 0:y.firebase)||void 0===C?void 0:C.sign_in_provider;if(we)return new ql($,"anonymous"!==we&&"custom"!==we?we:null)}if(!S)return null;switch(S){case"facebook.com":return new Dp($,Z);case"github.com":return new jl($,Z);case"google.com":return new Ip($,Z);case"twitter.com":return new ha($,Z,I.screenName||null);case"custom":case"anonymous":return new ql($,null);default:return new ql($,S,Z)}}(C)}class js{constructor(y,C,S){this.type=y,this.credential=C,this.auth=S}static _fromIdtoken(y,C){return new js("enroll",y,C)}static _fromMfaPendingCredential(y){return new js("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var C,S;if(y?.multiFactorSession){if(null!==(C=y.multiFactorSession)&&void 0!==C&&C.pendingCredential)return js._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(S=y.multiFactorSession)&&void 0!==S&&S.idToken)return js._fromIdtoken(y.multiFactorSession.idToken)}return null}}class sd{constructor(y,C,S){this.session=y,this.hints=C,this.signInResolver=S}static _fromError(y,C){const S=oi(y),Z=C.customData._serverResponse,$=(Z.mfaInfo||[]).map(Ue=>hn._fromServerResponse(S,Ue));Ae(Z.mfaPendingCredential,S,"internal-error");const we=js._fromMfaPendingCredential(Z.mfaPendingCredential);return new sd(we,$,function(){var Ue=(0,o.Z)(function*(yt){const St=yield yt._process(S,we);delete Z.mfaInfo,delete Z.mfaPendingCredential;const ln=Object.assign(Object.assign({},Z),{idToken:St.idToken,refreshToken:St.refreshToken});switch(C.operationType){case"signIn":const Hn=yield Fi._fromIdTokenResponse(S,C.operationType,ln);return yield S._updateCurrentUser(Hn.user),Hn;case"reauthenticate":return Ae(C.user,S,"internal-error"),Fi._forOperation(C.user,C.operationType,ln);default:nt(S,"internal-error")}});return function(yt){return Ue.apply(this,arguments)}}())}resolveSignIn(y){var C=this;return(0,o.Z)(function*(){return C.signInResolver(y)})()}}function $l(I,y){var C;const S=(0,te.m9)(I),Z=y;return Ae(y.customData.operationType,S,"argument-error"),Ae(null===(C=Z.customData._serverResponse)||void 0===C?void 0:C.mfaPendingCredential,S,"argument-error"),sd._fromError(S,Z)}class _l{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(C=>{C.mfaInfo&&(this.enrolledFactors=C.mfaInfo.map(S=>hn._fromServerResponse(y.auth,S)))})}static _fromUser(y){return new _l(y)}getSession(){var y=this;return(0,o.Z)(function*(){return js._fromIdtoken(yield y.user.getIdToken(),y.user.auth)})()}enroll(y,C){var S=this;return(0,o.Z)(function*(){const Z=y,$=yield S.getSession(),we=yield Ln(S.user,Z._process(S.user.auth,$,C));return yield S.user._updateTokensIfNecessary(we),S.user.reload()})()}unenroll(y){var C=this;return(0,o.Z)(function*(){const S="string"==typeof y?y:y.uid,Z=yield C.user.getIdToken();try{const $=yield Ln(C.user,function ml(I,y){return gt(I,"POST","/v2/accounts/mfaEnrollment:withdraw",We(I,y))}(C.user.auth,{idToken:Z,mfaEnrollmentId:S}));C.enrolledFactors=C.enrolledFactors.filter(({uid:we})=>we!==S),yield C.user._updateTokensIfNecessary($),yield C.user.reload()}catch($){throw $}})()}}const Ha=new WeakMap;function Gl(I){const y=(0,te.m9)(I);return Ha.has(y)||Ha.set(y,_l._fromUser(y)),Ha.get(y)}const f="__sak";class m{constructor(y,C){this.storageRetriever=y,this.type=C}_isAvailable(){try{return this.storage?(this.storage.setItem(f,"1"),this.storage.removeItem(f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,C){return this.storage.setItem(y,JSON.stringify(C)),Promise.resolve()}_get(y){const C=this.storage.getItem(y);return Promise.resolve(C?JSON.parse(C):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const ce=(()=>{class I extends m{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(C,S)=>this.onStorageEvent(C,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function E(){const I=(0,te.z$)();return Y(I)||cn(I)}()&&function Er(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Tn(),this._shouldAllowMigration=!0}forAllChangedKeys(C){for(const S of Object.keys(this.listeners)){const Z=this.storage.getItem(S),$=this.localCache[S];Z!==$&&C(S,$,Z)}}onStorageEvent(C,S=!1){if(!C.key)return void this.forAllChangedKeys((Ue,yt,St)=>{this.notifyListeners(Ue,St)});const Z=C.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ue=this.storage.getItem(Z);if(C.newValue!==Ue)null!==C.newValue?this.storage.setItem(Z,C.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===C.newValue&&!S)return}const $=()=>{const Ue=this.storage.getItem(Z);!S&&this.localCache[Z]===Ue||this.notifyListeners(Z,Ue)},we=this.storage.getItem(Z);!function xi(){return(0,te.w1)()&&10===document.documentMode}()||we===C.newValue||C.newValue===C.oldValue?$():setTimeout($,10)}notifyListeners(C,S){this.localCache[C]=S;const Z=this.listeners[C];if(Z)for(const $ of Array.from(Z))$(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((C,S,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:C,oldValue:S,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(C,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[C]||(this.listeners[C]=new Set,this.localCache[C]=this.storage.getItem(C)),this.listeners[C].add(S)}_removeListener(C,S){this.listeners[C]&&(this.listeners[C].delete(S),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(C,S){var Z=()=>super._set,$=this;return(0,o.Z)(function*(){yield Z().call($,C,S),$.localCache[C]=JSON.stringify(S)})()}_get(C){var S=()=>super._get,Z=this;return(0,o.Z)(function*(){const $=yield S().call(Z,C);return Z.localCache[C]=JSON.stringify($),$})()}_remove(C){var S=()=>super._remove,Z=this;return(0,o.Z)(function*(){yield S().call(Z,C),delete Z.localCache[C]})()}}return I.type="LOCAL",I})(),ke=(()=>{class I extends m{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(C,S){}_removeListener(C,S){}}return I.type="SESSION",I})();let Rt=(()=>{class I{constructor(C){this.eventTarget=C,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(C){const S=this.receivers.find($=>$.isListeningto(C));if(S)return S;const Z=new I(C);return this.receivers.push(Z),Z}isListeningto(C){return this.eventTarget===C}handleEvent(C){var S=this;return(0,o.Z)(function*(){const Z=C,{eventId:$,eventType:we,data:Ue}=Z.data,yt=S.handlersMap[we];if(!yt?.size)return;Z.ports[0].postMessage({status:"ack",eventId:$,eventType:we});const St=Array.from(yt).map(function(){var Hn=(0,o.Z)(function*(fs){return fs(Z.origin,Ue)});return function(fs){return Hn.apply(this,arguments)}}()),ln=yield function ct(I){return Promise.all(I.map(function(){var y=(0,o.Z)(function*(C){try{return{fulfilled:!0,value:yield C}}catch(S){return{fulfilled:!1,reason:S}}});return function(C){return y.apply(this,arguments)}}()))}(St);Z.ports[0].postMessage({status:"done",eventId:$,eventType:we,response:ln})})()}_subscribe(C,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[C]||(this.handlersMap[C]=new Set),this.handlersMap[C].add(S)}_unsubscribe(C,S){this.handlersMap[C]&&S&&this.handlersMap[C].delete(S),(!S||0===this.handlersMap[C].size)&&delete this.handlersMap[C],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function sn(I="",y=10){let C="";for(let S=0;S<y;S++)C+=Math.floor(10*Math.random());return I+C}class jn{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,C,S=50){var Z=this;return(0,o.Z)(function*(){const $=typeof MessageChannel<"u"?new MessageChannel:null;if(!$)throw new Error("connection_unavailable");let we,Ue;return new Promise((yt,St)=>{const ln=sn("",20);$.port1.start();const Hn=setTimeout(()=>{St(new Error("unsupported_event"))},S);Ue={messageChannel:$,onMessage(fs){const Uc=fs;if(Uc.data.eventId===ln)switch(Uc.data.status){case"ack":clearTimeout(Hn),we=setTimeout(()=>{St(new Error("timeout"))},3e3);break;case"done":clearTimeout(we),yt(Uc.data.response);break;default:clearTimeout(Hn),clearTimeout(we),St(new Error("invalid_response"))}}},Z.handlers.add(Ue),$.port1.addEventListener("message",Ue.onMessage),Z.target.postMessage({eventType:y,eventId:ln,data:C},[$.port2])}).finally(()=>{Ue&&Z.removeMessageHandler(Ue)})})()}}function ni(){return window}function So(){return typeof ni().WorkerGlobalScope<"u"&&"function"==typeof ni().importScripts}function Ws(){return(Ws=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Sr="firebaseLocalStorageDb",vl=1,er="firebaseLocalStorage",ah="fbase_key";class Ai{constructor(y){this.request=y}toPromise(){return new Promise((y,C)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{C(this.request.error)})})}}function yl(I,y){return I.transaction([er],y?"readwrite":"readonly").objectStore(er)}function ld(){const I=indexedDB.open(Sr,vl);return new Promise((y,C)=>{I.addEventListener("error",()=>{C(I.error)}),I.addEventListener("upgradeneeded",()=>{const S=I.result;try{S.createObjectStore(er,{keyPath:ah})}catch(Z){C(Z)}}),I.addEventListener("success",(0,o.Z)(function*(){const S=I.result;S.objectStoreNames.contains(er)?y(S):(S.close(),yield function Yl(){const I=indexedDB.deleteDatabase(Sr);return new Ai(I).toPromise()}(),y(yield ld()))}))})}function cd(I,y,C){return $s.apply(this,arguments)}function $s(){return($s=(0,o.Z)(function*(I,y,C){const S=yl(I,!0).put({[ah]:y,value:C});return new Ai(S).toPromise()})).apply(this,arguments)}function wl(){return(wl=(0,o.Z)(function*(I,y){const C=yl(I,!1).get(y),S=yield new Ai(C).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function ud(I,y){const C=yl(I,!0).delete(y);return new Ai(C).toPromise()}const uf=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var C=this;return(0,o.Z)(function*(){return C.db||(C.db=yield ld()),C.db})()}_withRetries(C){var S=this;return(0,o.Z)(function*(){let Z=0;for(;;)try{const $=yield S._openDb();return yield C($)}catch($){if(Z++>3)throw $;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var C=this;return(0,o.Z)(function*(){return So()?C.initializeReceiver():C.initializeSender()})()}initializeReceiver(){var C=this;return(0,o.Z)(function*(){C.receiver=Rt._getInstance(function gu(){return So()?self:null}()),C.receiver._subscribe("keyChanged",function(){var S=(0,o.Z)(function*(Z,$){return{keyProcessed:(yield C._poll()).includes($.key)}});return function(Z,$){return S.apply(this,arguments)}}()),C.receiver._subscribe("ping",function(){var S=(0,o.Z)(function*(Z,$){return["keyChanged"]});return function(Z,$){return S.apply(this,arguments)}}())})()}initializeSender(){var C=this;return(0,o.Z)(function*(){var S,Z;if(C.activeServiceWorker=yield function Ao(){return Ws.apply(this,arguments)}(),!C.activeServiceWorker)return;C.sender=new jn(C.activeServiceWorker);const $=yield C.sender._send("ping",{},800);$&&null!==(S=$[0])&&void 0!==S&&S.fulfilled&&null!==(Z=$[0])&&void 0!==Z&&Z.value.includes("keyChanged")&&(C.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(C){var S=this;return(0,o.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function sh(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:C},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const C=yield ld();return yield cd(C,f,"1"),yield ud(C,f),!0}catch{}return!1})()}_withPendingWrite(C){var S=this;return(0,o.Z)(function*(){S.pendingWrites++;try{yield C()}finally{S.pendingWrites--}})()}_set(C,S){var Z=this;return(0,o.Z)(function*(){return Z._withPendingWrite((0,o.Z)(function*(){return yield Z._withRetries($=>cd($,C,S)),Z.localCache[C]=S,Z.notifyServiceWorker(C)}))})()}_get(C){var S=this;return(0,o.Z)(function*(){const Z=yield S._withRetries($=>function lh(I,y){return wl.apply(this,arguments)}($,C));return S.localCache[C]=Z,Z})()}_remove(C){var S=this;return(0,o.Z)(function*(){return S._withPendingWrite((0,o.Z)(function*(){return yield S._withRetries(Z=>ud(Z,C)),delete S.localCache[C],S.notifyServiceWorker(C)}))})()}_poll(){var C=this;return(0,o.Z)(function*(){const S=yield C._withRetries(we=>{const Ue=yl(we,!1).getAll();return new Ai(Ue).toPromise()});if(!S)return[];if(0!==C.pendingWrites)return[];const Z=[],$=new Set;for(const{fbase_key:we,value:Ue}of S)$.add(we),JSON.stringify(C.localCache[we])!==JSON.stringify(Ue)&&(C.notifyListeners(we,Ue),Z.push(we));for(const we of Object.keys(C.localCache))C.localCache[we]&&!$.has(we)&&(C.notifyListeners(we,null),Z.push(we));return Z})()}notifyListeners(C,S){this.localCache[C]=S;const Z=this.listeners[C];if(Z)for(const $ of Array.from(Z))$(S)}startPolling(){var C=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return C._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(C,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[C]||(this.listeners[C]=new Set,this._get(C)),this.listeners[C].add(S)}_removeListener(C,S){this.listeners[C]&&(this.listeners[C].delete(S),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),df=1e12;class hf{constructor(y){this.auth=y,this.counter=df,this._widgets=new Map}render(y,C){const S=this.counter;return this._widgets.set(S,new dh(y,this.auth.name,C||{})),this.counter++,S}reset(y){var C;const S=y||df;null===(C=this._widgets.get(S))||void 0===C||C.delete(),this._widgets.delete(S)}getResponse(y){var C;return(null===(C=this._widgets.get(y||df))||void 0===C?void 0:C.getResponse())||""}execute(y){var C=this;return(0,o.Z)(function*(){var S;return null===(S=C._widgets.get(y||df))||void 0===S||S.execute(),""})()}}class dh{constructor(y,C,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Z="string"==typeof y?document.getElementById(y):y;Ae(Z,"argument-error",{appName:C}),this.container=Z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function hh(I){const y=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<I;S++)y.push(C.charAt(Math.floor(Math.random()*C.length)));return y.join("")}(50);const{callback:y,"expired-callback":C}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,C)try{C()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _m=lo("rcb"),bw=new Ie(3e4,6e4);class kc{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=ni().grecaptcha)||void 0===y||!y.render)}load(y,C=""){return Ae(function Ew(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(C),y,"argument-error"),this.shouldResolveImmediately(C)&&wn(ni().grecaptcha)?Promise.resolve(ni().grecaptcha):new Promise((S,Z)=>{const $=ni().setTimeout(()=>{Z(Qe(y,"network-request-failed"))},bw.get());ni()[_m]=()=>{ni().clearTimeout($),delete ni()[_m];const Ue=ni().grecaptcha;if(!Ue||!wn(Ue))return void Z(Qe(y,"internal-error"));const yt=Ue.render;Ue.render=(St,ln)=>{const Hn=yt(St,ln);return this.counter++,Hn},this.hostLanguage=C,S(Ue)},Xn(`https://www.google.com/recaptcha/api.js??${(0,te.xO)({onload:_m,render:"explicit",hl:C})}`).catch(()=>{clearTimeout($),Z(Qe(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var C;return!(null===(C=ni().grecaptcha)||void 0===C||!C.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vm{load(y){return(0,o.Z)(function*(){return new hf(y)})()}clearedOneInstance(){}}const Jr="recaptcha",fh={theme:"light",type:"image"};class ph{constructor(y,C=Object.assign({},fh),S){this.parameters=C,this.type=Jr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=oi(S),this.isInvisible="invisible"===this.parameters.size,Ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Z="string"==typeof y?document.getElementById(y):y;Ae(Z,this.auth,"argument-error"),this.container=Z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vm:new kc,this.validateStartingState()}verify(){var y=this;return(0,o.Z)(function*(){y.assertNotDestroyed();const C=yield y.render(),S=y.getAssertedRecaptcha();return S.getResponse(C)||new Promise($=>{const we=Ue=>{Ue&&(y.tokenChangeListeners.delete(we),$(Ue))};y.tokenChangeListeners.add(we),y.isInvisible&&S.execute(C)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){Ae(!this.parameters.sitekey,this.auth,"argument-error"),Ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return C=>{if(this.tokenChangeListeners.forEach(S=>S(C)),"function"==typeof y)y(C);else if("string"==typeof y){const S=ni()[y];"function"==typeof S&&S(C)}}}assertNotDestroyed(){Ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,o.Z)(function*(){if(yield y.init(),!y.widgetId){let C=y.container;if(!y.isInvisible){const S=document.createElement("div");C.appendChild(S),C=S}y.widgetId=y.getAssertedRecaptcha().render(C,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,o.Z)(function*(){Ae(dn()&&!So(),y.auth,"internal-error"),yield function ff(){let I=null;return new Promise(y=>{"complete"!==document.readyState?(I=()=>y(),window.addEventListener("load",I)):y()}).catch(y=>{throw I&&window.removeEventListener("load",I),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const C=yield function He(I){return Me.apply(this,arguments)}(y.auth);Ae(C,y.auth,"internal-error"),y.parameters.sitekey=C})()}getAssertedRecaptcha(){return Ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ss{constructor(y,C){this.verificationId=y,this.onConfirmation=C}confirm(y){const C=Un._fromVerification(this.verificationId,y);return this.onConfirmation(C)}}function Kl(I,y,C){return pf.apply(this,arguments)}function pf(){return(pf=(0,o.Z)(function*(I,y,C){const S=oi(I),Z=yield gh(S,y,(0,te.m9)(C));return new Ss(Z,$=>xn(S,$))})).apply(this,arguments)}function dd(I,y,C){return mu.apply(this,arguments)}function mu(){return(mu=(0,o.Z)(function*(I,y,C){const S=(0,te.m9)(I);yield xs(!1,S,"phone");const Z=yield gh(S.auth,y,(0,te.m9)(C));return new Ss(Z,$=>Qu(S,$))})).apply(this,arguments)}function Mp(I,y,C){return gf.apply(this,arguments)}function gf(){return(gf=(0,o.Z)(function*(I,y,C){const S=(0,te.m9)(I),Z=yield gh(S.auth,y,(0,te.m9)(C));return new Ss(Z,$=>Xu(S,$))})).apply(this,arguments)}function gh(I,y,C){return mf.apply(this,arguments)}function mf(){return mf=(0,o.Z)(function*(I,y,C){var S;const Z=yield C.verify();try{let $;if(Ae("string"==typeof Z,I,"argument-error"),Ae(C.type===Jr,I,"argument-error"),$="string"==typeof y?{phoneNumber:y}:y,"session"in $){const we=$.session;if("phoneNumber"in $)return Ae("enroll"===we.type,I,"internal-error"),(yield function Sc(I,y){return gt(I,"POST","/v2/accounts/mfaEnrollment:start",We(I,y))}(I,{idToken:we.credential,phoneEnrollmentInfo:{phoneNumber:$.phoneNumber,recaptchaToken:Z}})).phoneSessionInfo.sessionInfo;{Ae("signin"===we.type,I,"internal-error");const Ue=(null===(S=$.multiFactorHint)||void 0===S?void 0:S.uid)||$.multiFactorUid;return Ae(Ue,I,"missing-multi-factor-info"),(yield function Sp(I,y){return gt(I,"POST","/v2/accounts/mfaSignIn:start",We(I,y))}(I,{mfaPendingCredential:we.credential,mfaEnrollmentId:Ue,phoneSignInInfo:{recaptchaToken:Z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:we}=yield function co(I,y){return Ra.apply(this,arguments)}(I,{phoneNumber:$.phoneNumber,recaptchaToken:Z});return we}}finally{C._reset()}}),mf.apply(this,arguments)}function Gs(I,y){return si.apply(this,arguments)}function si(){return(si=(0,o.Z)(function*(I,y){yield uo((0,te.m9)(I),y)})).apply(this,arguments)}let Ys=(()=>{class I{constructor(C){this.providerId=I.PROVIDER_ID,this.auth=oi(C)}verifyPhoneNumber(C,S){return gh(this.auth,C,(0,te.m9)(S))}static credential(C,S){return Un._fromVerification(C,S)}static credentialFromResult(C){return I.credentialFromTaggedObject(C)}static credentialFromError(C){return I.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{phoneNumber:S,temporaryProof:Z}=C;return S&&Z?Un._fromTokenResponse(S,Z):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Ht(I,y){return y?cr(y):(Ae(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class ds extends ls{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Us(y,this._buildIdpRequest())}_linkToIdToken(y,C){return Us(y,this._buildIdpRequest(C))}_getReauthenticationResolver(y){return Us(y,this._buildIdpRequest())}_buildIdpRequest(y){const C={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(C.idToken=y),C}}function yr(I){return Vl(I.auth,new ds(I),I.bypassAuthState)}function Pp(I){const{auth:y,user:C}=I;return Ae(C,y,"internal-error"),Bl(C,new ds(I),I.bypassAuthState)}function hd(I){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,o.Z)(function*(I){const{auth:y,user:C}=I;return Ae(C,y,"internal-error"),uo(C,new ds(I),I.bypassAuthState)})).apply(this,arguments)}class _f{constructor(y,C,S,Z,$=!1){this.auth=y,this.resolver=S,this.user=Z,this.bypassAuthState=$,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(C)?C:[C]}execute(){var y=this;return new Promise(function(){var C=(0,o.Z)(function*(S,Z){y.pendingPromise={resolve:S,reject:Z};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch($){y.reject($)}});return function(S,Z){return C.apply(this,arguments)}}())}onAuthEvent(y){var C=this;return(0,o.Z)(function*(){const{urlResponse:S,sessionId:Z,postBody:$,tenantId:we,error:Ue,type:yt}=y;if(Ue)return void C.reject(Ue);const St={auth:C.auth,requestUri:S,sessionId:Z,tenantId:we||void 0,postBody:$||void 0,user:C.user,bypassAuthState:C.bypassAuthState};try{C.resolve(yield C.getIdpTask(yt)(St))}catch(ln){C.reject(ln)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return yr;case"linkViaPopup":case"linkViaRedirect":return hd;case"reauthViaPopup":case"reauthViaRedirect":return Pp;default:nt(this.auth,"internal-error")}}resolve(y){tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kp=new Ie(2e3,1e4);function Ks(I,y,C){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,o.Z)(function*(I,y,C){const S=oi(I);vt(I,y,ca);const Z=Ht(S,C);return new vf(S,"signInViaPopup",y,Z).executeNotNull()})).apply(this,arguments)}function mh(I,y,C){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,o.Z)(function*(I,y,C){const S=(0,te.m9)(I);vt(S.auth,y,ca);const Z=Ht(S.auth,C);return new vf(S.auth,"reauthViaPopup",y,Z,S).executeNotNull()})).apply(this,arguments)}function Jl(I,y,C){return qt.apply(this,arguments)}function qt(){return(qt=(0,o.Z)(function*(I,y,C){const S=(0,te.m9)(I);vt(S.auth,y,ca);const Z=Ht(S.auth,C);return new vf(S.auth,"linkViaPopup",y,Z,S).executeNotNull()})).apply(this,arguments)}let vf=(()=>{class I extends _f{constructor(C,S,Z,$,we){super(C,S,$,we),this.provider=Z,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var C=this;return(0,o.Z)(function*(){const S=yield C.execute();return Ae(S,C.auth,"internal-error"),S})()}onExecution(){var C=this;return(0,o.Z)(function*(){tn(1===C.filter.length,"Popup operations only handle one event");const S=sn();C.authWindow=yield C.resolver._openPopup(C.auth,C.provider,C.filter[0],S),C.authWindow.associatedEvent=S,C.resolver._originValidation(C.auth).catch(Z=>{C.reject(Z)}),C.resolver._isIframeWebStorageSupported(C.auth,Z=>{Z||C.reject(Qe(C.auth,"web-storage-unsupported"))}),C.pollUserCancellation()})()}get eventId(){var C;return(null===(C=this.authWindow)||void 0===C?void 0:C.associatedEvent)||null}cancel(){this.reject(Qe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const C=()=>{var S,Z;this.pollId=null!==(Z=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==Z&&Z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Qe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(C,kp.get())};C()}}return I.currentPopupAction=null,I})();const Op="pendingRedirect",hs=new Map;class _h extends _f{constructor(y,C,S=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],C,void 0,S),this.eventId=null}execute(){var y=()=>super.execute,C=this;return(0,o.Z)(function*(){let S=hs.get(C.auth._key());if(!S){try{const $=(yield function hr(I,y){return fd.apply(this,arguments)}(C.resolver,C.auth))?yield y().call(C):null;S=()=>Promise.resolve($)}catch(Z){S=()=>Promise.reject(Z)}hs.set(C.auth._key(),S)}return C.bypassAuthState||hs.set(C.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(y){var C=()=>super.onAuthEvent,S=this;return(0,o.Z)(function*(){if("signInViaRedirect"===y.type)return C().call(S,y);if("unknown"!==y.type){if(y.eventId){const Z=yield S.auth._redirectUserForId(y.eventId);if(Z)return S.user=Z,C().call(S,y);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function fd(){return(fd=(0,o.Z)(function*(I,y){const C=vh(y),S=ym(I);if(!(yield S._isAvailable()))return!1;const Z="true"===(yield S._get(C));return yield S._remove(C),Z})).apply(this,arguments)}function yf(I,y){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,o.Z)(function*(I,y){return ym(I)._set(vh(y),"true")})).apply(this,arguments)}function pd(){hs.clear()}function gd(I,y){hs.set(I._key(),y)}function ym(I){return cr(I._redirectPersistence)}function vh(I){return Do(Op,I.config.apiKey,I.name)}function bl(I,y,C){return function Rp(I,y,C){return wf.apply(this,arguments)}(I,y,C)}function wf(){return(wf=(0,o.Z)(function*(I,y,C){const S=oi(I);vt(I,y,ca),yield S._initializationPromise;const Z=Ht(S,C);return yield yf(Z,S),Z._openRedirect(S,y,"signInViaRedirect")})).apply(this,arguments)}function _u(I,y,C){return function vu(I,y,C){return As.apply(this,arguments)}(I,y,C)}function As(){return(As=(0,o.Z)(function*(I,y,C){const S=(0,te.m9)(I);vt(S.auth,y,ca),yield S.auth._initializationPromise;const Z=Ht(S.auth,C);yield yf(Z,S.auth);const $=yield es(S);return Z._openRedirect(S.auth,y,"reauthViaRedirect",$)})).apply(this,arguments)}function bf(I,y,C){return function Ar(I,y,C){return md.apply(this,arguments)}(I,y,C)}function md(){return(md=(0,o.Z)(function*(I,y,C){const S=(0,te.m9)(I);vt(S.auth,y,ca),yield S.auth._initializationPromise;const Z=Ht(S.auth,C);yield xs(!1,S,y.providerId),yield yf(Z,S.auth);const $=yield es(S);return Z._openRedirect(S.auth,y,"linkViaRedirect",$)})).apply(this,arguments)}function Np(I,y){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,o.Z)(function*(I,y){return yield oi(I)._initializationPromise,Nc(I,y,!1)})).apply(this,arguments)}function Nc(I,y){return pa.apply(this,arguments)}function pa(){return(pa=(0,o.Z)(function*(I,y,C=!1){const S=oi(I),Z=Ht(S,y),we=yield new _h(S,Z,C).execute();return we&&!C&&(delete we.user._redirectEventId,yield S._persistUserIfCurrent(we.user),yield S._setRedirectUser(null,y)),we})).apply(this,arguments)}function es(I){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,o.Z)(function*(I){const y=sn(`${I.uid}:::`);return I._redirectEventId=y,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),y})).apply(this,arguments)}class yh{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let C=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(y,S)&&(C=!0,this.sendToConsumer(y,S),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function Cl(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ga(I);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,C||(this.queuedRedirectEvent=y,C=!0)),C}sendToConsumer(y,C){var S;if(y.error&&!ga(y)){const Z=(null===(S=y.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";C.onError(Qe(this.auth,Z))}else C.onAuthEvent(y)}isEventForConsumer(y,C){const S=null===C.eventId||!!y.eventId&&y.eventId===C.eventId;return C.filter.includes(y.type)&&S}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yu(y))}saveEventToCache(y){this.cachedEventUids.add(yu(y)),this.lastProcessedEventTime=Date.now()}}function yu(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(y=>y).join("-")}function ga({type:I,error:y}){return"unknown"===I&&"auth/no-auth-event"===y?.code}function ho(I){return ma.apply(this,arguments)}function ma(){return(ma=(0,o.Z)(function*(I,y={}){return gt(I,"GET","/v1/projects",y)})).apply(this,arguments)}const Tw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wu=/^https?/;function bu(){return(bu=(0,o.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:y}=yield ho(I);for(const C of y)try{if(Lp(C))return}catch{}nt(I,"unauthorized-domain")})).apply(this,arguments)}function Lp(I){const y=Zt(),{protocol:C,hostname:S}=new URL(y);if(I.startsWith("chrome-extension://")){const we=new URL(I);return""===we.hostname&&""===S?"chrome-extension:"===C&&I.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===C&&we.hostname===S}if(!wu.test(C))return!1;if(Tw.test(I))return S===I;const Z=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(S)}const Lc=new Ie(3e4,6e4);function Cu(){const I=ni().___jsl;if(I?.H)for(const y of Object.keys(I.H))if(I.H[y].r=I.H[y].r||[],I.H[y].L=I.H[y].L||[],I.H[y].r=[...I.H[y].L],I.CP)for(let C=0;C<I.CP.length;C++)I.CP[C]=null}let Xl=null;const Eu=new Ie(5e3,15e3),ec="__/auth/iframe",Ef="emulator/auth/iframe",El={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fp(I){const y=I.config;Ae(y.authDomain,I,"auth-domain-config-required");const C=y.emulator?ze(y,Ef):`https://${I.config.authDomain}/${ec}`,S={apiKey:y.apiKey,appName:I.name,v:W.SDK_VERSION},Z=Tf.get(I.config.apiHost);Z&&(S.eid=Z);const $=I._getFrameworks();return $.length&&(S.fw=$.join(",")),`${C}?${(0,te.xO)(S).slice(1)}`}function Up(){return Up=(0,o.Z)(function*(I){const y=yield function Fc(I){return Xl=Xl||function bn(I){return new Promise((y,C)=>{var S,Z,$;function we(){Cu(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Cu(),C(Qe(I,"network-request-failed"))},timeout:Lc.get()})}if(null!==(Z=null===(S=ni().gapi)||void 0===S?void 0:S.iframes)&&void 0!==Z&&Z.Iframe)y(gapi.iframes.getContext());else{if(null===($=ni().gapi)||void 0===$||!$.load){const Ue=lo("iframefcb");return ni()[Ue]=()=>{gapi.load?we():C(Qe(I,"network-request-failed"))},Xn(`https://apis.google.com/js/api.js?onload=${Ue}`).catch(yt=>C(yt))}we()}}).catch(y=>{throw Xl=null,y})}(I),Xl}(I),C=ni().gapi;return Ae(C,I,"internal-error"),y.open({where:document.body,url:Fp(I),messageHandlersFilter:C.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:El,dontclear:!0},S=>new Promise(function(){var Z=(0,o.Z)(function*($,we){yield S.restyle({setHideOnLeave:!1});const Ue=Qe(I,"network-request-failed"),yt=ni().setTimeout(()=>{we(Ue)},Eu.get());function St(){ni().clearTimeout(yt),$(S)}S.ping(St).then(St,()=>{we(Ue)})});return function($,we){return Z.apply(this,arguments)}}()))}),Up.apply(this,arguments)}const x={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k=500,B=600,X="_blank",me="http://localhost";class ye{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Et="__/auth/handler",Jt="emulator/auth/handler",An=encodeURIComponent("fac");function Dn(I,y,C,S,Z,$){return wr.apply(this,arguments)}function wr(){return(wr=(0,o.Z)(function*(I,y,C,S,Z,$){Ae(I.config.authDomain,I,"auth-domain-config-required"),Ae(I.config.apiKey,I,"invalid-api-key");const we={apiKey:I.config.apiKey,appName:I.name,authType:C,redirectUrl:S,v:W.SDK_VERSION,eventId:Z};if(y instanceof ca){y.setDefaultLanguage(I.languageCode),we.providerId=y.providerId||"",(0,te.xb)(y.getCustomParameters())||(we.customParameters=JSON.stringify(y.getCustomParameters()));for(const[ln,Hn]of Object.entries($||{}))we[ln]=Hn}if(y instanceof ol){const ln=y.getScopes().filter(Hn=>""!==Hn);ln.length>0&&(we.scopes=ln.join(","))}I.tenantId&&(we.tid=I.tenantId);const Ue=we;for(const ln of Object.keys(Ue))void 0===Ue[ln]&&delete Ue[ln];const yt=yield I._getAppCheckToken(),St=yt?`#${An}=${encodeURIComponent(yt)}`:"";return`${function fn({config:I}){return I.emulator?ze(I,Jt):`https://${I.authDomain}/${Et}`}(I)}?${(0,te.xO)(Ue).slice(1)}${St}`})).apply(this,arguments)}const _a="webStorageSupport",Qs=class If{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ke,this._completeRedirectFn=Nc,this._overrideRedirectResult=gd}_openPopup(y,C,S,Z){var $=this;return(0,o.Z)(function*(){var we;tn(null===(we=$.eventManagers[y._key()])||void 0===we?void 0:we.manager,"_initialize() not called before _openPopup()");const Ue=yield Dn(y,C,S,Zt(),Z);return function Ve(I,y,C,S=k,Z=B){const $=Math.max((window.screen.availHeight-Z)/2,0).toString(),we=Math.max((window.screen.availWidth-S)/2,0).toString();let Ue="";const yt=Object.assign(Object.assign({},x),{width:S.toString(),height:Z.toString(),top:$,left:we}),St=(0,te.z$)().toLowerCase();C&&(Ue=q(St)?X:C),G(St)&&(y=y||me,yt.scrollbars="yes");const ln=Object.entries(yt).reduce((fs,[Uc,Du])=>`${fs}${Uc}=${Du},`,"");if(function _n(I=(0,te.z$)()){var y;return cn(I)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(St)&&"_self"!==Ue)return function Dt(I,y){const C=document.createElement("a");C.href=I,C.target=y;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),C.dispatchEvent(S)}(y||"",Ue),new ye(null);const Hn=window.open(y||"",Ue,ln);Ae(Hn,I,"popup-blocked");try{Hn.focus()}catch{}return new ye(Hn)}(y,Ue,sn())})()}_openRedirect(y,C,S,Z){var $=this;return(0,o.Z)(function*(){return yield $._originValidation(y),function Bi(I){ni().location.href=I}(yield Dn(y,C,S,Zt(),Z)),new Promise(()=>{})})()}_initialize(y){const C=y._key();if(this.eventManagers[C]){const{manager:Z,promise:$}=this.eventManagers[C];return Z?Promise.resolve(Z):(tn($,"If manager is not set, promise should be"),$)}const S=this.initAndGetManager(y);return this.eventManagers[C]={promise:S},S.catch(()=>{delete this.eventManagers[C]}),S}initAndGetManager(y){var C=this;return(0,o.Z)(function*(){const S=yield function Df(I){return Up.apply(this,arguments)}(y),Z=new yh(y);return S.register("authEvent",$=>(Ae($?.authEvent,y,"invalid-auth-event"),{status:Z.onEvent($.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),C.eventManagers[y._key()]={manager:Z},C.iframes[y._key()]=S,Z})()}_isIframeWebStorageSupported(y,C){this.iframes[y._key()].send(_a,{type:_a},Z=>{var $;const we=null===($=Z?.[0])||void 0===$?void 0:$[_a];void 0!==we&&C(!!we),nt(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const C=y._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function Cf(I){return bu.apply(this,arguments)}(y)),this.originValidationPromises[C]}get _shouldInitProactively(){return Tn()||Y()||cn()}};class Ms{constructor(y){this.factorId=y}_process(y,C,S){switch(C.type){case"enroll":return this._finalizeEnroll(y,C.credential,S);case"signin":return this._finalizeSignIn(y,C.credential);default:return Lt("unexpected MultiFactorSessionType")}}}class Uo extends Ms{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Uo(y)}_finalizeEnroll(y,C,S){return function gl(I,y){return gt(I,"POST","/v2/accounts/mfaEnrollment:finalize",We(I,y))}(y,{idToken:C,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,C){return function Pc(I,y){return gt(I,"POST","/v2/accounts/mfaSignIn:finalize",We(I,y))}(y,{mfaPendingCredential:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let wh=(()=>{class I{constructor(){}static assertion(C){return Uo._fromCredential(C)}}return I.FACTOR_ID="phone",I})();var yd="@firebase/auth";class Tu{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var C=this;return(0,o.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const C=this.auth.onIdTokenChanged(S=>{y(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(y,C),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const C=this.internalListeners.get(y);C&&(this.internalListeners.delete(y),C(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,te.Pz)("authIdTokenMaxAge"),function bm(I){(0,W._registerComponent)(new Ee.wA("auth",(y,{options:C})=>{const S=y.getProvider("app").getImmediate(),Z=y.getProvider("heartbeat"),$=y.getProvider("app-check-internal"),{apiKey:we,authDomain:Ue}=S.options;Ae(we&&!we.includes(":"),"invalid-api-key",{appName:S.name});const yt={apiKey:we,authDomain:Ue,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aa(I)},St=new Sn(S,Z,$,yt);return function Xi(I,y){const C=y?.persistence||[],S=(Array.isArray(C)?C:[C]).map(cr);y?.errorMap&&I._updateErrorMap(y.errorMap),I._initializeWithPersistence(S,y?.popupRedirectResolver)}(St,C),St},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,C,S)=>{y.getProvider("auth-internal").initialize()})),(0,W._registerComponent)(new Ee.wA("auth-internal",y=>{const C=oi(y.getProvider("auth").getImmediate());return new Tu(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,W.registerVersion)(yd,"0.23.2",function Eh(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,W.registerVersion)(yd,"0.23.2","esm2017")}("Browser")},2090:(Yt,Xe,z)=>{"use strict";z.d(Xe,{$s:()=>cr,BH:()=>lt,DV:()=>Co,Dv:()=>zi,G6:()=>ze,GJ:()=>ir,L:()=>Ne,LL:()=>ci,P0:()=>mt,Pz:()=>Qe,Sg:()=>vt,UG:()=>Lt,UI:()=>Gi,US:()=>Ee,Wj:()=>Cr,Wl:()=>ri,Yr:()=>Ie,ZB:()=>be,ZR:()=>gt,aH:()=>nt,b$:()=>dn,cI:()=>Vn,dS:()=>Go,eu:()=>pt,g5:()=>W,gK:()=>Wr,gQ:()=>ti,h$:()=>je,hl:()=>Ke,hu:()=>te,jU:()=>tn,lb:()=>kn,m9:()=>Do,ne:()=>Ln,p$:()=>fe,pd:()=>qr,r3:()=>oo,ru:()=>Zt,tV:()=>he,uI:()=>Ae,ug:()=>zn,vZ:()=>jt,w1:()=>Cn,w9:()=>Or,xO:()=>lr,xb:()=>nl,z$:()=>rt,zI:()=>Je,zd:()=>so});const o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},te=function(le,oe){if(!le)throw W(oe)},W=function(le){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+le)},Ce=function(le){const oe=[];let G=0;for(let Y=0;Y<le.length;Y++){let q=le.charCodeAt(Y);q<128?oe[G++]=q:q<2048?(oe[G++]=q>>6|192,oe[G++]=63&q|128):55296==(64512&q)&&Y+1<le.length&&56320==(64512&le.charCodeAt(Y+1))?(q=65536+((1023&q)<<10)+(1023&le.charCodeAt(++Y)),oe[G++]=q>>18|240,oe[G++]=q>>12&63|128,oe[G++]=q>>6&63|128,oe[G++]=63&q|128):(oe[G++]=q>>12|224,oe[G++]=q>>6&63|128,oe[G++]=63&q|128)}return oe},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(le,oe){if(!Array.isArray(le))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,Y=[];for(let q=0;q<le.length;q+=3){const ge=le[q],De=q+1<le.length,kt=De?le[q+1]:0,pn=q+2<le.length,cn=pn?le[q+2]:0;let xi=(15&kt)<<2|cn>>6,Tn=63&cn;pn||(Tn=64,De||(xi=64)),Y.push(G[ge>>2],G[(3&ge)<<4|kt>>4],G[xi],G[Tn])}return Y.join("")},encodeString(le,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(le):this.encodeByteArray(Ce(le),oe)},decodeString(le,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(le):function(le){const oe=[];let G=0,Y=0;for(;G<le.length;){const q=le[G++];if(q<128)oe[Y++]=String.fromCharCode(q);else if(q>191&&q<224){const ge=le[G++];oe[Y++]=String.fromCharCode((31&q)<<6|63&ge)}else if(q>239&&q<365){const pn=((7&q)<<18|(63&le[G++])<<12|(63&le[G++])<<6|63&le[G++])-65536;oe[Y++]=String.fromCharCode(55296+(pn>>10)),oe[Y++]=String.fromCharCode(56320+(1023&pn))}else{const ge=le[G++],De=le[G++];oe[Y++]=String.fromCharCode((15&q)<<12|(63&ge)<<6|63&De)}}return oe.join("")}(this.decodeStringToByteArray(le,oe))},decodeStringToByteArray(le,oe){this.init_();const G=oe?this.charToByteMapWebSafe_:this.charToByteMap_,Y=[];for(let q=0;q<le.length;){const ge=G[le.charAt(q++)],kt=q<le.length?G[le.charAt(q)]:0;++q;const cn=q<le.length?G[le.charAt(q)]:64;++q;const _n=q<le.length?G[le.charAt(q)]:64;if(++q,null==ge||null==kt||null==cn||null==_n)throw new $e;Y.push(ge<<2|kt>>4),64!==cn&&(Y.push(kt<<4&240|cn>>2),64!==_n&&Y.push(cn<<6&192|_n))}return Y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let le=0;le<this.ENCODED_VALS.length;le++)this.byteToCharMap_[le]=this.ENCODED_VALS.charAt(le),this.charToByteMap_[this.byteToCharMap_[le]]=le,this.byteToCharMapWebSafe_[le]=this.ENCODED_VALS_WEBSAFE.charAt(le),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[le]]=le,le>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(le)]=le,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(le)]=le)}}};class $e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const je=function(le){const oe=Ce(le);return Ee.encodeByteArray(oe,!0)},Ne=function(le){return je(le).replace(/\./g,"")},he=function(le){try{return Ee.decodeString(le,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null};function fe(le){return be(void 0,le)}function be(le,oe){if(!(oe instanceof Object))return oe;switch(oe.constructor){case Date:return new Date(oe.getTime());case Object:void 0===le&&(le={});break;case Array:le=[];break;default:return oe}for(const G in oe)!oe.hasOwnProperty(G)||!tt(G)||(le[G]=be(le[G],oe[G]));return le}function tt(le){return"__proto__"!==le}const st=()=>{try{return function it(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const le=process.env.__FIREBASE_DEFAULTS__;return le?JSON.parse(le):void 0})()||(()=>{if(typeof document>"u")return;let le;try{le=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const oe=le&&he(le[1]);return oe&&JSON.parse(oe)})()}catch(le){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${le}`)}},mt=le=>{const oe=(le=>{var oe,G;return null===(G=null===(oe=st())||void 0===oe?void 0:oe.emulatorHosts)||void 0===G?void 0:G[le]})(le);if(!oe)return;const G=oe.lastIndexOf(":");if(G<=0||G+1===oe.length)throw new Error(`Invalid host ${oe} with no separate hostname and port!`);const Y=parseInt(oe.substring(G+1),10);return"["===oe[0]?[oe.substring(1,G-1),Y]:[oe.substring(0,G),Y]},nt=()=>{var le;return null===(le=st())||void 0===le?void 0:le.config},Qe=le=>{var oe;return null===(oe=st())||void 0===oe?void 0:oe[`_${le}`]};class lt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((oe,G)=>{this.resolve=oe,this.reject=G})}wrapCallback(oe){return(G,Y)=>{G?this.reject(G):this.resolve(Y),"function"==typeof oe&&(this.promise.catch(()=>{}),1===oe.length?oe(G):oe(G,Y))}}}function vt(le,oe){if(le.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Y=oe||"demo-project",q=le.iat||0,ge=le.sub||le.user_id;if(!ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const De=Object.assign({iss:`https://securetoken.google.com/${Y}`,aud:Y,iat:q,exp:q+3600,auth_time:q,sub:ge,user_id:ge,firebase:{sign_in_provider:"custom",identities:{}}},le);return[Ne(JSON.stringify({alg:"none",type:"JWT"})),Ne(JSON.stringify(De)),""].join(".")}function rt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function Lt(){var le;const oe=null===(le=st())||void 0===le?void 0:le.forceEnvironment;if("node"===oe)return!0;if("browser"===oe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tn(){return"object"==typeof self&&self.self===self}function Zt(){const le="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof le&&void 0!==le.id}function dn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Cn(){const le=rt();return le.indexOf("MSIE ")>=0||le.indexOf("Trident/")>=0}function Ie(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function ze(){return!Lt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ke(){try{return"object"==typeof indexedDB}catch{return!1}}function pt(){return new Promise((le,oe)=>{try{let G=!0;const Y="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(Y);q.onsuccess=()=>{q.result.close(),G||self.indexedDB.deleteDatabase(Y),le(!0)},q.onupgradeneeded=()=>{G=!1},q.onerror=()=>{var ge;oe((null===(ge=q.error)||void 0===ge?void 0:ge.message)||"")}}catch(G){oe(G)}})}function Je(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class gt extends Error{constructor(oe,G,Y){super(G),this.code=oe,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,gt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ci.prototype.create)}}class ci{constructor(oe,G,Y){this.service=oe,this.serviceName=G,this.errors=Y}create(oe,...G){const Y=G[0]||{},q=`${this.service}/${oe}`,ge=this.errors[oe],De=ge?function Pt(le,oe){return le.replace(rn,(G,Y)=>{const q=oe[Y];return null!=q?String(q):`<${Y}?>`})}(ge,Y):"Error";return new gt(q,`${this.serviceName}: ${De} (${q}).`,Y)}}const rn=/\{\$([^}]+)}/g;function Vn(le){return JSON.parse(le)}function ri(le){return JSON.stringify(le)}const mi=function(le){let oe={},G={},Y={},q="";try{const ge=le.split(".");oe=Vn(he(ge[0])||""),G=Vn(he(ge[1])||""),q=ge[2],Y=G.d||{},delete G.d}catch{}return{header:oe,claims:G,data:Y,signature:q}},Or=function(le){const G=mi(le).claims;return!!G&&"object"==typeof G&&G.hasOwnProperty("iat")},ir=function(le){const oe=mi(le).claims;return"object"==typeof oe&&!0===oe.admin};function oo(le,oe){return Object.prototype.hasOwnProperty.call(le,oe)}function Co(le,oe){if(Object.prototype.hasOwnProperty.call(le,oe))return le[oe]}function nl(le){for(const oe in le)if(Object.prototype.hasOwnProperty.call(le,oe))return!1;return!0}function Gi(le,oe,G){const Y={};for(const q in le)Object.prototype.hasOwnProperty.call(le,q)&&(Y[q]=oe.call(G,le[q],q,le));return Y}function jt(le,oe){if(le===oe)return!0;const G=Object.keys(le),Y=Object.keys(oe);for(const q of G){if(!Y.includes(q))return!1;const ge=le[q],De=oe[q];if(Yi(ge)&&Yi(De)){if(!jt(ge,De))return!1}else if(ge!==De)return!1}for(const q of Y)if(!G.includes(q))return!1;return!0}function Yi(le){return null!==le&&"object"==typeof le}function lr(le){const oe=[];for(const[G,Y]of Object.entries(le))Array.isArray(Y)?Y.forEach(q=>{oe.push(encodeURIComponent(G)+"="+encodeURIComponent(q))}):oe.push(encodeURIComponent(G)+"="+encodeURIComponent(Y));return oe.length?"&"+oe.join("&"):""}function so(le){const oe={};return le.replace(/^\?/,"").split("&").forEach(Y=>{if(Y){const[q,ge]=Y.split("=");oe[decodeURIComponent(q)]=decodeURIComponent(ge)}}),oe}function qr(le){const oe=le.indexOf("?");if(!oe)return"";const G=le.indexOf("#",oe);return le.substring(oe,G>0?G:void 0)}class ti{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let oe=1;oe<this.blockSize;++oe)this.pad_[oe]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(oe,G){G||(G=0);const Y=this.W_;if("string"==typeof oe)for(let _n=0;_n<16;_n++)Y[_n]=oe.charCodeAt(G)<<24|oe.charCodeAt(G+1)<<16|oe.charCodeAt(G+2)<<8|oe.charCodeAt(G+3),G+=4;else for(let _n=0;_n<16;_n++)Y[_n]=oe[G]<<24|oe[G+1]<<16|oe[G+2]<<8|oe[G+3],G+=4;for(let _n=16;_n<80;_n++){const xi=Y[_n-3]^Y[_n-8]^Y[_n-14]^Y[_n-16];Y[_n]=4294967295&(xi<<1|xi>>>31)}let cn,Fn,q=this.chain_[0],ge=this.chain_[1],De=this.chain_[2],kt=this.chain_[3],pn=this.chain_[4];for(let _n=0;_n<80;_n++){_n<40?_n<20?(cn=kt^ge&(De^kt),Fn=1518500249):(cn=ge^De^kt,Fn=1859775393):_n<60?(cn=ge&De|kt&(ge|De),Fn=2400959708):(cn=ge^De^kt,Fn=3395469782);const xi=(q<<5|q>>>27)+cn+pn+Fn+Y[_n]&4294967295;pn=kt,kt=De,De=4294967295&(ge<<30|ge>>>2),ge=q,q=xi}this.chain_[0]=this.chain_[0]+q&4294967295,this.chain_[1]=this.chain_[1]+ge&4294967295,this.chain_[2]=this.chain_[2]+De&4294967295,this.chain_[3]=this.chain_[3]+kt&4294967295,this.chain_[4]=this.chain_[4]+pn&4294967295}update(oe,G){if(null==oe)return;void 0===G&&(G=oe.length);const Y=G-this.blockSize;let q=0;const ge=this.buf_;let De=this.inbuf_;for(;q<G;){if(0===De)for(;q<=Y;)this.compress_(oe,q),q+=this.blockSize;if("string"==typeof oe){for(;q<G;)if(ge[De]=oe.charCodeAt(q),++De,++q,De===this.blockSize){this.compress_(ge),De=0;break}}else for(;q<G;)if(ge[De]=oe[q],++De,++q,De===this.blockSize){this.compress_(ge),De=0;break}}this.inbuf_=De,this.total_+=G}digest(){const oe=[];let G=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let q=this.blockSize-1;q>=56;q--)this.buf_[q]=255&G,G/=256;this.compress_(this.buf_);let Y=0;for(let q=0;q<5;q++)for(let ge=24;ge>=0;ge-=8)oe[Y]=this.chain_[q]>>ge&255,++Y;return oe}}function Ln(le,oe){const G=new Wt(le,oe);return G.subscribe.bind(G)}class Wt{constructor(oe,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{oe(this)}).catch(Y=>{this.error(Y)})}next(oe){this.forEachObserver(G=>{G.next(oe)})}error(oe){this.forEachObserver(G=>{G.error(oe)}),this.close(oe)}complete(){this.forEachObserver(oe=>{oe.complete()}),this.close()}subscribe(oe,G,Y){let q;if(void 0===oe&&void 0===G&&void 0===Y)throw new Error("Missing Observer.");q=function Zn(le,oe){if("object"!=typeof le||null===le)return!1;for(const G of oe)if(G in le&&"function"==typeof le[G])return!0;return!1}(oe,["next","error","complete"])?oe:{next:oe,error:G,complete:Y},void 0===q.next&&(q.next=jr),void 0===q.error&&(q.error=jr),void 0===q.complete&&(q.complete=jr);const ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),ge}unsubscribeOne(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(oe){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,oe)}sendOne(oe,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[oe])try{G(this.observers[oe])}catch(Y){typeof console<"u"&&console.error&&console.error(Y)}})}close(oe){this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jr(){}const zi=function(le,oe,G,Y){let q;if(Y<oe?q="at least "+oe:Y>G&&(q=0===G?"none":"no more than "+G),q)throw new Error(le+" failed: Was called with "+Y+(1===Y?" argument.":" arguments.")+" Expects "+q+".")};function Wr(le,oe){return`${le} failed: ${oe} argument `}function Cr(le,oe,G,Y){if((!Y||G)&&"function"!=typeof G)throw new Error(Wr(le,oe)+"must be a valid function.")}function kn(le,oe,G,Y){if((!Y||G)&&("object"!=typeof G||null===G))throw new Error(Wr(le,oe)+"must be a valid context object.")}const Go=function(le){const oe=[];let G=0;for(let Y=0;Y<le.length;Y++){let q=le.charCodeAt(Y);if(q>=55296&&q<=56319){const ge=q-55296;Y++,te(Y<le.length,"Surrogate pair missing trail surrogate."),q=65536+(ge<<10)+(le.charCodeAt(Y)-56320)}q<128?oe[G++]=q:q<2048?(oe[G++]=q>>6|192,oe[G++]=63&q|128):q<65536?(oe[G++]=q>>12|224,oe[G++]=q>>6&63|128,oe[G++]=63&q|128):(oe[G++]=q>>18|240,oe[G++]=q>>12&63|128,oe[G++]=q>>6&63|128,oe[G++]=63&q|128)}return oe},zn=function(le){let oe=0;for(let G=0;G<le.length;G++){const Y=le.charCodeAt(G);Y<128?oe++:Y<2048?oe+=2:Y>=55296&&Y<=56319?(oe+=4,G++):oe+=3}return oe},Rn=1e3,rr=2,Qi=144e5,$r=.5;function cr(le,oe=Rn,G=rr){const Y=oe*Math.pow(G,le),q=Math.round($r*Y*(Math.random()-.5)*2);return Math.min(Qi,Y+q)}function Do(le){return le&&le._delegate?le._delegate:le}},8952:(Yt,Xe,z)=>{"use strict";var o=z(4650);let te=null;function W(){return te}class Oe{}const Ee=new o.OlP("DocumentToken");let $e=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function je(){return(0,o.LFG)(he)}()},providedIn:"platform"}),n})();const Ne=new o.OlP("Location Initialized");let he=(()=>{class n extends $e{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(e){const i=W().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=W().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){fe()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){fe()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ee))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function be(){return new he((0,o.LFG)(Ee))}()},providedIn:"platform"}),n})();function fe(){return!!window.history.pushState}function tt(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function it(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Tt(n){return n&&"?"!==n[0]?"?"+n:n}let Vt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(st)},providedIn:"root"}),n})();const Be=new o.OlP("appBaseHref");let st=(()=>{class n extends Vt{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return tt(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Tt(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const a=this.prepareExternalUrl(r+Tt(s));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){const a=this.prepareExternalUrl(r+Tt(s));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG($e),o.LFG(Be,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dt=(()=>{class n extends Vt{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=tt(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let a=this.prepareExternalUrl(r+Tt(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){let a=this.prepareExternalUrl(r+Tt(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG($e),o.LFG(Be,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),mt=(()=>{class n{constructor(e){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function vt(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(it(lt(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Tt(i))}normalize(e){return n.stripTrailingSlash(function Qe(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,lt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Tt(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Tt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Tt,n.joinWithSlash=tt,n.stripTrailingSlash=it,n.\u0275fac=function(e){return new(e||n)(o.LFG(Vt))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function nt(){return new mt((0,o.LFG)(Vt))}()},providedIn:"root"}),n})();function lt(n){return n.replace(/\/index.html$/,"")}var Lt=(()=>((Lt=Lt||{})[Lt.Zero=0]="Zero",Lt[Lt.One=1]="One",Lt[Lt.Two=2]="Two",Lt[Lt.Few=3]="Few",Lt[Lt.Many=4]="Many",Lt[Lt.Other=5]="Other",Lt))(),tn=(()=>((tn=tn||{})[tn.Format=0]="Format",tn[tn.Standalone=1]="Standalone",tn))(),Zt=(()=>((Zt=Zt||{})[Zt.Narrow=0]="Narrow",Zt[Zt.Abbreviated=1]="Abbreviated",Zt[Zt.Wide=2]="Wide",Zt[Zt.Short=3]="Short",Zt))(),dn=(()=>((dn=dn||{})[dn.Short=0]="Short",dn[dn.Medium=1]="Medium",dn[dn.Long=2]="Long",dn[dn.Full=3]="Full",dn))(),zt=(()=>((zt=zt||{})[zt.Decimal=0]="Decimal",zt[zt.Group=1]="Group",zt[zt.List=2]="List",zt[zt.PercentSign=3]="PercentSign",zt[zt.PlusSign=4]="PlusSign",zt[zt.MinusSign=5]="MinusSign",zt[zt.Exponential=6]="Exponential",zt[zt.SuperscriptingExponent=7]="SuperscriptingExponent",zt[zt.PerMille=8]="PerMille",zt[zt.Infinity=9]="Infinity",zt[zt.NaN=10]="NaN",zt[zt.TimeSeparator=11]="TimeSeparator",zt[zt.CurrencyDecimal=12]="CurrencyDecimal",zt[zt.CurrencyGroup=13]="CurrencyGroup",zt))();function gt(n,t){return Gi((0,o.cg1)(n)[o.wAp.DateFormat],t)}function ci(n,t){return Gi((0,o.cg1)(n)[o.wAp.TimeFormat],t)}function Pt(n,t){return Gi((0,o.cg1)(n)[o.wAp.DateTimeFormat],t)}function rn(n,t){const e=(0,o.cg1)(n),i=e[o.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===zt.CurrencyDecimal)return e[o.wAp.NumberSymbols][zt.Decimal];if(t===zt.CurrencyGroup)return e[o.wAp.NumberSymbols][zt.Group]}return i}const Or=o.kL8;function ir(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Gi(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function jt(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const so=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,qr={},ti=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ln=(()=>((Ln=Ln||{})[Ln.Short=0]="Short",Ln[Ln.ShortGMT=1]="ShortGMT",Ln[Ln.Long=2]="Long",Ln[Ln.Extended=3]="Extended",Ln))(),Wt=(()=>((Wt=Wt||{})[Wt.FullYear=0]="FullYear",Wt[Wt.Month=1]="Month",Wt[Wt.Date=2]="Date",Wt[Wt.Hours=3]="Hours",Wt[Wt.Minutes=4]="Minutes",Wt[Wt.Seconds=5]="Seconds",Wt[Wt.FractionalSeconds=6]="FractionalSeconds",Wt[Wt.Day=7]="Day",Wt))(),In=(()=>((In=In||{})[In.DayPeriods=0]="DayPeriods",In[In.Days=1]="Days",In[In.Months=2]="Months",In[In.Eras=3]="Eras",In))();function Zn(n,t,e,i){let r=function q(n){if(De(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,a=1]=n.split("-").map(c=>+c);return jr(r,s-1,a)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(so))return function ge(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const a=Number(n[4]||0)-e,c=Number(n[5]||0)-i,h=Number(n[6]||0),p=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,a,c,h,p),t}(i)}const t=new Date(n);if(!De(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=zi(e,t)||t;let c,a=[];for(;t;){if(c=ti.exec(t),!c){a.push(t);break}{a=a.concat(c.slice(1));const v=a.pop();if(!v)break;t=v}}let h=r.getTimezoneOffset();i&&(h=oe(i,h),r=function Y(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function G(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(oe(t,r)-r))}(r,i,!0));let p="";return a.forEach(v=>{const b=function le(n){if(Do[n])return Do[n];let t;switch(n){case"G":case"GG":case"GGG":t=zn(In.Eras,Zt.Abbreviated);break;case"GGGG":t=zn(In.Eras,Zt.Wide);break;case"GGGGG":t=zn(In.Eras,Zt.Narrow);break;case"y":t=kn(Wt.FullYear,1,0,!1,!0);break;case"yy":t=kn(Wt.FullYear,2,0,!0,!0);break;case"yyy":t=kn(Wt.FullYear,3,0,!1,!0);break;case"yyyy":t=kn(Wt.FullYear,4,0,!1,!0);break;case"Y":t=ao(1);break;case"YY":t=ao(2,!0);break;case"YYY":t=ao(3);break;case"YYYY":t=ao(4);break;case"M":case"L":t=kn(Wt.Month,1,1);break;case"MM":case"LL":t=kn(Wt.Month,2,1);break;case"MMM":t=zn(In.Months,Zt.Abbreviated);break;case"MMMM":t=zn(In.Months,Zt.Wide);break;case"MMMMM":t=zn(In.Months,Zt.Narrow);break;case"LLL":t=zn(In.Months,Zt.Abbreviated,tn.Standalone);break;case"LLLL":t=zn(In.Months,Zt.Wide,tn.Standalone);break;case"LLLLL":t=zn(In.Months,Zt.Narrow,tn.Standalone);break;case"w":t=To(1);break;case"ww":t=To(2);break;case"W":t=To(1,!0);break;case"d":t=kn(Wt.Date,1);break;case"dd":t=kn(Wt.Date,2);break;case"c":case"cc":t=kn(Wt.Day,1);break;case"ccc":t=zn(In.Days,Zt.Abbreviated,tn.Standalone);break;case"cccc":t=zn(In.Days,Zt.Wide,tn.Standalone);break;case"ccccc":t=zn(In.Days,Zt.Narrow,tn.Standalone);break;case"cccccc":t=zn(In.Days,Zt.Short,tn.Standalone);break;case"E":case"EE":case"EEE":t=zn(In.Days,Zt.Abbreviated);break;case"EEEE":t=zn(In.Days,Zt.Wide);break;case"EEEEE":t=zn(In.Days,Zt.Narrow);break;case"EEEEEE":t=zn(In.Days,Zt.Short);break;case"a":case"aa":case"aaa":t=zn(In.DayPeriods,Zt.Abbreviated);break;case"aaaa":t=zn(In.DayPeriods,Zt.Wide);break;case"aaaaa":t=zn(In.DayPeriods,Zt.Narrow);break;case"b":case"bb":case"bbb":t=zn(In.DayPeriods,Zt.Abbreviated,tn.Standalone,!0);break;case"bbbb":t=zn(In.DayPeriods,Zt.Wide,tn.Standalone,!0);break;case"bbbbb":t=zn(In.DayPeriods,Zt.Narrow,tn.Standalone,!0);break;case"B":case"BB":case"BBB":t=zn(In.DayPeriods,Zt.Abbreviated,tn.Format,!0);break;case"BBBB":t=zn(In.DayPeriods,Zt.Wide,tn.Format,!0);break;case"BBBBB":t=zn(In.DayPeriods,Zt.Narrow,tn.Format,!0);break;case"h":t=kn(Wt.Hours,1,-12);break;case"hh":t=kn(Wt.Hours,2,-12);break;case"H":t=kn(Wt.Hours,1);break;case"HH":t=kn(Wt.Hours,2);break;case"m":t=kn(Wt.Minutes,1);break;case"mm":t=kn(Wt.Minutes,2);break;case"s":t=kn(Wt.Seconds,1);break;case"ss":t=kn(Wt.Seconds,2);break;case"S":t=kn(Wt.FractionalSeconds,1);break;case"SS":t=kn(Wt.FractionalSeconds,2);break;case"SSS":t=kn(Wt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Rn(Ln.Short);break;case"ZZZZZ":t=Rn(Ln.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Rn(Ln.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Rn(Ln.Long);break;default:return null}return Do[n]=t,t}(v);p+=b?b(r,e,h):"''"===v?"'":v.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),p}function jr(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function zi(n,t){const e=function Fe(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(qr[e]=qr[e]||{},qr[e][t])return qr[e][t];let i="";switch(t){case"shortDate":i=gt(n,dn.Short);break;case"mediumDate":i=gt(n,dn.Medium);break;case"longDate":i=gt(n,dn.Long);break;case"fullDate":i=gt(n,dn.Full);break;case"shortTime":i=ci(n,dn.Short);break;case"mediumTime":i=ci(n,dn.Medium);break;case"longTime":i=ci(n,dn.Long);break;case"fullTime":i=ci(n,dn.Full);break;case"short":const r=zi(n,"shortTime"),s=zi(n,"shortDate");i=Wr(Pt(n,dn.Short),[r,s]);break;case"medium":const a=zi(n,"mediumTime"),c=zi(n,"mediumDate");i=Wr(Pt(n,dn.Medium),[a,c]);break;case"long":const h=zi(n,"longTime"),p=zi(n,"longDate");i=Wr(Pt(n,dn.Long),[h,p]);break;case"full":const v=zi(n,"fullTime"),b=zi(n,"fullDate");i=Wr(Pt(n,dn.Full),[v,b])}return i&&(qr[e][t]=i),i}function Wr(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Ki(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.slice(a.length-t)),s+a}function kn(n,t,e=0,i=!1,r=!1){return function(s,a){let c=function Go(n,t){switch(n){case Wt.FullYear:return t.getFullYear();case Wt.Month:return t.getMonth();case Wt.Date:return t.getDate();case Wt.Hours:return t.getHours();case Wt.Minutes:return t.getMinutes();case Wt.Seconds:return t.getSeconds();case Wt.FractionalSeconds:return t.getMilliseconds();case Wt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||c>-e)&&(c+=e),n===Wt.Hours)0===c&&-12===e&&(c=12);else if(n===Wt.FractionalSeconds)return function Cr(n,t){return Ki(n,3).substring(0,t)}(c,t);const h=rn(a,zt.MinusSign);return Ki(c,t,h,i,r)}}function zn(n,t,e=tn.Format,i=!1){return function(r,s){return function Eo(n,t,e,i,r,s){switch(e){case In.Months:return function Ke(n,t,e){const i=(0,o.cg1)(n),s=Gi([i[o.wAp.MonthsFormat],i[o.wAp.MonthsStandalone]],t);return Gi(s,e)}(t,r,i)[n.getMonth()];case In.Days:return function ze(n,t,e){const i=(0,o.cg1)(n),s=Gi([i[o.wAp.DaysFormat],i[o.wAp.DaysStandalone]],t);return Gi(s,e)}(t,r,i)[n.getDay()];case In.DayPeriods:const a=n.getHours(),c=n.getMinutes();if(s){const p=function oo(n){const t=(0,o.cg1)(n);return ir(t),(t[o.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?jt(i):[jt(i[0]),jt(i[1])])}(t),v=function Co(n,t,e){const i=(0,o.cg1)(n);ir(i);const s=Gi([i[o.wAp.ExtraData][0],i[o.wAp.ExtraData][1]],t)||[];return Gi(s,e)||[]}(t,r,i),b=p.findIndex(D=>{if(Array.isArray(D)){const[P,R]=D,F=a>=P.hours&&c>=P.minutes,V=a<R.hours||a===R.hours&&c<R.minutes;if(P.hours<R.hours){if(F&&V)return!0}else if(F||V)return!0}else if(D.hours===a&&D.minutes===c)return!0;return!1});if(-1!==b)return v[b]}return function Ie(n,t,e){const i=(0,o.cg1)(n),s=Gi([i[o.wAp.DayPeriodsFormat],i[o.wAp.DayPeriodsStandalone]],t);return Gi(s,e)}(t,r,i)[a<12?0:1];case In.Eras:return function pt(n,t){return Gi((0,o.cg1)(n)[o.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function Rn(n){return function(t,e,i){const r=-1*i,s=rn(e,zt.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Ln.Short:return(r>=0?"+":"")+Ki(a,2,s)+Ki(Math.abs(r%60),2,s);case Ln.ShortGMT:return"GMT"+(r>=0?"+":"")+Ki(a,1,s);case Ln.Long:return"GMT"+(r>=0?"+":"")+Ki(a,2,s)+":"+Ki(Math.abs(r%60),2,s);case Ln.Extended:return 0===i?"Z":(r>=0?"+":"")+Ki(a,2,s)+":"+Ki(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const rr=0,Qi=4;function cr(n){return jr(n.getFullYear(),n.getMonth(),n.getDate()+(Qi-n.getDay()))}function To(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+s)/7)}else{const s=cr(e),a=function $r(n){const t=jr(n,rr,1).getDay();return jr(n,0,1+(t<=Qi?Qi:Qi+7)-t)}(s.getFullYear()),c=s.getTime()-a.getTime();r=1+Math.round(c/6048e5)}return Ki(r,n,rn(i,zt.MinusSign))}}function ao(n,t=!1){return function(e,i){return Ki(cr(e).getFullYear(),n,rn(i,zt.MinusSign),t)}}const Do={};function oe(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function De(n){return n instanceof Date&&!isNaN(n.valueOf())}let lo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return e?i=new e:(r=o.LFG(o.soG),i=new Ll(r)),i;var r},providedIn:"root"}),n})();let Ll=(()=>{class n extends lo{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Or(i||this.locale)(e)){case Lt.Zero:return"zero";case Lt.One:return"one";case Lt.Two:return"two";case Lt.Few:return"few";case Lt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.soG))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function la(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}class Ji{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xi=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ji(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const c=i.get(s);i.move(c,a),Qt(c,r)}});for(let r=0,s=i.length;r<s;r++){const c=i.get(r).context;c.index=r,c.count=s,c.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Qt(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Qt(n,t){n.context.$implicit=t.item}let _i=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new On,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Io("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Io("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class On{constructor(){this.$implicit=null,this.ngIf=null}}function Io(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}let Dr=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),a=-1===r.indexOf("-")?void 0:o.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function No(n,t){return new o.vHH(2100,!1)}let Si=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw No();return e.toUpperCase()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0}),n})();const yc=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),rl=new o.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Yr=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(null==e||""===e||e!=e)return null;try{return Zn(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(a){throw No()}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.soG,16),o.Y36(yc,24),o.Y36(rl,24))},n.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})();const Us=/#/g;let Qo=(()=>{class n{constructor(e){this._localization=e}transform(e,i,r){if(null==e)return"";if("object"!=typeof i||null===i)throw No();return i[function Rr(n,t,e,i){let r=`=${n}`;if(t.indexOf(r)>-1||(r=e.getPluralCategory(n,i),t.indexOf(r)>-1))return r;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${n}"`)}(e,Object.keys(i),this._localization,r)].replace(Us,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(lo,16))},n.\u0275pipe=o.Yjl({name:"i18nPlural",type:n,pure:!0,standalone:!0}),n})(),Ds=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Bs="server";function ol(n){return n===Bs}let Ul=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new lf((0,o.LFG)(Ee),window)}),n})();class lf{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Ku(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Kr(this.window.history)||Kr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Kr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ua{}class oh extends Oe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class us extends oh{static makeCurrent(){!function Ce(n){te||(te=n)}(new us)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Wl(){return pl=pl||document.querySelector("base"),pl?pl.getAttribute("href"):null}();return null==e?null:function xp(n){Xo=Xo||document.createElement("a"),Xo.setAttribute("href",n);const t=Xo.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){pl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return la(document.cookie,t)}}let Xo,pl=null;const pu=new o.OlP("TRANSITION_ID"),od=[{provide:o.ip1,useFactory:function za(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=W(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[pu,Ee,o.zs3],multi:!0}];let sd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const $l=new o.OlP("EventManagerPlugins");let Sc=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG($l),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class gl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=W().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let ad=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const r=this.usageCount;let s=r.get(e)??0;return s+=i,s>0?r.set(e,s):r.delete(e),s}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),fa=(()=>{class n extends ad{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(s=>s.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const r=this.doc.createElement("style");r.textContent=i,e.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ee))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const ml={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_l=/%COMP%/g,M=new o.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ce(n,t){return t.flat(100).map(e=>e.replace(_l,n))}function Se(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ke=(()=>{class n{constructor(e,i,r,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new ct(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(e,i);return r instanceof So?r.applyToHost(e):r instanceof Bi&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const a=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestory;switch(i.encapsulation){case o.ifc.Emulated:s=new So(a,c,i,this.appId,h);break;case o.ifc.ShadowDom:return new ni(a,c,e,i);default:s=new Bi(a,c,i,h)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Sc),o.LFG(fa),o.LFG(o.AFp),o.LFG(M))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class ct{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ml[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(jn(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(jn(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=ml[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ml[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Se(i)):this.eventManager.addEventListener(t,e,Se(i))}}function jn(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ni extends ct{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ce(r.id,r.styles);for(const a of s){const c=document.createElement("style");c.textContent=a,this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Bi extends ct{constructor(t,e,i,r,s=i.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=ce(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class So extends Bi{constructor(t,e,i,r,s){const a=r+"-"+i.id;super(t,e,i,s,a),this.contentAttr=function N(n){return"_ngcontent-%COMP%".replace(_l,n)}(a),this.hostAttr=function H(n){return"_nghost-%COMP%".replace(_l,n)}(a)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Ao=(()=>{class n extends gl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ee))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Ws=["alt","control","meta","shift"],sh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Sr=(()=>{class n extends gl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>W().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Ws.forEach(p=>{const v=i.indexOf(p);v>-1&&(i.splice(v,1),a+=p+".")}),a+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=a,h}static matchEventFullKeyCode(e,i){let r=sh[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ws.forEach(a=>{a!==r&&(0,gu[a])(e)&&(s+=a+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ee))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const lh=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:"browser"},{provide:o.g9A,useValue:function Yl(){us.makeCurrent()},multi:!0},{provide:Ee,useFactory:function cd(){return(0,o.RDi)(document),document},deps:[]}]),wl=new o.OlP(""),ud=[{provide:o.rWj,useClass:class js{addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,a=!1;const c=function(h){a=a||h,s--,0==s&&i(a)};r.forEach(function(h){h.whenStable(c)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?W().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],Ac=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function ld(){return new o.qLn},deps:[]},{provide:$l,useClass:Ao,multi:!0,deps:[Ee,o.R0b,o.Lbi]},{provide:$l,useClass:Sr,multi:!0,deps:[Ee]},{provide:ke,useClass:ke,deps:[Sc,fa,o.AFp,M]},{provide:o.FYo,useExisting:ke},{provide:ad,useExisting:fa},{provide:fa,useClass:fa,deps:[Ee]},{provide:Sc,useClass:Sc,deps:[$l,o.R0b]},{provide:ua,useClass:sd,deps:[]},[]];let Mc=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:pu,useExisting:o.AFp},od]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(wl,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...Ac,...ud],imports:[Ds,o.hGG]}),n})(),uh=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ee))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Pc(){return new uh((0,o.LFG)(Ee))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var si=z(8996),Ys=z(3269);function Ht(...n){const t=(0,Ys.yG)(n);return(0,si.D)(n,t)}var ds=z(7579);class yr extends ds.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const hd=(0,z(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ei=z(9751);const{isArray:_f}=Array,{getPrototypeOf:kp,prototype:Ks,keys:Ql}=Object;function mh(n){if(1===n.length){const t=n[0];if(_f(t))return{args:t,keys:null};if(function Oc(n){return n&&"object"==typeof n&&kp(n)===Ks}(t)){const e=Ql(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Jl=z(4671),qt=z(4004);const{isArray:vf}=Array;function hs(n){return(0,qt.U)(t=>function Op(n,t){return vf(t)?n(...t):n(t)}(n,t))}function _h(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var hr=z(5403),fd=z(9672);function yf(...n){const t=(0,Ys.yG)(n),e=(0,Ys.jO)(n),{args:i,keys:r}=mh(n);if(0===i.length)return(0,si.D)([],t);const s=new Ei.y(function Rc(n,t,e=Jl.y){return i=>{pd(t,()=>{const{length:r}=n,s=new Array(r);let a=r,c=r;for(let h=0;h<r;h++)pd(t,()=>{const p=(0,si.D)(n[h],t);let v=!1;p.subscribe((0,hr.x)(i,b=>{s[h]=b,v||(v=!0,c--),c||i.next(e(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>_h(r,a):Jl.y));return e?s.pipe(hs(e)):s}function pd(n,t,e){n?(0,fd.f)(e,n,t):t()}var gd=z(8189);function vh(...n){return function ym(){return(0,gd.J)(1)}()((0,si.D)(n,(0,Ys.yG)(n)))}var bl=z(8421);function Rp(n){return new Ei.y(t=>{(0,bl.Xf)(n()).subscribe(t)})}var wf=z(9635),_u=z(576);function vu(n,t){const e=(0,_u.m)(n)?n:()=>n,i=r=>r.error(e());return new Ei.y(t?r=>t.schedule(i,0,r):i)}var As=z(515),bf=z(727),Ar=z(4482);function md(){return(0,Ar.e)((n,t)=>{let e=null;n._refCount++;const i=(0,hr.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Np extends Ei.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Ar.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new bf.w0;const e=this.getSubject();t.add(this.source.subscribe((0,hr.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=bf.w0.EMPTY)}return t}refCount(){return md()(this)}}function Mi(n,t){return(0,Ar.e)((e,i)=>{let r=null,s=0,a=!1;const c=()=>a&&!r&&i.complete();e.subscribe((0,hr.x)(i,h=>{r?.unsubscribe();let p=0;const v=s++;(0,bl.Xf)(n(h,v)).subscribe(r=(0,hr.x)(i,b=>i.next(t?t(h,b,v,p++):b),()=>{r=null,c()}))},()=>{a=!0,c()}))})}function Nc(n){return n<=0?()=>As.E:(0,Ar.e)((t,e)=>{let i=0;t.subscribe((0,hr.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function pa(...n){const t=(0,Ys.yG)(n);return(0,Ar.e)((e,i)=>{(t?vh(n,e,t):vh(n,e)).subscribe(i)})}function es(n,t){return(0,Ar.e)((e,i)=>{let r=0;e.subscribe((0,hr.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var Nr=z(5577);function _d(n){return(0,Ar.e)((t,e)=>{let i=!1;t.subscribe((0,hr.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function yh(n=yu){return(0,Ar.e)((t,e)=>{let i=!1;t.subscribe((0,hr.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function yu(){return new hd}function ga(n,t){const e=arguments.length>=2;return i=>i.pipe(n?es((r,s)=>n(r,s,i)):Jl.y,Nc(1),e?_d(t):yh(()=>new hd))}function Cl(n,t){return(0,_u.m)(t)?(0,Nr.z)(n,t,1):(0,Nr.z)(n,1)}var ho=z(8505);function ma(n){return(0,Ar.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,hr.x)(e,void 0,void 0,a=>{s=(0,bl.Xf)(n(a,ma(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function wu(n,t){return(0,Ar.e)(function Tw(n,t,e,i,r){return(s,a)=>{let c=e,h=t,p=0;s.subscribe((0,hr.x)(a,v=>{const b=p++;h=c?n(h,v,b):(c=!0,v),i&&a.next(h)},r&&(()=>{c&&a.next(h),a.complete()})))}}(n,t,arguments.length>=2,!0))}function Cf(n){return n<=0?()=>As.E:(0,Ar.e)((t,e)=>{let i=[];t.subscribe((0,hr.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function bu(n,t){const e=arguments.length>=2;return i=>i.pipe(n?es((r,s)=>n(r,s,i)):Jl.y,Cf(1),e?_d(t):yh(()=>new hd))}function Cu(n){return(0,Ar.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const bn="primary",Xl=Symbol("RouteTitle");class Fc{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Eu(n){return new Fc(n)}function ec(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],c=n[s];if(a.startsWith(":"))r[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function El(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Tf(n[r],t[r]))return!1;return!0}function Tf(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Fp(n){return Array.prototype.concat.apply([],n)}function Df(n){return n.length>0?n[n.length-1]:null}function x(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function k(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,si.D)(Promise.resolve(n)):Ht(n)}const B=!1,X={exact:function Dt(n,t,e){if(!Qs(n.segments,t.segments)||!Dn(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Dt(n.children[i],t.children[i],e))return!1;return!0},subset:Jt},me={exact:function Ve(n,t){return El(n,t)},subset:function Et(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Tf(n[e],t[e]))},ignored:()=>!0};function ye(n,t,e){return X[e.paths](n.root,t.root,e.matrixParams)&&me[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Jt(n,t,e){return An(n,t,t.segments,e)}function An(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Qs(r,e)||t.hasChildren()||!Dn(r,e,i))}if(n.segments.length===e.length){if(!Qs(n.segments,e)||!Dn(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Jt(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Qs(n.segments,r)&&Dn(n.segments,r,i)&&n.children[bn])&&An(n.children[bn],t,s,i)}}function Dn(n,t,e){return t.every((i,r)=>me[e](n[r].parameters,i.parameters))}class wr{constructor(t=new fn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eu(this.queryParams)),this._queryParamMap}toString(){return Bp.serialize(this)}}class fn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,x(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bh(this)}}class _a{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Eu(this.parameters)),this._parameterMap}toString(){return Mv(this)}}function Qs(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Uo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new wh},providedIn:"root"}),n})();class wh{parse(t){const e=new Z(t);return new wr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ch(t.root,!0)}`,i=function Pv(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${yd(e)}=${yd(r)}`).join("&"):`${yd(e)}=${yd(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function wm(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Bp=new wh;function bh(n){return n.segments.map(t=>Mv(t)).join("/")}function Ch(n,t){if(!n.hasChildren())return bh(n);if(t){const e=n.children[bn]?Ch(n.children[bn],!1):"",i=[];return x(n.children,(r,s)=>{s!==bn&&i.push(`${s}:${Ch(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Ms(n,t){let e=[];return x(n.children,(i,r)=>{r===bn&&(e=e.concat(t(i,r)))}),x(n.children,(i,r)=>{r!==bn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===bn?[Ch(n.children[bn],!1)]:[`${r}:${Ch(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[bn]?`${bh(n)}/${e[0]}`:`${bh(n)}/(${e.join("//")})`}}function vd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yd(n){return vd(n).replace(/%3B/gi,";")}function Tu(n){return vd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Eh(n){return decodeURIComponent(n)}function bm(n){return Eh(n.replace(/\+/g,"%20"))}function Mv(n){return`${Tu(n.path)}${function Cm(n){return Object.keys(n).map(t=>`;${Tu(t)}=${Tu(n[t])}`).join("")}(n.parameters)}`}const Dw=/^[^\/()?;=#]+/;function Em(n){const t=n.match(Dw);return t?t[0]:""}const I=/^[^=?&#]+/,C=/^[^&#]+/;class Z{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[bn]=new fn(t,e)),i}parseSegment(){const t=Em(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new o.vHH(4009,B);return this.capture(t),new _a(Eh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Em(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Em(this.remaining);r&&(i=r,this.capture(i))}t[Eh(e)]=Eh(i)}parseQueryParam(t){const e=function y(n){const t=n.match(I);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function S(n){const t=n.match(C);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=bm(e),s=bm(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Em(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new o.vHH(4010,B);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=bn);const a=this.parseChildren();e[s]=1===Object.keys(a).length?a[bn]:new fn([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new o.vHH(4011,B)}}function $(n){return n.segments.length>0?new fn([],{[bn]:n}):n}function we(n){const t={};for(const i of Object.keys(n.children)){const s=we(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Ue(n){if(1===n.numberOfChildren&&n.children[bn]){const t=n.children[bn];return new fn(n.segments.concat(t.segments),t.children)}return n}(new fn(n.segments,t))}function yt(n){return n instanceof wr}const St=!1;function Uc(n,t,e,i,r){if(0===e.length)return Tl(t.root,t.root,t.root,i,r);const s=function Sf(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Vp(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return x(s.outlets,(h,p)=>{c[p]="string"==typeof h?h.split("/"):h}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((c,h)=>{0==h&&"."===c||(0==h&&""===c?e=!0:".."===c?t++:""!=c&&r.push(c))}),r):[...r,s]},[]);return new Vp(e,t,i)}(e);return s.toRoot()?Tl(t.root,t.root,new fn([],{}),i,r):function a(h){const p=function zp(n,t,e,i){if(n.isAbsolute)return new Iu(t.root,!0,0);if(-1===i)return new Iu(e,e===t.root,0);return function Th(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new o.vHH(4005,St&&"Invalid number of '../'");r=i.segments.length}return new Iu(i,!1,r-s)}(e,i+(Du(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,h),v=p.processChildren?xu(p.segmentGroup,p.index,s.commands):Dh(p.segmentGroup,p.index,s.commands);return Tl(t.root,p.segmentGroup,v,i,r)}(n.snapshot?._lastPathIndex)}function Du(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function xf(n){return"object"==typeof n&&null!=n&&n.outlets}function Tl(n,t,e,i,r){let a,s={};i&&x(i,(h,p)=>{s[p]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),a=n===t?e:Tm(n,t,e);const c=$(we(a));return new wr(c,s,r)}function Tm(n,t,e){const i={};return x(n.children,(r,s)=>{i[s]=r===t?e:Tm(r,t,e)}),new fn(n.segments,i)}class Vp{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Du(i[0]))throw new o.vHH(4003,St&&"Root segment cannot have matrix parameters");const r=i.find(xf);if(r&&r!==Df(i))throw new o.vHH(4004,St&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Iu{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Dh(n,t,e){if(n||(n=new fn([],{})),0===n.segments.length&&n.hasChildren())return xu(n,t,e);const i=function Iw(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const a=n.segments[r],c=e[i];if(xf(c))break;const h=`${c}`,p=i<e.length-1?e[i+1]:null;if(r>0&&void 0===h)break;if(h&&p&&"object"==typeof p&&void 0===p.outlets){if(!xw(h,p,a))return s;i+=2}else{if(!xw(h,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new fn(n.segments.slice(0,i.pathIndex),{});return s.children[bn]=new fn(n.segments.slice(i.pathIndex),n.children),xu(s,0,r)}return i.match&&0===r.length?new fn(n.segments,{}):i.match&&!n.hasChildren()?Dm(n,t,e):i.match?xu(n,0,r):Dm(n,t,e)}function xu(n,t,e){if(0===e.length)return new fn(n.segments,{});{const i=function Hp(n){return xf(n[0])?n[0].outlets:{[bn]:n}}(e),r={};if(!i[bn]&&n.children[bn]&&1===n.numberOfChildren&&0===n.children[bn].segments.length){const s=xu(n.children[bn],t,e);return new fn(n.segments,s.children)}return x(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[a]=Dh(n.children[a],t,s))}),x(n.children,(s,a)=>{void 0===i[a]&&(r[a]=s)}),new fn(n.segments,r)}}function Dm(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(xf(s)){const h=Im(s.outlets);return new fn(i,h)}if(0===r&&Du(e[0])){i.push(new _a(n.segments[t].path,xD(e[0]))),r++;continue}const a=xf(s)?s.outlets[bn]:`${s}`,c=r<e.length-1?e[r+1]:null;a&&c&&Du(c)?(i.push(new _a(a,xD(c))),r+=2):(i.push(new _a(a,{})),r++)}return new fn(i,{})}function Im(n){const t={};return x(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Dm(new fn([],{}),0,e))}),t}function xD(n){const t={};return x(n,(e,i)=>t[i]=`${e}`),t}function xw(n,t,e){return n==e.path&&El(t,e.parameters)}const xm="imperative";class Su{constructor(t,e){this.id=t,this.url=e}}class Sw extends Su{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ih extends Su{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sm extends Su{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Af extends Su{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class Am extends Su{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qp extends Su{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iP extends Su{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rP extends Su{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class R3 extends Su{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oP extends Su{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Aw{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sP{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class SD{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kv{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mw{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AD{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pw{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let aP=(()=>{class n{createUrlTree(e,i,r,s,a,c){return Uc(e||i.root,r,s,a,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),cP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(t){return aP.\u0275fac(t)},providedIn:"root"}),n})();class kD{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=kw(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=kw(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Au(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Au(t,this._root).map(e=>e.value)}}function kw(n,t){if(n===t.value)return t;for(const e of t.children){const i=kw(n,e);if(i)return i}return null}function Au(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Au(n,e);if(i.length)return i.unshift(t),i}return[]}class Dl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function jp(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class uP extends kD{constructor(t,e){super(t),this.snapshot=e,Ow(this,t)}toString(){return this.snapshot.toString()}}function dP(n,t){const e=function N3(n,t){const a=new Ov([],{},{},"",{},bn,t,null,n.root,-1,{});return new RD("",new Dl(a,[]))}(n,t),i=new yr([new _a("",{})]),r=new yr({}),s=new yr({}),a=new yr({}),c=new yr(""),h=new Mm(i,r,a,c,s,bn,t,e.root);return h.snapshot=e.root,new uP(new Dl(h,[]),e)}class Mm{constructor(t,e,i,r,s,a,c,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=c,this.title=this.data?.pipe((0,qt.U)(p=>p[Xl]))??Ht(void 0),this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qt.U)(t=>Eu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qt.U)(t=>Eu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hP(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function OD(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Ov{get title(){return this.data?.[Xl]}constructor(t,e,i,r,s,a,c,h,p,v,b){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=c,this.routeConfig=h,this._urlSegment=p,this._lastPathIndex=v,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Eu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RD extends kD{constructor(t,e){super(e),this.url=t,Ow(this,e)}toString(){return ND(this._root)}}function Ow(n,t){t.value._routerState=n,t.children.forEach(e=>Ow(n,e))}function ND(n){const t=n.children.length>0?` { ${n.children.map(ND).join(", ")} } `:"";return`${n.value}${t}`}function Pm(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,El(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),El(t.params,e.params)||n.params.next(e.params),function Ef(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!El(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),El(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Bc(n,t){const e=El(n.params,t.params)&&function If(n,t){return Qs(n,t)&&n.every((e,i)=>El(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Bc(n.parent,t.parent))}function Wp(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function LD(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Wp(n,i,r);return Wp(n,i)})}(n,t,e);return new Dl(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(c=>Wp(n,c)),a}}const i=function FD(n){return new Mm(new yr(n.url),new yr(n.params),new yr(n.queryParams),new yr(n.fragment),new yr(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Wp(n,s));return new Dl(i,r)}}const UD="ngNavigationCancelingError";function fP(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=yt(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=pP(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function pP(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[UD]=!0,i.cancellationCode=t,e&&(i.url=e),i}function Rv(n){return Nv(n)&&yt(n.url)}function Nv(n){return n&&n[UD]}class L3{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Lv,this.attachRef=null}}let Lv=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new L3,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Om=!1;let Rw=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=bn,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.parentContexts=(0,o.f3M)(Lv),this.location=(0,o.f3M)(o.s_b),this.changeDetector=(0,o.f3M)(o.sBO),this.environmentInjector=(0,o.f3M)(o.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,Om);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,Om);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,Om);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new o.vHH(4013,Om);this._activatedRoute=e;const r=this.location,a=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,h=new gP(e,c,r.injector);if(i&&function mP(n){return!!n.resolveComponentFactory}(i)){const p=i.resolveComponentFactory(a);this.activated=r.createComponent(p,r.length,h)}else this.activated=r.createComponent(a,{index:r.length,injector:h,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.TTD]}),n})();class gP{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Mm?this.route:t===Lv?this.childContexts:this.parent.get(t,e)}}let Nw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},dependencies:[Rw],encapsulation:2}),n})();function Lw(n,t){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Fv(n){const t=n.children&&n.children.map(Fv),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==bn&&(e.component=Nw),e}function tc(n){return n.outlet||bn}function VD(n,t){const e=n.filter(i=>tc(i)===t);return e.push(...n.filter(i=>tc(i)!==t)),e}function Rm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class ZD{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Pm(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=jp(e);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),x(r,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=jp(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=jp(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=jp(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new AD(s.value.snapshot))}),t.children.length&&this.forwardEvent(new kv(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(Pm(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),Pm(c.route.value),this.activateChildRoutes(t,null,a.children)}else{const c=Rm(r.snapshot),h=c?.get(o._Vd)??null;a.attachRef=null,a.route=r,a.resolver=h,a.injector=c,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class wP{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Bw{constructor(t,e){this.component=t,this.route=e}}function Nm(n,t,e){const i=n._root;return $p(i,t?t._root:null,e,[i.value])}function Mf(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,o.Z0I)(n)?t.get(n):n:i}function $p(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=jp(t);return n.children.forEach(a=>{(function zD(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const h=function bP(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Qs(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Qs(n.url,t.url)||!El(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bc(n,t)||!El(n.queryParams,t.queryParams);default:return!Bc(n,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);h?r.canActivateChecks.push(new wP(i)):(s.data=a.data,s._resolvedData=a._resolvedData),$p(n,t,s.component?c?c.children:null:e,i,r),h&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new Bw(c.outlet.component,a))}else a&&Lm(t,c,r),r.canActivateChecks.push(new wP(i)),$p(n,null,s.component?c?c.children:null:e,i,r)})(a,s[a.value.outlet],e,i.concat([a.value]),r),delete s[a.value.outlet]}),x(s,(a,c)=>Lm(a,e.getContext(c),r)),r}function Lm(n,t,e){const i=jp(n),r=n.value;x(i,(s,a)=>{Lm(s,r.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new Bw(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Gp(n){return"function"==typeof n}function wd(n){return n instanceof hd||"EmptyError"===n?.name}const Uv=Symbol("INITIAL_VALUE");function xh(){return Mi(n=>yf(n.map(t=>t.pipe(Nc(1),pa(Uv)))).pipe((0,qt.U)(t=>{for(const e of t)if(!0!==e){if(e===Uv)return Uv;if(!1===e||e instanceof wr)return e}return!0}),es(t=>t!==Uv),Nc(1)))}function Ww(n){return(0,wf.z)((0,ho.b)(t=>{if(yt(t))throw fP(0,t)}),(0,qt.U)(t=>!0===t))}const $w={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WD(n,t,e,i,r){const s=Gw(n,t,e);return s.matched?function Yp(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Ht(r.map(a=>{const c=Mf(a,n);return k(function Hw(n){return n&&Gp(n.canMatch)}(c)?c.canMatch(t,e):n.runInContext(()=>c(t,e)))})).pipe(xh(),Ww()):Ht(!0)}(i=Lw(t,i),t,e).pipe((0,qt.U)(a=>!0===a?s:{...$w})):Ht(s)}function Gw(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...$w}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||ec)(e,n,t);if(!r)return{...$w};const s={};x(r.posParams,(c,h)=>{s[h]=c.path});const a=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function Kp(n,t,e,i){if(e.length>0&&function SP(n,t,e){return e.some(i=>Yw(n,t,i)&&tc(i)!==bn)}(n,e,i)){const s=new fn(t,function $D(n,t,e,i){const r={};r[bn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&tc(s)!==bn){const a=new fn([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,r[tc(s)]=a}return r}(n,t,i,new fn(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function GD(n,t,e){return e.some(i=>Yw(n,t,i))}(n,e,i)){const s=new fn(n.segments,function xP(n,t,e,i,r){const s={};for(const a of i)if(Yw(n,e,a)&&!r[tc(a)]){const c=new fn([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,s[tc(a)]=c}return{...r,...s}}(n,t,e,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const r=new fn(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function Yw(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function YD(n,t,e,i){return!!(tc(n)===i||i!==bn&&Yw(t,e,n))&&("**"===n.path||Gw(t,n,e).matched)}function Qp(n,t,e){return 0===t.length&&!n.children[e]}const Zv=!1;class bd{constructor(t){this.segmentGroup=t||null}}class Jp{constructor(t){this.urlTree=t}}function Fm(n){return vu(new bd(n))}function Kw(n){return vu(new Jp(n))}class KD{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=Kp(this.urlTree.root,[],[],this.config).segmentGroup,e=new fn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,bn).pipe((0,qt.U)(s=>this.createUrlTree(we(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ma(s=>{if(s instanceof Jp)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof bd?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,bn).pipe((0,qt.U)(r=>this.createUrlTree(we(r),t.queryParams,t.fragment))).pipe(ma(r=>{throw r instanceof bd?this.noMatchError(r):r}))}noMatchError(t){return new o.vHH(4002,Zv)}createUrlTree(t,e,i){const r=$(t);return new wr(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,qt.U)(s=>new fn([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,si.D)(r).pipe(Cl(s=>{const a=i.children[s],c=VD(e,s);return this.expandSegmentGroup(t,c,a,s).pipe((0,qt.U)(h=>({segment:h,outlet:s})))}),wu((s,a)=>(s[a.outlet]=a.segment,s),{}),bu())}expandSegment(t,e,i,r,s,a){return(0,si.D)(i).pipe(Cl(c=>this.expandSegmentAgainstRoute(t,e,i,c,r,s,a).pipe(ma(p=>{if(p instanceof bd)return Ht(null);throw p}))),ga(c=>!!c),ma((c,h)=>{if(wd(c))return Qp(e,r,s)?Ht(new fn([],{})):Fm(e);throw c}))}expandSegmentAgainstRoute(t,e,i,r,s,a,c){return YD(r,e,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,a):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a):Fm(e):Fm(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Kw(s):this.lineralizeSegments(i,s).pipe((0,Nr.z)(a=>{const c=new fn(a,{});return this.expandSegment(t,c,e,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){const{matched:c,consumedSegments:h,remainingSegments:p,positionalParamSegments:v}=Gw(e,r,s);if(!c)return Fm(e);const b=this.applyRedirectCommands(h,r.redirectTo,v);return r.redirectTo.startsWith("/")?Kw(b):this.lineralizeSegments(r,b).pipe((0,Nr.z)(D=>this.expandSegment(t,e,i,D.concat(p),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=Lw(i,t),i.loadChildren?(i._loadedRoutes?Ht({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,qt.U)(c=>(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,new fn(r,{})))):Ht(new fn(r,{}))):WD(e,i,r,t).pipe(Mi(({matched:a,consumedSegments:c,remainingSegments:h})=>a?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Nr.z)(v=>{const b=v.injector??t,D=v.routes,{segmentGroup:P,slicedSegments:R}=Kp(e,c,h,D),F=new fn(P.segments,P.children);if(0===R.length&&F.hasChildren())return this.expandChildren(b,D,F).pipe((0,qt.U)(re=>new fn(c,re)));if(0===D.length&&0===R.length)return Ht(new fn(c,{}));const V=tc(i)===s;return this.expandSegment(b,F,D,R,V?bn:s,!0).pipe((0,qt.U)(ee=>new fn(c.concat(ee.segments),ee.children)))})):Fm(e)))}getChildConfig(t,e,i){return e.children?Ht({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ht({routes:e._loadedRoutes,injector:e._loadedInjector}):function IP(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Ht(!0):Ht(r.map(a=>{const c=Mf(a,n);return k(function Zw(n){return n&&Gp(n.canLoad)}(c)?c.canLoad(t,e):n.runInContext(()=>c(t,e)))})).pipe(xh(),Ww())}(t,e,i).pipe((0,Nr.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,ho.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function MP(n){return vu(pP(Zv,3))}())):Ht({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ht(i);if(r.numberOfChildren>1||!r.children[bn])return t.redirectTo,vu(new o.vHH(4e3,Zv));r=r.children[bn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new wr(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return x(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const c=r.substring(1);i[s]=e[c]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let a={};return x(e.children,(c,h)=>{a[h]=this.createSegmentGroup(t,c,i,r)}),new fn(s,a)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new o.vHH(4001,Zv);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class Qw{}class Um{constructor(t,e,i,r,s,a,c){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=a,this.urlSerializer=c}recognize(){const t=Kp(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,bn).pipe((0,qt.U)(e=>{if(null===e)return null;const i=new Ov([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},bn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Dl(i,e),s=new RD(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=hP(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,si.D)(Object.keys(i.children)).pipe(Cl(r=>{const s=i.children[r],a=VD(e,r);return this.processSegmentGroup(t,a,s,r)}),wu((r,s)=>r&&s?(r.push(...s),r):null),function Lp(n,t=!1){return(0,Ar.e)((e,i)=>{let r=0;e.subscribe((0,hr.x)(i,s=>{const a=n(s,r++);(a||t)&&i.next(s),!a&&i.complete()}))})}(r=>null!==r),_d(null),bu(),(0,qt.U)(r=>{if(null===r)return null;const s=JD(r);return function OP(n){n.sort((t,e)=>t.value.outlet===bn?-1:e.value.outlet===bn?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return(0,si.D)(e).pipe(Cl(a=>this.processSegmentAgainstRoute(a._injector??t,a,i,r,s)),ga(a=>!!a),ma(a=>{if(wd(a))return Qp(i,r,s)?Ht([]):Ht(null);throw a}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!YD(e,i,r,s))return Ht(null);let a;if("**"===e.path){const c=r.length>0?Df(r).parameters:{},h=e1(i)+r.length;a=Ht({snapshot:new Ov(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mu(e),tc(e),e.component??e._loadedComponent??null,e,XD(i),h,t1(e)),consumedSegments:[],remainingSegments:[]})}else a=WD(i,e,r,t).pipe((0,qt.U)(({matched:c,consumedSegments:h,remainingSegments:p,parameters:v})=>{if(!c)return null;const b=e1(i)+h.length;return{snapshot:new Ov(h,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mu(e),tc(e),e.component??e._loadedComponent??null,e,XD(i),b,t1(e)),consumedSegments:h,remainingSegments:p}}));return a.pipe(Mi(c=>{if(null===c)return Ht(null);const{snapshot:h,consumedSegments:p,remainingSegments:v}=c;t=e._injector??t;const b=e._loadedInjector??t,D=function RP(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:P,slicedSegments:R}=Kp(i,p,v,D.filter(V=>void 0===V.redirectTo));if(0===R.length&&P.hasChildren())return this.processChildren(b,D,P).pipe((0,qt.U)(V=>null===V?null:[new Dl(h,V)]));if(0===D.length&&0===R.length)return Ht([new Dl(h,[])]);const F=tc(e)===s;return this.processSegment(b,D,P,R,F?bn:s).pipe((0,qt.U)(V=>null===V?null:[new Dl(h,V)]))}))}}function NP(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function JD(n){const t=[],e=new Set;for(const i of n){if(!NP(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=JD(i.children);t.push(new Dl(i.value,r))}return t.filter(i=>!e.has(i))}function XD(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function e1(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Mu(n){return n.data||{}}function t1(n){return n.resolve||{}}function Xw(n){return"string"==typeof n.title||null===n.title}function eb(n){return Mi(t=>{const e=n(t);return e?(0,si.D)(e).pipe((0,qt.U)(()=>t)):Ht(t)})}const Xp=new o.OlP("ROUTES");let nb=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.f3M)(o.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ht(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=k(e.loadComponent()).pipe((0,qt.U)(o1),(0,ho.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Cu(()=>{this.componentLoaders.delete(e)})),r=new Np(i,()=>new ds.x).pipe(md());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ht({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,qt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(i);let h,p,v=!1;Array.isArray(c)?p=c:(h=c.create(e).injector,p=Fp(h.get(Xp,[],o.XFs.Self|o.XFs.Optional)));return{routes:p.map(Fv),injector:h}}),Cu(()=>{this.childrenLoaders.delete(i)})),a=new Np(s,()=>new ds.x).pipe(md());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(e){return k(e()).pipe((0,qt.U)(o1),(0,Nr.z)(i=>i instanceof o.YKP||Array.isArray(i)?Ht(i):(0,si.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function o1(n){return function Vc(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Hv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ds.x,this.configLoader=(0,o.f3M)(nb),this.environmentInjector=(0,o.f3M)(o.lqb),this.urlSerializer=(0,o.f3M)(Uo),this.rootContexts=(0,o.f3M)(Lv),this.navigationId=0,this.afterPreactivation=()=>Ht(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new sP(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Aw(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new yr({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xm,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(es(i=>0!==i.id),(0,qt.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),Mi(i=>{let r=!1,s=!1;return Ht(i).pipe((0,ho.b)(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mi(a=>{const c=e.browserUrlTree.toString(),h=!e.navigated||a.extractedUrl.toString()!==c||c!==e.currentUrlTree.toString();if(!h&&"reload"!==(a.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const v="";return this.events.next(new Af(a.id,e.serializeUrl(i.rawUrl),v,0)),e.rawUrlTree=a.rawUrl,a.resolve(null),As.E}if(e.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return s1(a.source)&&(e.browserUrlTree=a.extractedUrl),Ht(a).pipe(Mi(v=>{const b=this.transitions?.getValue();return this.events.next(new Sw(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),b!==this.transitions?.getValue()?As.E:Promise.resolve(v)}),function QD(n,t,e,i){return Mi(r=>function PP(n,t,e,i,r){return new KD(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,qt.U)(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,ho.b)(v=>{this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects},i.urlAfterRedirects=v.urlAfterRedirects}),function FP(n,t,e,i,r){return(0,Nr.z)(s=>function Jw(n,t,e,i,r,s,a="emptyOnly"){return new Um(n,t,e,i,r,a,s).recognize().pipe(Mi(c=>null===c?function kP(n){return new Ei.y(t=>t.error(n))}(new Qw):Ht(c)))}(n,t,e,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe((0,qt.U)(a=>({...s,targetSnapshot:a}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,ho.b)(v=>{if(i.targetSnapshot=v.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!v.extras.skipLocationChange){const D=e.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl);e.setBrowserUrl(D,v)}e.browserUrlTree=v.urlAfterRedirects}const b=new qp(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(b)}));if(h&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:v,extractedUrl:b,source:D,restoredState:P,extras:R}=a,F=new Sw(v,this.urlSerializer.serialize(b),D,P);this.events.next(F);const V=dP(b,this.rootComponentType).snapshot;return Ht(i={...a,targetSnapshot:V,urlAfterRedirects:b,extras:{...R,skipLocationChange:!1,replaceUrl:!1}})}{const v="";return this.events.next(new Af(a.id,e.serializeUrl(i.extractedUrl),v,1)),e.rawUrlTree=a.rawUrl,a.resolve(null),As.E}}),(0,ho.b)(a=>{const c=new iP(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),(0,qt.U)(a=>i={...a,guards:Nm(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function Bv(n,t){return(0,Nr.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=e;return 0===a.length&&0===s.length?Ht({...e,guardsResult:!0}):function TP(n,t,e,i){return(0,si.D)(n).pipe((0,Nr.z)(r=>function DP(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Ht(s.map(c=>{const h=Rm(t)??r,p=Mf(c,h);return k(function CP(n){return n&&Gp(n.canDeactivate)}(p)?p.canDeactivate(n,t,e,i):h.runInContext(()=>p(n,t,e,i))).pipe(ga())})).pipe(xh()):Ht(!0)}(r.component,r.route,e,t,i)),ga(r=>!0!==r,!0))}(a,i,r,n).pipe((0,Nr.z)(c=>c&&function HD(n){return"boolean"==typeof n}(c)?function qw(n,t,e,i){return(0,si.D)(t).pipe(Cl(r=>vh(function Pf(n,t){return null!==n&&t&&t(new SD(n)),Ht(!0)}(r.route.parent,i),function Vv(n,t){return null!==n&&t&&t(new Mw(n)),Ht(!0)}(r.route,i),function jw(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function Vw(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>Rp(()=>Ht(a.guards.map(h=>{const p=Rm(a.node)??e,v=Mf(h,p);return k(function zw(n){return n&&Gp(n.canActivateChild)}(v)?v.canActivateChild(i,n):p.runInContext(()=>v(i,n))).pipe(ga())})).pipe(xh())));return Ht(s).pipe(xh())}(n,r.path,e),function jD(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Ht(!0);const r=i.map(s=>Rp(()=>{const a=Rm(t)??e,c=Mf(s,a);return k(function B3(n){return n&&Gp(n.canActivate)}(c)?c.canActivate(t,n):a.runInContext(()=>c(t,n))).pipe(ga())}));return Ht(r).pipe(xh())}(n,r.route,e))),ga(r=>!0!==r,!0))}(i,s,n,t):Ht(c)),(0,qt.U)(c=>({...e,guardsResult:c})))})}(this.environmentInjector,a=>this.events.next(a)),(0,ho.b)(a=>{if(i.guardsResult=a.guardsResult,yt(a.guardsResult))throw fP(0,a.guardsResult);const c=new rP(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(c)}),es(a=>!!a.guardsResult||(e.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),eb(a=>{if(a.guards.canActivateChecks.length)return Ht(a).pipe((0,ho.b)(c=>{const h=new R3(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),Mi(c=>{let h=!1;return Ht(c).pipe(function V3(n,t){return(0,Nr.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Ht(e);let s=0;return(0,si.D)(r).pipe(Cl(a=>function Z3(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!Xw(r)&&(s[Xl]=r.title),function n1(n,t,e,i){const r=function z3(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Ht({});const s={};return(0,si.D)(r).pipe((0,Nr.z)(a=>function r1(n,t,e,i){const r=Rm(t)??i,s=Mf(n,r);return k(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[a],t,e,i).pipe(ga(),(0,ho.b)(c=>{s[a]=c}))),Cf(1),function Lc(n){return(0,qt.U)(()=>n)}(s),ma(a=>wd(a)?As.E:vu(a)))}(s,n,t,i).pipe((0,qt.U)(a=>(n._resolvedData=a,n.data=hP(n,e).resolve,r&&Xw(r)&&(n.data[Xl]=r.title),null)))}(a.route,i,n,t)),(0,ho.b)(()=>s++),Cf(1),(0,Nr.z)(a=>s===r.length?Ht(e):As.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,ho.b)({next:()=>h=!0,complete:()=>{h||(e.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),(0,ho.b)(c=>{const h=new oP(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}))}),eb(a=>{const c=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe((0,ho.b)(v=>{h.component=v}),(0,qt.U)(()=>{})));for(const v of h.children)p.push(...c(v));return p};return yf(c(a.targetSnapshot.root)).pipe(_d(),Nc(1))}),eb(()=>this.afterPreactivation()),(0,qt.U)(a=>{const c=function km(n,t,e){const i=Wp(n,t._root,e?e._root:void 0);return new uP(i,t)}(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:c}}),(0,ho.b)(a=>{e.currentUrlTree=a.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),e.routerState=a.targetRouterState,"deferred"===e.urlUpdateStrategy&&(a.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,a),e.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>(0,qt.U)(i=>(new ZD(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a)),Nc(1),(0,ho.b)({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Ih(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),Cu(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ma(a=>{if(s=!0,Nv(a)){Rv(a)||(e.navigated=!0,e.restoreHistory(i,!0));const c=new Sm(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode);if(this.events.next(c),Rv(a)){const h=e.urlHandlingStrategy.merge(a.url,e.rawUrlTree),p={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||s1(i.source)};e.scheduleNavigation(h,xm,null,p,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const c=new Am(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);this.events.next(c);try{i.resolve(e.errorHandler(a))}catch(h){i.reject(h)}}return As.E}))}))}cancelNavigationTransition(e,i,r){const s=new Sm(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function s1(n){return n!==xm}let a1=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===bn);return i}getResolvedTitleForRoute(e){return e.data[Xl]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(UP)},providedIn:"root"}),n})(),UP=(()=>{class n extends a1{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(uh))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),l1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(VP)},providedIn:"root"}),n})();class BP{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let VP=(()=>{class n extends BP{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bn=new o.OlP("",{providedIn:"root",factory:()=>({})});let c1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(u1)},providedIn:"root"}),n})(),u1=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zP(n){throw n}function HP(n,t,e){return t.parse("/")}const d1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let va=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.f3M)(o.c2e),this.isNgZoneEnabled=!1,this.options=(0,o.f3M)(Bn,{optional:!0})||{},this.errorHandler=this.options.errorHandler||zP,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||HP,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.f3M)(c1),this.routeReuseStrategy=(0,o.f3M)(l1),this.urlCreationStrategy=(0,o.f3M)(cP),this.titleStrategy=(0,o.f3M)(a1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Fp((0,o.f3M)(Xp,{optional:!0})??[]),this.navigationTransitions=(0,o.f3M)(Hv),this.urlSerializer=(0,o.f3M)(Uo),this.location=(0,o.f3M)(mt),this.isNgZoneEnabled=(0,o.f3M)(o.R0b)instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new wr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=dP(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),xm,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},a=r?.navigationId?r:null;if(r){const h={...r};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(s.state=h)}const c=this.parseUrl(e);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(Fv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:h}=i,p=h?this.currentUrlTree.fragment:a;let v=null;switch(c){case"merge":v={...this.currentUrlTree.queryParams,...s};break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=s||null}return null!==v&&(v=this.removeEmptyProps(v)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,v,p??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=yt(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,xm,null,i)}navigate(e,i={skipLocationChange:!1}){return function jP(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new o.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...d1}:!1===i?{...qP}:i,yt(e))return ye(this.currentUrlTree,e,r);const s=this.parseUrl(e);return ye(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,a){if(this.disposed)return Promise.resolve(!1);let c,h,p,v;return a?(c=a.resolve,h=a.reject,p=a.promise):p=new Promise((b,D)=>{c=b,h=D}),v="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:v,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:c,reject:h,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(b=>Promise.reject(b))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zm=(()=>{class n{constructor(e,i,r,s,a,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this.locationStrategy=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ds.x;const h=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===h||"area"===h,this.isAnchorElement?this.subscription=e.events.subscribe(p=>{p instanceof Ih&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,o.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,o.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,o.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,o.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(va),o.Y36(Mm),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Vt))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&o.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})();class ib{}let rb=(()=>{class n{constructor(e,i,r,s,a){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(es(e=>e instanceof Ih),Cl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,e,`Route: ${s.path}`));const a=s._injector??e,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(c,s.children??s._loadedRoutes))}return(0,si.D)(r).pipe((0,gd.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Ht(null);const s=r.pipe((0,Nr.z)(a=>null===a?Ht(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(i.loadComponent&&!i._loadedComponent){const a=this.loader.loadComponent(i);return(0,si.D)([s,a]).pipe((0,gd.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(va),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(ib),o.LFG(nb))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zm=new o.OlP("");let f1=(()=>{class n{constructor(e,i,r,s,a={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Sw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ih&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Pw&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Pw(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();var nc=(()=>((nc=nc||{})[nc.COMPLETE=0]="COMPLETE",nc[nc.FAILED=1]="FAILED",nc[nc.REDIRECTING=2]="REDIRECTING",nc))();const Hm=!1;function kf(n,t){return{\u0275kind:n,\u0275providers:t}}const sb=new o.OlP("",{providedIn:"root",factory:()=>!1});function qm(){const n=(0,o.f3M)(o.zs3);return t=>{const e=n.get(o.z2F);if(t!==e.components[0])return;const i=n.get(va),r=n.get(p1);1===n.get(jv)&&i.initialNavigation(),n.get(g1,null,o.XFs.Optional)?.setUpPreloading(),n.get(zm,null,o.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const p1=new o.OlP(Hm?"bootstrap done indicator":"",{factory:()=>new ds.x}),jv=new o.OlP(Hm?"initial navigation":"",{providedIn:"root",factory:()=>1});function YP(){let n=[];return n=Hm?[{provide:o.Xts,multi:!0,useFactory:()=>{const t=(0,o.f3M)(va);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function MD(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],kf(1,n)}const g1=new o.OlP(Hm?"router preloader":"");function KP(n){return kf(0,[{provide:g1,useExisting:rb},{provide:ib,useExisting:n}])}const ng=!1,XP=new o.OlP(ng?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ab=[mt,{provide:Uo,useClass:wh},va,Lv,{provide:Mm,useFactory:function ob(n){return n.routerState.root},deps:[va]},nb,ng?{provide:sb,useValue:!0}:[]];function ek(){return new o.PXZ("Router",va)}let Wv=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[ab,ng&&i?.enableTracing?YP().\u0275providers:[],{provide:Xp,multi:!0,useValue:e},{provide:XP,useFactory:v1,deps:[[va,new o.FiY,new o.tp0]]},{provide:Bn,useValue:i||{}},i?.useHash?{provide:Vt,useClass:dt}:{provide:Vt,useClass:st},{provide:zm,useFactory:()=>{const n=(0,o.f3M)(Ul),t=(0,o.f3M)(o.R0b),e=(0,o.f3M)(Bn),i=(0,o.f3M)(Hv),r=(0,o.f3M)(Uo);return e.scrollOffset&&n.setOffset(e.scrollOffset),new f1(r,i,n,t,e)}},i?.preloadingStrategy?KP(i.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:ek},i?.initialNavigation?nk(i):[],[{provide:y1,useFactory:qm},{provide:o.tb,multi:!0,useExisting:y1}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Xp,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(XP,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Nw]}),n})();function v1(n){if(ng&&n)throw new o.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function nk(n){return["disabled"===n.initialNavigation?kf(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const t=(0,o.f3M)(va);return()=>{t.setUpLocationChangeListener()}}},{provide:jv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?kf(2,[{provide:jv,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:t=>{const e=t.get(Ne,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(va),s=t.get(p1);(function j3(n,t){n.events.pipe(es(e=>e instanceof Ih||e instanceof Sm||e instanceof Am||e instanceof Af),(0,qt.U)(e=>e instanceof Ih||e instanceof Af?nc.COMPLETE:e instanceof Sm&&(0===e.code||1===e.code)?nc.REDIRECTING:nc.FAILED),es(e=>e!==nc.REDIRECTING),Nc(1)).subscribe(()=>{t()})})(r,()=>{i(!0)}),t.get(Hv).afterPreactivation=()=>(i(!0),s.closed?Ht(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const y1=new o.OlP(ng?"Router Initializer":"");function ae(n,t,e,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,i);else for(var c=n.length-1;c>=0;c--)(a=n[c])&&(s=(r<3?a(s):r>3?a(t,e,s):a(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s}function Of(n,t){return function(e,i){t(e,i,n)}}function se(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)}function Pu(n,t,e,i){return new(e||(e=Promise))(function(s,a){function c(v){try{p(i.next(v))}catch(b){a(b)}}function h(v){try{p(i.throw(v))}catch(b){a(b)}}function p(v){v.done?s(v.value):function r(s){return s instanceof e?s:new e(function(a){a(s)})}(v.value).then(c,h)}p((i=i.apply(n,t||[])).next())})}var Kv=z(4986),T1=z(3532);function I1(n,t,e){return e?I1(n,t).pipe(hs(e)):new Ei.y(i=>{const r=(...a)=>i.next(1===a.length?a[0]:a),s=n(r);return(0,_u.m)(t)?()=>t(r,s):void 0})}var Qv=z(6451),cb=z(6063);class ub extends ds.x{constructor(t=1/0,e=1/0,i=cb.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;e||(i.push(t),!r&&i.push(s.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!t.closed;a+=i?1:2)t.next(s[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const a=e.now();let c=0;for(let h=1;h<i.length&&i[h]<=a;h+=2)c=h;c&&i.splice(0,c+1)}}}var Jv=z(9468),Gm=z(5363);class ak extends ds.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(t){const{hasError:e,_hasValue:i,_value:r,thrownError:s,isStopped:a,_isComplete:c}=this;e?t.error(s):(a||c)&&(i&&t.next(r),t.complete())}next(t){this.isStopped||(this._value=t,this._hasValue=!0)}complete(){const{_hasValue:t,_value:e,_isComplete:i}=this;i||(this._isComplete=!0,t&&super.next(e),super.complete())}}function db(n,t,e,i){if(e){if(!(0,T1.K)(e))return function(...r){return db(n,t,i).apply(this,r).pipe(hs(e))};i=e}return i?function(...r){return db(n,t).apply(this,r).pipe((0,Jv.R)(i),(0,Gm.Q)(i))}:function(...r){const s=new ak;let a=!0;return new Ei.y(c=>{const h=s.subscribe(c);if(a){a=!1;let p=!1,v=!1;t.apply(this,[...r,(...b)=>{if(n){const D=b.shift();if(null!=D)return void s.error(D)}s.next(1<b.length?b:b[0]),v=!0,p&&s.complete()}]),v&&s.complete(),p=!0}return h})}}function ku(n,t,e){return db(!1,n,t,e)}const hb=Nr.z;var fb=z(5032),pb=z(3099);function gb(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,pb.B)({connector:()=>new ub(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function mb(n,t=Jl.y){return n=n??ck,(0,Ar.e)((e,i)=>{let r,s=!0;e.subscribe((0,hr.x)(i,a=>{const c=t(a);(s||!n(r,c))&&(s=!1,r=c,i.next(a))}))})}function ck(n,t){return n===t}const Xv={connector:()=>new ds.x};const hk=["*"];let Zc=(()=>{let n=class{};return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(t){return n.\u0275fac(t)}}),n})(),po=(()=>{let n=class{constructor(e,i){this._loader=e,this._zone=i,this._map=new Promise(r=>{this._mapResolver=r})}createMap(e,i){return this._zone.runOutsideAngular(()=>this._loader.load().then(()=>{const r=new google.maps.Map(e,i);this._mapResolver(r)}))}setMapOptions(e){return this._zone.runOutsideAngular(()=>{this._map.then(i=>{i.setOptions(e)})})}createMarker(e={},i=!0){return this._zone.runOutsideAngular(()=>this._map.then(r=>(i&&(e.map=r),new google.maps.Marker(e))))}createInfoWindow(e){return this._zone.runOutsideAngular(()=>this._map.then(()=>new google.maps.InfoWindow(e)))}createCircle(e){return this._zone.runOutsideAngular(()=>this._map.then(i=>("string"==typeof e.strokePosition&&(e.strokePosition=google.maps.StrokePosition[e.strokePosition]),e.map=i,new google.maps.Circle(e))))}createRectangle(e){return this._zone.runOutsideAngular(()=>this._map.then(i=>(e.map=i,new google.maps.Rectangle(e))))}createPolyline(e){return this._zone.runOutsideAngular(()=>this.getNativeMap().then(i=>{let r=new google.maps.Polyline(e);return r.setMap(i),r}))}createPolygon(e){return this._zone.runOutsideAngular(()=>this.getNativeMap().then(i=>{let r=new google.maps.Polygon(e);return r.setMap(i),r}))}createDataLayer(e){return this._zone.runOutsideAngular(()=>this._map.then(i=>{let r=new google.maps.Data(e);return r.setMap(i),r}))}createTransitLayer(e){return this._zone.runOutsideAngular(()=>this._map.then(i=>{let r=new google.maps.TransitLayer;return r.setMap(e.visible?i:null),r}))}createBicyclingLayer(e){return this._zone.runOutsideAngular(()=>this._map.then(i=>{let r=new google.maps.BicyclingLayer;return r.setMap(e.visible?i:null),r}))}containsLocation(e,i){return google.maps.geometry.poly.containsLocation(e,i)}subscribeToMapEvent(e){return new Ei.y(i=>{this._map.then(r=>{r.addListener(e,s=>{this._zone.run(()=>i.next(s))})})})}clearInstanceListeners(){return this._zone.runOutsideAngular(()=>{this._map.then(e=>{google.maps.event.clearInstanceListeners(e)})})}setCenter(e){return this._zone.runOutsideAngular(()=>this._map.then(i=>i.setCenter(e)))}getZoom(){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.getZoom()))}getBounds(){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.getBounds()))}getMapTypeId(){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.getMapTypeId()))}setZoom(e){return this._zone.runOutsideAngular(()=>this._map.then(i=>i.setZoom(e)))}getCenter(){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.getCenter()))}panTo(e){return this._zone.runOutsideAngular(()=>this._map.then(i=>i.panTo(e)))}panBy(e,i){return this._zone.runOutsideAngular(()=>this._map.then(r=>r.panBy(e,i)))}fitBounds(e,i){return this._zone.runOutsideAngular(()=>this._map.then(r=>r.fitBounds(e,i)))}panToBounds(e,i){return this._zone.runOutsideAngular(()=>this._map.then(r=>r.panToBounds(e,i)))}getNativeMap(){return this._map}triggerMapEvent(e){return this._map.then(i=>google.maps.event.trigger(i,e))}};return n.\u0275fac=function(e){return new(e||n)(o.LFG(Zc),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:function(t){return n.\u0275fac(t)}}),n=ae([se("design:paramtypes",[Zc,o.R0b])],n),n})(),rg=(()=>{let n=class{constructor(e){this._wrapper=e,this._layers=new Map}addTransitLayer(e,i){const r=this._wrapper.createTransitLayer(i);this._layers.set(e,r)}addBicyclingLayer(e,i){const r=this._wrapper.createBicyclingLayer(i);this._layers.set(e,r)}deleteLayer(e){return this._layers.get(e).then(i=>{i.setMap(null),this._layers.delete(e)})}toggleLayerVisibility(e,i){return this._layers.get(e).then(r=>{if(i.visible)return this._wrapper.getNativeMap().then(s=>{r.setMap(s)});r.setMap(null)})}};return n.\u0275fac=function(e){return new(e||n)(o.LFG(po))},n.\u0275prov=o.Yz7({token:n,factory:function(t){return n.\u0275fac(t)}}),n=ae([se("design:paramtypes",[po])],n),n})(),Ym=(()=>{let n=class{constructor(e,i){this._apiWrapper=e,this._zone=i,this._circles=new Map}addCircle(e){this._circles.set(e,this._apiWrapper.createCircle({center:{lat:e.latitude,lng:e.longitude},clickable:e.clickable,draggable:e.draggable,editable:e.editable,fillColor:e.fillColor,fillOpacity:e.fillOpacity,radius:e.radius,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokePosition:e.strokePosition,strokeWeight:e.strokeWeight,visible:e.visible,zIndex:e.zIndex}))}removeCircle(e){return this._circles.get(e).then(i=>{i.setMap(null),this._circles.delete(e)})}setOptions(e,i){return this._circles.get(e).then(r=>{"string"==typeof i.strokePosition&&(i.strokePosition=google.maps.StrokePosition[i.strokePosition]),r.setOptions(i)})}getBounds(e){return this._circles.get(e).then(i=>i.getBounds())}getCenter(e){return this._circles.get(e).then(i=>i.getCenter())}getRadius(e){return this._circles.get(e).then(i=>i.getRadius())}setCenter(e){return this._circles.get(e).then(i=>i.setCenter({lat:e.latitude,lng:e.longitude}))}setEditable(e){return this._circles.get(e).then(i=>i.setEditable(e.editable))}setDraggable(e){return this._circles.get(e).then(i=>i.setDraggable(e.draggable))}setVisible(e){return this._circles.get(e).then(i=>i.setVisible(e.visible))}setRadius(e){return this._circles.get(e).then(i=>i.setRadius(e.radius))}getNativeCircle(e){return this._circles.get(e)}createEventObservable(e,i){return new Ei.y(r=>{let s=null;return this._circles.get(i).then(a=>{s=a.addListener(e,c=>this._zone.run(()=>r.next(c)))}),()=>{null!==s&&s.remove()}})}};return n.\u0275fac=function(e){return new(e||n)(o.LFG(po),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:function(t){return n.\u0275fac(t)}}),n=ae([se("design:paramtypes",[po,o.R0b])],n),n})();var Km;let Kn=Km=class{constructor(t){this._manager=t,this.clickable=!0,this.draggable=!1,this.editable=!1,this.radius=0,this.strokePosition="CENTER",this.strokeWeight=0,this.visible=!0,this.centerChange=new o.vpe,this.circleClick=new o.vpe,this.circleDblClick=new o.vpe,this.drag=new o.vpe,this.dragEnd=new o.vpe,this.dragStart=new o.vpe,this.mouseDown=new o.vpe,this.mouseMove=new o.vpe,this.mouseOut=new o.vpe,this.mouseOver=new o.vpe,this.mouseUp=new o.vpe,this.radiusChange=new o.vpe,this.rightClick=new o.vpe,this._circleAddedToManager=!1,this._eventSubscriptions=[]}ngOnInit(){this._manager.addCircle(this),this._circleAddedToManager=!0,this._registerEventListeners()}ngOnChanges(t){this._circleAddedToManager&&((t.latitude||t.longitude)&&this._manager.setCenter(this),t.editable&&this._manager.setEditable(this),t.draggable&&this._manager.setDraggable(this),t.visible&&this._manager.setVisible(this),t.radius&&this._manager.setRadius(this),this._updateCircleOptionsChanges(t))}_updateCircleOptionsChanges(t){let e={},i=Object.keys(t).filter(r=>-1!==Km._mapOptions.indexOf(r));i.forEach(r=>{e[r]=t[r].currentValue}),i.length>0&&this._manager.setOptions(this,e)}_registerEventListeners(){let t=new Map;t.set("center_changed",this.centerChange),t.set("click",this.circleClick),t.set("dblclick",this.circleDblClick),t.set("drag",this.drag),t.set("dragend",this.dragEnd),t.set("dragstart",this.dragStart),t.set("mousedown",this.mouseDown),t.set("mousemove",this.mouseMove),t.set("mouseout",this.mouseOut),t.set("mouseover",this.mouseOver),t.set("mouseup",this.mouseUp),t.set("radius_changed",this.radiusChange),t.set("rightclick",this.rightClick),t.forEach((e,i)=>{this._eventSubscriptions.push(this._manager.createEventObservable(i,this).subscribe(r=>{switch(i){case"radius_changed":this._manager.getRadius(this).then(s=>e.emit(s));break;case"center_changed":this._manager.getCenter(this).then(s=>e.emit({lat:s.lat(),lng:s.lng()}));break;default:e.emit({coords:{lat:r.latLng.lat(),lng:r.latLng.lng()}})}}))})}ngOnDestroy(){this._eventSubscriptions.forEach(function(t){t.unsubscribe()}),this._eventSubscriptions=null,this._manager.removeCircle(this)}getBounds(){return this._manager.getBounds(this)}getCenter(){return this._manager.getCenter(this)}};Kn.\u0275fac=function(t){return new(t||Kn)(o.Y36(Ym))},Kn.\u0275dir=o.lG2({type:Kn,selectors:[["agm-circle"]],inputs:{clickable:"clickable",draggable:["circleDraggable","draggable"],editable:"editable",radius:"radius",strokePosition:"strokePosition",strokeWeight:"strokeWeight",visible:"visible",latitude:"latitude",longitude:"longitude",fillColor:"fillColor",fillOpacity:"fillOpacity",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",zIndex:"zIndex"},outputs:{centerChange:"centerChange",circleClick:"circleClick",circleDblClick:"circleDblClick",drag:"drag",dragEnd:"dragEnd",dragStart:"dragStart",mouseDown:"mouseDown",mouseMove:"mouseMove",mouseOut:"mouseOut",mouseOver:"mouseOver",mouseUp:"mouseUp",radiusChange:"radiusChange",rightClick:"rightClick"},features:[o.TTD]}),Kn._mapOptions=["fillColor","fillOpacity","strokeColor","strokeOpacity","strokePosition","strokeWeight","visible","zIndex","clickable"],Kn.ctorParameters=()=>[{type:Ym}],ae([(0,o.IIB)(),se("design:type",Number)],Kn.prototype,"latitude",void 0),ae([(0,o.IIB)(),se("design:type",Number)],Kn.prototype,"longitude",void 0),ae([(0,o.IIB)(),se("design:type",Object)],Kn.prototype,"clickable",void 0),ae([(0,o.IIB)("circleDraggable"),se("design:type",Object)],Kn.prototype,"draggable",void 0),ae([(0,o.IIB)(),se("design:type",Object)],Kn.prototype,"editable",void 0),ae([(0,o.IIB)(),se("design:type",String)],Kn.prototype,"fillColor",void 0),ae([(0,o.IIB)(),se("design:type",Number)],Kn.prototype,"fillOpacity",void 0),ae([(0,o.IIB)(),se("design:type",Object)],Kn.prototype,"radius",void 0),ae([(0,o.IIB)(),se("design:type",String)],Kn.prototype,"strokeColor",void 0),ae([(0,o.IIB)(),se("design:type",Number)],Kn.prototype,"strokeOpacity",void 0),ae([(0,o.IIB)(),se("design:type",String)],Kn.prototype,"strokePosition",void 0),ae([(0,o.IIB)(),se("design:type",Object)],Kn.prototype,"strokeWeight",void 0),ae([(0,o.IIB)(),se("design:type",Object)],Kn.prototype,"visible",void 0),ae([(0,o.IIB)(),se("design:type",Number)],Kn.prototype,"zIndex",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Kn.prototype,"centerChange",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Kn.prototype,"circleClick",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Kn.prototype,"circleDblClick",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Kn.prototype,"drag",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Kn.prototype,"dragEnd",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Kn.prototype,"dragStart",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Kn.prototype,"mouseDown",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Kn.prototype,"mouseMove",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Kn.prototype,"mouseOut",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Kn.prototype,"mouseOver",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Kn.prototype,"mouseUp",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Kn.prototype,"radiusChange",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Kn.prototype,"rightClick",void 0),Kn=Km=ae([se("design:paramtypes",[Ym])],Kn);let Sh=(()=>{let n=class{constructor(e,i){this._wrapper=e,this._zone=i,this._layers=new Map}addDataLayer(e){const i=this._wrapper.createDataLayer({style:e.style}).then(r=>(e.geoJson&&this.getDataFeatures(r,e.geoJson).then(s=>r.features=s),r));this._layers.set(e,i)}deleteDataLayer(e){this._layers.get(e).then(i=>{i.setMap(null),this._layers.delete(e)})}updateGeoJson(e,i){this._layers.get(e).then(r=>{r.forEach(function(s){r.remove(s);var a=r.features.indexOf(s,0);a>-1&&r.features.splice(a,1)}),this.getDataFeatures(r,i).then(s=>r.features=s)})}setDataOptions(e,i){this._layers.get(e).then(r=>{r.setControlPosition(i.controlPosition),r.setControls(i.controls),r.setDrawingMode(i.drawingMode),r.setStyle(i.style)})}createEventObservable(e,i){return new Ei.y(r=>{this._layers.get(i).then(s=>{s.addListener(e,a=>this._zone.run(()=>r.next(a)))})})}getDataFeatures(e,i){return new Promise((r,s)=>{if("object"==typeof i)try{r(e.addGeoJson(i))}catch(a){s(a)}else"string"==typeof i?e.loadGeoJson(i,null,r):s("Impossible to extract features from geoJson: wrong argument type")})}};return n.\u0275fac=function(e){return new(e||n)(o.LFG(po),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:function(t){return n.\u0275fac(t)}}),n=ae([se("design:paramtypes",[po,o.R0b])],n),n})();var og;let Qm=0,rc=og=class{constructor(t){this._manager=t,this._addedToManager=!1,this._id=(Qm++).toString(),this._subscriptions=[],this.layerClick=new o.vpe,this.geoJson=null}ngOnInit(){this._addedToManager||(this._manager.addDataLayer(this),this._addedToManager=!0,this._addEventListeners())}_addEventListeners(){[{name:"click",handler:e=>this.layerClick.emit(e)}].forEach(e=>{const i=this._manager.createEventObservable(e.name,this).subscribe(e.handler);this._subscriptions.push(i)})}id(){return this._id}toString(){return`AgmDataLayer-${this._id.toString()}`}ngOnDestroy(){this._manager.deleteDataLayer(this),this._subscriptions.forEach(t=>t.unsubscribe())}ngOnChanges(t){if(!this._addedToManager)return;var e=t.geoJson;e&&this._manager.updateGeoJson(this,e.currentValue);let i={};og._dataOptionsAttributes.forEach(r=>i[r]=t.hasOwnProperty(r)?t[r].currentValue:this[r]),this._manager.setDataOptions(this,i)}};rc.\u0275fac=function(t){return new(t||rc)(o.Y36(Sh))},rc.\u0275dir=o.lG2({type:rc,selectors:[["agm-data-layer"]],inputs:{geoJson:"geoJson",style:"style"},outputs:{layerClick:"layerClick"},features:[o.TTD]}),rc._dataOptionsAttributes=["style"],rc.ctorParameters=()=>[{type:Sh}],ae([(0,o.r_U)(),se("design:type",o.vpe)],rc.prototype,"layerClick",void 0),ae([(0,o.IIB)(),se("design:type",Object)],rc.prototype,"geoJson",void 0),ae([(0,o.IIB)(),se("design:type",Function)],rc.prototype,"style",void 0),rc=og=ae([se("design:paramtypes",[Sh])],rc);class Jm{}let Rf=(()=>{let n=class{constructor(e){this._boundsChangeSampleTime$=new yr(200),this._includeInBounds$=new yr(new Map),this.bounds$=(0,si.D)(e.load()).pipe(hb(()=>this._includeInBounds$),function lk(n){return(0,Ar.e)((t,e)=>{let i=!1,r=null;t.subscribe((0,hr.x)(e,s=>{i=!0,r=s})),(0,bl.Xf)(n).subscribe((0,hr.x)(e,()=>{if(i){i=!1;const s=r;r=null,e.next(s)}},fb.Z))})}(this._boundsChangeSampleTime$.pipe(Mi(i=>function D1(n=0,t,e=Kv.P){let i=-1;return null!=t&&((0,T1.K)(t)?e=t:i=t),new Ei.y(r=>{let s=function sk(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(0,i)))),(0,qt.U)(i=>this._generateBounds(i)),gb(1))}_generateBounds(e){const i=new google.maps.LatLngBounds;return e.forEach(r=>i.extend(r)),i}addToBounds(e){const i=this._createIdentifier(e);if(this._includeInBounds$.value.has(i))return;const r=this._includeInBounds$.value;r.set(i,e),this._includeInBounds$.next(r)}removeFromBounds(e){const i=this._includeInBounds$.value;i.delete(this._createIdentifier(e)),this._includeInBounds$.next(i)}changeFitBoundsChangeSampleTime(e){this._boundsChangeSampleTime$.next(e)}getBounds$(){return this.bounds$}_createIdentifier(e){return`${e.lat}+${e.lng}`}};return n.\u0275fac=function(e){return new(e||n)(o.LFG(Zc))},n.\u0275prov=o.Yz7({token:n,factory:function(t){return n.\u0275fac(t)}}),n=ae([se("design:paramtypes",[Zc])],n),n})(),sg=(()=>{let n=class{constructor(e,i){this._mapsWrapper=e,this._zone=i,this._markers=new Map}convertAnimation(e){return Pu(this,void 0,void 0,function*(){return null===e?null:this._mapsWrapper.getNativeMap().then(()=>google.maps.Animation[e])})}deleteMarker(e){const i=this._markers.get(e);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.setMap(null),this._markers.delete(e)}))}updateMarkerPosition(e){return this._markers.get(e).then(i=>i.setPosition({lat:e.latitude,lng:e.longitude}))}updateTitle(e){return this._markers.get(e).then(i=>i.setTitle(e.title))}updateLabel(e){return this._markers.get(e).then(i=>{i.setLabel(e.label)})}updateDraggable(e){return this._markers.get(e).then(i=>i.setDraggable(e.draggable))}updateIcon(e){return this._markers.get(e).then(i=>i.setIcon(e.iconUrl))}updateOpacity(e){return this._markers.get(e).then(i=>i.setOpacity(e.opacity))}updateVisible(e){return this._markers.get(e).then(i=>i.setVisible(e.visible))}updateZIndex(e){return this._markers.get(e).then(i=>i.setZIndex(e.zIndex))}updateClickable(e){return this._markers.get(e).then(i=>i.setClickable(e.clickable))}updateAnimation(e){return Pu(this,void 0,void 0,function*(){(yield this._markers.get(e)).setAnimation(yield this.convertAnimation(e.animation))})}addMarker(e){const i=new Promise(r=>Pu(this,void 0,void 0,function*(){return this._mapsWrapper.createMarker({position:{lat:e.latitude,lng:e.longitude},label:e.label,draggable:e.draggable,icon:e.iconUrl,opacity:e.opacity,visible:e.visible,zIndex:e.zIndex,title:e.title,clickable:e.clickable,animation:yield this.convertAnimation(e.animation)}).then(r)}));this._markers.set(e,i)}getNativeMarker(e){return this._markers.get(e)}createEventObservable(e,i){return new Ei.y(r=>{this._markers.get(i).then(s=>{s.addListener(e,a=>this._zone.run(()=>r.next(a)))})})}};return n.\u0275fac=function(e){return new(e||n)(o.LFG(po),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:function(t){return n.\u0275fac(t)}}),n=ae([se("design:paramtypes",[po,o.R0b])],n),n})(),Ah=(()=>{let n=class{constructor(e,i,r){this._mapsWrapper=e,this._zone=i,this._markerManager=r,this._infoWindows=new Map}deleteInfoWindow(e){const i=this._infoWindows.get(e);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.close(),this._infoWindows.delete(e)}))}setPosition(e){return this._infoWindows.get(e).then(i=>i.setPosition({lat:e.latitude,lng:e.longitude}))}setZIndex(e){return this._infoWindows.get(e).then(i=>i.setZIndex(e.zIndex))}open(e){return this._infoWindows.get(e).then(i=>null!=e.hostMarker?this._markerManager.getNativeMarker(e.hostMarker).then(r=>this._mapsWrapper.getNativeMap().then(s=>i.open(s,r))):this._mapsWrapper.getNativeMap().then(r=>i.open(r)))}close(e){return this._infoWindows.get(e).then(i=>i.close())}setOptions(e,i){return this._infoWindows.get(e).then(r=>r.setOptions(i))}addInfoWindow(e){const i={content:e.content,maxWidth:e.maxWidth,zIndex:e.zIndex,disableAutoPan:e.disableAutoPan};"number"==typeof e.latitude&&"number"==typeof e.longitude&&(i.position={lat:e.latitude,lng:e.longitude});const r=this._mapsWrapper.createInfoWindow(i);this._infoWindows.set(e,r)}createEventObservable(e,i){return new Ei.y(r=>{this._infoWindows.get(i).then(s=>{s.addListener(e,a=>this._zone.run(()=>r.next(a)))})})}};return n.\u0275fac=function(e){return new(e||n)(o.LFG(po),o.LFG(o.R0b),o.LFG(sg))},n.\u0275prov=o.Yz7({token:n,factory:function(t){return n.\u0275fac(t)}}),n=ae([se("design:paramtypes",[po,o.R0b,sg])],n),n})();var vb;let tB=0,ps=vb=class{constructor(t,e){this._infoWindowManager=t,this._el=e,this.isOpen=!1,this.infoWindowClose=new o.vpe,this._infoWindowAddedToManager=!1,this._id=(tB++).toString()}ngOnInit(){this.content=this._el.nativeElement.querySelector(".agm-info-window-content"),this._infoWindowManager.addInfoWindow(this),this._infoWindowAddedToManager=!0,this._updateOpenState(),this._registerEventListeners()}ngOnChanges(t){this._infoWindowAddedToManager&&((t.latitude||t.longitude)&&"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._infoWindowManager.setPosition(this),t.zIndex&&this._infoWindowManager.setZIndex(this),t.isOpen&&this._updateOpenState(),this._setInfoWindowOptions(t))}_registerEventListeners(){this._infoWindowManager.createEventObservable("closeclick",this).subscribe(()=>{this.isOpen=!1,this.infoWindowClose.emit()})}_updateOpenState(){this.isOpen?this.open():this.close()}_setInfoWindowOptions(t){let e={};Object.keys(t).filter(r=>-1!==vb._infoWindowOptionsInputs.indexOf(r)).forEach(r=>{e[r]=t[r].currentValue}),this._infoWindowManager.setOptions(this,e)}open(){return this._infoWindowManager.open(this)}close(){return this._infoWindowManager.close(this).then(()=>{this.infoWindowClose.emit()})}id(){return this._id}toString(){return"AgmInfoWindow-"+this._id.toString()}ngOnDestroy(){this._infoWindowManager.deleteInfoWindow(this)}};ps.\u0275fac=function(t){return new(t||ps)(o.Y36(Ah),o.Y36(o.SBq))},ps.\u0275cmp=o.Xpm({type:ps,selectors:[["agm-info-window"]],inputs:{isOpen:"isOpen",latitude:"latitude",longitude:"longitude",disableAutoPan:"disableAutoPan",zIndex:"zIndex",maxWidth:"maxWidth"},outputs:{infoWindowClose:"infoWindowClose"},features:[o.TTD],ngContentSelectors:hk,decls:2,vars:0,consts:[[1,"agm-info-window-content"]],template:function(t,e){1&t&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},encapsulation:2}),ps._infoWindowOptionsInputs=["disableAutoPan","maxWidth"],ps.ctorParameters=()=>[{type:Ah},{type:o.SBq}],ae([(0,o.IIB)(),se("design:type",Number)],ps.prototype,"latitude",void 0),ae([(0,o.IIB)(),se("design:type",Number)],ps.prototype,"longitude",void 0),ae([(0,o.IIB)(),se("design:type",Boolean)],ps.prototype,"disableAutoPan",void 0),ae([(0,o.IIB)(),se("design:type",Number)],ps.prototype,"zIndex",void 0),ae([(0,o.IIB)(),se("design:type",Number)],ps.prototype,"maxWidth",void 0),ae([(0,o.IIB)(),se("design:type",Object)],ps.prototype,"isOpen",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],ps.prototype,"infoWindowClose",void 0),ps=vb=ae([se("design:paramtypes",[Ah,o.SBq])],ps);let ny=(()=>{let n=class{constructor(e,i){this._wrapper=e,this._zone=i,this._layers=new Map}addKmlLayer(e){const i=this._wrapper.getNativeMap().then(r=>new google.maps.KmlLayer({clickable:e.clickable,map:r,preserveViewport:e.preserveViewport,screenOverlays:e.screenOverlays,suppressInfoWindows:e.suppressInfoWindows,url:e.url,zIndex:e.zIndex}));this._layers.set(e,i)}setOptions(e,i){this._layers.get(e).then(r=>r.setOptions(i))}deleteKmlLayer(e){this._layers.get(e).then(i=>{i.setMap(null),this._layers.delete(e)})}createEventObservable(e,i){return new Ei.y(r=>{this._layers.get(i).then(s=>{s.addListener(e,a=>this._zone.run(()=>r.next(a)))})})}};return n.\u0275fac=function(e){return new(e||n)(o.LFG(po),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:function(t){return n.\u0275fac(t)}}),n=ae([se("design:paramtypes",[po,o.R0b])],n),n})();var yb;let pk=0,gs=yb=class{constructor(t){this._manager=t,this._addedToManager=!1,this._id=(pk++).toString(),this._subscriptions=[],this.clickable=!0,this.preserveViewport=!1,this.screenOverlays=!0,this.suppressInfoWindows=!1,this.url=null,this.zIndex=null,this.layerClick=new o.vpe,this.defaultViewportChange=new o.vpe,this.statusChange=new o.vpe}ngOnInit(){this._addedToManager||(this._manager.addKmlLayer(this),this._addedToManager=!0,this._addEventListeners())}ngOnChanges(t){this._addedToManager&&this._updatePolygonOptions(t)}_updatePolygonOptions(t){const e=Object.keys(t).filter(i=>-1!==yb._kmlLayerOptions.indexOf(i)).reduce((i,r)=>(i[r]=t[r].currentValue,i),{});Object.keys(e).length>0&&this._manager.setOptions(this,e)}_addEventListeners(){[{name:"click",handler:e=>this.layerClick.emit(e)},{name:"defaultviewport_changed",handler:()=>this.defaultViewportChange.emit()},{name:"status_changed",handler:()=>this.statusChange.emit()}].forEach(e=>{const i=this._manager.createEventObservable(e.name,this).subscribe(e.handler);this._subscriptions.push(i)})}id(){return this._id}toString(){return`AgmKmlLayer-${this._id.toString()}`}ngOnDestroy(){this._manager.deleteKmlLayer(this),this._subscriptions.forEach(t=>t.unsubscribe())}};function wb(n){const t=["insert_at","remove_at","set_at"];return I1(e=>t.map(i=>n.addListener(i,(r,s)=>e.apply(n,[{newArr:n.getArray(),evName:i,index:r,previous:s}]))),(e,i)=>i.forEach(r=>r.remove()))}gs.\u0275fac=function(t){return new(t||gs)(o.Y36(ny))},gs.\u0275dir=o.lG2({type:gs,selectors:[["agm-kml-layer"]],inputs:{clickable:"clickable",preserveViewport:"preserveViewport",screenOverlays:"screenOverlays",suppressInfoWindows:"suppressInfoWindows",url:"url",zIndex:"zIndex"},outputs:{layerClick:"layerClick",defaultViewportChange:"defaultViewportChange",statusChange:"statusChange"},features:[o.TTD]}),gs._kmlLayerOptions=["clickable","preserveViewport","screenOverlays","suppressInfoWindows","url","zIndex"],gs.ctorParameters=()=>[{type:ny}],ae([(0,o.IIB)(),se("design:type",Object)],gs.prototype,"clickable",void 0),ae([(0,o.IIB)(),se("design:type",Object)],gs.prototype,"preserveViewport",void 0),ae([(0,o.IIB)(),se("design:type",Object)],gs.prototype,"screenOverlays",void 0),ae([(0,o.IIB)(),se("design:type",Object)],gs.prototype,"suppressInfoWindows",void 0),ae([(0,o.IIB)(),se("design:type",String)],gs.prototype,"url",void 0),ae([(0,o.IIB)(),se("design:type",Number)],gs.prototype,"zIndex",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],gs.prototype,"layerClick",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],gs.prototype,"defaultViewportChange",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],gs.prototype,"statusChange",void 0),gs=yb=ae([se("design:paramtypes",[ny])],gs);let Xm=(()=>{let n=class{constructor(e,i){this._mapsWrapper=e,this._zone=i,this._polygons=new Map}addPolygon(e){const i=this._mapsWrapper.createPolygon({clickable:e.clickable,draggable:e.draggable,editable:e.editable,fillColor:e.fillColor,fillOpacity:e.fillOpacity,geodesic:e.geodesic,paths:e.paths,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight,visible:e.visible,zIndex:e.zIndex});this._polygons.set(e,i)}updatePolygon(e){const i=this._polygons.get(e);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.setPaths(e.paths)}))}setPolygonOptions(e,i){return this._polygons.get(e).then(r=>{r.setOptions(i)})}deletePolygon(e){const i=this._polygons.get(e);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.setMap(null),this._polygons.delete(e)}))}getPath(e){return this._polygons.get(e).then(i=>i.getPath().getArray())}getPaths(e){return this._polygons.get(e).then(i=>i.getPaths().getArray().map(r=>r.getArray()))}createEventObservable(e,i){return new Ei.y(r=>{this._polygons.get(i).then(s=>{s.addListener(e,a=>this._zone.run(()=>r.next(a)))})})}createPathEventObservable(e){return Pu(this,void 0,void 0,function*(){const r=(yield this._polygons.get(e)).getPaths();return wb(r).pipe(pa({newArr:r.getArray()}),Mi(a=>(0,Qv.T)(...a.newArr.map((c,h)=>wb(c).pipe((0,qt.U)(p=>({parentMVEvent:a,chMVCEvent:p,pathIndex:h}))))).pipe(pa({parentMVEvent:a,chMVCEvent:null,pathIndex:null}))),function uk(n){return es((t,e)=>n<=e)}(1),(0,qt.U)(({parentMVEvent:a,chMVCEvent:c,pathIndex:h})=>{let p;return c?(p={newArr:a.newArr.map(v=>v.getArray().map(b=>b.toJSON())),pathIndex:h,eventName:c.evName,index:c.index},c.previous&&(p.previous=c.previous)):(p={newArr:a.newArr.map(v=>v.getArray().map(b=>b.toJSON())),eventName:a.evName,index:a.index},a.previous&&(p.previous=a.previous.getArray())),p}))})}};return n.\u0275fac=function(e){return new(e||n)(o.LFG(po),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:function(t){return n.\u0275fac(t)}}),n=ae([se("design:paramtypes",[po,o.R0b])],n),n})();var Cd;let oc=Cd=class{constructor(t,e){this._mapsWrapper=t,this._zone=e,this._polylines=new Map}static _convertPoints(t){return t._getPoints().map(i=>({lat:i.latitude,lng:i.longitude}))}static _convertPath(t){const e=google.maps.SymbolPath[t];return"number"==typeof e?e:t}static _convertIcons(t){const e=t._getIcons().map(i=>({fixedRotation:i.fixedRotation,offset:i.offset,repeat:i.repeat,icon:{anchor:new google.maps.Point(i.anchorX,i.anchorY),fillColor:i.fillColor,fillOpacity:i.fillOpacity,path:Cd._convertPath(i.path),rotation:i.rotation,scale:i.scale,strokeColor:i.strokeColor,strokeOpacity:i.strokeOpacity,strokeWeight:i.strokeWeight}}));return e.forEach(i=>{Object.entries(i).forEach(([r,s])=>{typeof s>"u"&&delete i[r]}),(typeof i.icon.anchor.x>"u"||typeof i.icon.anchor.y>"u")&&delete i.icon.anchor}),e}addPolyline(t){const e=this._mapsWrapper.getNativeMap().then(()=>[Cd._convertPoints(t),Cd._convertIcons(t)]).then(([i,r])=>this._mapsWrapper.createPolyline({clickable:t.clickable,draggable:t.draggable,editable:t.editable,geodesic:t.geodesic,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex,path:i,icons:r}));this._polylines.set(t,e)}updatePolylinePoints(t){const e=Cd._convertPoints(t),i=this._polylines.get(t);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.setPath(e)}))}updateIconSequences(t){return Pu(this,void 0,void 0,function*(){yield this._mapsWrapper.getNativeMap();const e=Cd._convertIcons(t),i=this._polylines.get(t);if(null!=i)return i.then(r=>this._zone.run(()=>r.setOptions({icons:e})))})}setPolylineOptions(t,e){return this._polylines.get(t).then(i=>{i.setOptions(e)})}deletePolyline(t){const e=this._polylines.get(t);return null==e?Promise.resolve():e.then(i=>this._zone.run(()=>{i.setMap(null),this._polylines.delete(t)}))}getMVCPath(t){return Pu(this,void 0,void 0,function*(){return(yield this._polylines.get(t)).getPath()})}getPath(t){return Pu(this,void 0,void 0,function*(){return(yield this.getMVCPath(t)).getArray()})}createEventObservable(t,e){return new Ei.y(i=>{this._polylines.get(e).then(r=>{r.addListener(t,s=>this._zone.run(()=>i.next(s)))})})}createPathEventObservable(t){return Pu(this,void 0,void 0,function*(){return wb(yield this.getMVCPath(t))})}};oc.\u0275fac=function(t){return new(t||oc)(o.LFG(po),o.LFG(o.R0b))},oc.\u0275prov=o.Yz7({token:oc,factory:function(n){return oc.\u0275fac(n)}}),oc.ctorParameters=()=>[{type:po},{type:o.R0b}],oc=Cd=ae([se("design:paramtypes",[po,o.R0b])],oc);let ag=(()=>{let n=class{constructor(e,i){this._apiWrapper=e,this._zone=i,this._rectangles=new Map}addRectangle(e){this._rectangles.set(e,this._apiWrapper.createRectangle({bounds:{north:e.north,east:e.east,south:e.south,west:e.west},clickable:e.clickable,draggable:e.draggable,editable:e.editable,fillColor:e.fillColor,fillOpacity:e.fillOpacity,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokePosition:e.strokePosition,strokeWeight:e.strokeWeight,visible:e.visible,zIndex:e.zIndex}))}removeRectangle(e){return this._rectangles.get(e).then(i=>{i.setMap(null),this._rectangles.delete(e)})}setOptions(e,i){return this._rectangles.get(e).then(r=>r.setOptions(i))}getBounds(e){return this._rectangles.get(e).then(i=>i.getBounds())}setBounds(e){return this._rectangles.get(e).then(i=>i.setBounds({north:e.north,east:e.east,south:e.south,west:e.west}))}setEditable(e){return this._rectangles.get(e).then(i=>i.setEditable(e.editable))}setDraggable(e){return this._rectangles.get(e).then(i=>i.setDraggable(e.draggable))}setVisible(e){return this._rectangles.get(e).then(i=>i.setVisible(e.visible))}createEventObservable(e,i){return Ei.y.create(r=>{let s=null;return this._rectangles.get(i).then(a=>{s=a.addListener(e,c=>this._zone.run(()=>r.next(c)))}),()=>{null!==s&&s.remove()}})}};return n.\u0275fac=function(e){return new(e||n)(o.LFG(po),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:function(t){return n.\u0275fac(t)}}),n=ae([se("design:paramtypes",[po,o.R0b])],n),n})();var bb;let vn=bb=class{constructor(t,e,i,r,s){this._elem=t,this._mapsWrapper=e,this._platformId=i,this._fitBoundsService=r,this._zone=s,this.longitude=0,this.latitude=0,this.zoom=8,this.draggable=!0,this.disableDoubleClickZoom=!1,this.disableDefaultUI=!1,this.scrollwheel=!0,this.keyboardShortcuts=!0,this.styles=[],this.usePanning=!1,this.fitBounds=!1,this.scaleControl=!1,this.mapTypeControl=!1,this.panControl=!1,this.rotateControl=!1,this.fullscreenControl=!1,this.mapTypeId="roadmap",this.clickableIcons=!0,this.showDefaultInfoWindow=!0,this.gestureHandling="auto",this.tilt=0,this._observableSubscriptions=[],this.mapClick=new o.vpe,this.mapRightClick=new o.vpe,this.mapDblClick=new o.vpe,this.centerChange=new o.vpe,this.boundsChange=new o.vpe,this.mapTypeIdChange=new o.vpe,this.idle=new o.vpe,this.zoomChange=new o.vpe,this.mapReady=new o.vpe,this.tilesLoaded=new o.vpe}ngOnInit(){if(ol(this._platformId))return;const t=this._elem.nativeElement.querySelector(".agm-map-container-inner");this._initMapInstance(t)}_initMapInstance(t){this._mapsWrapper.createMap(t,{center:{lat:this.latitude||0,lng:this.longitude||0},zoom:this.zoom,minZoom:this.minZoom,maxZoom:this.maxZoom,controlSize:this.controlSize,disableDefaultUI:this.disableDefaultUI,disableDoubleClickZoom:this.disableDoubleClickZoom,scrollwheel:this.scrollwheel,backgroundColor:this.backgroundColor,draggable:this.draggable,draggableCursor:this.draggableCursor,draggingCursor:this.draggingCursor,keyboardShortcuts:this.keyboardShortcuts,styles:this.styles,zoomControl:this.zoomControl,zoomControlOptions:this.zoomControlOptions,streetViewControl:this.streetViewControl,streetViewControlOptions:this.streetViewControlOptions,scaleControl:this.scaleControl,scaleControlOptions:this.scaleControlOptions,mapTypeControl:this.mapTypeControl,mapTypeControlOptions:this.mapTypeControlOptions,panControl:this.panControl,panControlOptions:this.panControlOptions,rotateControl:this.rotateControl,rotateControlOptions:this.rotateControlOptions,fullscreenControl:this.fullscreenControl,fullscreenControlOptions:this.fullscreenControlOptions,mapTypeId:this.mapTypeId,clickableIcons:this.clickableIcons,gestureHandling:this.gestureHandling,tilt:this.tilt,restriction:this.restriction}).then(()=>this._mapsWrapper.getNativeMap()).then(e=>this.mapReady.emit(e)),this._handleMapCenterChange(),this._handleMapZoomChange(),this._handleMapMouseEvents(),this._handleBoundsChange(),this._handleMapTypeIdChange(),this._handleTilesLoadedEvent(),this._handleIdleEvent()}ngOnDestroy(){this._observableSubscriptions.forEach(t=>t.unsubscribe()),this._mapsWrapper.clearInstanceListeners(),this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe()}ngOnChanges(t){this._updateMapOptionsChanges(t),this._updatePosition(t)}_updateMapOptionsChanges(t){let e={};Object.keys(t).filter(r=>-1!==bb._mapOptionsAttributes.indexOf(r)).forEach(r=>{e[r]=t[r].currentValue}),this._mapsWrapper.setMapOptions(e)}triggerResize(t=!0){return new Promise(e=>{setTimeout(()=>this._mapsWrapper.triggerMapEvent("resize").then(()=>{t&&(null!=this.fitBounds?this._fitBounds():this._setCenter()),e()}))})}_updatePosition(t){if(null!=t.latitude||null!=t.longitude||t.fitBounds){if("fitBounds"in t)return void this._fitBounds();"number"!=typeof this.latitude||"number"!=typeof this.longitude||this._setCenter()}}_setCenter(){let t={lat:this.latitude,lng:this.longitude};this.usePanning?this._mapsWrapper.panTo(t):this._mapsWrapper.setCenter(t)}_fitBounds(){switch(this.fitBounds){case!0:this._subscribeToFitBoundsUpdates();break;case!1:this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe();break;default:this._updateBounds(this.fitBounds,this.fitBoundsPadding)}}_subscribeToFitBoundsUpdates(){this._zone.runOutsideAngular(()=>{this._fitBoundsSubscription=this._fitBoundsService.getBounds$().subscribe(t=>{this._zone.run(()=>this._updateBounds(t,this.fitBoundsPadding))})})}_updateBounds(t,e){if(t){if(this._isLatLngBoundsLiteral(t)&&typeof google<"u"&&google&&google.maps&&google.maps.LatLngBounds){const i=new google.maps.LatLngBounds;i.union(t),t=i}if(this.usePanning)return void this._mapsWrapper.panToBounds(t,e);this._mapsWrapper.fitBounds(t,e)}}_isLatLngBoundsLiteral(t){return null!=t&&void 0===t.extend}_handleMapCenterChange(){const t=this._mapsWrapper.subscribeToMapEvent("center_changed").subscribe(()=>{this._mapsWrapper.getCenter().then(e=>{this.latitude=e.lat(),this.longitude=e.lng(),this.centerChange.emit({lat:this.latitude,lng:this.longitude})})});this._observableSubscriptions.push(t)}_handleBoundsChange(){const t=this._mapsWrapper.subscribeToMapEvent("bounds_changed").subscribe(()=>{this._mapsWrapper.getBounds().then(e=>{this.boundsChange.emit(e)})});this._observableSubscriptions.push(t)}_handleMapTypeIdChange(){const t=this._mapsWrapper.subscribeToMapEvent("maptypeid_changed").subscribe(()=>{this._mapsWrapper.getMapTypeId().then(e=>{this.mapTypeIdChange.emit(e)})});this._observableSubscriptions.push(t)}_handleMapZoomChange(){const t=this._mapsWrapper.subscribeToMapEvent("zoom_changed").subscribe(()=>{this._mapsWrapper.getZoom().then(e=>{this.zoom=e,this.zoomChange.emit(e)})});this._observableSubscriptions.push(t)}_handleIdleEvent(){const t=this._mapsWrapper.subscribeToMapEvent("idle").subscribe(()=>{this.idle.emit(void 0)});this._observableSubscriptions.push(t)}_handleTilesLoadedEvent(){const t=this._mapsWrapper.subscribeToMapEvent("tilesloaded").subscribe(()=>this.tilesLoaded.emit(void 0));this._observableSubscriptions.push(t)}_handleMapMouseEvents(){[{name:"click",emitter:this.mapClick},{name:"rightclick",emitter:this.mapRightClick},{name:"dblclick",emitter:this.mapDblClick}].forEach(e=>{const i=this._mapsWrapper.subscribeToMapEvent(e.name).subscribe(r=>{let s={coords:{lat:r.latLng.lat(),lng:r.latLng.lng()},placeId:r.placeId};s.placeId&&!this.showDefaultInfoWindow&&r.stop(),e.emitter.emit(s)});this._observableSubscriptions.push(i)})}};var Cb;vn.\u0275fac=function(t){return new(t||vn)(o.Y36(o.SBq),o.Y36(po),o.Y36(o.Lbi),o.Y36(Rf),o.Y36(o.R0b))},vn.\u0275cmp=o.Xpm({type:vn,selectors:[["agm-map"]],hostVars:2,hostBindings:function(t,e){2&t&&o.ekj("sebm-google-map-container",!0)},inputs:{longitude:"longitude",latitude:"latitude",zoom:"zoom",draggable:["mapDraggable","draggable"],disableDoubleClickZoom:"disableDoubleClickZoom",disableDefaultUI:"disableDefaultUI",scrollwheel:"scrollwheel",keyboardShortcuts:"keyboardShortcuts",styles:"styles",usePanning:"usePanning",fitBounds:"fitBounds",scaleControl:"scaleControl",mapTypeControl:"mapTypeControl",panControl:"panControl",rotateControl:"rotateControl",fullscreenControl:"fullscreenControl",mapTypeId:"mapTypeId",clickableIcons:"clickableIcons",showDefaultInfoWindow:"showDefaultInfoWindow",gestureHandling:"gestureHandling",tilt:"tilt",minZoom:"minZoom",maxZoom:"maxZoom",controlSize:"controlSize",backgroundColor:"backgroundColor",draggableCursor:"draggableCursor",draggingCursor:"draggingCursor",zoomControl:"zoomControl",zoomControlOptions:"zoomControlOptions",streetViewControl:"streetViewControl",streetViewControlOptions:"streetViewControlOptions",fitBoundsPadding:"fitBoundsPadding",scaleControlOptions:"scaleControlOptions",mapTypeControlOptions:"mapTypeControlOptions",panControlOptions:"panControlOptions",rotateControlOptions:"rotateControlOptions",fullscreenControlOptions:"fullscreenControlOptions",restriction:"restriction"},outputs:{mapClick:"mapClick",mapRightClick:"mapRightClick",mapDblClick:"mapDblClick",centerChange:"centerChange",boundsChange:"boundsChange",mapTypeIdChange:"mapTypeIdChange",idle:"idle",zoomChange:"zoomChange",mapReady:"mapReady",tilesLoaded:"tilesLoaded"},features:[o._Bn([Ym,Sh,Sh,Rf,po,Ah,ny,rg,sg,Xm,oc,ag]),o.TTD],ngContentSelectors:hk,decls:3,vars:0,consts:[[1,"agm-map-container-inner","sebm-google-map-container-inner"],[1,"agm-map-content"]],template:function(t,e){1&t&&(o.F$t(),o._UZ(0,"div",0),o.TgZ(1,"div",1),o.Hsn(2),o.qZA())},styles:[".agm-map-container-inner[_ngcontent-%COMP%] {\n      width: inherit;\n      height: inherit;\n    }\n    .agm-map-content[_ngcontent-%COMP%] {\n      display:none;\n    }"]}),vn._mapOptionsAttributes=["disableDoubleClickZoom","scrollwheel","draggable","draggableCursor","draggingCursor","keyboardShortcuts","zoomControl","zoomControlOptions","styles","streetViewControl","streetViewControlOptions","zoom","mapTypeControl","mapTypeControlOptions","minZoom","maxZoom","panControl","panControlOptions","rotateControl","rotateControlOptions","fullscreenControl","fullscreenControlOptions","scaleControl","scaleControlOptions","mapTypeId","clickableIcons","gestureHandling","tilt","restriction"],vn.ctorParameters=()=>[{type:o.SBq},{type:po},{type:Object,decorators:[{type:o.tBr,args:[o.Lbi]}]},{type:Rf},{type:o.R0b}],ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"longitude",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"latitude",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"zoom",void 0),ae([(0,o.IIB)(),se("design:type",Number)],vn.prototype,"minZoom",void 0),ae([(0,o.IIB)(),se("design:type",Number)],vn.prototype,"maxZoom",void 0),ae([(0,o.IIB)(),se("design:type",Number)],vn.prototype,"controlSize",void 0),ae([(0,o.IIB)("mapDraggable"),se("design:type",Object)],vn.prototype,"draggable",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"disableDoubleClickZoom",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"disableDefaultUI",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"scrollwheel",void 0),ae([(0,o.IIB)(),se("design:type",String)],vn.prototype,"backgroundColor",void 0),ae([(0,o.IIB)(),se("design:type",String)],vn.prototype,"draggableCursor",void 0),ae([(0,o.IIB)(),se("design:type",String)],vn.prototype,"draggingCursor",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"keyboardShortcuts",void 0),ae([(0,o.IIB)(),se("design:type",Boolean)],vn.prototype,"zoomControl",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"zoomControlOptions",void 0),ae([(0,o.IIB)(),se("design:type",Array)],vn.prototype,"styles",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"usePanning",void 0),ae([(0,o.IIB)(),se("design:type",Boolean)],vn.prototype,"streetViewControl",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"streetViewControlOptions",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"fitBounds",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"fitBoundsPadding",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"scaleControl",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"scaleControlOptions",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"mapTypeControl",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"mapTypeControlOptions",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"panControl",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"panControlOptions",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"rotateControl",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"rotateControlOptions",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"fullscreenControl",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"fullscreenControlOptions",void 0),ae([(0,o.IIB)(),se("design:type",String)],vn.prototype,"mapTypeId",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"clickableIcons",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"showDefaultInfoWindow",void 0),ae([(0,o.IIB)(),se("design:type",String)],vn.prototype,"gestureHandling",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"tilt",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vn.prototype,"restriction",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vn.prototype,"mapClick",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vn.prototype,"mapRightClick",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vn.prototype,"mapDblClick",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vn.prototype,"centerChange",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vn.prototype,"boundsChange",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vn.prototype,"mapTypeIdChange",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vn.prototype,"idle",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vn.prototype,"zoomChange",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vn.prototype,"mapReady",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vn.prototype,"tilesLoaded",void 0),vn=bb=ae([Of(2,(0,o.tBr)(o.Lbi)),se("design:paramtypes",[o.SBq,po,Object,Rf,o.R0b])],vn);let gk=0,ji=Cb=class{constructor(t){this._markerManager=t,this.draggable=!1,this.visible=!0,this.openInfoWindow=!0,this.opacity=1,this.zIndex=1,this.clickable=!0,this.animationChange=new o.vpe,this.markerClick=new o.vpe,this.markerDblClick=new o.vpe,this.markerRightClick=new o.vpe,this.dragStart=new o.vpe,this.drag=new o.vpe,this.dragEnd=new o.vpe,this.mouseOver=new o.vpe,this.mouseOut=new o.vpe,this.infoWindow=new o.n_E,this._markerAddedToManger=!1,this._observableSubscriptions=[],this._fitBoundsDetails$=new ub(1),this._id=(gk++).toString()}ngAfterContentInit(){this.handleInfoWindowUpdate(),this.infoWindow.changes.subscribe(()=>this.handleInfoWindowUpdate())}handleInfoWindowUpdate(){if(this.infoWindow.length>1)throw new Error("Expected no more than one info window.");this.infoWindow.forEach(t=>{t.hostMarker=this})}ngOnChanges(t){if("string"==typeof this.latitude&&(this.latitude=Number(this.latitude)),"string"==typeof this.longitude&&(this.longitude=Number(this.longitude)),"number"==typeof this.latitude&&"number"==typeof this.longitude){if(!this._markerAddedToManger)return this._markerManager.addMarker(this),this._updateFitBoundsDetails(),this._markerAddedToManger=!0,void this._addEventListeners();(t.latitude||t.longitude)&&(this._markerManager.updateMarkerPosition(this),this._updateFitBoundsDetails()),t.title&&this._markerManager.updateTitle(this),t.label&&this._markerManager.updateLabel(this),t.draggable&&this._markerManager.updateDraggable(this),t.iconUrl&&this._markerManager.updateIcon(this),t.opacity&&this._markerManager.updateOpacity(this),t.visible&&this._markerManager.updateVisible(this),t.zIndex&&this._markerManager.updateZIndex(this),t.clickable&&this._markerManager.updateClickable(this),t.animation&&this._markerManager.updateAnimation(this)}}getFitBoundsDetails$(){return this._fitBoundsDetails$.asObservable()}_updateFitBoundsDetails(){this._fitBoundsDetails$.next({latLng:{lat:this.latitude,lng:this.longitude}})}_addEventListeners(){const t=this._markerManager.createEventObservable("click",this).subscribe(()=>{this.openInfoWindow&&this.infoWindow.forEach(v=>v.open()),this.markerClick.emit(this)});this._observableSubscriptions.push(t);const e=this._markerManager.createEventObservable("dblclick",this).subscribe(()=>{this.markerDblClick.emit(null)});this._observableSubscriptions.push(e);const i=this._markerManager.createEventObservable("rightclick",this).subscribe(()=>{this.markerRightClick.emit(null)});this._observableSubscriptions.push(i);const r=this._markerManager.createEventObservable("dragstart",this).subscribe(v=>{this.dragStart.emit({coords:{lat:v.latLng.lat(),lng:v.latLng.lng()}})});this._observableSubscriptions.push(r);const s=this._markerManager.createEventObservable("drag",this).subscribe(v=>{this.drag.emit({coords:{lat:v.latLng.lat(),lng:v.latLng.lng()}})});this._observableSubscriptions.push(s);const a=this._markerManager.createEventObservable("dragend",this).subscribe(v=>{this.dragEnd.emit({coords:{lat:v.latLng.lat(),lng:v.latLng.lng()}})});this._observableSubscriptions.push(a);const c=this._markerManager.createEventObservable("mouseover",this).subscribe(v=>{this.mouseOver.emit({coords:{lat:v.latLng.lat(),lng:v.latLng.lng()}})});this._observableSubscriptions.push(c);const h=this._markerManager.createEventObservable("mouseout",this).subscribe(v=>{this.mouseOut.emit({coords:{lat:v.latLng.lat(),lng:v.latLng.lng()}})});this._observableSubscriptions.push(h);const p=this._markerManager.createEventObservable("animation_changed",this).subscribe(()=>{this.animationChange.emit(this.animation)});this._observableSubscriptions.push(p)}id(){return this._id}toString(){return"AgmMarker-"+this._id.toString()}ngOnDestroy(){this._markerManager.deleteMarker(this),this._observableSubscriptions.forEach(t=>t.unsubscribe())}};var Eb;ji.\u0275fac=function(t){return new(t||ji)(o.Y36(sg))},ji.\u0275dir=o.lG2({type:ji,selectors:[["agm-marker"]],contentQueries:function(t,e,i){if(1&t&&o.Suo(i,ps,4),2&t){let r;o.iGM(r=o.CRH())&&(e.infoWindow=r)}},inputs:{latitude:"latitude",longitude:"longitude",title:"title",label:"label",draggable:["markerDraggable","draggable"],iconUrl:"iconUrl",openInfoWindow:"openInfoWindow",opacity:"opacity",visible:"visible",zIndex:"zIndex",animation:"animation",clickable:["markerClickable","clickable"]},outputs:{markerClick:"markerClick",dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",mouseOver:"mouseOver",mouseOut:"mouseOut",animationChange:"animationChange",markerDblClick:"markerDblClick",markerRightClick:"markerRightClick"},features:[o._Bn([{provide:Jm,useExisting:(0,o.Gpc)(()=>Cb)}]),o.TTD]}),ji.ctorParameters=()=>[{type:sg}],ae([(0,o.IIB)(),se("design:type",Number)],ji.prototype,"latitude",void 0),ae([(0,o.IIB)(),se("design:type",Number)],ji.prototype,"longitude",void 0),ae([(0,o.IIB)(),se("design:type",String)],ji.prototype,"title",void 0),ae([(0,o.IIB)(),se("design:type",Object)],ji.prototype,"label",void 0),ae([(0,o.IIB)("markerDraggable"),se("design:type",Object)],ji.prototype,"draggable",void 0),ae([(0,o.IIB)(),se("design:type",String)],ji.prototype,"iconUrl",void 0),ae([(0,o.IIB)(),se("design:type",Object)],ji.prototype,"visible",void 0),ae([(0,o.IIB)(),se("design:type",Object)],ji.prototype,"openInfoWindow",void 0),ae([(0,o.IIB)(),se("design:type",Object)],ji.prototype,"opacity",void 0),ae([(0,o.IIB)(),se("design:type",Object)],ji.prototype,"zIndex",void 0),ae([(0,o.IIB)("markerClickable"),se("design:type",Object)],ji.prototype,"clickable",void 0),ae([(0,o.IIB)(),se("design:type",String)],ji.prototype,"animation",void 0),ae([(0,o.r_U)(),se("design:type",Object)],ji.prototype,"animationChange",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],ji.prototype,"markerClick",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],ji.prototype,"markerDblClick",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],ji.prototype,"markerRightClick",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],ji.prototype,"dragStart",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],ji.prototype,"drag",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],ji.prototype,"dragEnd",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],ji.prototype,"mouseOver",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],ji.prototype,"mouseOut",void 0),ae([(0,o.AcB)(ps),se("design:type",o.n_E)],ji.prototype,"infoWindow",void 0),ji=Cb=ae([se("design:paramtypes",[sg])],ji);let Pi=Eb=class{constructor(t){this._polygonManager=t,this.clickable=!0,this.draggable=!1,this.editable=!1,this.geodesic=!1,this.paths=[],this.polyClick=new o.vpe,this.polyDblClick=new o.vpe,this.polyDrag=new o.vpe,this.polyDragEnd=new o.vpe,this.polyDragStart=new o.vpe,this.polyMouseDown=new o.vpe,this.polyMouseMove=new o.vpe,this.polyMouseOut=new o.vpe,this.polyMouseOver=new o.vpe,this.polyMouseUp=new o.vpe,this.polyRightClick=new o.vpe,this.polyPathsChange=new o.vpe,this._polygonAddedToManager=!1,this._subscriptions=[]}ngAfterContentInit(){this._polygonAddedToManager||this._init()}ngOnChanges(t){this._polygonAddedToManager?this._polygonManager.setPolygonOptions(this,this._updatePolygonOptions(t)):this._init()}_init(){this._polygonManager.addPolygon(this),this._polygonAddedToManager=!0,this._addEventListeners()}_addEventListeners(){[{name:"click",handler:e=>this.polyClick.emit(e)},{name:"dblclick",handler:e=>this.polyDblClick.emit(e)},{name:"drag",handler:e=>this.polyDrag.emit(e)},{name:"dragend",handler:e=>this.polyDragEnd.emit(e)},{name:"dragstart",handler:e=>this.polyDragStart.emit(e)},{name:"mousedown",handler:e=>this.polyMouseDown.emit(e)},{name:"mousemove",handler:e=>this.polyMouseMove.emit(e)},{name:"mouseout",handler:e=>this.polyMouseOut.emit(e)},{name:"mouseover",handler:e=>this.polyMouseOver.emit(e)},{name:"mouseup",handler:e=>this.polyMouseUp.emit(e)},{name:"rightclick",handler:e=>this.polyRightClick.emit(e)}].forEach(e=>{const i=this._polygonManager.createEventObservable(e.name,this).subscribe(e.handler);this._subscriptions.push(i)}),this._polygonManager.createPathEventObservable(this).then(e=>{const i=e.subscribe(r=>this.polyPathsChange.emit(r));this._subscriptions.push(i)})}_updatePolygonOptions(t){return Object.keys(t).filter(e=>-1!==Eb._polygonOptionsAttributes.indexOf(e)).reduce((e,i)=>(e[i]=t[i].currentValue,e),{})}id(){return this._id}ngOnDestroy(){this._polygonManager.deletePolygon(this),this._subscriptions.forEach(t=>t.unsubscribe())}getPath(){return this._polygonManager.getPath(this)}getPaths(){return this._polygonManager.getPaths(this)}};Pi.\u0275fac=function(t){return new(t||Pi)(o.Y36(Xm))},Pi.\u0275dir=o.lG2({type:Pi,selectors:[["agm-polygon"]],inputs:{clickable:"clickable",draggable:["polyDraggable","draggable"],editable:"editable",geodesic:"geodesic",paths:"paths",fillColor:"fillColor",fillOpacity:"fillOpacity",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",strokeWeight:"strokeWeight",visible:"visible",zIndex:"zIndex"},outputs:{polyClick:"polyClick",polyDblClick:"polyDblClick",polyDrag:"polyDrag",polyDragEnd:"polyDragEnd",polyDragStart:"polyDragStart",polyMouseDown:"polyMouseDown",polyMouseMove:"polyMouseMove",polyMouseOut:"polyMouseOut",polyMouseOver:"polyMouseOver",polyMouseUp:"polyMouseUp",polyRightClick:"polyRightClick",polyPathsChange:"polyPathsChange"},features:[o.TTD]}),Pi._polygonOptionsAttributes=["clickable","draggable","editable","fillColor","fillOpacity","geodesic","icon","map","paths","strokeColor","strokeOpacity","strokeWeight","visible","zIndex","draggable","editable","visible"],Pi.ctorParameters=()=>[{type:Xm}],ae([(0,o.IIB)(),se("design:type",Object)],Pi.prototype,"clickable",void 0),ae([(0,o.IIB)("polyDraggable"),se("design:type",Object)],Pi.prototype,"draggable",void 0),ae([(0,o.IIB)(),se("design:type",Object)],Pi.prototype,"editable",void 0),ae([(0,o.IIB)(),se("design:type",String)],Pi.prototype,"fillColor",void 0),ae([(0,o.IIB)(),se("design:type",Number)],Pi.prototype,"fillOpacity",void 0),ae([(0,o.IIB)(),se("design:type",Object)],Pi.prototype,"geodesic",void 0),ae([(0,o.IIB)(),se("design:type",Array)],Pi.prototype,"paths",void 0),ae([(0,o.IIB)(),se("design:type",String)],Pi.prototype,"strokeColor",void 0),ae([(0,o.IIB)(),se("design:type",Number)],Pi.prototype,"strokeOpacity",void 0),ae([(0,o.IIB)(),se("design:type",Number)],Pi.prototype,"strokeWeight",void 0),ae([(0,o.IIB)(),se("design:type",Boolean)],Pi.prototype,"visible",void 0),ae([(0,o.IIB)(),se("design:type",Number)],Pi.prototype,"zIndex",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Pi.prototype,"polyClick",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Pi.prototype,"polyDblClick",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Pi.prototype,"polyDrag",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Pi.prototype,"polyDragEnd",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Pi.prototype,"polyDragStart",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Pi.prototype,"polyMouseDown",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Pi.prototype,"polyMouseMove",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Pi.prototype,"polyMouseOut",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Pi.prototype,"polyMouseOver",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Pi.prototype,"polyMouseUp",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Pi.prototype,"polyRightClick",void 0),ae([(0,o.r_U)(),se("design:type",Object)],Pi.prototype,"polyPathsChange",void 0),Pi=Eb=ae([se("design:paramtypes",[Xm])],Pi);let iy=(()=>{let n=class{ngOnInit(){if(null==this.path)throw new Error("Icon Sequence path is required")}};return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["agm-icon-sequence"]],inputs:{fixedRotation:"fixedRotation",offset:"offset",repeat:"repeat",anchorX:"anchorX",anchorY:"anchorY",fillColor:"fillColor",fillOpacity:"fillOpacity",path:"path",rotation:"rotation",scale:"scale",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",strokeWeight:"strokeWeight"}}),ae([(0,o.IIB)(),se("design:type",Boolean)],n.prototype,"fixedRotation",void 0),ae([(0,o.IIB)(),se("design:type",String)],n.prototype,"offset",void 0),ae([(0,o.IIB)(),se("design:type",String)],n.prototype,"repeat",void 0),ae([(0,o.IIB)(),se("design:type",Number)],n.prototype,"anchorX",void 0),ae([(0,o.IIB)(),se("design:type",Number)],n.prototype,"anchorY",void 0),ae([(0,o.IIB)(),se("design:type",String)],n.prototype,"fillColor",void 0),ae([(0,o.IIB)(),se("design:type",Number)],n.prototype,"fillOpacity",void 0),ae([(0,o.IIB)(),se("design:type",String)],n.prototype,"path",void 0),ae([(0,o.IIB)(),se("design:type",Number)],n.prototype,"rotation",void 0),ae([(0,o.IIB)(),se("design:type",Number)],n.prototype,"scale",void 0),ae([(0,o.IIB)(),se("design:type",String)],n.prototype,"strokeColor",void 0),ae([(0,o.IIB)(),se("design:type",Number)],n.prototype,"strokeOpacity",void 0),ae([(0,o.IIB)(),se("design:type",Number)],n.prototype,"strokeWeight",void 0),n})();var ry;let sc=ry=class{constructor(){this.positionChanged=new o.vpe}ngOnChanges(t){(t.latitude||t.longitude)&&this.positionChanged.emit({lat:t.latitude?t.latitude.currentValue:this.latitude,lng:t.longitude?t.longitude.currentValue:this.longitude})}getFitBoundsDetails$(){return this.positionChanged.pipe(pa({lat:this.latitude,lng:this.longitude}),(0,qt.U)(t=>({latLng:t})))}};var A1;sc.\u0275fac=function(t){return new(t||sc)},sc.\u0275dir=o.lG2({type:sc,selectors:[["agm-polyline-point"]],inputs:{latitude:"latitude",longitude:"longitude"},outputs:{positionChanged:"positionChanged"},features:[o._Bn([{provide:Jm,useExisting:(0,o.Gpc)(()=>ry)}]),o.TTD]}),ae([(0,o.IIB)(),se("design:type",Number)],sc.prototype,"latitude",void 0),ae([(0,o.IIB)(),se("design:type",Number)],sc.prototype,"longitude",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],sc.prototype,"positionChanged",void 0),sc=ry=ae([se("design:paramtypes",[])],sc);let M1=0,Vi=A1=class{constructor(t){this._polylineManager=t,this.clickable=!0,this.draggable=!1,this.editable=!1,this.geodesic=!1,this.visible=!0,this.lineClick=new o.vpe,this.lineDblClick=new o.vpe,this.lineDrag=new o.vpe,this.lineDragEnd=new o.vpe,this.lineDragStart=new o.vpe,this.lineMouseDown=new o.vpe,this.lineMouseMove=new o.vpe,this.lineMouseOut=new o.vpe,this.lineMouseOver=new o.vpe,this.lineMouseUp=new o.vpe,this.lineRightClick=new o.vpe,this.polyPathChange=new o.vpe,this._polylineAddedToManager=!1,this._subscriptions=[],this._id=(M1++).toString()}ngAfterContentInit(){this.points.length&&this.points.forEach(i=>{const r=i.positionChanged.subscribe(()=>{this._polylineManager.updatePolylinePoints(this)});this._subscriptions.push(r)}),this._polylineAddedToManager||this._init();const t=this.points.changes.subscribe(()=>this._polylineManager.updatePolylinePoints(this));this._subscriptions.push(t),this._polylineManager.updatePolylinePoints(this);const e=this.iconSequences.changes.subscribe(()=>this._polylineManager.updateIconSequences(this));this._subscriptions.push(e)}ngOnChanges(t){if(!this._polylineAddedToManager)return void this._init();let e={};Object.keys(t).filter(r=>-1!==A1._polylineOptionsAttributes.indexOf(r)).forEach(r=>e[r]=t[r].currentValue),this._polylineManager.setPolylineOptions(this,e)}getPath(){return this._polylineManager.getPath(this)}_init(){this._polylineManager.addPolyline(this),this._polylineAddedToManager=!0,this._addEventListeners()}_addEventListeners(){[{name:"click",handler:e=>this.lineClick.emit(e)},{name:"dblclick",handler:e=>this.lineDblClick.emit(e)},{name:"drag",handler:e=>this.lineDrag.emit(e)},{name:"dragend",handler:e=>this.lineDragEnd.emit(e)},{name:"dragstart",handler:e=>this.lineDragStart.emit(e)},{name:"mousedown",handler:e=>this.lineMouseDown.emit(e)},{name:"mousemove",handler:e=>this.lineMouseMove.emit(e)},{name:"mouseout",handler:e=>this.lineMouseOut.emit(e)},{name:"mouseover",handler:e=>this.lineMouseOver.emit(e)},{name:"mouseup",handler:e=>this.lineMouseUp.emit(e)},{name:"rightclick",handler:e=>this.lineRightClick.emit(e)}].forEach(e=>{const i=this._polylineManager.createEventObservable(e.name,this).subscribe(e.handler);this._subscriptions.push(i)}),this._polylineManager.createPathEventObservable(this).then(e=>{const i=e.subscribe(r=>this.polyPathChange.emit(r));this._subscriptions.push(i)})}_getPoints(){return this.points?this.points.toArray():[]}_getIcons(){return this.iconSequences?this.iconSequences.toArray():[]}id(){return this._id}ngOnDestroy(){this._polylineManager.deletePolyline(this),this._subscriptions.forEach(t=>t.unsubscribe())}};var lg;Vi.\u0275fac=function(t){return new(t||Vi)(o.Y36(oc))},Vi.\u0275dir=o.lG2({type:Vi,selectors:[["agm-polyline"]],contentQueries:function(t,e,i){if(1&t&&(o.Suo(i,sc,4),o.Suo(i,iy,4)),2&t){let r;o.iGM(r=o.CRH())&&(e.points=r),o.iGM(r=o.CRH())&&(e.iconSequences=r)}},inputs:{clickable:"clickable",draggable:["polylineDraggable","draggable"],editable:"editable",geodesic:"geodesic",visible:"visible",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",strokeWeight:"strokeWeight",zIndex:"zIndex"},outputs:{lineClick:"lineClick",lineDblClick:"lineDblClick",lineDrag:"lineDrag",lineDragEnd:"lineDragEnd",lineDragStart:"lineDragStart",lineMouseDown:"lineMouseDown",lineMouseMove:"lineMouseMove",lineMouseOut:"lineMouseOut",lineMouseOver:"lineMouseOver",lineMouseUp:"lineMouseUp",lineRightClick:"lineRightClick",polyPathChange:"polyPathChange"},features:[o.TTD]}),Vi._polylineOptionsAttributes=["draggable","editable","visible","geodesic","strokeColor","strokeOpacity","strokeWeight","zIndex"],Vi.ctorParameters=()=>[{type:oc}],ae([(0,o.IIB)(),se("design:type",Object)],Vi.prototype,"clickable",void 0),ae([(0,o.IIB)("polylineDraggable"),se("design:type",Object)],Vi.prototype,"draggable",void 0),ae([(0,o.IIB)(),se("design:type",Object)],Vi.prototype,"editable",void 0),ae([(0,o.IIB)(),se("design:type",Object)],Vi.prototype,"geodesic",void 0),ae([(0,o.IIB)(),se("design:type",String)],Vi.prototype,"strokeColor",void 0),ae([(0,o.IIB)(),se("design:type",Number)],Vi.prototype,"strokeOpacity",void 0),ae([(0,o.IIB)(),se("design:type",Number)],Vi.prototype,"strokeWeight",void 0),ae([(0,o.IIB)(),se("design:type",Object)],Vi.prototype,"visible",void 0),ae([(0,o.IIB)(),se("design:type",Number)],Vi.prototype,"zIndex",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Vi.prototype,"lineClick",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Vi.prototype,"lineDblClick",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Vi.prototype,"lineDrag",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Vi.prototype,"lineDragEnd",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Vi.prototype,"lineDragStart",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Vi.prototype,"lineMouseDown",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Vi.prototype,"lineMouseMove",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Vi.prototype,"lineMouseOut",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Vi.prototype,"lineMouseOver",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Vi.prototype,"lineMouseUp",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],Vi.prototype,"lineRightClick",void 0),ae([(0,o.r_U)(),se("design:type",Object)],Vi.prototype,"polyPathChange",void 0),ae([(0,o.AcB)(sc),se("design:type",o.n_E)],Vi.prototype,"points",void 0),ae([(0,o.AcB)(iy),se("design:type",o.n_E)],Vi.prototype,"iconSequences",void 0),Vi=A1=ae([se("design:paramtypes",[oc])],Vi);let vi=lg=class{constructor(t){this._manager=t,this.clickable=!0,this.draggable=!1,this.editable=!1,this.strokePosition="CENTER",this.strokeWeight=0,this.visible=!0,this.boundsChange=new o.vpe,this.rectangleClick=new o.vpe,this.rectangleDblClick=new o.vpe,this.drag=new o.vpe,this.dragEnd=new o.vpe,this.dragStart=new o.vpe,this.mouseDown=new o.vpe,this.mouseMove=new o.vpe,this.mouseOut=new o.vpe,this.mouseOver=new o.vpe,this.mouseUp=new o.vpe,this.rightClick=new o.vpe,this._rectangleAddedToManager=!1,this._eventSubscriptions=[]}ngOnInit(){this._manager.addRectangle(this),this._rectangleAddedToManager=!0,this._registerEventListeners()}ngOnChanges(t){this._rectangleAddedToManager&&((t.north||t.east||t.south||t.west)&&this._manager.setBounds(this),t.editable&&this._manager.setEditable(this),t.draggable&&this._manager.setDraggable(this),t.visible&&this._manager.setVisible(this),this._updateRectangleOptionsChanges(t))}_updateRectangleOptionsChanges(t){let e={},i=Object.keys(t).filter(r=>-1!==lg._mapOptions.indexOf(r));i.forEach(r=>{e[r]=t[r].currentValue}),i.length>0&&this._manager.setOptions(this,e)}_registerEventListeners(){let t=new Map;t.set("bounds_changed",this.boundsChange),t.set("click",this.rectangleClick),t.set("dblclick",this.rectangleDblClick),t.set("drag",this.drag),t.set("dragend",this.dragEnd),t.set("dragStart",this.dragStart),t.set("mousedown",this.mouseDown),t.set("mousemove",this.mouseMove),t.set("mouseout",this.mouseOut),t.set("mouseover",this.mouseOver),t.set("mouseup",this.mouseUp),t.set("rightclick",this.rightClick),t.forEach((e,i)=>{this._eventSubscriptions.push(this._manager.createEventObservable(i,this).subscribe(r=>{"bounds_changed"===i?this._manager.getBounds(this).then(s=>e.emit({north:s.getNorthEast().lat(),east:s.getNorthEast().lng(),south:s.getSouthWest().lat(),west:s.getSouthWest().lng()})):e.emit({coords:{lat:r.latLng.lat(),lng:r.latLng.lng()}})}))})}ngOnDestroy(){this._eventSubscriptions.forEach(function(t){t.unsubscribe()}),this._eventSubscriptions=null,this._manager.removeRectangle(this)}getBounds(){return this._manager.getBounds(this)}};vi.\u0275fac=function(t){return new(t||vi)(o.Y36(ag))},vi.\u0275dir=o.lG2({type:vi,selectors:[["agm-rectangle"]],inputs:{clickable:"clickable",draggable:["rectangleDraggable","draggable"],editable:"editable",strokePosition:"strokePosition",strokeWeight:"strokeWeight",visible:"visible",north:"north",east:"east",south:"south",west:"west",fillColor:"fillColor",fillOpacity:"fillOpacity",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",zIndex:"zIndex"},outputs:{boundsChange:"boundsChange",rectangleClick:"rectangleClick",rectangleDblClick:"rectangleDblClick",drag:"drag",dragEnd:"dragEnd",dragStart:"dragStart",mouseDown:"mouseDown",mouseMove:"mouseMove",mouseOut:"mouseOut",mouseOver:"mouseOver",mouseUp:"mouseUp",rightClick:"rightClick"},features:[o.TTD]}),vi._mapOptions=["fillColor","fillOpacity","strokeColor","strokeOpacity","strokePosition","strokeWeight","visible","zIndex","clickable"],vi.ctorParameters=()=>[{type:ag}],ae([(0,o.IIB)(),se("design:type",Number)],vi.prototype,"north",void 0),ae([(0,o.IIB)(),se("design:type",Number)],vi.prototype,"east",void 0),ae([(0,o.IIB)(),se("design:type",Number)],vi.prototype,"south",void 0),ae([(0,o.IIB)(),se("design:type",Number)],vi.prototype,"west",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vi.prototype,"clickable",void 0),ae([(0,o.IIB)("rectangleDraggable"),se("design:type",Object)],vi.prototype,"draggable",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vi.prototype,"editable",void 0),ae([(0,o.IIB)(),se("design:type",String)],vi.prototype,"fillColor",void 0),ae([(0,o.IIB)(),se("design:type",Number)],vi.prototype,"fillOpacity",void 0),ae([(0,o.IIB)(),se("design:type",String)],vi.prototype,"strokeColor",void 0),ae([(0,o.IIB)(),se("design:type",Number)],vi.prototype,"strokeOpacity",void 0),ae([(0,o.IIB)(),se("design:type",String)],vi.prototype,"strokePosition",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vi.prototype,"strokeWeight",void 0),ae([(0,o.IIB)(),se("design:type",Object)],vi.prototype,"visible",void 0),ae([(0,o.IIB)(),se("design:type",Number)],vi.prototype,"zIndex",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vi.prototype,"boundsChange",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vi.prototype,"rectangleClick",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vi.prototype,"rectangleDblClick",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vi.prototype,"drag",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vi.prototype,"dragEnd",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vi.prototype,"dragStart",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vi.prototype,"mouseDown",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vi.prototype,"mouseMove",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vi.prototype,"mouseOut",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vi.prototype,"mouseOver",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vi.prototype,"mouseUp",void 0),ae([(0,o.r_U)(),se("design:type",o.vpe)],vi.prototype,"rightClick",void 0),vi=lg=ae([se("design:paramtypes",[ag])],vi);var Td=(()=>{return(n=Td||(Td={})).ERROR="ERROR",n.INVALID_REQUEST="INVALID_REQUEST",n.OK="OK",n.OVER_QUERY_LIMIT="OVER_QUERY_LIMIT",n.REQUEST_DENIED="REQUEST_DENIED",n.UNKNOWN_ERROR="UNKNOWN_ERROR",n.ZERO_RESULTS="ZERO_RESULTS",Td;var n})();let wa=class{constructor(t){const e=new Ei.y(i=>{t.load().then(()=>i.next())}).pipe((0,qt.U)(()=>this._createGeocoder()),function ty(n,t){const e=(0,_u.m)(n)?n:()=>n;return(0,_u.m)(t)?function ey(n,t=Xv){const{connector:e}=t;return(0,Ar.e)((i,r)=>{const s=e();(0,bl.Xf)(n(function dk(n){return new Ei.y(t=>n.subscribe(t))}(s))).subscribe(r),r.add(i.subscribe(s))})}(t,{connector:e}):i=>new Np(i,e)}(new ub(1)));e.connect(),this.geocoder$=e}geocode(t){return this.geocoder$.pipe(Mi(e=>this._getGoogleResults(e,t)))}_getGoogleResults(t,e){return ku(t.geocode)(e).pipe(Mi(([r,s])=>s===Td.OK?Ht(r):vu(s)))}_createGeocoder(){return new google.maps.Geocoder}};wa.\u0275fac=function(t){return new(t||wa)(o.LFG(Zc))},wa.\u0275prov=o.Yz7({token:wa,factory:function(n){return wa.\u0275fac(n)},providedIn:"root"}),wa.ngInjectableDef=(0,o.Yz7)({factory:function(){return new wa((0,o.LFG)(Zc))},token:wa,providedIn:"root"}),wa=ae([se("design:paramtypes",[Zc])],wa);class Mh{getNativeWindow(){return window}}class Ph{getNativeDocument(){return document}}const ug=[Mh,Ph];var ac=(()=>{return(n=ac||(ac={}))[n.HTTP=1]="HTTP",n[n.HTTPS=2]="HTTPS",n[n.AUTO=3]="AUTO",ac;var n})();const kh=new o.OlP("angular-google-maps LAZY_MAPS_API_CONFIG");let dg=(()=>{let n=class extends Zc{constructor(e=null,i,r,s){super(),this.localeId=s,this._SCRIPT_ID="agmGoogleMapsApiScript",this.callbackName="agmLazyMapsAPILoader",this._config=e||{},this._windowRef=i,this._documentRef=r}load(){const e=this._windowRef.getNativeWindow();if(e.google&&e.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;const i=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(i)return this._assignScriptLoadingPromise(i),this._scriptLoadingPromise;const r=this._documentRef.getNativeDocument().createElement("script");return r.type="text/javascript",r.async=!0,r.defer=!0,r.id=this._SCRIPT_ID,r.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(r),this._documentRef.getNativeDocument().body.appendChild(r),this._scriptLoadingPromise}_assignScriptLoadingPromise(e){this._scriptLoadingPromise=new Promise((i,r)=>{this._windowRef.getNativeWindow()[this.callbackName]=()=>{i()},e.onerror=s=>{r(s)}})}_getScriptSrc(e){let r;switch(this._config&&this._config.protocol||ac.HTTPS){case ac.AUTO:r="";break;case ac.HTTP:r="http:";break;case ac.HTTPS:r="https:"}const a={v:this._config.apiVersion||"quarterly",callback:e,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language||"en-US"!==this.localeId?this.localeId:null};return`${r}//${this._config.hostAndPath||"maps.googleapis.com/maps/api/js"}?${Object.keys(a).filter(h=>null!=a[h]).filter(h=>!Array.isArray(a[h])||Array.isArray(a[h])&&a[h].length>0).map(h=>{let p=a[h];return Array.isArray(p)?{key:h,value:p.join(",")}:{key:h,value:a[h]}}).map(h=>`${h.key}=${h.value}`).join("&")}`}};return n.\u0275fac=function(e){return new(e||n)(o.LFG(kh,8),o.LFG(Mh),o.LFG(Ph),o.LFG(o.soG))},n.\u0275prov=o.Yz7({token:n,factory:function(t){return n.\u0275fac(t)}}),n=ae([Of(0,(0,o.FiY)()),Of(0,(0,o.tBr)(kh)),Of(3,(0,o.tBr)(o.soG)),se("design:paramtypes",[Object,Mh,Ph,String])],n),n})();var Ib;let Nf=Ib=class{static forRoot(t){return{ngModule:Ib,providers:[...ug,{provide:Zc,useClass:dg},{provide:kh,useValue:t}]}}};Nf.\u0275fac=function(t){return new(t||Nf)},Nf.\u0275mod=o.oAB({type:Nf}),Nf.\u0275inj=o.cJS({});var Bo=z(2011),Dd=z(259),Wn=z(4976);class Lf{constructor(t){return t}}class xb{constructor(){return(0,Dd.C6)()}}const Sb=new o.OlP("angularfire2._apps"),k1={provide:Lf,useFactory:function yk(n){return n&&1===n.length?n[0]:new Lf((0,Dd.Mq)())},deps:[[new o.FiY,Sb]]},wk={provide:xb,deps:[[new o.FiY,Sb]]};function O1(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Lf(i)}}let Ab=(()=>{class n{constructor(e){(0,Dd.KN)("angularfire",Wn.q4.full,"core"),(0,Dd.KN)("angularfire",Wn.q4.full,"app"),(0,Dd.KN)("angular",o.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[k1,wk]}),n})();function Mb(n,...t){return{ngModule:Ab,providers:[{provide:Sb,useFactory:O1(n),multi:!0,deps:[o.R0b,o.zs3,Wn.HU,...t]}]}}const Ob=(0,Wn.u3)(Dd.ZF,!0);var sy=z(3942),Te=z(5861),Vo=z(6881),K=z(2090),Il=z(4859);const Rb="firebasestorage.googleapis.com",F1="storageBucket";class Lr extends K.ZR{constructor(t,e,i=0){super(ay(t),`Firebase Storage: ${e} (${ay(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return ay(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var br=(()=>{return(n=br||(br={})).UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",br;var n})();function ay(n){return"storage/"+n}function ly(){return new Lr(br.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Fb(){return new Lr(br.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ub(){return new Lr(br.CANCELED,"User canceled the upload/download.")}function t_(){return new Lr(br.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Rh(n){return new Lr(br.INVALID_ARGUMENT,n)}function Nh(){return new Lr(br.APP_DELETED,"The Firebase app was deleted.")}function cy(n){return new Lr(br.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function n_(n,t){return new Lr(br.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Ff(n){throw new Lr(br.INTERNAL_ERROR,"Internal error: "+n)}class ba{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=ba.makeFromUrl(t,e)}catch{return new ba(t,"")}if(""===i.path)return i;throw function j1(n){return new Lr(br.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",c=new RegExp("^gs://"+r+"(/(.*))?$","i");function p(de){de.path_=decodeURIComponent(de.path)}const b=e.replace(/[.]/g,"\\."),re=[{regex:c,indices:{bucket:1,path:3},postModify:function s(de){"/"===de.path.charAt(de.path.length-1)&&(de.path_=de.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${b}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:p},{regex:new RegExp(`^https?://${e===Rb?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:p}];for(let de=0;de<re.length;de++){const _e=re[de],ue=_e.regex.exec(t);if(ue){let Le=ue[_e.indices.path];Le||(Le=""),i=new ba(ue[_e.indices.bucket],Le),_e.postModify(i);break}}if(null==i)throw function q1(n){return new Lr(br.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class sB{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function i_(n){return"string"==typeof n||n instanceof String}function G1(n){return Bb()&&n instanceof Blob}function Bb(){return typeof Blob<"u"&&!(0,K.UG)()}function uy(n,t,e,i){if(i<t)throw Rh(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Rh(`Invalid value for '${n}'. Expected ${e} or less.`)}function Id(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function Vb(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var xd=(()=>{return(n=xd||(xd={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",xd;var n})();function Uf(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class Ik{constructor(t,e,i,r,s,a,c,h,p,v,b,D=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=b,this.retry=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,R)=>{this.resolve_=P,this.reject_=R,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,a=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());!function $1(n){return void 0!==n}(h)?s():s(h)}catch(h){a(h)}else if(null!==c){const h=ly();h.serverResponse=c.getErrorText(),a(this.errorCallback_?this.errorCallback_(c,h):h)}else a(r.canceled?this.appDelete_?Nh():Ub():Fb())};this.canceled_?e(0,new dy(!1,null,!0)):this.backoffId_=function Ek(n,t,e){let i=1,r=null,s=null,a=!1,c=0;function h(){return 2===c}let p=!1;function v(...V){p||(p=!0,t.apply(null,V))}function b(V){r=setTimeout(()=>{r=null,n(P,h())},V)}function D(){s&&clearTimeout(s)}function P(V,...Q){if(p)return void D();if(V)return D(),void v.call(null,V,...Q);if(h()||a)return D(),void v.call(null,V,...Q);let re;i<64&&(i*=2),1===c?(c=2,re=0):re=1e3*(i+Math.random()),b(re)}let R=!1;function F(V){R||(R=!0,D(),!p&&(null!==r?(V||(c=2),clearTimeout(r),b(0)):V||(c=1)))}return b(0),s=setTimeout(()=>{a=!0,F(!0)},e),F}((i,r)=>{if(r)return void i(!1,new dy(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const a=c=>{null!==this.progressCallback_&&this.progressCallback_(c.loaded,c.lengthComputable?c.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const c=s.getErrorCode()===xd.NO_ERROR,h=s.getStatus();if(!c||Uf(h,this.additionalRetryCodes_)&&this.retry){const v=s.getErrorCode()===xd.ABORT;return void i(!1,new dy(!1,null,v))}const p=-1!==this.successCodes_.indexOf(h);i(!0,new dy(p,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function Tk(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class dy{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function Ou(...n){const t=function Zb(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(Bb())return new Blob(n);throw new Lr(br.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const go={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xl{constructor(t,e){this.data=t,this.contentType=e||null}}function Sl(n,t){switch(n){case go.RAW:return new xl(zb(t));case go.BASE64:case go.BASE64URL:return new xl(X1(n,t));case go.DATA_URL:return new xl(function Mk(n){const t=new eI(n);return t.base64?X1(go.BASE64,t.rest):function J1(n){let t;try{t=decodeURIComponent(n)}catch{throw n_(go.DATA_URL,"Malformed data URL.")}return zb(t)}(t.rest)}(t),function Pk(n){return new eI(n).contentType}(t))}throw ly()}function zb(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function X1(n,t){switch(n){case go.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw n_(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case go.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw n_(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Ak(n){if(typeof atob>"u")throw function Ck(n){return new Lr(br.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:n_(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class eI{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw n_(go.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function Hb(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class qa{constructor(t,e){let i=0,r="";G1(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(G1(this.data_)){const r=function Sk(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new qa(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new qa(i,!0)}}static getBlob(...t){if(Bb()){const e=t.map(i=>i instanceof qa?i.data_:i);return new qa(Ou.apply(null,e))}{const e=t.map(a=>i_(a)?Sl(go.RAW,a).data:a.data_);let i=0;e.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(a=>{for(let c=0;c<a.length;c++)r[s++]=a[c]}),new qa(r,!0)}}uploadData(){return this.data_}}function qb(n){let t;try{t=JSON.parse(n)}catch{return null}return function ts(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function nI(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function iI(n,t){return t}class Js{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||iI}}let Bf=null;function hg(){if(Bf)return Bf;const n=[];n.push(new Js("bucket")),n.push(new Js("generation")),n.push(new Js("metageneration")),n.push(new Js("name","fullPath",!0));const e=new Js("name");e.xform=function t(s,a){return function Ok(n){return!i_(n)||n.length<2?n:nI(n)}(a)},n.push(e);const r=new Js("size");return r.xform=function i(s,a){return void 0!==a?Number(a):a},n.push(r),n.push(new Js("timeCreated")),n.push(new Js("updated")),n.push(new Js("md5Hash",null,!0)),n.push(new Js("cacheControl",null,!0)),n.push(new Js("contentDisposition",null,!0)),n.push(new Js("contentEncoding",null,!0)),n.push(new Js("contentLanguage",null,!0)),n.push(new Js("contentType",null,!0)),n.push(new Js("metadata","customMetadata",!0)),Bf=n,Bf}function r_(n,t,e){const i=qb(t);return null===i?null:function jb(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const a=e[s];i[a.local]=a.xform(i,t[a.server])}return function rI(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new ba(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function hy(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const fy="prefixes",$b="items";class Hc{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function qc(n){if(!n)throw ly()}function py(n,t){return function e(i,r){const s=r_(n,r,t);return qc(null!==s),s}}function fg(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function z1(){return new Lr(br.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Z1(){return new Lr(br.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function Lb(n){return new Lr(br.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function H1(n){return new Lr(br.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function o_(n){const t=fg(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function Nb(n){return new Lr(br.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function aI(n,t,e){const r=Id(t.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,c=new Hc(r,"GET",py(n,e),a);return c.errorHandler=o_(t),c}function Lk(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const c=Id(t.bucketOnlyServerUrl(),n.host,n._protocol),p=n.maxOperationRetryTime,v=new Hc(c,"GET",function Rk(n,t){return function e(i,r){const s=function sI(n,t,e){const i=qb(e);return null===i?null:function oI(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[fy])for(const r of e[fy]){const s=r.replace(/\/$/,""),a=n._makeStorageReference(new ba(t,s));i.prefixes.push(a)}if(e[$b])for(const r of e[$b]){const s=n._makeStorageReference(new ba(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return qc(null!==s),s}}(n,t.bucket),p);return v.urlParams=s,v.errorHandler=fg(t),v}function cI(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function Vk(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}function uI(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},h=function c(){let re="";for(let de=0;de<2;de++)re+=Math.random().toString().slice(2);return re}();a["Content-Type"]="multipart/related; boundary="+h;const p=cI(t,i,r),v=hy(p,e),P=qa.getBlob("--"+h+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+v+"\r\n--"+h+"\r\nContent-Type: "+p.contentType+"\r\n\r\n",i,"\r\n--"+h+"--");if(null===P)throw t_();const R={name:p.fullPath},F=Id(s,n.host,n._protocol),Q=n.maxUploadRetryTime,ee=new Hc(F,"POST",py(n,e),Q);return ee.urlParams=R,ee.headers=a,ee.body=P.uploadData(),ee.errorHandler=fg(t),ee}class gy{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function Gb(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{qc(!1)}return qc(!!e&&-1!==(t||["active"]).indexOf(e)),e}const hI={STATE_CHANGED:"state_changed"},Xs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function my(n){switch(n){case"running":case"pausing":case"canceling":return Xs.RUNNING;case"paused":return Xs.PAUSED;case"success":return Xs.SUCCESS;case"canceled":return Xs.CANCELED;default:return Xs.ERROR}}class fI{constructor(t,e,i){if(function Dk(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Vf(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let Kb=null;class pI{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xd.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xd.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xd.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Ff("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ff("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ff("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ff("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ff("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class gI extends pI{initXhr(){this.xhr_.responseType="text"}}function lc(){return Kb?Kb():new gI}class jk{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=hg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(br.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Uf(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=Fb()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(br.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function Zk(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),a=cI(t,i,r),c={name:a.fullPath},h=Id(s,n.host,n._protocol),v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},b=hy(a,e),R=new Hc(h,"POST",function P(F){let V;Gb(F);try{V=F.getResponseHeader("X-Goog-Upload-URL")}catch{qc(!1)}return qc(i_(V)),V},n.maxUploadRetryTime);return R.urlParams=c,R.headers=v,R.body=b,R.errorHandler=fg(t),R}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,lc,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function zk(n,t,e,i){const h=new Hc(e,"POST",function s(p){const v=Gb(p,["active","final"]);let b=null;try{b=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{qc(!1)}b||qc(!1);const D=Number(b);return qc(!isNaN(D)),new gy(D,i.size(),"final"===v)},n.maxUploadRetryTime);return h.headers={"X-Goog-Upload-Command":"query"},h.errorHandler=fg(t),h}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,lc,e,i);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new gy(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let a;try{a=function dI(n,t,e,i,r,s,a,c){const h=new gy(0,0);if(a?(h.current=a.current,h.total=a.total):(h.current=0,h.total=i.size()),i.size()!==h.total)throw function Oh(){return new Lr(br.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const p=h.total-h.current;let v=p;r>0&&(v=Math.min(v,r));const b=h.current;let P="";P=0===v?"finalize":p===v?"upload, finalize":"upload";const R={"X-Goog-Upload-Command":P,"X-Goog-Upload-Offset":`${h.current}`},F=i.slice(b,b+v);if(null===F)throw t_();const re=new Hc(e,"POST",function V(de,_e){const ue=Gb(de,["active","final"]),pe=h.current+v,Le=i.size();let et;return et="final"===ue?py(t,s)(de,_e):null,new gy(pe,Le,"final"===ue,et)},t.maxUploadRetryTime);return re.headers=R,re.body=F.uploadData(),re.progressCallback=c||null,re.errorHandler=fg(n),re}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(h){return this._error=h,void this._transition("error")}const c=this._ref.storage._makeRequest(a,lc,r,s,!1);this._request=c,c.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=aI(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,lc,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=uI(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,lc,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=Ub(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=my(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new fI(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(my(this._state)){case Xs.SUCCESS:Vf(this._resolve.bind(null,this.snapshot))();break;case Xs.CANCELED:case Xs.ERROR:Vf(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(my(this._state)){case Xs.RUNNING:case Xs.PAUSED:t.next&&Vf(t.next.bind(t,this.snapshot))();break;case Xs.SUCCESS:t.complete&&Vf(t.complete.bind(t))();break;default:t.error&&Vf(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Sd{constructor(t,e){this._service=t,this._location=e instanceof ba?e:ba.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Sd(t,e)}get root(){const t=new ba(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nI(this._location.path)}get storage(){return this._service}get parent(){const t=function tI(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new ba(this._location.bucket,t);return new Sd(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw cy(t)}}function _I(n,t,e){return Jb.apply(this,arguments)}function Jb(){return(Jb=(0,Te.Z)(function*(n,t,e){const r=yield zf(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield _I(n,t,r.nextPageToken))})).apply(this,arguments)}function zf(n,t){null!=t&&"number"==typeof t.maxResults&&uy("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=Lk(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,lc)}function vy(n){n._throwIfRoot("getDownloadURL");const t=function Fk(n,t,e){const r=Id(t.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,c=new Hc(r,"GET",function Nk(n,t){return function e(i,r){const s=r_(n,r,t);return qc(null!==s),function Wb(n,t,e,i){const r=qb(t);if(null===r||!i_(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map(p=>{const b=n.fullPath;return Id("/b/"+a(n.bucket)+"/o/"+a(b),e,i)+Vb({alt:"media",token:p})})[0]}(s,r,n.host,n._protocol)}}(n,e),a);return c.errorHandler=o_(t),c}(n.storage,n._location,hg());return n.storage.makeRequestWithTokens(t,lc).then(e=>{if(null===e)throw function bk(){return new Lr(br.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function Gk(n,t){const e=function kk(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new ba(n._location.bucket,e);return new Sd(n.storage,i)}function wI(n,t){if(n instanceof yy){const e=n;if(null==e._bucket)throw function W1(){return new Lr(br.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+F1+"' property when initializing the app?")}();const i=new Sd(e,e._bucket);return null!=t?wI(i,t):i}return void 0!==t?Gk(n,t):n}function bI(n,t){if(t&&function vI(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof yy)return function yI(n,t){return new Sd(n,t)}(n,t);throw Rh("To use ref(service, url), the first argument must be a Storage instance.")}return wI(n,t)}function Xb(n,t){const e=t?.[F1];return null==e?null:ba.makeFromBucketSpec(e,n)}class yy{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=Rb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ba.makeFromBucketSpec(r,this._host):Xb(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?ba.makeFromBucketSpec(this._url,t):Xb(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){uy("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){uy("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Te.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Te.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Sd(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new sB(Nh());{const a=function Q1(n,t,e,i,r,s,a=!0){const c=Vb(n.urlParams),h=n.url+c,p=Object.assign({},n.headers);return function K1(n,t){t&&(n["X-Firebase-GMPID"]=t)}(p,t),function Y1(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(p,e),function xk(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(p,s),function aB(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(p,i),new Ik(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,a)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(t,e){var i=this;return(0,Te.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const EI="@firebase/storage",DI="storage";function AI(n){return vy(n=(0,K.m9)(n))}function gg(n){return function mo(n){n._throwIfRoot("deleteObject");const t=function Bk(n,t){const i=Id(t.fullServerUrl(),n.host,n._protocol),c=new Hc(i,"DELETE",function a(h,p){},n.maxOperationRetryTime);return c.successCodes=[200,204],c.errorHandler=o_(t),c}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,lc)}(n=(0,K.m9)(n))}function Ad(n,t){return bI(n=(0,K.m9)(n),t)}function eC(n=(0,Vo.getApp)(),t){n=(0,K.m9)(n);const i=(0,Vo._getProvider)(n,DI).getImmediate({identifier:t}),r=(0,K.P0)("storage");return r&&MI(i,...r),i}function MI(n,t,e,i={}){!function CI(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,K.Sg)(r,n.app.options.projectId))}(n,t,e,i)}function PI(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new yy(e,i,r,t,Vo.SDK_VERSION)}!function eO(){(0,Vo._registerComponent)(new Il.wA(DI,PI,"PUBLIC").setMultipleInstances(!0)),(0,Vo.registerVersion)(EI,"0.11.2",""),(0,Vo.registerVersion)(EI,"0.11.2","esm2017")}();class s_{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class kI{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new s_(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new s_(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?a=>e(new s_(a,this,this._ref)):{next:e.next?a=>e.next(new s_(a,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class OI{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Lh(t,this._service))}get items(){return this._delegate.items.map(t=>new Lh(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Lh{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function Qk(n,t){return Gk(n,t)}(this._delegate,t);return new Lh(e,this.storage)}get root(){return new Lh(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Lh(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new kI(function Kk(n,t,e){return function cB(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new jk(n,new qa(t),e)}(n=(0,K.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=go.RAW,i){this._throwIfRoot("putString");const r=Sl(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new kI(new jk(this._delegate,new qa(r.data,!0),s),this)}listAll(){return function SI(n){return function Wk(n){const t={prefixes:[],items:[]};return _I(n,t).then(()=>t)}(n=(0,K.m9)(n))}(this._delegate).then(t=>new OI(t,this.storage))}list(t){return function xI(n,t){return zf(n=(0,K.m9)(n),t)}(this._delegate,t||void 0).then(e=>new OI(e,this.storage))}getMetadata(){return function by(n){return function $k(n){n._throwIfRoot("getMetadata");const t=aI(n.storage,n._location,hg());return n.storage.makeRequestWithTokens(t,lc)}(n=(0,K.m9)(n))}(this._delegate)}updateMetadata(t){return function II(n,t){return function _y(n,t){n._throwIfRoot("updateMetadata");const e=function Uk(n,t,e,i){const s=Id(t.fullServerUrl(),n.host,n._protocol),c=hy(e,i),p=n.maxOperationRetryTime,v=new Hc(s,"PATCH",py(n,i),p);return v.headers={"Content-Type":"application/json; charset=utf-8"},v.body=c,v.errorHandler=o_(t),v}(n.storage,n._location,t,hg());return n.storage.makeRequestWithTokens(e,lc)}(n=(0,K.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return AI(this._delegate)}delete(){return this._throwIfRoot("delete"),gg(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw cy(t)}}class tO{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(nO(t))throw Rh("ref() expected a child path but got a URL, use refFromURL instead.");return new Lh(Ad(this._delegate,t),this)}refFromURL(t){if(!nO(t))throw Rh("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ba.makeFromUrl(t,this._delegate.host)}catch{throw Rh("refFromUrl() expected a valid full URL but got an invalid one.")}return new Lh(Ad(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){MI(this._delegate,t,e,i)}}function nO(n){return/^[A-Za-z]+:\/\//.test(n)}function iO(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new tO(e,i)}!function rO(n){const t={TaskState:Xs,TaskEvent:hI,StringFormat:go,Storage:tO,Reference:Lh};n.INTERNAL.registerComponent(new Il.wA("storage-compat",iO,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(sy.Z);var cc=z(1877);const Hf=new Map,NI={activated:!1,tokenObservers:[]},oO={initialized:!1,enabled:!1};function _o(n){return Hf.get(n)||Object.assign({},NI)}function tC(){return oO}const nC="https://content-firebaseappcheck.googleapis.com/v1",lO="exchangeDebugToken",mg={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class FI{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Te.Z)(function*(){e.stop();try{e.pending=new K.BH,yield function uO(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new K.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ps=new K.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function iC(n){if(!_o(n).activated)throw Ps.create("use-before-activation",{appName:n.name})}function c_(n,t){return Ty.apply(this,arguments)}function Ty(){return(Ty=(0,Te.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const b=yield r.getHeartbeatsHeader();b&&(i["X-Firebase-Client"]=b)}const s={method:"POST",body:JSON.stringify(t),headers:i};let a,c;try{a=yield fetch(n,s)}catch(b){throw Ps.create("fetch-network-error",{originalErrorMessage:b?.message})}if(200!==a.status)throw Ps.create("fetch-status-error",{httpStatus:a.status});try{c=yield a.json()}catch(b){throw Ps.create("fetch-parse-error",{originalErrorMessage:b?.message})}const h=c.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Ps.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const p=1e3*Number(h[1]),v=Date.now();return{token:c.token,expireTimeMillis:v+p,issuedAtTimeMillis:v}})).apply(this,arguments)}function BI(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${nC}/projects/${e}/apps/${i}:${lO}?key=${r}`,body:{debug_token:t}}}const rC="firebase-app-check-database",fO=1,_g="firebase-app-check-store";let Dy=null;function zI(n,t){return Iy.apply(this,arguments)}function Iy(){return(Iy=(0,Te.Z)(function*(n,t){const i=(yield function ZI(){return Dy||(Dy=new Promise((n,t)=>{try{const e=indexedDB.open(rC,fO);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Ps.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(_g,{keyPath:"compositeKey"})}}catch(e){t(Ps.create("storage-open",{originalErrorMessage:e?.message}))}}),Dy)}()).transaction(_g,"readwrite"),s=i.objectStore(_g).put({compositeKey:n,value:t});return new Promise((a,c)=>{s.onsuccess=h=>{a()},i.onerror=h=>{var p;c(Ps.create("storage-set",{originalErrorMessage:null===(p=h.target.error)||void 0===p?void 0:p.message}))}})})).apply(this,arguments)}const vg=new cc.Yd("@firebase/app-check");function lC(n,t){return(0,K.hl)()?function gO(n,t){return zI(function HI(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{vg.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function xy(){return tC().enabled}function d_(){return uC.apply(this,arguments)}function uC(){return(uC=(0,Te.Z)(function*(){const n=tC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const dC={error:"UNKNOWN_ERROR"};function wO(n){return K.US.encodeString(JSON.stringify(n),!1)}function h_(n){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,Te.Z)(function*(n,t=!1){const e=n.app;iC(e);const i=_o(e);let s,r=i.token;if(r&&!yg(r)&&(i.token=void 0,r=void 0),!r){const h=yield i.cachedTokenPromise;h&&(yg(h)?r=h:yield lC(e,void 0))}if(!t&&r&&yg(r))return{token:r.token};let c,a=!1;if(xy()){i.exchangeTokenPromise||(i.exchangeTokenPromise=c_(BI(e,yield d_()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const h=yield i.exchangeTokenPromise;return yield lC(e,h),i.token=h,{token:h.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),r=yield _o(e).exchangeTokenPromise}catch(h){"appCheck/throttled"===h.code?vg.warn(h.message):vg.error(h),s=h}return r?s?c=yg(r)?{token:r.token,internalError:s}:pC(s):(c={token:r.token},i.token=r,yield lC(e,r)):c=pC(s),a&&function My(n,t){const e=_o(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,c),c})).apply(this,arguments)}function hC(n){return fC.apply(this,arguments)}function fC(){return(fC=(0,Te.Z)(function*(n){const t=n.app;iC(t);const{provider:e}=_o(t);if(xy()){const i=yield d_(),{token:r}=yield c_(BI(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function Sy(n,t){const e=_o(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function Ay(n){const{app:t}=n,e=_o(t);let i=e.tokenRefresher;i||(i=function bO(n){const{app:t}=n;return new FI((0,Te.Z)(function*(){let i;if(i=_o(t).token?yield h_(n,!0):yield h_(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=_o(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},mg.RETRIAL_MIN_WAIT,mg.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function yg(n){return n.expireTimeMillis-Date.now()>0}function pC(n){return{token:wO(dC),error:n}}class gC{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=_o(this.app);for(const e of t)Sy(this.app,e.next);return Promise.resolve()}}const bC="app-check-internal";!function XI(){(0,Vo._registerComponent)(new Il.wA("app-check",n=>function jI(n,t){return new gC(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(bC).initialize()})),(0,Vo._registerComponent)(new Il.wA(bC,n=>function WI(n){return{getToken:t=>h_(n,t),getLimitedUseToken:()=>hC(n),addTokenListener:t=>function qI(n,t,e,i){const{app:r}=n,s=_o(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&yg(s.token)){const c=s.token;Promise.resolve().then(()=>{e({token:c.token}),Ay(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Ay(n))}(n,"INTERNAL",t),removeTokenListener:t=>Sy(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Vo.registerVersion)("@firebase/app-check","0.8.0")}();class qf{constructor(){return(0,Wn.vb)("app-check")}}typeof window<"u"&&window;var DC=z(9260);function p_(n){const t=function kO(n){return new Ei.y(t=>{const e=a=>t.next(a);e(n.snapshot);const s=n.on("state_changed",e);return n.then(a=>{e(a),t.complete()},a=>{e(n.snapshot),(a=>{t.error(a)})(a)}),function(){s()}}).pipe(function L1(n,t=Kv.z){return(0,Ar.e)((e,i)=>{let r=null,s=null,a=null;const c=()=>{if(r){r.unsubscribe(),r=null;const p=s;s=null,i.next(p)}};function h(){const p=a+n,v=t.now();if(v<p)return r=this.schedule(void 0,p-v),void i.add(r);c()}e.subscribe((0,hr.x)(i,p=>{s=p,a=t.now(),r||(r=t.schedule(h,n),i.add(r))},()=>{c(),i.complete()},void 0,()=>{s=r=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,qt.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function jf(n){return{getDownloadURL:()=>Ht(void 0).pipe(Wn.fc,Mi(()=>n.getDownloadURL()),Wn.iC),getMetadata:()=>Ht(void 0).pipe(Wn.fc,Mi(()=>n.getMetadata()),Wn.iC),delete:()=>(0,si.D)(n.delete()),child:t=>jf(n.child(t)),updateMetadata:t=>(0,si.D)(n.updateMetadata(t)),put:(t,e)=>p_(n.put(t,e)),putString:(t,e,i)=>p_(n.putString(t,e,i)),list:t=>(0,si.D)(n.list(t)),listAll:()=>(0,si.D)(n.listAll())}}const OO=new o.OlP("angularfire2.storageBucket"),RO=new o.OlP("angularfire2.storage.maxUploadRetryTime"),rx=new o.OlP("angularfire2.storage.maxOperationRetryTime"),ox=new o.OlP("angularfire2.storage.use-emulator");let IC=(()=>{class n{constructor(e,i,r,s,a,c,h,p,v,b){const D=(0,Bo.on)(e,a,i);this.storage=(0,Bo.cc)(`${D.name}.storage.${r}`,"AngularFireStorage",D.name,()=>{const P=a.runOutsideAngular(()=>D.storage(r||void 0)),R=v;return R&&P.useEmulator(...R),h&&P.setMaxUploadRetryTime(h),p&&P.setMaxOperationRetryTime(p),P},[h,p])}ref(e){return jf(this.storage.ref(e))}refFromURL(e){return jf(this.storage.refFromURL(e))}upload(e,i,r){return jf(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Bo.Dh),o.LFG(Bo.xv,8),o.LFG(OO,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Wn.HU),o.LFG(RO,8),o.LFG(rx,8),o.LFG(ox,8),o.LFG(qf,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),xC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),SC=(()=>{class n{constructor(){DC.Z.registerVersion("angularfire",Wn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[IC],imports:[xC]}),n})();z(1389);class sx{constructor(){return(0,Wn.vb)("auth")}}var Ut,gx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jc={},mx=mx||{},qn=gx||self;function PC(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Fy(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var kC="closure_uid_"+(1e9*Math.random()>>>0),oR=0;function HB(n,t,e){return n.call.apply(n.bind,arguments)}function qB(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Ca(n,t,e){return(Ca=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?HB:qB).apply(null,arguments)}function Wf(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ks(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return t.prototype[r].apply(i,a)}}function Pd(){this.s=this.s,this.o=this.o}Pd.prototype.s=!1,Pd.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function zB(n){Object.prototype.hasOwnProperty.call(n,kC)&&n[kC]||(n[kC]=++oR)}(this)},Pd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const OC=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function By(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function sR(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(PC(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let a=0;a<s;a++)n[r+a]=i[a]}else n.push(i)}}function ms(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}ms.prototype.h=function(){this.defaultPrevented=!0};var _x=function(){if(!qn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{qn.addEventListener("test",()=>{},t),qn.removeEventListener("test",()=>{},t)}catch{}return n}();function v_(n){return/^[\s\xa0]*$/.test(n)}function RC(){var n=qn.navigator;return n&&(n=n.userAgent)?n:""}function Ru(n){return-1!=RC().indexOf(n)}function NC(n){return NC[" "](n),n}NC[" "]=function(){};var LC,n,Vy=Ru("Opera"),wg=Ru("Trident")||Ru("MSIE"),lR=Ru("Edge"),vx=lR||wg,cR=Ru("Gecko")&&!(-1!=RC().toLowerCase().indexOf("webkit")&&!Ru("Edge"))&&!(Ru("Trident")||Ru("MSIE"))&&!Ru("Edge"),uR=-1!=RC().toLowerCase().indexOf("webkit")&&!Ru("Edge");function yx(){var n=qn.document;return n?n.documentMode:void 0}e:{var wx="",FC=(n=RC(),cR?/rv:([^\);]+)(\)|;)/.exec(n):lR?/Edge\/([\d\.]+)/.exec(n):wg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):uR?/WebKit\/(\S+)/.exec(n):Vy?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(FC&&(wx=FC?FC[1]:""),wg){var Zy=yx();if(null!=Zy&&Zy>parseFloat(wx)){LC=String(Zy);break e}}LC=wx}var Wc=qn.document&&wg&&(yx()||parseInt(LC,10))||void 0;function y_(n,t){if(ms.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(cR){e:{try{NC(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:UC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&y_.$.h.call(this)}}ks(y_,ms);var UC={2:"touch",3:"pen",4:"mouse"};y_.prototype.h=function(){y_.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var w_="closure_listenable_"+(1e6*Math.random()|0),jB=0;function uc(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++jB,this.fa=this.ia=!1}function Hy(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function b_(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function bx(n){const t={};for(const e in n)t[e]=n[e];return t}const qy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BC(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<qy.length;s++)e=qy[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function C_(n){this.src=n,this.g={},this.h=0}function VC(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=OC(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Hy(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function jy(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}C_.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var a=jy(n,t,i,r);return-1<a?(t=n[a],e||(t.ia=!1)):((t=new uc(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var Wy="closure_lm_"+(1e6*Math.random()|0),ZC={};function zC(n,t,e,i,r){if(i&&i.once)return Nu(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)zC(n,t[s],e,i,r);return null}return e=jC(e),n&&n[w_]?n.O(t,e,Fy(i)?!!i.capture:!!i,r):Cx(n,t,e,!1,i,r)}function Cx(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var a=Fy(r)?!!r.capture:!!r,c=qC(n);if(c||(n[Wy]=c=new C_(n)),(e=c.add(t,e,i,a,s)).proxy)return e;if(i=function HC(){const t=Ex;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)_x||(r=a),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(Gy(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function Nu(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Nu(n,t[s],e,i,r);return null}return e=jC(e),n&&n[w_]?n.P(t,e,Fy(i)?!!i.capture:!!i,r):Cx(n,t,e,!0,i,r)}function kd(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)kd(n,t[s],e,i,r);else i=Fy(i)?!!i.capture:!!i,e=jC(e),n&&n[w_]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=jy(s=n.g[t],e,i,r))&&(Hy(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=qC(n))&&(t=n.g[t.toString()],n=-1,t&&(n=jy(t,e,i,r)),(e=-1<n?t[n]:null)&&$y(e))}function $y(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[w_])VC(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(Gy(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=qC(t))?(VC(e,n),0==e.h&&(e.src=null,t[Wy]=null)):Hy(n)}}}function Gy(n){return n in ZC?ZC[n]:ZC[n]="on"+n}function Ex(n,t){if(n.fa)n=!0;else{t=new y_(t,this);var e=n.listener,i=n.la||n.src;n.ia&&$y(n),n=e.call(i,t)}return n}function qC(n){return(n=n[Wy])instanceof C_?n:null}var Tx="__closure_events_fn_"+(1e9*Math.random()>>>0);function jC(n){return"function"==typeof n?n:(n[Tx]||(n[Tx]=function(t){return n.handleEvent(t)}),n[Tx])}function _s(){Pd.call(this),this.i=new C_(this),this.S=this,this.J=null}function Os(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new ms(t,n);else if(t instanceof ms)t.target=t.target||n;else{var r=t;BC(t=new ms(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var a=t.g=e[s];r=Yy(a,i,!0,t)&&r}if(r=Yy(a=t.g=n,i,!0,t)&&r,r=Yy(a,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=Yy(a=t.g=e[s],i,!1,t)&&r}function Yy(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==e){var c=a.listener,h=a.la||a.src;a.ia&&VC(n.i,a),r=!1!==c.call(h,i)&&r}}return r&&!i.defaultPrevented}ks(_s,Pd),_s.prototype[w_]=!0,_s.prototype.removeEventListener=function(n,t,e,i){kd(this,n,t,e,i)},_s.prototype.N=function(){if(_s.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Hy(e[i]);delete n.g[t],n.h--}}this.J=null},_s.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},_s.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Ky=qn.JSON.stringify;function Dx(){var n=Qy;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var WC=new class WB{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new $B,n=>n.reset());class $B{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function $C(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function Ix(n){qn.setTimeout(()=>{throw n},0)}let bg,Cg=!1,Qy=new class fR{constructor(){this.h=this.g=null}add(t,e){const i=WC.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},GC=()=>{const n=qn.Promise.resolve(void 0);bg=()=>{n.then(Jy)}};var Jy=()=>{for(var n;n=Dx();){try{n.h.call(n.g)}catch(e){Ix(e)}var t=WC;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Cg=!1};function $f(n,t){_s.call(this),this.h=n||1,this.g=t||qn,this.j=Ca(this.qb,this),this.l=Date.now()}function Xy(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function YC(n,t,e){if("function"==typeof n)e&&(n=Ca(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ca(n.handleEvent,n)}return 2147483647<Number(t)?-1:qn.setTimeout(n,t||0)}function xx(n){n.g=YC(()=>{n.g=null,n.i&&(n.i=!1,xx(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ks($f,_s),(Ut=$f.prototype).ga=!1,Ut.T=null,Ut.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Os(this,"tick"),this.ga&&(Xy(this),this.start()))}},Ut.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ut.N=function(){$f.$.N.call(this),Xy(this),delete this.g};class GB extends Pd{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:xx(this)}N(){super.N(),this.g&&(qn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function e0(n){Pd.call(this),this.h=n,this.g={}}ks(e0,Pd);var pR=[];function KC(n,t,e,i){Array.isArray(e)||(e&&(pR[0]=e.toString()),e=pR);for(var r=0;r<e.length;r++){var s=zC(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Sx(n){b_(n.g,function(t,e){this.g.hasOwnProperty(e)&&$y(t)},n),n.g={}}function t0(){this.g=!0}function E_(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function QB(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}return Ky(e)}catch{return t}}(n,e)+(i?" "+i:"")})}e0.prototype.N=function(){e0.$.N.call(this),Sx(this)},e0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},t0.prototype.Ea=function(){this.g=!1},t0.prototype.info=function(){};var Eg={},Ax=null;function Gf(){return Ax=Ax||new _s}function Mx(n){ms.call(this,Eg.Ta,n)}function T_(n){const t=Gf();Os(t,new Mx(t))}function QC(n,t){ms.call(this,Eg.STAT_EVENT,n),this.stat=t}function Mo(n){const t=Gf();Os(t,new QC(t,n))}function JC(n,t){ms.call(this,Eg.Ua,n),this.size=t}function Yf(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return qn.setTimeout(function(){n()},t)}Eg.Ta="serverreachability",ks(Mx,ms),Eg.STAT_EVENT="statevent",ks(QC,ms),Eg.Ua="timingevent",ks(JC,ms);var Tg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Px={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function D_(){}function I_(){}D_.prototype.h=null;var Rx,r0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function kx(){ms.call(this,"d")}function Ox(){ms.call(this,"c")}function x_(){}function S_(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new e0(this),this.P=mR,this.V=new $f(n=vx?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Nx}function Nx(){this.i=null,this.g="",this.h=!1}ks(kx,ms),ks(Ox,ms),ks(x_,D_),x_.prototype.g=function(){return new XMLHttpRequest},x_.prototype.i=function(){return{}},Rx=new x_;var mR=45e3,XC={},A_={};function o0(n,t,e){n.L=1,n.v=rE(Uh(t)),n.s=e,n.S=!0,eE(n,null)}function eE(n,t){n.G=Date.now(),Kf(n),n.A=Uh(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),O(e.i,"t",i),n.C=0,e=n.l.J,n.h=new Nx,n.g=wV(n.l,e?t:null,!n.s),0<n.O&&(n.M=new GB(Ca(n.Pa,n,n.g),n.O)),KC(n.U,n.g,"readystatechange",n.nb),t=n.I?bx(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),T_(),function gR(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var a="",c=s.split("&"),h=0;h<c.length;h++){var p=c[h].split("=");if(1<p.length){var v=p[0];p=p[1];var b=v.split("_");a=2<=b.length&&"type"==b[1]?a+(v+"=")+p+"&":a+(v+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+a})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Lx(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Fx(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=Ux(n,e),r==A_){4==t&&(n.o=4,Mo(14),i=!1),E_(n.j,n.m,null,"[Incomplete Response]");break}if(r==XC){n.o=4,Mo(15),E_(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}E_(n.j,n.m,r,null),tE(n,r)}Lx(n)&&r!=A_&&r!=XC&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Mo(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),TR(t),t.M=!0,Mo(11))):(E_(n.j,n.m,e,"[Invalid Chunked Response]"),Jf(n),Qf(n))}function Ux(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?A_:(e=Number(t.substring(e,i)),isNaN(e)?XC:(i+=1)+e>t.length?A_:(t=t.slice(i,i+e),n.C=i+e,t))}function Kf(n){n.Y=Date.now()+n.P,_R(n,n.P)}function _R(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Yf(Ca(n.lb,n),t)}function M_(n){n.B&&(qn.clearTimeout(n.B),n.B=null)}function Qf(n){0==n.l.H||n.J||mV(n.l,n)}function Jf(n){M_(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,Xy(n.V),Sx(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function tE(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||Mt(e.i,n)))if(!n.K&&Mt(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;$x(e),jx(e)}ER(e),Mo(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Yf(Ca(e.ib,e),6e3));if(1>=wt(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else P_(e,11)}else if((n.K||e.g==n)&&$x(e),!v_(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let p=r[t];if(e.V=p[0],p=p[1],2==e.H)if("c"==p[0]){e.K=p[1],e.pa=p[2];const v=p[3];null!=v&&(e.ra=v,e.l.info("VER="+e.ra));const b=p[4];null!=b&&(e.Ga=b,e.l.info("SVER="+e.Ga));const D=p[5];null!=D&&"number"==typeof D&&0<D&&(e.L=i=1.5*D,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const P=n.g;if(P){const R=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R){var s=i.i;s.g||-1==R.indexOf("spdy")&&-1==R.indexOf("quic")&&-1==R.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Xt(s,s.h),s.h=null))}if(i.F){const F=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;F&&(i.Da=F,Fr(i.I,i.F,F))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var a=n;if((i=e).wa=yV(i,i.J?i.pa:null,i.Y),a.K){Pn(i.i,a);var c=a,h=i.L;h&&c.setTimeout(h),c.B&&(M_(c),Kf(c)),i.g=a}else pV(i);0<e.j.length&&Wx(e)}else"stop"!=p[0]&&"close"!=p[0]||P_(e,7);else 3==e.H&&("stop"==p[0]||"close"==p[0]?"stop"==p[0]?P_(e,7):CR(e):"noop"!=p[0]&&e.h&&e.h.Aa(p),e.A=0)}T_()}catch{}}function Bx(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(PC(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function XB(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(PC(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function JB(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(PC(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(Ut=S_.prototype).setTimeout=function(n){this.P=n},Ut.nb=function(n){n=n.target;const t=this.M;t&&3==Bh(n)?t.l():this.Pa(n)},Ut.Pa=function(n){try{if(n==this.g)e:{const v=Bh(this.g);var t=this.g.Ia();if(this.g.da(),!(3>v)&&(3!=v||vx||this.g&&(this.h.h||this.g.ja()||lV(this.g)))){this.J||4!=v||7==t||T_(),M_(this);var e=this.g.da();this.ca=e;t:if(Lx(this)){var i=lV(this.g);n="";var r=i.length,s=4==Bh(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Jf(this),Qf(this);var a="";break t}this.h.i=new qn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==e,function YB(n,t,e,i,r,s,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,v,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v_(c)){var p=c;break t}}p=null}if(!(e=p)){this.i=!1,this.o=3,Mo(12),Jf(this),Qf(this);break e}E_(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tE(this,e)}this.S?(Fx(this,v,a),vx&&this.i&&3==v&&(KC(this.U,this.V,"tick",this.mb),this.V.start())):(E_(this.j,this.m,a,null),tE(this,a)),4==v&&Jf(this),this.i&&!this.J&&(4==v?mV(this.l,this):(this.i=!1,Kf(this)))}else(function c7(n){const t={};n=(n.g&&2<=Bh(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(v_(n[i]))continue;var e=$C(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function hR(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<a.indexOf("Unknown SID")?(this.o=3,Mo(12)):(this.o=0,Mo(13)),Jf(this),Qf(this)}}}catch{}},Ut.mb=function(){if(this.g){var n=Bh(this.g),t=this.g.ja();this.C<t.length&&(M_(this),Fx(this,n,t),this.i&&4!=n&&Kf(this))}},Ut.cancel=function(){this.J=!0,Jf(this)},Ut.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function KB(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(T_(),Mo(17)),Jf(this),this.o=2,Qf(this)):_R(this,this.Y-n)};var Vx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dg(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Dg){this.h=n.h,nE(this,n.j),this.s=n.s,this.g=n.g,iE(this,n.m),this.l=n.l;var t=n.i,e=new _;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),Zx(this,e),this.o=n.o}else n&&(t=String(n).match(Vx))?(this.h=!1,nE(this,t[1]||"",!0),this.s=s0(t[2]||""),this.g=s0(t[3]||"",!0),iE(this,t[4]),this.l=s0(t[5]||"",!0),Zx(this,t[6]||"",!0),this.o=s0(t[7]||"")):(this.h=!1,this.i=new _(null,this.h))}function Uh(n){return new Dg(n)}function nE(n,t,e){n.j=e?s0(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function iE(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function Zx(n,t,e){t instanceof _?(n.i=t,function j(n,t){t&&!n.j&&(w(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(T(this,i),O(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=a0(t,d)),n.i=new _(t,n.h))}function Fr(n,t,e){n.i.set(t,e)}function rE(n){return Fr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function s0(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function a0(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,eV),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function eV(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Dg.prototype.toString=function(){var n=[],t=this.j;t&&n.push(a0(t,yR,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(a0(t,yR,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(a0(e,"/"==e.charAt(0)?u:l,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",a0(e,g)),n.join("")};var yR=/[#\/\?@]/g,l=/[#\?:]/g,u=/[#\?]/g,d=/[#\?@]/g,g=/#/g;function _(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function w(n){n.g||(n.g=new Map,n.h=0,n.i&&function vR(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function T(n,t){w(n),t=U(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function A(n,t){return w(n),t=U(n,t),n.g.has(t)}function O(n,t,e){T(n,t),0<e.length&&(n.i=null,n.g.set(U(n,t),By(e)),n.h+=e.length)}function U(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function ve(n){this.l=n||Pe,n=qn.PerformanceNavigationTiming?0<(n=qn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(qn.g&&qn.g.Ka&&qn.g.Ka()&&qn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ut=_.prototype).add=function(n,t){w(this),this.i=null,n=U(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Ut.forEach=function(n,t){w(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},Ut.ta=function(){w(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},Ut.Z=function(n){w(this);let t=[];if("string"==typeof n)A(this,n)&&(t=t.concat(this.g.get(U(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},Ut.set=function(n,t){return w(this),this.i=null,A(this,n=U(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Ut.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},Ut.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=s;""!==a[i]&&(r+="="+encodeURIComponent(String(a[i]))),n.push(r)}}return this.i=n.join("&")};var Pe=10;function Ye(n){return!!n.h||!!n.g&&n.g.size>=n.j}function wt(n){return n.h?1:n.g?n.g.size:0}function Mt(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function Xt(n,t){n.g?n.g.add(t):n.h=t}function Pn(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function ft(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return By(n.i)}ve.prototype.cancel=function(){if(this.i=ft(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var $n=class{stringify(n){return qn.JSON.stringify(n,void 0)}parse(n){return qn.JSON.parse(n,void 0)}};function Ur(){this.g=new $n}function Po(n,t,e){const i=e||"";try{Bx(n,function(r,s){let a=r;Fy(r)&&(a=Ky(r)),t.push(i+s+"="+encodeURIComponent(a))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function zx(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function oE(n){this.l=n.fc||null,this.j=n.ob||!1}function Hx(n,t){_s.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=wR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ks(oE,D_),oE.prototype.g=function(){return new Hx(this.l,this.j)},oE.prototype.i=function(n){return function(){return n}}({}),ks(Hx,_s);var wR=0;function nV(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function sE(n){n.readyState=4,n.l=null,n.j=null,n.A=null,aE(n)}function aE(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ut=Hx.prototype).open=function(n,t){if(this.readyState!=wR)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,aE(this)},Ut.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||qn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ut.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sE(this)),this.readyState=wR},Ut.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,aE(this)),this.g&&(this.readyState=3,aE(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof qn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nV(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ut.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?sE(this):aE(this),3==this.readyState&&nV(this)}},Ut.Za=function(n){this.g&&(this.response=this.responseText=n,sE(this))},Ut.Ya=function(n){this.g&&(this.response=n,sE(this))},Ut.ka=function(){this.g&&sE(this)},Ut.setRequestHeader=function(n,t){this.v.append(n,t)},Ut.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ut.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Hx.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var o7=qn.JSON.parse;function Zo(n){_s.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iV,this.L=this.M=!1}ks(Zo,_s);var iV="",s7=/^https?$/i,a7=["POST","PUT"];function rV(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,oV(n),qx(n)}function oV(n){n.F||(n.F=!0,Os(n,"complete"),Os(n,"error"))}function sV(n){if(n.h&&typeof mx<"u"&&(!n.C[1]||4!=Bh(n)||2!=n.da()))if(n.v&&4==Bh(n))YC(n.La,0,n);else if(Os(n,"readystatechange"),4==Bh(n)){n.h=!1;try{const a=n.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===a){var r=String(n.I).match(Vx)[1]||null;!r&&qn.self&&qn.self.location&&(r=qn.self.location.protocol.slice(0,-1)),i=!s7.test(r?r.toLowerCase():"")}e=i}if(e)Os(n,"complete"),Os(n,"success");else{n.m=6;try{var s=2<Bh(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",oV(n)}}finally{qx(n)}}}function qx(n,t){if(n.g){aV(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Os(n,"ready");try{e.onreadystatechange=i}catch{}}}function aV(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(qn.clearTimeout(n.A),n.A=null)}function Bh(n){return n.g?n.g.readyState:0}function lV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case iV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function cV(n){let t="";return b_(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function bR(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=cV(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Fr(n,t,e))}function lE(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function uV(n){this.Ga=0,this.j=[],this.l=new t0,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=lE("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=lE("baseRetryDelayMs",5e3,n),this.hb=lE("retryDelaySeedMs",1e4,n),this.eb=lE("forwardChannelMaxRetries",2,n),this.xa=lE("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new ve(n&&n.concurrentRequestLimit),this.Ja=new Ur,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function CR(n){if(dV(n),3==n.H){var t=n.W++,e=Uh(n.I);if(Fr(e,"SID",n.K),Fr(e,"RID",t),Fr(e,"TYPE","terminate"),cE(n,e),(t=new S_(n,n.l,t)).L=2,t.v=rE(Uh(e)),e=!1,qn.navigator&&qn.navigator.sendBeacon)try{e=qn.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&qn.Image&&((new Image).src=t.v,e=!0),e||(t.g=wV(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Kf(t)}vV(n)}function jx(n){n.g&&(TR(n),n.g.cancel(),n.g=null)}function dV(n){jx(n),n.u&&(qn.clearTimeout(n.u),n.u=null),$x(n),n.i.cancel(),n.m&&("number"==typeof n.m&&qn.clearTimeout(n.m),n.m=null)}function Wx(n){if(!Ye(n.i)&&!n.m){n.m=!0;var t=n.Na;bg||GC(),Cg||(bg(),Cg=!0),Qy.add(t,n),n.C=0}}function hV(n,t){var e;e=t?t.m:n.W++;const i=Uh(n.I);Fr(i,"SID",n.K),Fr(i,"RID",e),Fr(i,"AID",n.V),cE(n,i),n.o&&n.s&&bR(i,n.o,n.s),e=new S_(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=fV(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Xt(n.i,e),o0(e,i,t)}function cE(n,t){n.na&&b_(n.na,function(e,i){Fr(t,i,e)}),n.h&&Bx({},function(e,i){Fr(t,i,e)})}function fV(n,t,e){e=Math.min(n.j.length,e);var i=n.h?Ca(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const a=["count="+e];-1==s?0<e?(s=r[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let c=!0;for(let h=0;h<e;h++){let p=r[h].g;const v=r[h].map;if(p-=s,0>p)s=Math.max(0,r[h].g-100),c=!1;else try{Po(v,a,"req"+p+"_")}catch{i&&i(v)}}if(c){i=a.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function pV(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;bg||GC(),Cg||(bg(),Cg=!0),Qy.add(t,n),n.A=0}}function ER(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Yf(Ca(n.Ma,n),_V(n,n.A)),n.A++,0))}function TR(n){null!=n.B&&(qn.clearTimeout(n.B),n.B=null)}function gV(n){n.g=new S_(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Uh(n.wa);Fr(t,"RID","rpc"),Fr(t,"SID",n.K),Fr(t,"AID",n.V),Fr(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&Fr(t,"TO",n.qa),Fr(t,"TYPE","xmlhttp"),cE(n,t),n.o&&n.s&&bR(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=rE(Uh(t)),e.s=null,e.S=!0,eE(e,n)}function $x(n){null!=n.v&&(qn.clearTimeout(n.v),n.v=null)}function mV(n,t){var e=null;if(n.g==t){$x(n),TR(n),n.g=null;var i=2}else{if(!Mt(n.i,t))return;e=t.F,Pn(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;Os(i=Gf(),new JC(i,e)),Wx(n)}else pV(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function u7(n,t){return!(wt(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Yf(Ca(n.Na,n,t),_V(n,n.C)),n.C++,0)))}(n,t)||2==i&&ER(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:P_(n,5);break;case 4:P_(n,10);break;case 3:P_(n,6);break;default:P_(n,2)}}function _V(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function P_(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=Ca(n.pb,n);e||(e=new Dg("//www.google.com/images/cleardot.gif"),qn.location&&"http"==qn.location.protocol||nE(e,"https"),rE(e)),function tV(n,t){const e=new t0;if(qn.Image){const i=new Image;i.onload=Wf(zx,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Wf(zx,e,i,"TestLoadImage: error",!1,t),i.onabort=Wf(zx,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Wf(zx,e,i,"TestLoadImage: timeout",!1,t),qn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Mo(2);n.H=0,n.h&&n.h.za(t),vV(n),dV(n)}function vV(n){if(n.H=0,n.ma=[],n.h){const t=ft(n.i);(0!=t.length||0!=n.j.length)&&(sR(n.ma,t),sR(n.ma,n.j),n.i.i.length=0,By(n.j),n.j.length=0),n.h.ya()}}function yV(n,t,e){var i=e instanceof Dg?Uh(e):new Dg(e);if(""!=i.g)t&&(i.g=t+"."+i.g),iE(i,i.m);else{var r=qn.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Dg(null);i&&nE(s,i),t&&(s.g=t),r&&iE(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&Fr(i,e,t),Fr(i,"VER",n.ra),cE(n,i),i}function wV(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Zo(e&&n.Ha&&!n.va?new oE({ob:!0}):n.va)).Oa(n.J),t}function bV(){}function Gx(){if(wg&&!(10<=Number(Wc)))throw Error("Environmental error: no available transport.")}function $c(n,t){_s.call(this),this.g=new uV(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!v_(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!v_(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new l0(this)}function CV(n){kx.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function EV(){Ox.call(this),this.status=1}function l0(n){this.g=n}function Od(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function DR(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],a=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;a=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(a<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=e+((a=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((r=s+((a=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function fr(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(Ut=Zo.prototype).Oa=function(n){this.M=n},Ut.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Rx.g(),this.C=function n0(n){return n.h||(n.h=n.i())}(this.u?this.u:Rx),this.g.onreadystatechange=Ca(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void rV(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=qn.FormData&&n instanceof qn.FormData,!(0<=OC(a7,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of e)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{aV(this),0<this.B&&((this.L=function l7(n){return wg&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ca(this.ua,this)):this.A=YC(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){rV(this,s)}},Ut.ua=function(){typeof mx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Os(this,"timeout"),this.abort(8))},Ut.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Os(this,"complete"),Os(this,"abort"),qx(this))},Ut.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qx(this,!0)),Zo.$.N.call(this)},Ut.La=function(){this.s||(this.G||this.v||this.l?sV(this):this.kb())},Ut.kb=function(){sV(this)},Ut.isActive=function(){return!!this.g},Ut.da=function(){try{return 2<Bh(this)?this.g.status:-1}catch{return-1}},Ut.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ut.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),o7(t)}},Ut.Ia=function(){return this.m},Ut.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ut=uV.prototype).ra=8,Ut.H=1,Ut.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new S_(this,this.l,n);let s=this.s;if(this.U&&(s?(s=bx(s),BC(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=fV(this,r,t),Fr(e=Uh(this.I),"RID",n),Fr(e,"CVER",22),this.F&&Fr(e,"X-HTTP-Session-Id",this.F),cE(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(cV(s)))+"&"+t:this.o&&bR(e,this.o,s)),Xt(this.i,r),this.bb&&Fr(e,"TYPE","init"),this.P?(Fr(e,"$req",t),Fr(e,"SID","null"),r.aa=!0,o0(r,e,null)):o0(r,e,t),this.H=2}}else 3==this.H&&(n?hV(this,n):0==this.j.length||Ye(this.i)||hV(this))},Ut.Ma=function(){if(this.u=null,gV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Yf(Ca(this.jb,this),n)}},Ut.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Mo(10),jx(this),gV(this))},Ut.ib=function(){null!=this.v&&(this.v=null,jx(this),ER(this),Mo(19))},Ut.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Mo(2)):(this.l.info("Failed to ping google.com"),Mo(1))},Ut.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ut=bV.prototype).Ba=function(){},Ut.Aa=function(){},Ut.za=function(){},Ut.ya=function(){},Ut.isActive=function(){return!0},Ut.Va=function(){},Gx.prototype.g=function(n,t){return new $c(n,t)},ks($c,_s),$c.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Mo(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=yV(n,null,n.Y),Wx(n)},$c.prototype.close=function(){CR(this.g)},$c.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=Ky(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&Wx(t)},$c.prototype.N=function(){this.g.h=null,delete this.j,CR(this.g),delete this.g,$c.$.N.call(this)},ks(CV,kx),ks(EV,Ox),ks(l0,bV),l0.prototype.Ba=function(){Os(this.g,"a")},l0.prototype.Aa=function(n){Os(this.g,new CV(n))},l0.prototype.za=function(n){Os(this.g,new EV)},l0.prototype.ya=function(){Os(this.g,"b")},ks(Od,function d7(){this.blockSize=-1}),Od.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Od.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)DR(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){DR(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){DR(this,i),r=0;break}}this.h=r,this.i+=t},Od.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var h7={};function IR(n){return-128<=n&&128>n?function aR(n,t){var e=h7;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new fr([0|t],0>t?-1:0)}):new fr([0|n],0>n?-1:0)}function Vh(n){if(isNaN(n)||!isFinite(n))return c0;if(0>n)return Ea(Vh(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=xR;return new fr(t,0)}var xR=4294967296,c0=IR(0),SR=IR(1),DV=IR(16777216);function Xf(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function Lu(n){return-1==n.h}function Ea(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new fr(e,~n.h).add(SR)}function Yx(n,t){return n.add(Ea(t))}function Kx(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function uE(n,t){this.g=n,this.h=t}function Qx(n,t){if(Xf(t))throw Error("division by zero");if(Xf(n))return new uE(c0,c0);if(Lu(n))return t=Qx(Ea(n),t),new uE(Ea(t.g),Ea(t.h));if(Lu(t))return t=Qx(n,Ea(t)),new uE(Ea(t.g),t.h);if(30<n.g.length){if(Lu(n)||Lu(t))throw Error("slowDivide_ only works with positive integers.");for(var e=SR,i=t;0>=i.X(n);)e=IV(e),i=IV(i);var r=u0(e,1),s=u0(i,1);for(i=u0(i,2),e=u0(e,2);!Xf(i);){var a=s.add(i);0>=a.X(n)&&(r=r.add(e),s=a),i=u0(i,1),e=u0(e,1)}return t=Yx(n,r.R(t)),new uE(r,t)}for(r=c0;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),a=(s=Vh(e)).R(t);Lu(a)||0<a.X(n);)a=(s=Vh(e-=i)).R(t);Xf(s)&&(s=SR),r=r.add(s),n=Yx(n,a)}return new uE(r,n)}function IV(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new fr(e,n.h)}function u0(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new fr(r,n.h)}(Ut=fr.prototype).ea=function(){if(Lu(this))return-Ea(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:xR+i)*t,t*=xR}return n},Ut.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Xf(this))return"0";if(Lu(this))return"-"+Ea(this).toString(n);for(var t=Vh(Math.pow(n,6)),e=this,i="";;){var r=Qx(e,t).g,s=((0<(e=Yx(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Xf(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},Ut.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ut.X=function(n){return Lu(n=Yx(this,n))?-1:Xf(n)?0:1},Ut.abs=function(){return Lu(this)?Ea(this):this},Ut.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),a=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=a>>>16,e[r]=(a&=65535)<<16|(s&=65535)}return new fr(e,-2147483648&e[e.length-1]?-1:0)},Ut.R=function(n){if(Xf(this)||Xf(n))return c0;if(Lu(this))return Lu(n)?Ea(this).R(Ea(n)):Ea(Ea(this).R(n));if(Lu(n))return Ea(this.R(Ea(n)));if(0>this.X(DV)&&0>n.X(DV))return Vh(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,a=65535&this.D(i),c=n.D(r)>>>16,h=65535&n.D(r);e[2*i+2*r]+=a*h,Kx(e,2*i+2*r),e[2*i+2*r+1]+=s*h,Kx(e,2*i+2*r+1),e[2*i+2*r+1]+=a*c,Kx(e,2*i+2*r+1),e[2*i+2*r+2]+=s*c,Kx(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new fr(e,0)},Ut.gb=function(n){return Qx(this,n).h},Ut.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new fr(e,this.h&n.h)},Ut.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new fr(e,this.h|n.h)},Ut.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new fr(e,this.h^n.h)},Gx.prototype.createWebChannel=Gx.prototype.g,$c.prototype.send=$c.prototype.u,$c.prototype.open=$c.prototype.m,$c.prototype.close=$c.prototype.close,Tg.NO_ERROR=0,Tg.TIMEOUT=8,Tg.HTTP_ERROR=6,Px.COMPLETE="complete",I_.EventType=r0,r0.OPEN="a",r0.CLOSE="b",r0.ERROR="c",r0.MESSAGE="d",_s.prototype.listen=_s.prototype.O,Zo.prototype.listenOnce=Zo.prototype.P,Zo.prototype.getLastError=Zo.prototype.Sa,Zo.prototype.getLastErrorCode=Zo.prototype.Ia,Zo.prototype.getStatus=Zo.prototype.da,Zo.prototype.getResponseJson=Zo.prototype.Wa,Zo.prototype.getResponseText=Zo.prototype.ja,Zo.prototype.send=Zo.prototype.ha,Zo.prototype.setWithCredentials=Zo.prototype.Oa,Od.prototype.digest=Od.prototype.l,Od.prototype.reset=Od.prototype.reset,Od.prototype.update=Od.prototype.j,fr.prototype.add=fr.prototype.add,fr.prototype.multiply=fr.prototype.R,fr.prototype.modulo=fr.prototype.gb,fr.prototype.compare=fr.prototype.X,fr.prototype.toNumber=fr.prototype.ea,fr.prototype.toString=fr.prototype.toString,fr.prototype.getBits=fr.prototype.D,fr.fromNumber=Vh,fr.fromString=function TV(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Ea(TV(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Vh(Math.pow(t,8)),i=c0,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),a=parseInt(n.substring(r,r+s),t);8>s?(s=Vh(Math.pow(t,s)),i=i.R(s).add(Vh(a))):i=(i=i.R(e)).add(Vh(a))}return i};var f7=jc.createWebChannelTransport=function(){return new Gx},p7=jc.getStatEventTarget=function(){return Gf()},AR=jc.ErrorCode=Tg,g7=jc.EventType=Px,m7=jc.Event=Eg,xV=jc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_7=jc.FetchXmlHttpFactory=oE,Jx=jc.WebChannel=I_,v7=jc.XhrIo=Zo,y7=jc.Md5=Od,d0=jc.Integer=fr;const SV="@firebase/firestore";class ea{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ea.UNAUTHENTICATED=new ea(null),ea.GOOGLE_CREDENTIALS=new ea("google-credentials-uid"),ea.FIRST_PARTY=new ea("first-party-uid"),ea.MOCK_USER=new ea("mock-user");let h0="9.23.0";const Ig=new cc.Yd("@firebase/firestore");function MR(){return Ig.logLevel}function _t(n,...t){if(Ig.logLevel<=cc.in.DEBUG){const e=t.map(PR);Ig.debug(`Firestore (${h0}): ${n}`,...e)}}function ns(n,...t){if(Ig.logLevel<=cc.in.ERROR){const e=t.map(PR);Ig.error(`Firestore (${h0}): ${n}`,...e)}}function Fu(n,...t){if(Ig.logLevel<=cc.in.WARN){const e=t.map(PR);Ig.warn(`Firestore (${h0}): ${n}`,...e)}}function PR(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function en(n="Unexpected state"){const t=`FIRESTORE (${h0}) INTERNAL ASSERTION FAILED: `+n;throw ns(t),new Error(t)}function gn(n,t){n||en()}function Bt(n,t){return n}const Ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends K.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rs{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class AV{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class C7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ea.UNAUTHENTICATED))}shutdown(){}}class E7{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class T7{constructor(t){this.t=t,this.currentUser=ea.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=p=>this.i!==r?(r=this.i,e(p)):Promise.resolve();let a=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Rs,t.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=a;t.enqueueRetryable((0,Te.Z)(function*(){yield p.promise,yield s(i.currentUser)}))},h=p=>{_t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(_t("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Rs)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(_t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(gn("string"==typeof i.accessToken),new AV(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return gn(null===t||"string"==typeof t),new ea(t)}}class D7{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=ea.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class I7{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new D7(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(ea.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MV{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x7{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=s=>{null!=s.error&&_t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.T;return this.T=s.token,_t("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{_t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):_t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(gn("string"==typeof e.token),this.T=e.token,new MV(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function S7(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class PV{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=S7(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Qn(n,t){return n<t?-1:n>t?1:0}function f0(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function kV(n){return n+"\0"}class vo{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ut(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ut(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ut(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return vo.fromMillis(Date.now())}static fromDate(t){return vo.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new vo(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Qn(this.nanoseconds,t.nanoseconds):Qn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new yn(t)}static min(){return new yn(new vo(0,0))}static max(){return new yn(new vo(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class dE{constructor(t,e,i){void 0===e?e=0:e>t.length&&en(),void 0===i?i=t.length-e:i>t.length-e&&en(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===dE.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof dE?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),a=e.get(r);if(s<a)return-1;if(s>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Oi extends dE{construct(t,e,i){return new Oi(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ut(Ze.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Oi(e)}static emptyPath(){return new Oi([])}}const A7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zo extends dE{construct(t,e,i){return new zo(t,e,i)}static isValidIdentifier(t){return A7.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zo.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zo(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new ut(Ze.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let a=!1;for(;r<t.length;){const c=t[r];if("\\"===c){if(r+1===t.length)throw new ut(Ze.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[r+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new ut(Ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=h,r+=2}else"`"===c?(a=!a,r++):"."!==c||a?(i+=c,r++):(s(),r++)}if(s(),a)throw new ut(Ze.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new zo(e)}static emptyPath(){return new zo([])}}class Ft{constructor(t){this.path=t}static fromPath(t){return new Ft(Oi.fromString(t))}static fromName(t){return new Ft(Oi.fromString(t).popFirst(5))}static empty(){return new Ft(Oi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Oi.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Oi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ft(new Oi(t.slice()))}}class Xx{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function kR(n){return n.fields.find(t=>2===t.kind)}function k_(n){return n.fields.filter(t=>2!==t.kind)}Xx.UNKNOWN_ID=-1;class eS{constructor(t,e){this.fieldPath=t,this.kind=e}}class hE{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new hE(0,Gc.min())}}function OV(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=yn.fromTimestamp(1e9===i?new vo(e+1,0):new vo(e,i));return new Gc(r,Ft.empty(),t)}function RV(n){return new Gc(n.readTime,n.key,-1)}class Gc{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Gc(yn.min(),Ft.empty(),-1)}static max(){return new Gc(yn.max(),Ft.empty(),-1)}}function OR(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Ft.comparator(n.documentKey,t.documentKey),0!==e?e:Qn(n.largestBatchId,t.largestBatchId))}const NV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function xg(n){return RR.apply(this,arguments)}function RR(){return RR=(0,Te.Z)(function*(n){if(n.code!==Ze.FAILED_PRECONDITION||n.message!==NV)throw n;_t("LocalStore","Unexpectedly lost primary lease")}),RR.apply(this,arguments)}class Re{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&en(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Re((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Re?e:Re.resolve(e)}catch(e){return Re.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Re.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Re.reject(e)}static resolve(t){return new Re((e,i)=>{e(t)})}static reject(t){return new Re((e,i)=>{i(t)})}static waitFor(t){return new Re((e,i)=>{let r=0,s=0,a=!1;t.forEach(c=>{++r,c.next(()=>{++s,a&&s===r&&e()},h=>i(h))}),a=!0,s===r&&e()})}static or(t){let e=Re.resolve(!1);for(const i of t)e=e.next(r=>r?Re.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new Re((i,r)=>{const s=t.length,a=new Array(s);let c=0;for(let h=0;h<s;h++){const p=h;e(t[p]).next(v=>{a[p]=v,++c,c===s&&i(a)},v=>r(v))}})}static doWhile(t,e){return new Re((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class tS{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new Rs,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new fE(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=NR(i.target.error);this.v.reject(new fE(t,r))}}static open(t,e,i,r){try{return new tS(e,t.transaction(r,i))}catch(s){throw new fE(e,s)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(_t("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new O7(e)}}class Rd{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===Rd.S((0,K.z$)())&&ns("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return _t("SimpleDb","Removing database:",t),O_(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,K.hl)())return!1;if(Rd.C())return!0;const t=(0,K.z$)(),e=Rd.S(t),i=0<e&&e<10,r=Rd.N(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,Te.Z)(function*(){return e.db||(_t("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=a=>{i(a.target.result)},s.onblocked=()=>{r(new fE(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=a=>{const c=a.target.error;r("VersionError"===c.name?new ut(Ze.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===c.name?new ut(Ze.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c):new fE(t,c))},s.onupgradeneeded=a=>{_t("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',a.oldVersion),e.V.O(a.target.result,s.transaction,a.oldVersion,e.version).next(()=>{_t("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,Te.Z)(function*(){const a="readonly"===e;let c=0;for(;;){++c;try{s.db=yield s.$(t);const h=tS.open(s.db,t,a?"readonly":"readwrite",i),p=r(h).next(v=>(h.P(),v)).catch(v=>(h.abort(v),Re.reject(v))).toPromise();return p.catch(()=>{}),yield h.R,p}catch(h){const p=h,v="FirebaseError"!==p.name&&c<3;if(_t("SimpleDb","Transaction failed with error:",p.message,"Retrying:",v),s.close(),!v)return Promise.reject(p)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class k7{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return O_(this.L.delete())}}class fE extends ut{constructor(t,e){super(Ze.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Sg(n){return"IndexedDbTransactionError"===n.name}class O7{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(_t("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(_t("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),O_(i)}add(t){return _t("SimpleDb","ADD",this.store.name,t,t),O_(this.store.add(t))}get(t){return O_(this.store.get(t)).next(e=>(void 0===e&&(e=null),_t("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return _t("SimpleDb","DELETE",this.store.name,t),O_(this.store.delete(t))}count(){return _t("SimpleDb","COUNT",this.store.name),O_(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(a,c)=>{s.push(c)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Re((s,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{s(c.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Re((r,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}J(t,e){_t("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,a,c)=>c.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new Re((i,r)=>{e.onerror=s=>{const a=NR(s.target.error);r(a)},e.onsuccess=s=>{const a=s.target.result;a?t(a.primaryKey,a.value).next(c=>{c?a.continue():i()}):i()}})}W(t,e){const i=[];return new Re((r,s)=>{t.onerror=a=>{s(a.target.error)},t.onsuccess=a=>{const c=a.target.result;if(!c)return void r();const h=new k7(c),p=e(c.primaryKey,c.value,h);if(p instanceof Re){const v=p.catch(b=>(h.done(),Re.reject(b)));i.push(v)}h.isDone?r():null===h.K?c.continue():c.continue(h.K)}}).next(()=>Re.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function O_(n){return new Re((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=NR(i.target.error);e(r)}})}let FV=!1;function NR(n){const t=Rd.S((0,K.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return FV||(FV=!0,setTimeout(()=>{throw i},0)),i}}return n}class R7{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;_t("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Te.Z)(function*(){e.task=null;try{_t("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){Sg(i)?_t("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield xg(i)}yield e.et(6e4)}))}}class N7{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,Te.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,s=!0;return Re.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(a=>{if(null!==a&&!i.has(a))return _t("IndexBackiller",`Processing collection: ${a}`),this.it(t,a,r).next(c=>{r-=c,i.add(a)});s=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(t,a).next(()=>this.rt(r,s)).next(c=>(_t("IndexBackiller",`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(t,e,c))).next(()=>a.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,s)=>{const a=RV(s);OR(a,i)>0&&(i=a)}),new Gc(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Yc=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function pE(n){return null==n}function gE(n){return 0===n&&1/n==-1/0}function UV(n){return"number"==typeof n&&Number.isInteger(n)&&!gE(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Wa(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=BV(t)),t=L7(n.get(e),t);return BV(t)}function L7(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function BV(n){return n+"\x01\x01"}function Zh(n){const t=n.length;if(gn(t>=2),2===t)return gn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Oi.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const a=n.indexOf("\x01",s);switch((a<0||a>e)&&en(),n.charAt(a+1)){case"\x01":const c=n.substring(s,a);let h;0===r.length?h=c:(r+=c,h=r,r=""),i.push(h);break;case"\x10":r+=n.substring(s,a),r+="\0";break;case"\x11":r+=n.substring(s,a+1);break;default:en()}s=a+2}return new Oi(i)}const VV=["userId","batchId"];function nS(n,t){return[n,Wa(t)]}function ZV(n,t,e){return[n,Wa(t),e]}const F7={},U7=["prefixPath","collectionGroup","readTime","documentId"],B7=["prefixPath","collectionGroup","documentId"],V7=["collectionGroup","readTime","prefixPath","documentId"],Z7=["canonicalId","targetId"],z7=["targetId","path"],H7=["path","targetId"],q7=["collectionId","parent"],j7=["indexId","uid"],W7=["uid","sequenceNumber"],$7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],G7=["indexId","uid","orderedDocumentKey"],Y7=["userId","collectionPath","documentId"],K7=["userId","collectionPath","largestBatchId"],Q7=["userId","collectionGroup","largestBatchId"],zV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],J7=[...zV,"documentOverlays"],HV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qV=HV,X7=[...qV,"indexConfiguration","indexState","indexEntries"];class LR extends LV{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function ta(n,t){const e=Bt(n);return Rd.M(e.ht,t)}function jV(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ag(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function WV(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Br{constructor(t,e){this.comparator=t,this.root=e||Ta.EMPTY}insert(t,e){return new Br(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ta.BLACK,null,null))}remove(t){return new Br(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ta.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new iS(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new iS(this.root,t,this.comparator,!1)}getReverseIterator(){return new iS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new iS(this.root,t,this.comparator,!0)}}class iS{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ta{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Ta.RED,this.left=r??Ta.EMPTY,this.right=s??Ta.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Ta(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ta.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Ta.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ta.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ta.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw en();const t=this.left.check();if(t!==this.right.check())throw en();return t+(this.isRed()?0:1)}}Ta.EMPTY=null,Ta.RED=!0,Ta.BLACK=!1,Ta.EMPTY=new class{constructor(){this.size=0}get key(){throw en()}get value(){throw en()}get color(){throw en()}get left(){throw en()}get right(){throw en()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Ta(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xr{constructor(t){this.comparator=t,this.data=new Br(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new $V(this.data.getIterator())}getIteratorFrom(t){return new $V(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Xr)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Xr(this.comparator);return e.data=t,e}}class $V{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function p0(n){return n.hasNext()?n.getNext():void 0}class dc{constructor(t){this.fields=t,t.sort(zo.comparator)}static empty(){return new dc([])}unionWith(t){let e=new Xr(zo.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new dc(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return f0(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class GV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ns{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new GV("Invalid base64 string: "+r):r}}(t);return new Ns(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Ns(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ns.EMPTY_BYTE_STRING=new Ns("");const t9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mg(n){if(gn(!!n),"string"==typeof n){let t=0;const e=t9.exec(n);if(gn(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ho(n.seconds),nanos:Ho(n.nanos)}}function Ho(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ep(n){return"string"==typeof n?Ns.fromBase64String(n):Ns.fromUint8Array(n)}function rS(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function oS(n){const t=n.mapValue.fields.__previous_value__;return rS(t)?oS(t):t}function mE(n){const t=Mg(n.mapValue.fields.__local_write_time__.timestampValue);return new vo(t.seconds,t.nanos)}class n9{constructor(t,e,i,r,s,a,c,h,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}class Pg{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Pg("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Pg&&t.projectId===this.projectId&&t.database===this.database}}const kg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},sS={nullValue:"NULL_VALUE"};function Og(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rS(n)?4:JV(n)?9007199254740991:10:en()}function zh(n,t){if(n===t)return!0;const e=Og(n);if(e!==Og(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return mE(n).isEqual(mE(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Mg(i.timestampValue),a=Mg(r.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,ep(n.bytesValue).isEqual(ep(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Ho(i.geoPointValue.latitude)===Ho(r.geoPointValue.latitude)&&Ho(i.geoPointValue.longitude)===Ho(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ho(i.integerValue)===Ho(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Ho(i.doubleValue),a=Ho(r.doubleValue);return s===a?gE(s)===gE(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return f0(n.arrayValue.values||[],t.arrayValue.values||[],zh);case 10:return function(i,r){const s=i.mapValue.fields||{},a=r.mapValue.fields||{};if(jV(s)!==jV(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!zh(s[c],a[c])))return!1;return!0}(n,t);default:return en()}var r}function _E(n,t){return void 0!==(n.values||[]).find(e=>zh(e,t))}function Rg(n,t){if(n===t)return 0;const e=Og(n),i=Og(t);if(e!==i)return Qn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Qn(n.booleanValue,t.booleanValue);case 2:return function(r,s){const a=Ho(r.integerValue||r.doubleValue),c=Ho(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,t);case 3:return YV(n.timestampValue,t.timestampValue);case 4:return YV(mE(n),mE(t));case 5:return Qn(n.stringValue,t.stringValue);case 6:return function(r,s){const a=ep(r),c=ep(s);return a.compareTo(c)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const a=r.split("/"),c=s.split("/");for(let h=0;h<a.length&&h<c.length;h++){const p=Qn(a[h],c[h]);if(0!==p)return p}return Qn(a.length,c.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const a=Qn(Ho(r.latitude),Ho(s.latitude));return 0!==a?a:Qn(Ho(r.longitude),Ho(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const a=r.values||[],c=s.values||[];for(let h=0;h<a.length&&h<c.length;++h){const p=Rg(a[h],c[h]);if(p)return p}return Qn(a.length,c.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===kg.mapValue&&s===kg.mapValue)return 0;if(r===kg.mapValue)return 1;if(s===kg.mapValue)return-1;const a=r.fields||{},c=Object.keys(a),h=s.fields||{},p=Object.keys(h);c.sort(),p.sort();for(let v=0;v<c.length&&v<p.length;++v){const b=Qn(c[v],p[v]);if(0!==b)return b;const D=Rg(a[c[v]],h[p[v]]);if(0!==D)return D}return Qn(c.length,p.length)}(n.mapValue,t.mapValue);default:throw en()}}function YV(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Qn(n,t);const e=Mg(n),i=Mg(t),r=Qn(e.seconds,i.seconds);return 0!==r?r:Qn(e.nanos,i.nanos)}function g0(n){return FR(n)}function FR(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Mg(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ep(n.bytesValue).toBase64():"referenceValue"in n?Ft.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const a of i.values||[])s?s=!1:r+=",",r+=FR(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",a=!0;for(const c of r)a?a=!1:s+=",",s+=`${c}:${FR(i.fields[c])}`;return s+"}"}(n.mapValue):en();var t}function R_(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function UR(n){return!!n&&"integerValue"in n}function vE(n){return!!n&&"arrayValue"in n}function KV(n){return!!n&&"nullValue"in n}function QV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lS(n){return!!n&&"mapValue"in n}function yE(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Ag(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=yE(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=yE(n.arrayValue.values[e]);return t}return Object.assign({},n)}function JV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function i9(n){return"nullValue"in n?sS:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?R_(Pg.empty(),Ft.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:en()}function r9(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?R_(Pg.empty(),Ft.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?kg:en()}function XV(n,t){const e=Rg(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function eZ(n,t){const e=Rg(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Da{constructor(t){this.value=t}static empty(){return new Da({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!lS(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=yE(e)}setAll(t){let e=zo.emptyPath(),i={},r=[];t.forEach((a,c)=>{if(!e.isImmediateParentOf(c)){const h=this.getFieldsMap(e);this.applyChanges(h,i,r),i={},r=[],e=c.popLast()}a?i[c.lastSegment()]=yE(a):r.push(c.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());lS(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return zh(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];lS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Ag(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Da(yE(this.value))}}function tZ(n){const t=[];return Ag(n.fields,(e,i)=>{const r=new zo([e]);if(lS(i)){const s=tZ(i.mapValue).fields;if(0===s.length)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new dc(t)}class eo{constructor(t,e,i,r,s,a,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(t){return new eo(t,0,yn.min(),yn.min(),yn.min(),Da.empty(),0)}static newFoundDocument(t,e,i,r){return new eo(t,1,e,yn.min(),i,r,0)}static newNoDocument(t,e){return new eo(t,2,e,yn.min(),yn.min(),Da.empty(),0)}static newUnknownDocument(t,e){return new eo(t,3,e,yn.min(),yn.min(),Da.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(yn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Da.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Da.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof eo&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new eo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ng{constructor(t,e){this.position=t,this.inclusive=e}}function nZ(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],a=n.position[r];if(i=s.field.isKeyField()?Ft.comparator(Ft.fromName(a.referenceValue),e.key):Rg(a,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function iZ(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!zh(n.position[e],t.position[e]))return!1;return!0}class m0{constructor(t,e="asc"){this.field=t,this.dir=e}}function o9(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class rZ{}class Ti extends rZ{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new s9(t,e,i):"array-contains"===e?new c9(t,i):"in"===e?new uZ(t,i):"not-in"===e?new u9(t,i):"array-contains-any"===e?new d9(t,i):new Ti(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new a9(t,i):new l9(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Rg(e,this.value)):null!==e&&Og(this.value)===Og(e)&&this.matchesComparison(Rg(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return en()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class pr extends rZ{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new pr(t,e)}matches(t){return _0(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function _0(n){return"and"===n.op}function BR(n){return"or"===n.op}function VR(n){return oZ(n)&&_0(n)}function oZ(n){for(const t of n.filters)if(t instanceof pr)return!1;return!0}function ZR(n){if(n instanceof Ti)return n.field.canonicalString()+n.op.toString()+g0(n.value);if(VR(n))return n.filters.map(t=>ZR(t)).join(",");{const t=n.filters.map(e=>ZR(e)).join(",");return`${n.op}(${t})`}}function sZ(n,t){return n instanceof Ti?(e=n,(i=t)instanceof Ti&&e.op===i.op&&e.field.isEqual(i.field)&&zh(e.value,i.value)):n instanceof pr?function(e,i){return i instanceof pr&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,s,a)=>r&&sZ(s,i.filters[a]),!0)}(n,t):void en();var e,i}function aZ(n,t){const e=n.filters.concat(t);return pr.create(e,n.op)}function lZ(n){return n instanceof Ti?`${(t=n).field.canonicalString()} ${t.op} ${g0(t.value)}`:n instanceof pr?function(t){return t.op.toString()+" {"+t.getFilters().map(lZ).join(" ,")+"}"}(n):"Filter";var t}class s9 extends Ti{constructor(t,e,i){super(t,e,i),this.key=Ft.fromName(i.referenceValue)}matches(t){const e=Ft.comparator(t.key,this.key);return this.matchesComparison(e)}}class a9 extends Ti{constructor(t,e){super(t,"in",e),this.keys=cZ(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class l9 extends Ti{constructor(t,e){super(t,"not-in",e),this.keys=cZ(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function cZ(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Ft.fromName(i.referenceValue))}class c9 extends Ti{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return vE(e)&&_E(e.arrayValue,this.value)}}class uZ extends Ti{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&_E(this.value.arrayValue,e)}}class u9 extends Ti{constructor(t,e){super(t,"not-in",e)}matches(t){if(_E(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!_E(this.value.arrayValue,e)}}class d9 extends Ti{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!vE(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>_E(this.value.arrayValue,i))}}class h9{constructor(t,e=null,i=[],r=[],s=null,a=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=c,this.dt=null}}function zR(n,t=null,e=[],i=[],r=null,s=null,a=null){return new h9(n,t,e,i,r,s,a)}function N_(n){const t=Bt(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>ZR(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),pE(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>g0(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>g0(i)).join(",")),t.dt=e}return t.dt}function wE(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!o9(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!sZ(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!iZ(n.startAt,t.startAt)&&iZ(n.endAt,t.endAt)}function cS(n){return Ft.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function uS(n,t){return n.filters.filter(e=>e instanceof Ti&&e.field.isEqual(t))}function dZ(n,t,e){let i=sS,r=!0;for(const s of uS(n,t)){let a=sS,c=!0;switch(s.op){case"<":case"<=":a=i9(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,c=!1;break;case"!=":case"not-in":a=sS}XV({value:i,inclusive:r},{value:a,inclusive:c})<0&&(i=a,r=c)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const a=e.position[s];XV({value:i,inclusive:r},{value:a,inclusive:e.inclusive})<0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}function hZ(n,t,e){let i=kg,r=!0;for(const s of uS(n,t)){let a=kg,c=!0;switch(s.op){case">=":case">":a=r9(s.value),c=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,c=!1;break;case"!=":case"not-in":a=kg}eZ({value:i,inclusive:r},{value:a,inclusive:c})>0&&(i=a,r=c)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const a=e.position[s];eZ({value:i,inclusive:r},{value:a,inclusive:e.inclusive})>0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}class tp{constructor(t,e=null,i=[],r=[],s=null,a="F",c=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=h,this.wt=null,this._t=null}}function fZ(n,t,e,i,r,s,a,c){return new tp(n,t,e,i,r,s,a,c)}function v0(n){return new tp(n)}function pZ(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function HR(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function dS(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function qR(n){return null!==n.collectionGroup}function L_(n){const t=Bt(n);if(null===t.wt){t.wt=[];const e=dS(t),i=HR(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new m0(e)),t.wt.push(new m0(zo.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new m0(zo.keyField(),s))}}}return t.wt}function Al(n){const t=Bt(n);if(!t._t)if("F"===t.limitType)t._t=zR(t.path,t.collectionGroup,L_(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of L_(t))e.push(new m0(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new Ng(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ng(t.startAt.position,t.startAt.inclusive):null;t._t=zR(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function jR(n,t){t.getFirstInequalityField(),dS(n);const e=n.filters.concat([t]);return new tp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function hS(n,t,e){return new tp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function bE(n,t){return wE(Al(n),Al(t))&&n.limitType===t.limitType}function gZ(n){return`${N_(Al(n))}|lt:${n.limitType}`}function WR(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>lZ(i)).join(", ")}]`),pE(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>g0(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>g0(i)).join(",")),`Target(${e})`}(Al(n))}; limitType=${n.limitType})`}function CE(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Ft.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of L_(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,a){const c=nZ(r,s,a);return r.inclusive?c<=0:c<0}(e.startAt,L_(e),i)||e.endAt&&!function(r,s,a){const c=nZ(r,s,a);return r.inclusive?c>=0:c>0}(e.endAt,L_(e),i)));var e,i}function mZ(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _Z(n){return(t,e)=>{let i=!1;for(const r of L_(n)){const s=f9(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function f9(n,t,e){const i=n.field.isKeyField()?Ft.comparator(t.key,e.key):function(r,s,a){const c=s.data.field(r),h=a.data.field(r);return null!==c&&null!==h?Rg(c,h):en()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return en()}}class np{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Ag(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return WV(this.inner)}size(){return this.innerSize}}const p9=new Br(Ft.comparator);function hc(){return p9}const vZ=new Br(Ft.comparator);function EE(...n){let t=vZ;for(const e of n)t=t.insert(e.key,e);return t}function yZ(n){let t=vZ;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Hh(){return TE()}function wZ(){return TE()}function TE(){return new np(n=>n.toString(),(n,t)=>n.isEqual(t))}const g9=new Br(Ft.comparator),m9=new Xr(Ft.comparator);function ai(...n){let t=m9;for(const e of n)t=t.add(e);return t}const _9=new Xr(Qn);function $R(){return _9}function bZ(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gE(t)?"-0":t}}function CZ(n){return{integerValue:""+n}}function EZ(n,t){return UV(t)?CZ(t):bZ(n,t)}class fS{constructor(){this._=void 0}}function v9(n,t,e){return n instanceof y0?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&rS(r)&&(r=oS(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof F_?DZ(n,t):n instanceof U_?IZ(n,t):function(i,r){const s=TZ(i,r),a=xZ(s)+xZ(i.gt);return UR(s)&&UR(i.gt)?CZ(a):bZ(i.serializer,a)}(n,t)}function y9(n,t,e){return n instanceof F_?DZ(n,t):n instanceof U_?IZ(n,t):e}function TZ(n,t){return n instanceof w0?UR(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class y0 extends fS{}class F_ extends fS{constructor(t){super(),this.elements=t}}function DZ(n,t){const e=SZ(t);for(const i of n.elements)e.some(r=>zh(r,i))||e.push(i);return{arrayValue:{values:e}}}class U_ extends fS{constructor(t){super(),this.elements=t}}function IZ(n,t){let e=SZ(t);for(const i of n.elements)e=e.filter(r=>!zh(r,i));return{arrayValue:{values:e}}}class w0 extends fS{constructor(t,e){super(),this.serializer=t,this.gt=e}}function xZ(n){return Ho(n.integerValue||n.doubleValue)}function SZ(n){return vE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class DE{constructor(t,e){this.field=t,this.transform=e}}class b9{constructor(t,e){this.version=t,this.transformResults=e}}class yo{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new yo}static exists(t){return new yo(void 0,t)}static updateTime(t){return new yo(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function pS(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class gS{}function AZ(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new C0(n.key,yo.none()):new b0(n.key,n.data,yo.none());{const e=n.data,i=Da.empty();let r=new Xr(zo.comparator);for(let s of t.fields)if(!r.has(s)){let a=e.field(s);null===a&&s.length>1&&(s=s.popLast(),a=e.field(s)),null===a?i.delete(s):i.set(s,a),r=r.add(s)}return new ip(n.key,i,new dc(r.toArray()),yo.none())}}function C9(n,t,e){n instanceof b0?function(i,r,s){const a=i.value.clone(),c=kZ(i.fieldTransforms,r,s.transformResults);a.setAll(c),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof ip?function(i,r,s){if(!pS(i.precondition,r))return void r.convertToUnknownDocument(s.version);const a=kZ(i.fieldTransforms,r,s.transformResults),c=r.data;c.setAll(PZ(i)),c.setAll(a),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function IE(n,t,e,i){return n instanceof b0?function(r,s,a,c){if(!pS(r.precondition,s))return a;const h=r.value.clone(),p=OZ(r.fieldTransforms,c,s);return h.setAll(p),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(n,t,e,i):n instanceof ip?function(r,s,a,c){if(!pS(r.precondition,s))return a;const h=OZ(r.fieldTransforms,c,s),p=s.data;return p.setAll(PZ(r)),p.setAll(h),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null===a?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(v=>v.field))}(n,t,e,i):(a=e,pS(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function E9(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=TZ(i.transform,r||null);null!=s&&(null===e&&(e=Da.empty()),e.set(i.field,s))}return e||null}function MZ(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&f0(e,i,(r,s)=>function w9(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof F_&&i instanceof F_||e instanceof U_&&i instanceof U_?f0(e.elements,i.elements,zh):e instanceof w0&&i instanceof w0?zh(e.gt,i.gt):e instanceof y0&&i instanceof y0);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class b0 extends gS{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ip extends gS{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function PZ(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function kZ(n,t,e){const i=new Map;gn(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],a=s.transform,c=t.data.field(s.field);i.set(s.field,y9(a,c,e[r]))}return i}function OZ(n,t,e){const i=new Map;for(const r of n){const s=r.transform,a=e.data.field(r.field);i.set(r.field,v9(s,a,t))}return i}class C0 extends gS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GR extends gS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class YR{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&C9(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=IE(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=IE(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=wZ();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=e.has(r.key)?null:c;const h=AZ(a,c);null!==h&&i.set(r.key,h),a.isValidDocument()||a.convertToNoDocument(yn.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ai())}isEqual(t){return this.batchId===t.batchId&&f0(this.mutations,t.mutations,(e,i)=>MZ(e,i))&&f0(this.baseMutations,t.baseMutations,(e,i)=>MZ(e,i))}}class KR{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){gn(t.mutations.length===i.length);let r=g9;const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new KR(t,e,i,r)}}class QR{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class T9{constructor(t,e,i){this.alias=t,this.yt=e,this.fieldPath=i}}class D9{constructor(t,e){this.count=t,this.unchangedNames=e}}var vs,Ri;function RZ(n){switch(n){default:return en();case Ze.CANCELLED:case Ze.UNKNOWN:case Ze.DEADLINE_EXCEEDED:case Ze.RESOURCE_EXHAUSTED:case Ze.INTERNAL:case Ze.UNAVAILABLE:case Ze.UNAUTHENTICATED:return!1;case Ze.INVALID_ARGUMENT:case Ze.NOT_FOUND:case Ze.ALREADY_EXISTS:case Ze.PERMISSION_DENIED:case Ze.FAILED_PRECONDITION:case Ze.ABORTED:case Ze.OUT_OF_RANGE:case Ze.UNIMPLEMENTED:case Ze.DATA_LOSS:return!0}}function NZ(n){if(void 0===n)return ns("GRPC error has no .code"),Ze.UNKNOWN;switch(n){case vs.OK:return Ze.OK;case vs.CANCELLED:return Ze.CANCELLED;case vs.UNKNOWN:return Ze.UNKNOWN;case vs.DEADLINE_EXCEEDED:return Ze.DEADLINE_EXCEEDED;case vs.RESOURCE_EXHAUSTED:return Ze.RESOURCE_EXHAUSTED;case vs.INTERNAL:return Ze.INTERNAL;case vs.UNAVAILABLE:return Ze.UNAVAILABLE;case vs.UNAUTHENTICATED:return Ze.UNAUTHENTICATED;case vs.INVALID_ARGUMENT:return Ze.INVALID_ARGUMENT;case vs.NOT_FOUND:return Ze.NOT_FOUND;case vs.ALREADY_EXISTS:return Ze.ALREADY_EXISTS;case vs.PERMISSION_DENIED:return Ze.PERMISSION_DENIED;case vs.FAILED_PRECONDITION:return Ze.FAILED_PRECONDITION;case vs.ABORTED:return Ze.ABORTED;case vs.OUT_OF_RANGE:return Ze.OUT_OF_RANGE;case vs.UNIMPLEMENTED:return Ze.UNIMPLEMENTED;case vs.DATA_LOSS:return Ze.DATA_LOSS;default:return en()}}(Ri=vs||(vs={}))[Ri.OK=0]="OK",Ri[Ri.CANCELLED=1]="CANCELLED",Ri[Ri.UNKNOWN=2]="UNKNOWN",Ri[Ri.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ri[Ri.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ri[Ri.NOT_FOUND=5]="NOT_FOUND",Ri[Ri.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ri[Ri.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ri[Ri.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ri[Ri.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ri[Ri.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ri[Ri.ABORTED=10]="ABORTED",Ri[Ri.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ri[Ri.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ri[Ri.INTERNAL=13]="INTERNAL",Ri[Ri.UNAVAILABLE=14]="UNAVAILABLE",Ri[Ri.DATA_LOSS=15]="DATA_LOSS";class JR{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return mS}static getOrCreateInstance(){return null===mS&&(mS=new JR),mS}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let mS=null;function LZ(){return new TextEncoder}const I9=new d0([4294967295,4294967295],0);function FZ(n){const t=LZ().encode(n),e=new y7;return e.update(t),new Uint8Array(e.digest())}function UZ(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new d0([e,i],0),new d0([r,s],0)]}class XR{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new xE(`Invalid padding: ${e}`);if(i<0)throw new xE(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new xE(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new xE(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=d0.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(d0.fromNumber(i)));return 1===r.compare(I9)&&(r=new d0([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=FZ(t),[i,r]=UZ(e);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);if(!this.At(a))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new XR(s,r,e);return i.forEach(c=>a.insert(c)),a}insert(t){if(0===this.It)return;const e=FZ(t),[i,r]=UZ(e);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);this.Rt(a)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class xE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class SE{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,AE.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new SE(yn.min(),r,new Br(Qn),hc(),ai())}}class AE{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new AE(i,e,ai(),ai(),ai())}}class _S{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class BZ{constructor(t,e){this.targetId=t,this.Vt=e}}class VZ{constructor(t,e,i=Ns.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class ZZ{constructor(){this.St=0,this.Dt=HZ(),this.Ct=Ns.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=ai(),e=ai(),i=ai();return this.Dt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:en()}}),new AE(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=HZ()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class x9{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=hc(),this.zt=zZ(),this.Wt=new Br(Qn)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:en()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,s=this.se(i);if(s){const a=s.target;if(cS(a))if(0===r){const c=new Ft(a.path);this.Yt(i,c,eo.newNoDocument(c,yn.min()))}else gn(1===r);else{const c=this.ie(i);if(c!==r){const h=this.re(t,c);0!==h&&(this.ee(i),this.Wt=this.Wt.insert(i,2===h?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=JR.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(p,v,b){var D,P,R,F,V,Q;const ee={localCacheCount:v,existenceFilterCount:b.count},re=b.unchangedNames;return re&&(ee.bloomFilter={applied:0===p,hashCount:null!==(D=re?.hashCount)&&void 0!==D?D:0,bitmapLength:null!==(F=null===(R=null===(P=re?.bits)||void 0===P?void 0:P.bitmap)||void 0===R?void 0:R.length)&&void 0!==F?F:0,padding:null!==(Q=null===(V=re?.bits)||void 0===V?void 0:V.padding)&&void 0!==Q?Q:0}),ee}(h,c,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=i;let h,p;try{h=ep(s).toUint8Array()}catch(v){if(v instanceof GV)return Fu("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw v}try{p=new XR(h,a,c)}catch(v){return Fu(v instanceof xE?"BloomFilter error: ":"Applying bloom filter failed: ",v),1}return 0===p.It?1:r!==e-this.oe(t.targetId,p)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const a=this.Gt.ue(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.vt(c)||(this.Yt(t,s,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((s,a)=>{const c=this.se(a);if(c){if(s.current&&cS(c.target)){const h=new Ft(c.target.path);null!==this.jt.get(h)||this.ae(a,h)||this.Yt(a,h,eo.newNoDocument(h,t))}s.Mt&&(e.set(a,s.Ot()),s.Ft())}});let i=ai();this.zt.forEach((s,a)=>{let c=!0;a.forEachWhile(h=>{const p=this.se(h);return!p||"TargetPurposeLimboResolution"===p.purpose||(c=!1,!1)}),c&&(i=i.add(s))}),this.jt.forEach((s,a)=>a.setReadTime(t));const r=new SE(t,e,this.Wt,this.jt,i);return this.jt=hc(),this.zt=zZ(),this.Wt=new Br(Qn),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new ZZ,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Xr(Qn),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||_t("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new ZZ),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function zZ(){return new Br(Ft.comparator)}function HZ(){return new Br(Ft.comparator)}const S9={asc:"ASCENDING",desc:"DESCENDING"},A9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M9={and:"AND",or:"OR"};class P9{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function eN(n,t){return n.useProto3Json||pE(t)?t:{value:t}}function E0(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qZ(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function k9(n,t){return E0(n,t.toTimestamp())}function is(n){return gn(!!n),yn.fromTimestamp(function(t){const e=Mg(t);return new vo(e.seconds,e.nanos)}(n))}function tN(n,t){return(e=n,new Oi(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function jZ(n){const t=Oi.fromString(n);return gn(ez(t)),t}function ME(n,t){return tN(n.databaseId,t.path)}function qh(n,t){const e=jZ(t);if(e.get(1)!==n.databaseId.projectId)throw new ut(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ut(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ft($Z(e))}function nN(n,t){return tN(n.databaseId,t)}function WZ(n){const t=jZ(n);return 4===t.length?Oi.emptyPath():$Z(t)}function PE(n){return new Oi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $Z(n){return gn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function GZ(n,t,e){return{name:ME(n,t),fields:e.value.mapValue.fields}}function YZ(n,t,e){const i=qh(n,t.name),r=is(t.updateTime),s=t.createTime?is(t.createTime):yn.min(),a=new Da({mapValue:{fields:t.fields}}),c=eo.newFoundDocument(i,r,s,a);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function kE(n,t){let e;if(t instanceof b0)e={update:GZ(n,t.key,t.value)};else if(t instanceof C0)e={delete:ME(n,t.key)};else if(t instanceof ip)e={update:GZ(n,t.key,t.data),updateMask:V9(t.fieldMask)};else{if(!(t instanceof GR))return en();e={verify:ME(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const a=s.transform;if(a instanceof y0)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof F_)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof U_)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof w0)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw en()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:k9(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:en()),e;var r}function iN(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?yo.updateTime(is(r.updateTime)):void 0!==r.exists?yo.exists(r.exists):yo.none():yo.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let c=null;"setToServerValue"in a?(gn("REQUEST_TIME"===a.setToServerValue),c=new y0):"appendMissingElements"in a?c=new F_(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new U_(a.removeAllFromArray.values||[]):"increment"in a?c=new w0(s,a.increment):en();const h=zo.fromServerFormat(a.fieldPath);return new DE(h,c)}(n,r)):[];var r;if(t.update){const r=qh(n,t.update.name),s=new Da({mapValue:{fields:t.update.fields}});if(t.updateMask){const a=new dc((t.updateMask.fieldPaths||[]).map(p=>zo.fromServerFormat(p)));return new ip(r,s,a,e,i)}return new b0(r,s,e,i)}if(t.delete){const r=qh(n,t.delete);return new C0(r,e)}if(t.verify){const r=qh(n,t.verify);return new GR(r,e)}return en()}function KZ(n,t){return{documents:[nN(n,t.path)]}}function rN(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=nN(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=nN(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(h){if(0!==h.length)return XZ(pr.create(h,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(h){if(0!==h.length)return h.map(p=>{return{field:Lg((v=p).field),direction:F9(v.dir)};var v})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const a=eN(n,t.limit);var c,h;return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(c=t.startAt).inclusive,values:c.position}),t.endAt&&(e.structuredQuery.endAt={before:!(h=t.endAt).inclusive,values:h.position}),e}function QZ(n){let t=WZ(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){gn(1===i);const v=e.from[0];v.allDescendants?r=v.collectionId:t=t.child(v.collectionId)}let s=[];e.where&&(s=function(v){const b=JZ(v);return b instanceof pr&&VR(b)?b.getFilters():[b]}(e.where));let a=[];e.orderBy&&(a=e.orderBy.map(v=>{return new m0(T0((b=v).field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let c=null;e.limit&&(c=function(v){let b;return b="object"==typeof v?v.value:v,pE(b)?null:b}(e.limit));let h=null;var v;e.startAt&&(h=new Ng((v=e.startAt).values||[],!!v.before));let p=null;return e.endAt&&(p=function(v){return new Ng(v.values||[],!v.before)}(e.endAt)),fZ(t,r,a,s,c,"F",h,p)}function JZ(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=T0(t.unaryFilter.field);return Ti.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=T0(t.unaryFilter.field);return Ti.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=T0(t.unaryFilter.field);return Ti.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=T0(t.unaryFilter.field);return Ti.create(s,"!=",{nullValue:"NULL_VALUE"});default:return en()}}(n):void 0!==n.fieldFilter?Ti.create(T0((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return en()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return pr.create(t.compositeFilter.filters.map(e=>JZ(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return en()}}(t.compositeFilter.op))}(n):en();var t}function F9(n){return S9[n]}function U9(n){return A9[n]}function B9(n){return M9[n]}function Lg(n){return{fieldPath:n.canonicalString()}}function T0(n){return zo.fromServerFormat(n.fieldPath)}function XZ(n){return n instanceof Ti?function(t){if("=="===t.op){if(QV(t.value))return{unaryFilter:{field:Lg(t.field),op:"IS_NAN"}};if(KV(t.value))return{unaryFilter:{field:Lg(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(QV(t.value))return{unaryFilter:{field:Lg(t.field),op:"IS_NOT_NAN"}};if(KV(t.value))return{unaryFilter:{field:Lg(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lg(t.field),op:U9(t.op),value:t.value}}}(n):n instanceof pr?function(t){const e=t.getFilters().map(i=>XZ(i));return 1===e.length?e[0]:{compositeFilter:{op:B9(t.op),filters:e}}}(n):en()}function V9(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ez(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class rp{constructor(t,e,i,r,s=yn.min(),a=yn.min(),c=Ns.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(t){return new rp(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new rp(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new rp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new rp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class tz{constructor(t){this.fe=t}}function nz(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:vS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:ME(r=n.fe,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:E0(r,s.version.toTimestamp()),createTime:E0(r,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:B_(t.version)};else{if(!t.isUnknownDocument())return en();i.unknownDocument={path:e.path.toArray(),version:B_(t.version)}}var r,s;return i}function vS(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function B_(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function V_(n){const t=new vo(n.seconds,n.nanoseconds);return yn.fromTimestamp(t)}function Z_(n,t){const e=(t.baseMutations||[]).map(s=>iN(n.fe,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>iN(n.fe,s)),r=vo.fromMillis(t.localWriteTimeMs);return new YR(t.batchId,r,e,i)}function OE(n){const t=V_(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?V_(n.lastLimboFreeSnapshotVersion):yn.min();let i;var r;return void 0!==n.query.documents?(gn(1===(r=n.query).documents.length),i=Al(v0(WZ(r.documents[0])))):i=Al(QZ(n.query)),new rp(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Ns.fromBase64String(n.resumeToken))}function iz(n,t){const e=B_(t.snapshotVersion),i=B_(t.lastLimboFreeSnapshotVersion);let r;r=cS(t.target)?KZ(n.fe,t.target):rN(n.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:N_(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function oN(n){const t=QZ({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?hS(t,t.limit,"L"):t}function sN(n,t){return new QR(t.largestBatchId,iN(n.fe,t.overlayMutation))}function rz(n,t){const e=t.path.lastSegment();return[n,Wa(t.path.popLast()),e]}function oz(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:B_(i.readTime),documentKey:Wa(i.documentKey.path),largestBatchId:i.largestBatchId}}class z9{getBundleMetadata(t,e){return sz(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:V_(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return sz(t).put({bundleId:(i=e).id,createTime:B_(is(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return az(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:oN(r.bundledQuery),readTime:V_(r.readTime)};var r})}saveNamedQuery(t,e){return az(t).put({name:(i=e).name,readTime:B_(is(i.readTime)),bundledQuery:i.bundledQuery});var i}}function sz(n){return ta(n,"bundles")}function az(n){return ta(n,"namedQueries")}class yS{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new yS(t,e.uid||"")}getOverlay(t,e){return RE(t).get(rz(this.userId,e)).next(i=>i?sN(this.serializer,i):null)}getOverlays(t,e){const i=Hh();return Re.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,a)=>{const c=new QR(e,a);r.push(this.we(t,c))}),Re.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(a=>r.add(Wa(a.getCollectionPath())));const s=[];return r.forEach(a=>{const c=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);s.push(RE(t).J("collectionPathOverlayIndex",c))}),Re.waitFor(s)}getOverlaysForCollection(t,e,i){const r=Hh(),s=Wa(e),a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return RE(t).j("collectionPathOverlayIndex",a).next(c=>{for(const h of c){const p=sN(this.serializer,h);r.set(p.getKey(),p)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=Hh();let a;const c=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return RE(t).X({index:"collectionGroupOverlayIndex",range:c},(h,p,v)=>{const b=sN(this.serializer,p);s.size()<r||b.largestBatchId===a?(s.set(b.getKey(),b),a=b.largestBatchId):v.done()}).next(()=>s)}we(t,e){return RE(t).put(function(i,r,s){const[a,c,h]=rz(r,s.mutation.key);return{userId:r,collectionPath:c,documentId:h,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:kE(i.fe,s.mutation)}}(this.serializer,this.userId,e))}}function RE(n){return ta(n,"documentOverlays")}class z_{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(Ho(t.integerValue));else if("doubleValue"in t){const i=Ho(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),gE(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(ep(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?JV(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):en()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),Ft.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function H9(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function lz(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=H9(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}z_.Ve=new z_;class q9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=lz(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=lz(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class j9{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class W9{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class NE{constructor(){this.je=new q9,this.ze=new j9(this.je),this.We=new W9(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class H_{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new H_(this.indexId,this.documentKey,this.arrayValue,i)}}function Fg(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=cz(n.arrayValue,t.arrayValue),0!==e?e:(e=cz(n.directionalValue,t.directionalValue),0!==e?e:Ft.comparator(n.documentKey,t.documentKey)))}function cz(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class $9{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){gn(t.collectionGroup===this.collectionId);const e=kR(t);if(void 0!==e&&!this.en(e))return!1;const i=k_(t);let r=new Set,s=0,a=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const c=i[s];if(!this.nn(this.Ze,c)||!this.sn(this.Ye[a++],c))return!1}++s}for(;s<i.length;++s)if(a>=this.Ye.length||!this.sn(this.Ye[a++],i[s]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function uz(n){var t,e;if(gn(n instanceof Ti||n instanceof pr),n instanceof Ti){if(n instanceof uZ){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>Ti.create(n.field,"==",s)))||[];return pr.create(r,"or")}return n}const i=n.filters.map(r=>uz(r));return pr.create(i,n.op)}function G9(n){if(0===n.getFilters().length)return[];const t=cN(uz(n));return gn(dz(t)),aN(t)||lN(t)?[t]:t.getFilters()}function aN(n){return n instanceof Ti}function lN(n){return n instanceof pr&&VR(n)}function dz(n){return aN(n)||lN(n)||function(t){if(t instanceof pr&&BR(t)){for(const e of t.getFilters())if(!aN(e)&&!lN(e))return!1;return!0}return!1}(n)}function cN(n){if(gn(n instanceof Ti||n instanceof pr),n instanceof Ti)return n;if(1===n.filters.length)return cN(n.filters[0]);const t=n.filters.map(i=>cN(i));let e=pr.create(t,n.op);return e=wS(e),dz(e)?e:(gn(e instanceof pr),gn(_0(e)),gn(e.filters.length>1),e.filters.reduce((i,r)=>uN(i,r)))}function uN(n,t){let e;return gn(n instanceof Ti||n instanceof pr),gn(t instanceof Ti||t instanceof pr),e=n instanceof Ti?t instanceof Ti?pr.create([n,t],"and"):hz(n,t):t instanceof Ti?hz(t,n):function(i,r){if(gn(i.filters.length>0&&r.filters.length>0),_0(i)&&_0(r))return aZ(i,r.getFilters());const s=BR(i)?i:r,a=BR(i)?r:i,c=s.filters.map(h=>uN(h,a));return pr.create(c,"or")}(n,t),wS(e)}function hz(n,t){if(_0(t))return aZ(t,n.getFilters());{const e=t.filters.map(i=>uN(n,i));return pr.create(e,"or")}}function wS(n){if(gn(n instanceof Ti||n instanceof pr),n instanceof Ti)return n;const t=n.getFilters();if(1===t.length)return wS(t[0]);if(oZ(n))return n;const e=t.map(r=>wS(r)),i=[];return e.forEach(r=>{r instanceof Ti?i.push(r):r instanceof pr&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:pr.create(i,n.op)}class Y9{constructor(){this.rn=new dN}addToCollectionParentIndex(t,e){return this.rn.add(e),Re.resolve()}getCollectionParents(t,e){return Re.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return Re.resolve()}deleteFieldIndex(t,e){return Re.resolve()}getDocumentsMatchingTarget(t,e){return Re.resolve(null)}getIndexType(t,e){return Re.resolve(0)}getFieldIndexes(t,e){return Re.resolve([])}getNextCollectionGroupToUpdate(t){return Re.resolve(null)}getMinOffset(t,e){return Re.resolve(Gc.min())}getMinOffsetFromCollectionGroup(t,e){return Re.resolve(Gc.min())}updateCollectionGroup(t,e,i){return Re.resolve()}updateIndexEntries(t,e){return Re.resolve()}}class dN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Xr(Oi.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Xr(Oi.comparator)).toArray()}}const bS=new Uint8Array(0);class K9{constructor(t,e){this.user=t,this.databaseId=e,this.on=new dN,this.un=new np(i=>N_(i),(i,r)=>wE(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const s={collectionId:i,parent:Wa(r)};return fz(t).put(s)}return Re.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[kV(e),""],!1,!0);return fz(t).j(r).next(s=>{for(const a of s){if(a.collectionId!==e)break;i.push(Zh(a.parent))}return i})}addFieldIndex(t,e){const i=CS(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete r.indexId;const s=i.add(r);if(e.indexState){const a=FE(t);return s.next(c=>{a.put(oz(c,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=CS(t),r=FE(t),s=LE(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=LE(t);let r=!0;const s=new Map;return Re.forEach(this.cn(e),a=>this.an(t,a).next(c=>{r&&(r=!!c),s.set(a,c)})).next(()=>{if(r){let a=ai();const c=[];return Re.forEach(s,(h,p)=>{var v;_t("IndexedDbIndexManager",`Using index ${v=h,`id=${v.indexId}|cg=${v.collectionGroup}|f=${v.fields.map(re=>`${re.fieldPath}:${re.kind}`).join(",")}`} to execute ${N_(e)}`);const b=function(re,de){const _e=kR(de);if(void 0===_e)return null;for(const ue of uS(re,_e.fieldPath))switch(ue.op){case"array-contains-any":return ue.value.arrayValue.values||[];case"array-contains":return[ue.value]}return null}(p,h),D=function(re,de){const _e=new Map;for(const ue of k_(de))for(const pe of uS(re,ue.fieldPath))switch(pe.op){case"==":case"in":_e.set(ue.fieldPath.canonicalString(),pe.value);break;case"not-in":case"!=":return _e.set(ue.fieldPath.canonicalString(),pe.value),Array.from(_e.values())}return null}(p,h),P=function(re,de){const _e=[];let ue=!0;for(const pe of k_(de)){const Le=0===pe.kind?dZ(re,pe.fieldPath,re.startAt):hZ(re,pe.fieldPath,re.startAt);_e.push(Le.value),ue&&(ue=Le.inclusive)}return new Ng(_e,ue)}(p,h),R=function(re,de){const _e=[];let ue=!0;for(const pe of k_(de)){const Le=0===pe.kind?hZ(re,pe.fieldPath,re.endAt):dZ(re,pe.fieldPath,re.endAt);_e.push(Le.value),ue&&(ue=Le.inclusive)}return new Ng(_e,ue)}(p,h),F=this.hn(h,p,P),V=this.hn(h,p,R),Q=this.ln(h,p,D),ee=this.fn(h.indexId,b,F,P.inclusive,V,R.inclusive,Q);return Re.forEach(ee,re=>i.H(re,e.limit).next(de=>{de.forEach(_e=>{const ue=Ft.fromSegments(_e.documentKey);a.has(ue)||(a=a.add(ue),c.push(ue))})}))}).next(()=>c)}return Re.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:G9(pr.create(t.filters,"and")).map(i=>zR(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,s,a,c){const h=(null!=e?e.length:1)*Math.max(i.length,s.length),p=h/(null!=e?e.length:1),v=[];for(let b=0;b<h;++b){const D=e?this.dn(e[b/p]):bS,P=this.wn(t,D,i[b%p],r),R=this._n(t,D,s[b%p],a),F=c.map(V=>this.wn(t,D,V,!0));v.push(...this.createRange(P,R,F))}return v}wn(t,e,i,r){const s=new H_(t,Ft.empty(),e,i);return r?s:s.Je()}_n(t,e,i,r){const s=new H_(t,Ft.empty(),e,i);return r?s.Je():s}an(t,e){const i=new $9(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let a=null;for(const c of s)i.tn(c)&&(!a||c.fields.length>a.fields.length)&&(a=c);return a})}getIndexType(t,e){let i=2;const r=this.cn(e);return Re.forEach(r,s=>this.an(t,s).next(a=>{a?0!==i&&a.fields.length<function(c){let h=new Xr(zo.comparator),p=!1;for(const v of c.filters)for(const b of v.getFlattenedFilters())b.field.isKeyField()||("array-contains"===b.op||"array-contains-any"===b.op?p=!0:h=h.add(b.field));for(const v of c.orderBy)v.field.isKeyField()||(h=h.add(v.field));return h.size+(p?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new NE;for(const r of k_(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const a=i.He(r.kind);z_.Ve._e(s,a)}return i.Qe()}dn(t){const e=new NE;return z_.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new NE;return z_.Ve._e(R_(this.databaseId,e),i.He(function(r){const s=k_(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new NE);let s=0;for(const a of k_(t)){const c=i[s++];for(const h of r)if(this.yn(e,a.fieldPath)&&vE(c))r=this.pn(r,a,c);else{const p=h.He(a.kind);z_.Ve._e(c,p)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],s=[];for(const a of i.arrayValue.values||[])for(const c of r){const h=new NE;h.seed(c.Qe()),z_.Ve._e(a,h.He(e.kind)),s.push(h)}return s}yn(t,e){return!!t.filters.find(i=>i instanceof Ti&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=CS(t),r=FE(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(s=>{const a=[];return Re.forEach(s,c=>r.get([c.indexId,this.uid]).next(h=>{a.push(function(p,v){const b=v?new hE(v.sequenceNumber,new Gc(V_(v.readTime),new Ft(Zh(v.documentKey)),v.largestBatchId)):hE.empty(),D=p.fields.map(([P,R])=>new eS(zo.fromServerFormat(P),R));return new Xx(p.indexId,p.collectionGroup,D,b)}(c,h))})).next(()=>a)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Qn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=CS(t),s=FE(t);return this.Tn(t).next(a=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(c=>Re.forEach(c,h=>s.put(oz(h.indexId,this.user,a,i)))))}updateIndexEntries(t,e){const i=new Map;return Re.forEach(e,(r,s)=>{const a=i.get(r.collectionGroup);return(a?Re.resolve(a):this.getFieldIndexes(t,r.collectionGroup)).next(c=>(i.set(r.collectionGroup,c),Re.forEach(c,h=>this.En(t,r,h).next(p=>{const v=this.An(s,h);return p.isEqual(v)?Re.resolve():this.vn(t,s,h,p,v)}))))})}Rn(t,e,i,r){return LE(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return LE(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=LE(t);let s=new Xr(Fg);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(a,c)=>{s=s.add(new H_(i.indexId,e,c.arrayValue,c.directionalValue))}).next(()=>s)}An(t,e){let i=new Xr(Fg);const r=this.mn(e,t);if(null==r)return i;const s=kR(e);if(null!=s){const a=t.data.field(s.fieldPath);if(vE(a))for(const c of a.arrayValue.values||[])i=i.add(new H_(e.indexId,t.key,this.dn(c),r))}else i=i.add(new H_(e.indexId,t.key,bS,r));return i}vn(t,e,i,r,s){_t("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const a=[];return function(c,h,p,v,b){const D=c.getIterator(),P=h.getIterator();let R=p0(D),F=p0(P);for(;R||F;){let V=!1,Q=!1;if(R&&F){const ee=p(R,F);ee<0?Q=!0:ee>0&&(V=!0)}else null!=R?Q=!0:V=!0;V?(v(F),F=p0(P)):Q?(b(R),R=p0(D)):(R=p0(D),F=p0(P))}}(r,s,Fg,c=>{a.push(this.Rn(t,e,i,c))},c=>{a.push(this.Pn(t,e,i,c))}),Re.waitFor(a)}Tn(t){let e=1;return FE(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((a,c)=>Fg(a,c)).filter((a,c,h)=>!c||0!==Fg(a,h[c-1]));const r=[];r.push(t);for(const a of i){const c=Fg(a,t),h=Fg(a,e);if(0===c)r[0]=t.Je();else if(c>0&&h<0)r.push(a),r.push(a.Je());else if(h>0)break}r.push(e);const s=[];for(let a=0;a<r.length;a+=2){if(this.bn(r[a],r[a+1]))return[];s.push(IDBKeyRange.bound([r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,bS,[]],[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,bS,[]]))}return s}bn(t,e){return Fg(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(pz)}getMinOffset(t,e){return Re.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||en())).next(pz)}}function fz(n){return ta(n,"collectionParents")}function LE(n){return ta(n,"indexEntries")}function CS(n){return ta(n,"indexConfiguration")}function FE(n){return ta(n,"indexState")}function pz(n){gn(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;OR(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Gc(t.readTime,t.documentKey,e)}const gz={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $a{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new $a(t,$a.DEFAULT_COLLECTION_PERCENTILE,$a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function mz(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],a=IDBKeyRange.only(e.batchId);let c=0;const h=i.X({range:a},(v,b,D)=>(c++,D.delete()));s.push(h.next(()=>{gn(1===c)}));const p=[];for(const v of e.mutations){const b=ZV(t,v.key.path,e.batchId);s.push(r.delete(b)),p.push(v.key)}return Re.waitFor(s).next(()=>p)}function ES(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw en();t=n.noDocument}return JSON.stringify(t).length}$a.DEFAULT_COLLECTION_PERCENTILE=10,$a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$a.DEFAULT=new $a(41943040,$a.DEFAULT_COLLECTION_PERCENTILE,$a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$a.DISABLED=new $a(-1,0,0);class TS{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){gn(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new TS(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ug(t).X({index:"userMutationsIndex",range:i},(r,s,a)=>{e=!1,a.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=D0(t),a=Ug(t);return a.add({}).next(c=>{gn("number"==typeof c);const h=new YR(c,e,i,r),p=function(D,P,R){const F=R.baseMutations.map(Q=>kE(D.fe,Q)),V=R.mutations.map(Q=>kE(D.fe,Q));return{userId:P,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:F,mutations:V}}(this.serializer,this.userId,h),v=[];let b=new Xr((D,P)=>Qn(D.canonicalString(),P.canonicalString()));for(const D of r){const P=ZV(this.userId,D.key.path,c);b=b.add(D.key.path.popLast()),v.push(a.put(p)),v.push(s.put(P,F7))}return b.forEach(D=>{v.push(this.indexManager.addToCollectionParentIndex(t,D))}),t.addOnCommittedListener(()=>{this.Vn[c]=h.keys()}),Re.waitFor(v).next(()=>h)})}lookupMutationBatch(t,e){return Ug(t).get(e).next(i=>i?(gn(i.userId===this.userId),Z_(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?Re.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Ug(t).X({index:"userMutationsIndex",range:r},(a,c,h)=>{c.userId===this.userId&&(gn(c.batchId>=i),s=Z_(this.serializer,c)),h.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ug(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,s,a)=>{i=s.batchId,a.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ug(t).j("userMutationsIndex",e).next(i=>i.map(r=>Z_(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=nS(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return D0(t).X({range:r},(a,c,h)=>{const[p,v,b]=a,D=Zh(v);if(p===this.userId&&e.path.isEqual(D))return Ug(t).get(b).next(P=>{if(!P)throw en();gn(P.userId===this.userId),s.push(Z_(this.serializer,P))});h.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Xr(Qn);const r=[];return e.forEach(s=>{const a=nS(this.userId,s.path),c=IDBKeyRange.lowerBound(a),h=D0(t).X({range:c},(p,v,b)=>{const[D,P,R]=p,F=Zh(P);D===this.userId&&s.path.isEqual(F)?i=i.add(R):b.done()});r.push(h)}),Re.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=nS(this.userId,i),a=IDBKeyRange.lowerBound(s);let c=new Xr(Qn);return D0(t).X({range:a},(h,p,v)=>{const[b,D,P]=h,R=Zh(D);b===this.userId&&i.isPrefixOf(R)?R.length===r&&(c=c.add(P)):v.done()}).next(()=>this.Dn(t,c))}Dn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Ug(t).get(s).next(a=>{if(null===a)throw en();gn(a.userId===this.userId),i.push(Z_(this.serializer,a))}))}),Re.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return mz(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),Re.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Re.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return D0(t).X({range:i},(s,a,c)=>{if(s[0]===this.userId){const h=Zh(s[1]);r.push(h)}else c.done()}).next(()=>{gn(0===r.length)})})}containsKey(t,e){return _z(t,this.userId,e)}xn(t){return vz(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _z(n,t,e){const i=nS(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let a=!1;return D0(n).X({range:s,Y:!0},(c,h,p)=>{const[v,b,D]=c;v===t&&b===r&&(a=!0),p.done()}).next(()=>a)}function Ug(n){return ta(n,"mutations")}function D0(n){return ta(n,"documentMutations")}function vz(n){return ta(n,"mutationQueues")}class q_{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new q_(0)}static Mn(){return new q_(-1)}}class Q9{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new q_(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>yn.fromTimestamp(new vo(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>I0(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(gn(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return I0(t).X((a,c)=>{const h=OE(c);h.sequenceNumber<=e&&null===i.get(h.targetId)&&(r++,s.push(this.removeTargetData(t,h)))}).next(()=>Re.waitFor(s)).next(()=>r)}forEachTarget(t,e){return I0(t).X((i,r)=>{const s=OE(r);e(s)})}$n(t){return yz(t).get("targetGlobalKey").next(e=>(gn(null!==e),e))}On(t,e){return yz(t).put("targetGlobalKey",e)}Fn(t,e){return I0(t).put(iz(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=N_(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return I0(t).X({range:r,index:"queryTargetsIndex"},(a,c,h)=>{const p=OE(c);wE(e,p.target)&&(s=p,h.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Bg(t);return e.forEach(a=>{const c=Wa(a.path);r.push(s.put({targetId:i,path:c})),r.push(this.referenceDelegate.addReference(t,i,a))}),Re.waitFor(r)}removeMatchingKeys(t,e,i){const r=Bg(t);return Re.forEach(e,s=>{const a=Wa(s.path);return Re.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Bg(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Bg(t);let s=ai();return r.X({range:i,Y:!0},(a,c,h)=>{const p=Zh(a[1]),v=new Ft(p);s=s.add(v)}).next(()=>s)}containsKey(t,e){const i=Wa(e.path),r=IDBKeyRange.bound([i],[kV(i)],!1,!0);let s=0;return Bg(t).X({index:"documentTargetsIndex",Y:!0,range:r},([a,c],h,p)=>{0!==a&&(s++,p.done())}).next(()=>s>0)}le(t,e){return I0(t).get(e).next(i=>i?OE(i):null)}}function I0(n){return ta(n,"targets")}function yz(n){return ta(n,"targetGlobal")}function Bg(n){return ta(n,"targetDocuments")}function wz([n,t],[e,i]){const r=Qn(n,e);return 0===r?Qn(t,i):r}class J9{constructor(t){this.Ln=t,this.buffer=new Xr(wz),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();wz(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class bz{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;_t("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Te.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Sg(i)?_t("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield xg(i)}yield e.Qn(3e5)}))}}class X9{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Re.resolve(Yc.ct);const i=new J9(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(_t("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(gz)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(_t("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gz):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,s,a,c,h,p;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(_t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),r=this.params.maximumSequenceNumbersToCollect):r=b,a=Date.now(),this.nthSequenceNumber(t,r))).next(b=>(i=b,c=Date.now(),this.removeTargets(t,i,e))).next(b=>(s=b,h=Date.now(),this.removeOrphanedDocuments(t,i))).next(b=>(p=Date.now(),MR()<=cc.in.DEBUG&&_t("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-v}ms\n\tDetermined least recently used ${r} in `+(c-a)+`ms\n\tRemoved ${s} targets in `+(h-c)+`ms\n\tRemoved ${b} documents in `+(p-h)+`ms\nTotal Duration: ${p-v}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:b})))}}class e8{constructor(t,e){this.db=t,this.garbageCollector=function Cz(n,t){return new X9(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return DS(t,i)}removeReference(t,e,i){return DS(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return DS(t,e)}Xn(t,e){return function(i,r){let s=!1;return vz(i).Z(a=>_z(i,a,r).next(c=>(c&&(s=!0),Re.resolve(!c)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(t,(a,c)=>{if(c<=e){const h=this.Xn(t,a).next(p=>{if(!p)return s++,i.getEntry(t,a).next(()=>(i.removeEntry(a,yn.min()),Bg(t).delete([0,Wa(a.path)])))});r.push(h)}}).next(()=>Re.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return DS(t,e)}Yn(t,e){const i=Bg(t);let r,s=Yc.ct;return i.X({index:"documentTargetsIndex"},([a,c],{path:h,sequenceNumber:p})=>{0===a?(s!==Yc.ct&&e(new Ft(Zh(r)),s),s=p,r=h):s=Yc.ct}).next(()=>{s!==Yc.ct&&e(new Ft(Zh(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function DS(n,t){return Bg(n).put((i=n.currentSequenceNumber,{targetId:0,path:Wa(t.path),sequenceNumber:i}));var i}class Ez{constructor(){this.changes=new np(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,eo.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Re.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class t8{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return j_(t).put(i)}removeEntry(t,e,i){return j_(t).delete(function(r,s){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],vS(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=eo.newInvalidDocument(e);return j_(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(UE(e))},(r,s)=>{i=this.ts(e,s)}).next(()=>i)}es(t,e){let i={size:0,document:eo.newInvalidDocument(e)};return j_(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(UE(e))},(r,s)=>{i={document:this.ts(e,s),size:ES(s)}}).next(()=>i)}getEntries(t,e){let i=hc();return this.ns(t,e,(r,s)=>{const a=this.ts(r,s);i=i.insert(r,a)}).next(()=>i)}ss(t,e){let i=hc(),r=new Br(Ft.comparator);return this.ns(t,e,(s,a)=>{const c=this.ts(s,a);i=i.insert(s,c),r=r.insert(s,ES(a))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return Re.resolve();let r=new Xr(xz);e.forEach(h=>r=r.add(h));const s=IDBKeyRange.bound(UE(r.first()),UE(r.last())),a=r.getIterator();let c=a.getNext();return j_(t).X({index:"documentKeyIndex",range:s},(h,p,v)=>{const b=Ft.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;c&&xz(c,b)<0;)i(c,null),c=a.getNext();c&&c.isEqual(b)&&(i(c,p),c=a.hasNext()?a.getNext():null),c?v.G(UE(c)):v.done()}).next(()=>{for(;c;)i(c,null),c=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),vS(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return j_(t).j(IDBKeyRange.bound(a,c,!0)).next(h=>{let p=hc();for(const v of h){const b=this.ts(Ft.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);b.isFoundDocument()&&(CE(e,b)||r.has(b.key))&&(p=p.insert(b.key,b))}return p})}getAllFromCollectionGroup(t,e,i,r){let s=hc();const a=Iz(e,i),c=Iz(e,Gc.max());return j_(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,c,!0)},(h,p,v)=>{const b=this.ts(Ft.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);s=s.insert(b.key,b),s.size===r&&v.done()}).next(()=>s)}newChangeBuffer(t){return new n8(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Dz(t).get("remoteDocumentGlobalKey").next(e=>(gn(!!e),e))}Zn(t,e){return Dz(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function Z9(n,t){let e;if(t.document)e=YZ(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Ft.fromSegments(t.noDocument.path),r=V_(t.noDocument.readTime);e=eo.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return en();{const i=Ft.fromSegments(t.unknownDocument.path),r=V_(t.unknownDocument.version);e=eo.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new vo(i[0],i[1]);return yn.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(yn.min()))return i}return eo.newInvalidDocument(t)}}function Tz(n){return new t8(n)}class n8 extends Ez{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new np(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Xr((s,a)=>Qn(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const c=this.us.get(s);if(e.push(this.os.removeEntry(t,s,c.readTime)),a.isValidDocument()){const h=nz(this.os.serializer,a);r=r.add(s.path.popLast());const p=ES(h);i+=p-c.size,e.push(this.os.addEntry(t,s,h))}else if(i-=c.size,this.trackRemovals){const h=nz(this.os.serializer,a.convertToNoDocument(yn.min()));e.push(this.os.addEntry(t,s,h))}}),r.forEach(s=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.os.updateMetadata(t,i)),Re.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((s,a)=>{this.us.set(s,{size:a,readTime:i.get(s).readTime})}),i))}}function Dz(n){return ta(n,"remoteDocumentGlobal")}function j_(n){return ta(n,"remoteDocumentsV14")}function UE(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Iz(n,t){const e=t.documentKey.path.toArray();return[n,vS(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function xz(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Qn(e[s],i[s]),r)return r;return r=Qn(e.length,i.length),r||(r=Qn(e[e.length-2],i[i.length-2]),r||Qn(e[e.length-1],i[i.length-1]))}class i8{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Sz{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&IE(i.mutation,r,dc.empty(),vo.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,ai()).next(()=>i))}getLocalViewOfDocuments(t,e,i=ai()){const r=Hh();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let a=EE();return s.forEach((c,h)=>{a=a.insert(c,h.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const i=Hh();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,ai()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,c)=>{e.set(a,c)})})}computeViews(t,e,i,r){let s=hc();const a=TE(),c=TE();return e.forEach((h,p)=>{const v=i.get(p.key);r.has(p.key)&&(void 0===v||v.mutation instanceof ip)?s=s.insert(p.key,p):void 0!==v?(a.set(p.key,v.mutation.getFieldMask()),IE(v.mutation,p,v.mutation.getFieldMask(),vo.now())):a.set(p.key,dc.empty())}),this.recalculateAndSaveOverlays(t,s).next(h=>(h.forEach((p,v)=>a.set(p,v)),e.forEach((p,v)=>{var b;return c.set(p,new i8(v,null!==(b=a.get(p))&&void 0!==b?b:null))}),c))}recalculateAndSaveOverlays(t,e){const i=TE();let r=new Br((a,c)=>a-c),s=ai();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const c of a)c.keys().forEach(h=>{const p=e.get(h);if(null===p)return;let v=i.get(h)||dc.empty();v=c.applyToLocalView(p,v),i.set(h,v);const b=(r.get(c.batchId)||ai()).add(h);r=r.insert(c.batchId,b)})}).next(()=>{const a=[],c=r.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,v=h.value,b=wZ();v.forEach(D=>{if(!s.has(D)){const P=AZ(e.get(D),i.get(D));null!==P&&b.set(D,P),s=s.add(D)}}),a.push(this.documentOverlayCache.saveOverlays(t,p,b))}return Re.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Ft.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):qR(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):Re.resolve(Hh());let c=-1,h=s;return a.next(p=>Re.forEach(p,(v,b)=>(c<b.largestBatchId&&(c=b.largestBatchId),s.get(v)?Re.resolve():this.remoteDocumentCache.getEntry(t,v).next(D=>{h=h.insert(v,D)}))).next(()=>this.populateOverlays(t,p,s)).next(()=>this.computeViews(t,h,p,ai())).next(v=>({batchId:c,changes:yZ(v)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ft(e)).next(i=>{let r=EE();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=EE();return this.indexManager.getCollectionParents(t,r).next(a=>Re.forEach(a,c=>{const h=(p=e,v=c.child(r),new tp(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,v;return this.getDocumentsMatchingCollectionQuery(t,h,i).next(p=>{p.forEach((v,b)=>{s=s.insert(v,b)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(s=>{r.forEach((c,h)=>{const p=h.getKey();null===s.get(p)&&(s=s.insert(p,eo.newInvalidDocument(p)))});let a=EE();return s.forEach((c,h)=>{const p=r.get(c);void 0!==p&&IE(p.mutation,h,dc.empty(),vo.now()),CE(e,h)&&(a=a.insert(c,h))}),a})}}class r8{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return Re.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:is(i.createTime)}),Re.resolve()}getNamedQuery(t,e){return Re.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:oN(i.bundledQuery),readTime:is(i.readTime)}),Re.resolve();var i}}class o8{constructor(){this.overlays=new Br(Ft.comparator),this.ls=new Map}getOverlay(t,e){return Re.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Hh();return Re.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.we(t,e,s)}),Re.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),Re.resolve()}getOverlaysForCollection(t,e,i){const r=Hh(),s=e.length+1,a=new Ft(e.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===s&&h.largestBatchId>i&&r.set(h.getKey(),h)}return Re.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Br((p,v)=>p-v);const a=this.overlays.getIterator();for(;a.hasNext();){const p=a.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>i){let v=s.get(p.largestBatchId);null===v&&(v=Hh(),s=s.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const c=Hh(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,v)=>c.set(p,v)),!(c.size()>=r)););return Re.resolve(c)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const a=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new QR(e,i));let s=this.ls.get(e);void 0===s&&(s=ai(),this.ls.set(e,s)),this.ls.set(e,s.add(i.key))}}class hN{constructor(){this.fs=new Xr(na.ds),this.ws=new Xr(na._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new na(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new na(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new Ft(new Oi([])),i=new na(e,t),r=new na(e,t+1),s=[];return this.ws.forEachInRange([i,r],a=>{this.ys(a),s.push(a.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new Ft(new Oi([])),i=new na(e,t),r=new na(e,t+1);let s=ai();return this.ws.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const e=new na(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class na{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return Ft.comparator(t.key,e.key)||Qn(t.As,e.As)}static _s(t,e){return Qn(t.As,e.As)||Ft.comparator(t.key,e.key)}}class s8{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Xr(na.ds)}checkEmpty(t){return Re.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.vs;this.vs++;const a=new YR(s,e,i,r);this.mutationQueue.push(a);for(const c of r)this.Rs=this.Rs.add(new na(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return Re.resolve(a)}lookupMutationBatch(t,e){return Re.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),s=r<0?0:r;return Re.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new na(e,0),r=new na(e,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],a=>{const c=this.Ps(a.As);s.push(c)}),Re.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Xr(Qn);return e.forEach(r=>{const s=new na(r,0),a=new na(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,a],c=>{i=i.add(c.As)})}),Re.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Ft.isDocumentKey(s)||(s=s.child(""));const a=new na(new Ft(s),0);let c=new Xr(Qn);return this.Rs.forEachWhile(h=>{const p=h.key.path;return!!i.isPrefixOf(p)&&(p.length===r&&(c=c.add(h.As)),!0)},a),Re.resolve(this.Vs(c))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){gn(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Re.forEach(e.mutations,r=>{const s=new na(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new na(e,0),r=this.Rs.firstAfterOrEqual(i);return Re.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Re.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class a8{constructor(t){this.Ds=t,this.docs=new Br(Ft.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,a=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Re.resolve(i?i.document.mutableCopy():eo.newInvalidDocument(e))}getEntries(t,e){let i=hc();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():eo.newInvalidDocument(r))}),Re.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=hc();const a=e.path,c=new Ft(a.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:v}}=h.getNext();if(!a.isPrefixOf(p.path))break;p.path.length>a.length+1||OR(RV(v),i)<=0||(r.has(v.key)||CE(e,v))&&(s=s.insert(v.key,v.mutableCopy()))}return Re.resolve(s)}getAllFromCollectionGroup(t,e,i,r){en()}Cs(t,e){return Re.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new l8(this)}getSize(t){return Re.resolve(this.size)}}class l8 extends Ez{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),Re.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class c8{constructor(t){this.persistence=t,this.xs=new np(e=>N_(e),wE),this.lastRemoteSnapshotVersion=yn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new hN,this.targetCount=0,this.Ms=q_.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),Re.resolve()}getLastRemoteSnapshotVersion(t){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Re.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),Re.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new q_(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,Re.resolve()}updateTargetData(t,e){return this.Fn(e),Re.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,Re.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.xs.forEach((a,c)=>{c.sequenceNumber<=e&&null===i.get(c.targetId)&&(this.xs.delete(a),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),r++)}),Re.waitFor(s).next(()=>r)}getTargetCount(t){return Re.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return Re.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),Re.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),Re.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),Re.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return Re.resolve(i)}containsKey(t,e){return Re.resolve(this.ks.containsKey(e))}}class fN{constructor(t,e){this.$s={},this.overlays={},this.Os=new Yc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new c8(this),this.indexManager=new Y9,this.remoteDocumentCache=new a8(i=>this.referenceDelegate.Ls(i)),this.serializer=new tz(e),this.qs=new r8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new o8,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new s8(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){_t("MemoryPersistence","Starting transaction:",t);const r=new u8(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(t,e){return Re.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class u8 extends LV{constructor(t){super(),this.currentSequenceNumber=t}}class IS{constructor(t){this.persistence=t,this.Qs=new hN,this.js=null}static zs(t){return new IS(t)}get Ws(){if(this.js)return this.js;throw en()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),Re.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),Re.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),Re.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.Ws,i=>{const r=Ft.fromPath(i);return this.Hs(t,r).next(s=>{s||e.removeEntry(r,yn.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return Re.or([()=>Re.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class d8{constructor(t){this.serializer=t}O(t,e,i,r){const s=new tS("createOrUpgrade",e);var c;i<1&&r>=1&&(t.createObjectStore("owner"),(c=t).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VV,{unique:!0}),c.createObjectStore("documentMutations"),Az(t),function(c){c.createObjectStore("remoteDocuments")}(t));let a=Re.resolve();return i<3&&r>=3&&(0!==i&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(t),Az(t)),a=a.next(()=>function(c){const h=c.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yn.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",p)}(s))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(c,h){return h.store("mutations").j().next(p=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VV,{unique:!0});const v=h.store("mutations"),b=p.map(D=>v.put(D));return Re.waitFor(b)})}(t,s))),a=a.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(a=a.next(()=>this.Ys(s))),i<6&&r>=6&&(a=a.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(s)))),i<7&&r>=7&&(a=a.next(()=>this.Zs(s))),i<8&&r>=8&&(a=a.next(()=>this.ti(t,s))),i<9&&r>=9&&(a=a.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(a=a.next(()=>this.ei(s))),i<11&&r>=11&&(a=a.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(a=a.next(()=>{!function(c){const h=c.createObjectStore("documentOverlays",{keyPath:Y7});h.createIndex("collectionPathOverlayIndex",K7,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",Q7,{unique:!1})}(t)})),i<13&&r>=13&&(a=a.next(()=>function(c){const h=c.createObjectStore("remoteDocumentsV14",{keyPath:U7});h.createIndex("documentKeyIndex",B7),h.createIndex("collectionGroupIndex",V7)}(t)).next(()=>this.ni(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(a=a.next(()=>this.si(t,s))),i<15&&r>=15&&(a=a.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:j7}).createIndex("sequenceNumberIndex",W7,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:$7}).createIndex("documentKeyIndex",G7,{unique:!1})}(t))),a}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=ES(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>Re.forEach(r,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",a).next(c=>Re.forEach(c,h=>{gn(h.userId===s.userId);const p=Z_(this.serializer,h);return mz(t,s.userId,p).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((a,c)=>{const h=new Oi(a),p=[0,Wa(h)];s.push(e.get(p).next(v=>v?Re.resolve():e.put({targetId:0,path:Wa(h),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Re.waitFor(s))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:q7});const i=e.store("collectionParents"),r=new dN,s=a=>{if(r.add(a)){const c=a.lastSegment(),h=a.popLast();return i.put({collectionId:c,parent:Wa(h)})}};return e.store("remoteDocuments").X({Y:!0},(a,c)=>{const h=new Oi(a);return s(h.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([a,c,h],p)=>{const v=Zh(c);return s(v.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const s=OE(r),a=iz(this.serializer,s);return e.put(a)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((s,a)=>{const c=e.store("remoteDocumentsV14"),h=(p=a,p.document?new Ft(Oi.fromString(p.document.name).popFirst(5)):p.noDocument?Ft.fromSegments(p.noDocument.path):p.unknownDocument?Ft.fromSegments(p.unknownDocument.path):en()).path.toArray();var p;const v={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(c.put(v))}).next(()=>Re.waitFor(r))}si(t,e){const i=e.store("mutations"),r=Tz(this.serializer),s=new fN(IS.zs,this.serializer.fe);return i.j().next(a=>{const c=new Map;return a.forEach(h=>{var p;let v=null!==(p=c.get(h.userId))&&void 0!==p?p:ai();Z_(this.serializer,h).keys().forEach(b=>v=v.add(b)),c.set(h.userId,v)}),Re.forEach(c,(h,p)=>{const v=new ea(p),b=yS.de(this.serializer,v),D=s.getIndexManager(v),P=TS.de(v,this.serializer,D,s.referenceDelegate);return new Sz(r,P,b,D).recalculateAndSaveOverlaysForDocumentKeys(new LR(e,Yc.ct),h).next()})})}}function Az(n){n.createObjectStore("targetDocuments",{keyPath:z7}).createIndex("documentTargetsIndex",H7,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Z7,{unique:!0}),n.createObjectStore("targetGlobal")}const pN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gN{constructor(t,e,i,r,s,a,c,h,p,v,b=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=s,this.window=a,this.document=c,this.ri=p,this.oi=v,this.ui=b,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=D=>Promise.resolve(),!gN.D())throw new ut(Ze.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new e8(this,r),this.di=e+"main",this.serializer=new tz(h),this.wi=new Rd(this.di,this.ui,new d8(this.serializer)),this.Bs=new Q9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Tz(this.serializer),this.qs=new z9,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===v&&ns("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ut(Ze.FAILED_PRECONDITION,pN);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new Yc(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,Te.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,Te.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,Te.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>SS(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(Sg(t))return _t("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return _t("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return BE(t).get("owner").next(e=>Re.resolve(this.Ri(e)))}Pi(t){return SS(t).delete(this.clientId)}bi(){var t=this;return(0,Te.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ta(i,"clientMetadata");return r.j().next(s=>{const a=t.Si(s,18e5),c=s.filter(h=>-1===a.indexOf(h));return Re.forEach(c,h=>r.delete(h.clientId)).next(()=>c)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?Re.resolve(!0):BE(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new ut(Ze.FAILED_PRECONDITION,pN);return!1}}return!(!this.networkEnabled||!this.inForeground)||SS(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&_t("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Te.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new LR(e,Yc.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>SS(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return TS.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new K9(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return yS.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){_t("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(a=this.ui)?X7:14===a?qV:13===a?HV:12===a?J7:11===a?zV:void en();var a;let c;return this.wi.runTransaction(t,r,s,h=>(c=new LR(h,this.Os?this.Os.next():Yc.ct),"readwrite-primary"===e?this.Ti(c).next(p=>!!p||this.Ei(c)).next(p=>{if(!p)throw ns(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new ut(Ze.FAILED_PRECONDITION,NV);return i(c)}).next(p=>this.vi(c).next(()=>p)):this.Oi(c).next(()=>i(c)))).then(h=>(c.raiseOnCommittedEvent(),h))}Oi(t){return BE(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ut(Ze.FAILED_PRECONDITION,pN)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return BE(t).put("owner",e)}static D(){return Rd.D()}Ai(t){const e=BE(t);return e.get("owner").next(i=>this.Ri(i)?(_t("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Re.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(ns(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,K.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return _t("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ns("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){ns("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function BE(n){return ta(n,"owner")}function SS(n){return ta(n,"clientMetadata")}function mN(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class _N{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=ai(),r=ai();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new _N(t,e.fromCache,i,r)}}class Mz{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(s=>s||this.Gi(t,e,r,i)).next(s=>s||this.Qi(t,e))}Ki(t,e){if(pZ(e))return Re.resolve(null);let i=Al(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=hS(e,null,"F"),i=Al(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=ai(...s);return this.Ui.getDocuments(t,a).next(c=>this.indexManager.getMinOffset(t,i).next(h=>{const p=this.ji(e,c);return this.zi(e,p,a,h.readTime)?this.Ki(t,hS(e,null,"F")):this.Wi(t,p,e,h)}))})))}Gi(t,e,i,r){return pZ(e)||r.isEqual(yn.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(s=>{const a=this.ji(e,s);return this.zi(e,a,i,r)?this.Qi(t,e):(MR()<=cc.in.DEBUG&&_t("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),WR(e)),this.Wi(t,a,e,OV(r,-1)))})}ji(t,e){let i=new Xr(_Z(t));return e.forEach((r,s)=>{CE(t,s)&&(i=i.add(s))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(t,e){return MR()<=cc.in.DEBUG&&_t("QueryEngine","Using full collection scan to execute query:",WR(e)),this.Ui.getDocumentsMatchingQuery(t,e,Gc.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(a=>{s=s.insert(a.key,a)}),s))}}class h8{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new Br(Qn),this.Yi=new np(s=>N_(s),wE),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Sz(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function Pz(n,t,e,i){return new h8(n,t,e,i)}function kz(n,t){return vN.apply(this,arguments)}function vN(){return vN=(0,Te.Z)(function*(n,t){const e=Bt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],c=[];let h=ai();for(const p of r){a.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}for(const p of s){c.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}return e.localDocuments.getDocuments(i,h).next(p=>({er:p,removedBatchIds:a,addedBatchIds:c}))})})}),vN.apply(this,arguments)}function Oz(n){const t=Bt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function Rz(n,t,e){let i=ai(),r=ai();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let a=hc();return e.forEach((c,h)=>{const p=s.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(c)),h.isNoDocument()&&h.version.isEqual(yn.min())?(t.removeEntry(c,h.readTime),a=a.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(t.addEntry(h),a=a.insert(c,h)):_t("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{nr:a,sr:r}})}function g8(n,t){const e=Bt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function x0(n,t){const e=Bt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(s=>s?(r=s,Re.resolve(r)):e.Bs.allocateTargetId(i).next(a=>(r=new rp(t,a,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function S0(n,t,e){return yN.apply(this,arguments)}function yN(){return yN=(0,Te.Z)(function*(n,t,e){const i=Bt(n),r=i.Ji.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!Sg(a))throw a;_t("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),yN.apply(this,arguments)}function AS(n,t,e){const i=Bt(n);let r=yn.min(),s=ai();return i.persistence.runTransaction("Execute query","readonly",a=>function(c,h,p){const v=Bt(c),b=v.Yi.get(p);return void 0!==b?Re.resolve(v.Ji.get(b)):v.Bs.getTargetData(h,p)}(i,a,Al(t)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(a,c.targetId).next(h=>{s=h})}).next(()=>i.Hi.getDocumentsMatchingQuery(a,t,e?r:yn.min(),e?s:ai())).next(c=>(Fz(i,mZ(t),c),{documents:c,ir:s})))}function Nz(n,t){const e=Bt(n),i=Bt(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.le(s,t).next(a=>a?a.target:null))}function Lz(n,t){const e=Bt(n),i=e.Xi.get(t)||yn.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,OV(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Fz(e,t,r),r))}function Fz(n,t,e){let i=n.Xi.get(t)||yn.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(t,i)}function wN(){return wN=(0,Te.Z)(function*(n,t,e,i){const r=Bt(n);let s=ai(),a=hc();for(const p of e){const v=t.rr(p.metadata.name);p.document&&(s=s.add(v));const b=t.ur(p);b.setReadTime(t.cr(p.metadata.readTime)),a=a.insert(v,b)}const c=r.Zi.newChangeBuffer({trackRemovals:!0}),h=yield x0(r,(p=i,Al(v0(Oi.fromString(`__bundle__/docs/${p}`)))));var p;return r.persistence.runTransaction("Apply bundle documents","readwrite",p=>Rz(p,c,a).next(v=>(c.apply(p),v)).next(v=>r.Bs.removeMatchingKeysForTargetId(p,h.targetId).next(()=>r.Bs.addMatchingKeys(p,s,h.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(p,v.nr,v.sr)).next(()=>v.nr)))}),wN.apply(this,arguments)}function _8(n,t){return bN.apply(this,arguments)}function bN(){return bN=(0,Te.Z)(function*(n,t,e=ai()){const i=yield x0(n,Al(oN(t.bundledQuery))),r=Bt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const a=is(t.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r.qs.saveNamedQuery(s,t);const c=i.withResumeToken(Ns.EMPTY_BYTE_STRING,a);return r.Ji=r.Ji.insert(c.targetId,c),r.Bs.updateTargetData(s,c).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,e,i.targetId)).next(()=>r.qs.saveNamedQuery(s,t))})}),bN.apply(this,arguments)}function Uz(n,t){return`firestore_clients_${n}_${t}`}function Bz(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function CN(n,t){return`firestore_targets_${n}_${t}`}class MS{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let s,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(s=new ut(r.error.code,r.error.message))),a?new MS(t,e,r.state,s):(ns("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class VE{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new ut(i.error.code,i.error.message))),s?new VE(t,i.state,r):(ns("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class PS{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=$R();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=UV(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return r?new PS(t,s):(ns("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class EN{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new EN(e.clientId,e.onlineState):(ns("SharedClientState",`Failed to parse online state: ${t}`),null)}}class TN{constructor(){this.activeTargetIds=$R()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DN{constructor(t,e,i,r,s){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Br(Qn),this.started=!1,this.yr=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=Uz(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new TN),this.Tr=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Te.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const s=t.getItem(Uz(t.persistenceKey,r));if(s){const a=PS.ar(r,s);a&&(t.gr=t.gr.insert(a.clientId,a))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(CN(this.persistenceKey,t));if(i){const r=VE.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(CN(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return _t("SharedClientState","READ",t,e),e}setItem(t,e){_t("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){_t("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(_t("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void ns("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Te.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(s){let a=Yc.ct;if(null!=s)try{const c=JSON.parse(s);gn("number"==typeof c),a=c}catch(c){ns("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(i.newValue);r!==Yc.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Qr(s)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new MS(this.currentUser,t,e,i),s=Bz(this.persistenceKey,this.currentUser,t);this.setItem(s,r.hr())}Cr(t){const e=Bz(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=CN(this.persistenceKey,t),s=new VE(t,e,i);this.setItem(r,s.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return PS.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return MS.ar(new ea(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return VE.ar(r,e)}br(t){return EN.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,Te.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);_t("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),s=this.Sr(i),a=[],c=[];return s.forEach(h=>{r.has(h)||a.push(h)}),r.forEach(h=>{s.has(h)||c.push(h)}),this.syncEngine.Wr(a,c).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=$R();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class Vz{constructor(){this.Hr=new TN,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new TN,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class v8{Yr(t){}shutdown(){}}class Zz{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){_t("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){_t("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kS=null;function IN(){return null===kS?kS=268435456+Math.round(2147483648*Math.random()):kS++,"0x"+kS.toString(16)}const y8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class w8{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const Ga="WebChannelConnection";class b8 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,s){const a=IN(),c=this.To(t,e);_t("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);const h={};return this.Eo(h,r,s),this.Ao(t,c,h,i).then(p=>(_t("RestConnection",`Received RPC '${t}' ${a}: `,p),p),p=>{throw Fu("RestConnection",`RPC '${t}' ${a} failed with error: `,p,"url: ",c,"request:",i),p})}vo(t,e,i,r,s,a){return this.Io(t,e,i,r,s)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+h0,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}To(t,e){return`${this.mo}/v1/${e}:${y8[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const s=IN();return new Promise((a,c)=>{const h=new v7;h.setWithCredentials(!0),h.listenOnce(g7.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case AR.NO_ERROR:const v=h.getResponseJson();_t(Ga,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(v)),a(v);break;case AR.TIMEOUT:_t(Ga,`RPC '${t}' ${s} timed out`),c(new ut(Ze.DEADLINE_EXCEEDED,"Request time out"));break;case AR.HTTP_ERROR:const b=h.getStatus();if(_t(Ga,`RPC '${t}' ${s} failed with status:`,b,"response text:",h.getResponseText()),b>0){let D=h.getResponseJson();Array.isArray(D)&&(D=D[0]);const P=D?.error;if(P&&P.status&&P.message){const R=function(F){const V=F.toLowerCase().replace(/_/g,"-");return Object.values(Ze).indexOf(V)>=0?V:Ze.UNKNOWN}(P.status);c(new ut(R,P.message))}else c(new ut(Ze.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new ut(Ze.UNAVAILABLE,"Connection failed."));break;default:en()}}finally{_t(Ga,`RPC '${t}' ${s} completed.`)}});const p=JSON.stringify(r);_t(Ga,`RPC '${t}' ${s} sending request:`,r),h.send(e,"POST",p,i,15)})}Ro(t,e,i){const r=IN(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=f7(),c=p7(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;void 0!==p&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.xmlHttpFactory=new _7({})),this.Eo(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const v=s.join("");_t(Ga,`Creating RPC '${t}' stream ${r}: ${v}`,h);const b=a.createWebChannel(v,h);let D=!1,P=!1;const R=new w8({ro:V=>{P?_t(Ga,`Not sending because RPC '${t}' stream ${r} is closed:`,V):(D||(_t(Ga,`Opening RPC '${t}' stream ${r} transport.`),b.open(),D=!0),_t(Ga,`RPC '${t}' stream ${r} sending:`,V),b.send(V))},oo:()=>b.close()}),F=(V,Q,ee)=>{V.listen(Q,re=>{try{ee(re)}catch(de){setTimeout(()=>{throw de},0)}})};return F(b,Jx.EventType.OPEN,()=>{P||_t(Ga,`RPC '${t}' stream ${r} transport opened.`)}),F(b,Jx.EventType.CLOSE,()=>{P||(P=!0,_t(Ga,`RPC '${t}' stream ${r} transport closed`),R.wo())}),F(b,Jx.EventType.ERROR,V=>{P||(P=!0,Fu(Ga,`RPC '${t}' stream ${r} transport errored:`,V),R.wo(new ut(Ze.UNAVAILABLE,"The operation could not be completed")))}),F(b,Jx.EventType.MESSAGE,V=>{var Q;if(!P){const ee=V.data[0];gn(!!ee);const de=ee.error||(null===(Q=ee[0])||void 0===Q?void 0:Q.error);if(de){_t(Ga,`RPC '${t}' stream ${r} received error:`,de);const _e=de.status;let ue=function(Le){const et=vs[Le];if(void 0!==et)return NZ(et)}(_e),pe=de.message;void 0===ue&&(ue=Ze.INTERNAL,pe="Unknown error status: "+_e+" with message "+de.message),P=!0,R.wo(new ut(ue,pe)),b.close()}else _t(Ga,`RPC '${t}' stream ${r} received:`,ee),R._o(ee)}}),F(c,m7.STAT_EVENT,V=>{V.stat===xV.PROXY?_t(Ga,`RPC '${t}' stream ${r} detected buffering proxy`):V.stat===xV.NOPROXY&&_t(Ga,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{R.fo()},0),R}}function zz(){return typeof window<"u"?window:null}function OS(){return typeof document<"u"?document:null}function ZE(n){return new P9(n,!0)}class xN{constructor(t,e,i=1e3,r=1.5,s=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&_t("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Hz{constructor(t,e,i,r,s,a,c,h){this.ii=t,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new xN(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,Te.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,Te.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,Te.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===Ze.RESOURCE_EXHAUSTED?(ns(e.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===Ze.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new ut(Ze.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,Te.Z)(function*(){t.state=0,t.start()}))}tu(t){return _t("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(_t("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class C8 extends Hz{constructor(t,e,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,a),this.serializer=s}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function R9(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(h=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===h?1:"REMOVE"===h?2:"CURRENT"===h?3:"RESET"===h?4:en(),r=t.targetChange.targetIds||[],s=function(h,p){return h.useProto3Json?(gn(void 0===p||"string"==typeof p),Ns.fromBase64String(p||"")):(gn(void 0===p||p instanceof Uint8Array),Ns.fromUint8Array(p||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,c=a&&function(h){const p=void 0===h.code?Ze.UNKNOWN:NZ(h.code);return new ut(p,h.message||"")}(a);e=new VZ(i,r,s,c||null)}else if("documentChange"in t){const i=t.documentChange,r=qh(n,i.document.name),s=is(i.document.updateTime),a=i.document.createTime?is(i.document.createTime):yn.min(),c=new Da({mapValue:{fields:i.document.fields}}),h=eo.newFoundDocument(r,s,a,c);e=new _S(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=qh(n,i.document),s=i.readTime?is(i.readTime):yn.min(),a=eo.newNoDocument(r,s);e=new _S([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){const i=t.documentRemove,r=qh(n,i.document);e=new _S([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return en();{const i=t.filter,{count:r=0,unchangedNames:s}=i,a=new D9(r,s);e=new BZ(i.targetId,a)}}var h;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return yn.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?yn.min():s.readTime?is(s.readTime):yn.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=PE(this.serializer),e.addTarget=function(r,s){let a;const c=s.target;if(a=cS(c)?{documents:KZ(r,c)}:{query:rN(r,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=qZ(r,s.resumeToken);const h=eN(r,s.expectedCount);null!==h&&(a.expectedCount=h)}else if(s.snapshotVersion.compareTo(yn.min())>0){a.readTime=E0(r,s.snapshotVersion.toTimestamp());const h=eN(r,s.expectedCount);null!==h&&(a.expectedCount=h)}return a}(this.serializer,t);const i=function L9(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return en()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=PE(this.serializer),e.removeTarget=t,this.Wo(e)}}class E8 extends Hz{constructor(t,e,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,a),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(gn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function N9(n,t){return n&&n.length>0?(gn(void 0!==t),n.map(e=>function(i,r){let s=is(i.updateTime?i.updateTime:r);return s.isEqual(yn.min())&&(s=is(r)),new b9(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=is(t.commitTime);return this.listener.cu(i,e)}return gn(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=PE(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>kE(this.serializer,i))};this.Wo(e)}}class T8 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new ut(Ze.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ut(Ze.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(t,e,i,s,a,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ut(Ze.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}function SN(){return SN=(0,Te.Z)(function*(n,t,e){var i;const r=Bt(n),{request:s,du:a}=function(v,b,D){const P=rN(v,b),R={},F=[];let V=0;return D.forEach(Q=>{const ee="aggregate_"+V++;R[ee]=Q.alias,"count"===Q.yt?F.push({alias:ee,count:{}}):"avg"===Q.yt?F.push({alias:ee,avg:{field:Lg(Q.fieldPath)}}):"sum"===Q.yt&&F.push({alias:ee,sum:{field:Lg(Q.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:F,structuredQuery:P.structuredQuery},parent:P.parent},du:R}}(r.serializer,Al(t),e),c=s.parent;r.connection.po||delete s.parent;const h=(yield r.vo("RunAggregationQuery",c,s,1)).filter(v=>!!v.result);gn(1===h.length);const p=null===(i=h[0].result)||void 0===i?void 0:i.aggregateFields;return Object.keys(p).reduce((v,b)=>(v[a[b]]=p[b],v),{})}),SN.apply(this,arguments)}class I8{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ns(e),this.mu=!1):_t("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class x8{constructor(t,e,i,r,s){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(c=>{i.enqueueAndForget((0,Te.Z)(function*(){var h;Vg(a)&&(_t("RemoteStore","Restarting streams for network reachability change."),yield(h=(0,Te.Z)(function*(p){const v=Bt(p);v.vu.add(4),yield A0(v),v.bu.set("Unknown"),v.vu.delete(4),yield zE(v)}),function(p){return h.apply(this,arguments)})(a))}))}),this.bu=new I8(i,r)}}function zE(n){return AN.apply(this,arguments)}function AN(){return AN=(0,Te.Z)(function*(n){if(Vg(n))for(const t of n.Ru)yield t(!0)}),AN.apply(this,arguments)}function A0(n){return MN.apply(this,arguments)}function MN(){return MN=(0,Te.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),MN.apply(this,arguments)}function RS(n,t){const e=Bt(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),ON(e)?kN(e):P0(e).Ko()&&PN(e,t))}function HE(n,t){const e=Bt(n),i=P0(e);e.Au.delete(t),i.Ko()&&qz(e,t),0===e.Au.size&&(i.Ko()?i.jo():Vg(e)&&e.bu.set("Unknown"))}function PN(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yn.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}P0(n).su(t)}function qz(n,t){n.Vu.qt(t),P0(n).iu(t)}function kN(n){n.Vu=new x9({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),P0(n).start(),n.bu.gu()}function ON(n){return Vg(n)&&!P0(n).Uo()&&n.Au.size>0}function Vg(n){return 0===Bt(n).vu.size}function jz(n){n.Vu=void 0}function S8(n){return RN.apply(this,arguments)}function RN(){return RN=(0,Te.Z)(function*(n){n.Au.forEach((t,e)=>{PN(n,t)})}),RN.apply(this,arguments)}function A8(n,t){return NN.apply(this,arguments)}function NN(){return NN=(0,Te.Z)(function*(n,t){jz(n),ON(n)?(n.bu.Iu(t),kN(n)):n.bu.set("Unknown")}),NN.apply(this,arguments)}function M8(n,t,e){return LN.apply(this,arguments)}function LN(){return LN=(0,Te.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof VZ&&2===t.state&&t.cause)try{yield(i=(0,Te.Z)(function*(r,s){const a=s.cause;for(const c of s.targetIds)r.Au.has(c)&&(yield r.remoteSyncer.rejectListen(c,a),r.Au.delete(c),r.Vu.removeTarget(c))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){_t("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield NS(n,i)}else if(t instanceof _S?n.Vu.Ht(t):t instanceof BZ?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(yn.min()))try{const i=yield Oz(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const a=r.Vu.ce(s);return a.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const p=r.Au.get(h);p&&r.Au.set(h,p.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,h)=>{const p=r.Au.get(c);if(!p)return;r.Au.set(c,p.withResumeToken(Ns.EMPTY_BYTE_STRING,p.snapshotVersion)),qz(r,c);const v=new rp(p.target,c,h,p.sequenceNumber);PN(r,v)}),r.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){_t("RemoteStore","Failed to raise snapshot:",i),yield NS(n,i)}var i}),LN.apply(this,arguments)}function NS(n,t,e){return FN.apply(this,arguments)}function FN(){return FN=(0,Te.Z)(function*(n,t,e){if(!Sg(t))throw t;n.vu.add(1),yield A0(n),n.bu.set("Offline"),e||(e=()=>Oz(n.localStore)),n.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){_t("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield zE(n)}))}),FN.apply(this,arguments)}function Wz(n,t){return t().catch(e=>NS(n,e,t))}function M0(n){return UN.apply(this,arguments)}function UN(){return UN=(0,Te.Z)(function*(n){const t=Bt(n),e=Zg(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;P8(t);)try{const r=yield g8(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,k8(t,r)}catch(r){yield NS(t,r)}$z(t)&&Gz(t)}),UN.apply(this,arguments)}function P8(n){return Vg(n)&&n.Eu.length<10}function k8(n,t){n.Eu.push(t);const e=Zg(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function $z(n){return Vg(n)&&!Zg(n).Uo()&&n.Eu.length>0}function Gz(n){Zg(n).start()}function O8(n){return BN.apply(this,arguments)}function BN(){return BN=(0,Te.Z)(function*(n){Zg(n).hu()}),BN.apply(this,arguments)}function R8(n){return VN.apply(this,arguments)}function VN(){return VN=(0,Te.Z)(function*(n){const t=Zg(n);for(const e of n.Eu)t.uu(e.mutations)}),VN.apply(this,arguments)}function N8(n,t,e){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,Te.Z)(function*(n,t,e){const i=n.Eu.shift(),r=KR.from(i,t,e);yield Wz(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield M0(n)}),ZN.apply(this,arguments)}function L8(n,t){return zN.apply(this,arguments)}function zN(){return zN=(0,Te.Z)(function*(n,t){var e;t&&Zg(n).ou&&(yield(e=(0,Te.Z)(function*(i,r){if(RZ(s=r.code)&&s!==Ze.ABORTED){const a=i.Eu.shift();Zg(i).Qo(),yield Wz(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield M0(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),$z(n)&&Gz(n)}),zN.apply(this,arguments)}function Yz(n,t){return HN.apply(this,arguments)}function HN(){return HN=(0,Te.Z)(function*(n,t){const e=Bt(n);e.asyncQueue.verifyOperationInProgress(),_t("RemoteStore","RemoteStore received new credentials");const i=Vg(e);e.vu.add(3),yield A0(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield zE(e)}),HN.apply(this,arguments)}function qN(n,t){return jN.apply(this,arguments)}function jN(){return jN=(0,Te.Z)(function*(n,t){const e=Bt(n);t?(e.vu.delete(2),yield zE(e)):t||(e.vu.add(2),yield A0(e),e.bu.set("Unknown"))}),jN.apply(this,arguments)}function P0(n){return n.Su||(n.Su=function(t,e,i){const r=Bt(t);return r.fu(),new C8(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:S8.bind(null,n),ao:A8.bind(null,n),nu:M8.bind(null,n)}),n.Ru.push(function(){var t=(0,Te.Z)(function*(e){e?(n.Su.Qo(),ON(n)?kN(n):n.bu.set("Unknown")):(yield n.Su.stop(),jz(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function Zg(n){return n.Du||(n.Du=function(t,e,i){const r=Bt(t);return r.fu(),new E8(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:O8.bind(null,n),ao:L8.bind(null,n),au:R8.bind(null,n),cu:N8.bind(null,n)}),n.Ru.push(function(){var t=(0,Te.Z)(function*(e){e?(n.Du.Qo(),yield M0(n)):(yield n.Du.stop(),n.Eu.length>0&&(_t("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class WN{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,e,i,r,s){const a=Date.now()+i,c=new WN(t,e,a,r,s);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ut(Ze.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function k0(n,t){if(ns("AsyncQueue",`${t}: ${n}`),Sg(n))return new ut(Ze.UNAVAILABLE,`${t}: ${n}`);throw n}class O0{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ft.comparator(e.key,i.key):(e,i)=>Ft.comparator(e.key,i.key),this.keyedMap=EE(),this.sortedSet=new Br(this.comparator)}static emptySet(t){return new O0(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof O0)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new O0;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class Kz{constructor(){this.Cu=new Br(Ft.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):en():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class R0{constructor(t,e,i,r,s,a,c,h,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(t,e,i,r,s){const a=[];return e.forEach(c=>{a.push({type:0,doc:c})}),new R0(t,e,O0.emptySet(e),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bE(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class F8{constructor(){this.Nu=void 0,this.listeners=[]}}class U8{constructor(){this.queries=new np(t=>gZ(t),bE),this.onlineState="Unknown",this.ku=new Set}}function $N(n,t){return GN.apply(this,arguments)}function GN(){return GN=(0,Te.Z)(function*(n,t){const e=Bt(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new F8),r)try{s.Nu=yield e.onListen(i)}catch(a){const c=k0(a,`Initialization of query '${WR(t.query)}' failed`);return void t.onError(c)}e.queries.set(i,s),s.listeners.push(t),t.Mu(e.onlineState),s.Nu&&t.$u(s.Nu)&&QN(e)}),GN.apply(this,arguments)}function YN(n,t){return KN.apply(this,arguments)}function KN(){return KN=(0,Te.Z)(function*(n,t){const e=Bt(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const a=s.listeners.indexOf(t);a>=0&&(s.listeners.splice(a,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),KN.apply(this,arguments)}function B8(n,t){const e=Bt(n);let i=!1;for(const r of t){const a=e.queries.get(r.query);if(a){for(const c of a.listeners)c.$u(r)&&(i=!0);a.Nu=r}}i&&QN(e)}function V8(n,t,e){const i=Bt(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function QN(n){n.ku.forEach(t=>{t.next()})}class JN{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new R0(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=R0.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class Z8{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class Qz{constructor(t){this.serializer=t}rr(t){return qh(this.serializer,t)}ur(t){return t.metadata.exists?YZ(this.serializer,t.document,!1):eo.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return is(t)}}class z8{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Jz(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=Oi.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new Qz(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const a of r.metadata.queries){const c=(e.get(a)||ai()).add(s);e.set(a,c)}}return e}complete(){var t=this;return(0,Te.Z)(function*(){const e=yield function m8(n,t,e,i){return wN.apply(this,arguments)}(t.localStore,new Qz(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield _8(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function Jz(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Xz{constructor(t){this.key=t}}class e6{constructor(t){this.key=t}}class t6{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ai(),this.mutatedKeys=ai(),this.tc=_Z(t),this.ec=new O0(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new Kz,r=e?e.ec:this.ec;let s=e?e.mutatedKeys:this.mutatedKeys,a=r,c=!1;const h="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,p="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((v,b)=>{const D=r.get(v),P=CE(this.query,b)?b:null,R=!!D&&this.mutatedKeys.has(D.key),F=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let V=!1;D&&P?D.data.isEqual(P.data)?R!==F&&(i.track({type:3,doc:P}),V=!0):this.rc(D,P)||(i.track({type:2,doc:P}),V=!0,(h&&this.tc(P,h)>0||p&&this.tc(P,p)<0)&&(c=!0)):!D&&P?(i.track({type:0,doc:P}),V=!0):D&&!P&&(i.track({type:1,doc:D}),V=!0,(h||p)&&(c=!0)),V&&(P?(a=a.add(P),s=F?s.add(v):s.delete(v)):(a=a.delete(v),s=s.delete(v)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const v="F"===this.query.limitType?a.last():a.first();a=a.delete(v.key),s=s.delete(v.key),i.track({type:1,doc:v})}return{ec:a,ic:i,zi:c,mutatedKeys:s}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const s=t.ic.xu();s.sort((p,v)=>function(b,D){const P=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return en()}};return P(b)-P(D)}(p.type,v.type)||this.tc(p.doc,v.doc)),this.oc(i);const a=e?this.uc():[],c=0===this.Zu.size&&this.current?1:0,h=c!==this.Xu;return this.Xu=c,0!==s.length||h?{snapshot:new R0(this.query,t.ec,r,s,t.mutatedKeys,0===c,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Kz,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=ai(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new e6(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new Xz(i))}),e}hc(t){this.Yu=t.ir,this.Zu=ai();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return R0.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class H8{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class q8{constructor(t){this.key=t,this.fc=!1}}class j8{constructor(t,e,i,r,s,a){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new np(c=>gZ(c),bE),this._c=new Map,this.mc=new Set,this.gc=new Br(Ft.comparator),this.yc=new Map,this.Ic=new hN,this.Tc={},this.Ec=new Map,this.Ac=q_.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function W8(n,t){return XN.apply(this,arguments)}function XN(){return XN=(0,Te.Z)(function*(n,t){const e=CL(n);let i,r;const s=e.wc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const a=yield x0(e.localStore,Al(t)),c=e.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield eL(e,t,i,"current"===c,a.resumeToken),e.isPrimaryClient&&RS(e.remoteStore,a)}return r}),XN.apply(this,arguments)}function eL(n,t,e,i,r){return tL.apply(this,arguments)}function tL(){return tL=(0,Te.Z)(function*(n,t,e,i,r){n.Rc=(b,D,P)=>{return(R=(0,Te.Z)(function*(F,V,Q,ee){let re=V.view.sc(Q);re.zi&&(re=yield AS(F.localStore,V.query,!1).then(({documents:ue})=>V.view.sc(ue,re)));const de=ee&&ee.targetChanges.get(V.targetId),_e=V.view.applyChanges(re,F.isPrimaryClient,de);return dL(F,V.targetId,_e.cc),_e.snapshot}),function(F,V,Q,ee){return R.apply(this,arguments)})(n,b,D,P);var R};const s=yield AS(n.localStore,t,!0),a=new t6(t,s.ir),c=a.sc(s.documents),h=AE.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),p=a.applyChanges(c,n.isPrimaryClient,h);dL(n,e,p.cc);const v=new H8(t,e,a);return n.wc.set(t,v),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),p.snapshot}),tL.apply(this,arguments)}function $8(n,t){return nL.apply(this,arguments)}function nL(){return nL=(0,Te.Z)(function*(n,t){const e=Bt(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(s=>!bE(s,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield S0(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),HE(e.remoteStore,i.targetId),N0(e,i.targetId)}).catch(xg))):(N0(e,i.targetId),yield S0(e.localStore,i.targetId,!0))}),nL.apply(this,arguments)}function iL(){return iL=(0,Te.Z)(function*(n,t,e){const i=EL(n);try{const r=yield function(s,a){const c=Bt(s),h=vo.now(),p=a.reduce((D,P)=>D.add(P.key),ai());let v,b;return c.persistence.runTransaction("Locally write mutations","readwrite",D=>{let P=hc(),R=ai();return c.Zi.getEntries(D,p).next(F=>{P=F,P.forEach((V,Q)=>{Q.isValidDocument()||(R=R.add(V))})}).next(()=>c.localDocuments.getOverlayedDocuments(D,P)).next(F=>{v=F;const V=[];for(const Q of a){const ee=E9(Q,v.get(Q.key).overlayedDocument);null!=ee&&V.push(new ip(Q.key,ee,tZ(ee.value.mapValue),yo.exists(!0)))}return c.mutationQueue.addMutationBatch(D,h,V,a)}).next(F=>{b=F;const V=F.applyToLocalDocumentSet(v,R);return c.documentOverlayCache.saveOverlays(D,F.batchId,V)})}).then(()=>({batchId:b.batchId,changes:yZ(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let h=s.Tc[s.currentUser.toKey()];h||(h=new Br(Qn)),h=h.insert(a,c),s.Tc[s.currentUser.toKey()]=h}(i,r.batchId,e),yield op(i,r.changes),yield M0(i.remoteStore)}catch(r){const s=k0(r,"Failed to persist write");e.reject(s)}}),iL.apply(this,arguments)}function n6(n,t){return rL.apply(this,arguments)}function rL(){return rL=(0,Te.Z)(function*(n,t){const e=Bt(n);try{const i=yield function p8(n,t){const e=Bt(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const c=[];t.targetChanges.forEach((v,b)=>{const D=r.get(b);if(!D)return;c.push(e.Bs.removeMatchingKeys(s,v.removedDocuments,b).next(()=>e.Bs.addMatchingKeys(s,v.addedDocuments,b)));let P=D.withSequenceNumber(s.currentSequenceNumber);var R,F,V;null!==t.targetMismatches.get(b)?P=P.withResumeToken(Ns.EMPTY_BYTE_STRING,yn.min()).withLastLimboFreeSnapshotVersion(yn.min()):v.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(v.resumeToken,i)),r=r.insert(b,P),F=P,V=v,(0===(R=D).resumeToken.approximateByteSize()||F.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8||V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0)&&c.push(e.Bs.updateTargetData(s,P))});let h=hc(),p=ai();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(s,v))}),c.push(Rz(s,a,t.documentUpdates).next(v=>{h=v.nr,p=v.sr})),!i.isEqual(yn.min())){const v=e.Bs.getLastRemoteSnapshotVersion(s).next(b=>e.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(v)}return Re.waitFor(c).next(()=>a.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,h,p)).next(()=>h)}).then(s=>(e.Ji=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const a=e.yc.get(s);a&&(gn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.fc=!0:r.modifiedDocuments.size>0?gn(a.fc):r.removedDocuments.size>0&&(gn(a.fc),a.fc=!1))}),yield op(e,i,t)}catch(i){yield xg(i)}}),rL.apply(this,arguments)}function i6(n,t,e){const i=Bt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((s,a)=>{const c=a.view.Mu(t);c.snapshot&&r.push(c.snapshot)}),function(s,a){const c=Bt(s);c.onlineState=a;let h=!1;c.queries.forEach((p,v)=>{for(const b of v.listeners)b.Mu(a)&&(h=!0)}),h&&QN(c)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Y8(n,t,e){return oL.apply(this,arguments)}function oL(){return oL=(0,Te.Z)(function*(n,t,e){const i=Bt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),s=r&&r.key;if(s){let a=new Br(Ft.comparator);a=a.insert(s,eo.newNoDocument(s,yn.min()));const c=ai().add(s),h=new SE(yn.min(),new Map,new Br(Qn),a,c);yield n6(i,h),i.gc=i.gc.remove(s),i.yc.delete(t),hL(i)}else yield S0(i.localStore,t,!1).then(()=>N0(i,t,e)).catch(xg)}),oL.apply(this,arguments)}function K8(n,t){return sL.apply(this,arguments)}function sL(){return sL=(0,Te.Z)(function*(n,t){const e=Bt(n),i=t.batch.batchId;try{const r=yield function f8(n,t){const e=Bt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Zi.newChangeBuffer({trackRemovals:!0});return function(a,c,h,p){const v=h.batch,b=v.keys();let D=Re.resolve();return b.forEach(P=>{D=D.next(()=>p.getEntry(c,P)).next(R=>{const F=h.docVersions.get(P);gn(null!==F),R.version.compareTo(F)<0&&(v.applyToRemoteDocument(R,h),R.isValidDocument()&&(R.setReadTime(h.commitVersion),p.addEntry(R)))})}),D.next(()=>a.mutationQueue.removeMutationBatch(c,v))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=ai();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(c=c.add(a.batch.mutations[h].key));return c}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);uL(e,i,null),cL(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield op(e,r)}catch(r){yield xg(r)}}),sL.apply(this,arguments)}function Q8(n,t,e){return aL.apply(this,arguments)}function aL(){return aL=(0,Te.Z)(function*(n,t,e){const i=Bt(n);try{const r=yield function(s,a){const c=Bt(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return c.mutationQueue.lookupMutationBatch(h,a).next(v=>(gn(null!==v),p=v.keys(),c.mutationQueue.removeMutationBatch(h,v))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,p,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>c.localDocuments.getDocuments(h,p))})}(i.localStore,t);uL(i,t,e),cL(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield op(i,r)}catch(r){yield xg(r)}}),aL.apply(this,arguments)}function lL(){return lL=(0,Te.Z)(function*(n,t){const e=Bt(n);Vg(e.remoteStore)||_t("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=Bt(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=k0(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),lL.apply(this,arguments)}function cL(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function uL(n,t,e){const i=Bt(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function N0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||r6(n,i)})}function r6(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(HE(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),hL(n))}function dL(n,t,e){for(const i of e)i instanceof Xz?(n.Ic.addReference(i.key,t),X8(n,i)):i instanceof e6?(_t("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||r6(n,i.key)):en()}function X8(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(_t("SyncEngine","New document in limbo: "+e),n.mc.add(i),hL(n))}function hL(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new Ft(Oi.fromString(t)),i=n.Ac.next();n.yc.set(i,new q8(e)),n.gc=n.gc.insert(e,i),RS(n.remoteStore,new rp(Al(v0(e.path)),i,"TargetPurposeLimboResolution",Yc.ct))}}function op(n,t,e){return fL.apply(this,arguments)}function fL(){return fL=(0,Te.Z)(function*(n,t,e){const i=Bt(n),r=[],s=[],a=[];var c;i.wc.isEmpty()||(i.wc.forEach((c,h)=>{a.push(i.Rc(h,t,e).then(p=>{if((p||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,p?.fromCache?"not-current":"current"),p){r.push(p);const v=_N.Li(h.targetId,p);s.push(v)}}))}),yield Promise.all(a),i.dc.nu(r),yield(c=(0,Te.Z)(function*(h,p){const v=Bt(h);try{yield v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>Re.forEach(p,D=>Re.forEach(D.Fi,P=>v.persistence.referenceDelegate.addReference(b,D.targetId,P)).next(()=>Re.forEach(D.Bi,P=>v.persistence.referenceDelegate.removeReference(b,D.targetId,P)))))}catch(b){if(!Sg(b))throw b;_t("LocalStore","Failed to update sequence numbers: "+b)}for(const b of p){const D=b.targetId;if(!b.fromCache){const P=v.Ji.get(D),F=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);v.Ji=v.Ji.insert(D,F)}}}),function(h,p){return c.apply(this,arguments)})(i.localStore,s))}),fL.apply(this,arguments)}function eY(n,t){return pL.apply(this,arguments)}function pL(){return pL=(0,Te.Z)(function*(n,t){const e=Bt(n);if(!e.currentUser.isEqual(t)){_t("SyncEngine","User change. New user:",t.toKey());const i=yield kz(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(a=>{a.forEach(c=>{c.reject(new ut(Ze.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield op(e,i.er)}var r}),pL.apply(this,arguments)}function tY(n,t){const e=Bt(n),i=e.yc.get(t);if(i&&i.fc)return ai().add(i.key);{let r=ai();const s=e._c.get(t);if(!s)return r;for(const a of s){const c=e.wc.get(a);r=r.unionWith(c.view.nc)}return r}}function nY(n,t){return gL.apply(this,arguments)}function gL(){return gL=(0,Te.Z)(function*(n,t){const e=Bt(n),i=yield AS(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&dL(e,t.targetId,r.cc),r}),gL.apply(this,arguments)}function iY(n,t){return mL.apply(this,arguments)}function mL(){return mL=(0,Te.Z)(function*(n,t){const e=Bt(n);return Lz(e.localStore,t).then(i=>op(e,i))}),mL.apply(this,arguments)}function rY(n,t,e,i){return _L.apply(this,arguments)}function _L(){return _L=(0,Te.Z)(function*(n,t,e,i){const r=Bt(n),s=yield function(a,c){const h=Bt(a),p=Bt(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",v=>p.Sn(v,c).next(b=>b?h.localDocuments.getDocuments(v,b):Re.resolve(null)))}(r.localStore,t);var c;null!==s?("pending"===e?yield M0(r.remoteStore):"acknowledged"===e||"rejected"===e?(uL(r,t,i||null),cL(r,t),c=t,Bt(Bt(r.localStore).mutationQueue).Cn(c)):en(),yield op(r,s)):_t("SyncEngine","Cannot apply mutation batch with id: "+t)}),_L.apply(this,arguments)}function vL(){return vL=(0,Te.Z)(function*(n,t){const e=Bt(n);if(CL(e),EL(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield o6(e,i.toArray());e.vc=!0,yield qN(e.remoteStore,!0);for(const s of r)RS(e.remoteStore,s)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((s,a)=>{e.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(N0(e,a),S0(e.localStore,a,!0))),HE(e.remoteStore,a)}),yield r,yield o6(e,i),function(s){const a=Bt(s);a.yc.forEach((c,h)=>{HE(a.remoteStore,h)}),a.Ic.Ts(),a.yc=new Map,a.gc=new Br(Ft.comparator)}(e),e.vc=!1,yield qN(e.remoteStore,!1)}}),vL.apply(this,arguments)}function o6(n,t,e){return yL.apply(this,arguments)}function yL(){return yL=(0,Te.Z)(function*(n,t,e){const i=Bt(n),r=[],s=[];for(const a of t){let c;const h=i._c.get(a);if(h&&0!==h.length){c=yield x0(i.localStore,Al(h[0]));for(const p of h){const v=i.wc.get(p),b=yield nY(i,v);b.snapshot&&s.push(b.snapshot)}}else{const p=yield Nz(i.localStore,a);c=yield x0(i.localStore,p),yield eL(i,s6(p),a,!1,c.resumeToken)}r.push(c)}return i.dc.nu(s),r}),yL.apply(this,arguments)}function s6(n){return fZ(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function sY(n){const t=Bt(n);return Bt(Bt(t.localStore).persistence).$i()}function aY(n,t,e,i){return wL.apply(this,arguments)}function wL(){return wL=(0,Te.Z)(function*(n,t,e,i){const r=Bt(n);if(r.vc)return void _t("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const a=yield Lz(r.localStore,mZ(s[0])),c=SE.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Ns.EMPTY_BYTE_STRING);yield op(r,a,c);break}case"rejected":yield S0(r.localStore,t,!0),N0(r,t,i);break;default:en()}}),wL.apply(this,arguments)}function lY(n,t,e){return bL.apply(this,arguments)}function bL(){return bL=(0,Te.Z)(function*(n,t,e){const i=CL(n);if(i.vc){for(const r of t){if(i._c.has(r)){_t("SyncEngine","Adding an already active target "+r);continue}const s=yield Nz(i.localStore,r),a=yield x0(i.localStore,s);yield eL(i,s6(s),a.targetId,!1,a.resumeToken),RS(i.remoteStore,a)}for(const r of e)i._c.has(r)&&(yield S0(i.localStore,r,!1).then(()=>{HE(i.remoteStore,r),N0(i,r)}).catch(xg))}}),bL.apply(this,arguments)}function CL(n){const t=Bt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=n6.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tY.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Y8.bind(null,t),t.dc.nu=B8.bind(null,t.eventManager),t.dc.Pc=V8.bind(null,t.eventManager),t}function EL(n){const t=Bt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=K8.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Q8.bind(null,t),t}class qE{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Te.Z)(function*(){e.serializer=ZE(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return Pz(this.persistence,new Mz,t.initialUser,this.serializer)}createPersistence(t){return new fN(IS.zs,this.serializer)}createSharedClientState(t){return new Vz}terminate(){var t=this;return(0,Te.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class TL extends qE{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Te.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield EL(i.Vc.syncEngine),yield M0(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return Pz(this.persistence,new Mz,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new bz(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new N7(e,this.persistence);return new R7(t.asyncQueue,i)}createPersistence(t){const e=mN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?$a.withCacheSize(this.cacheSizeBytes):$a.DEFAULT;return new gN(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,zz(),OS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new Vz}}class a6 extends TL{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Te.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof DN&&(i.sharedClientState.syncEngine={jr:rY.bind(null,r),zr:aY.bind(null,r),Wr:lY.bind(null,r),$i:sY.bind(null,r),Qr:iY.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,Te.Z)(function*(a){yield function oY(n,t){return vL.apply(this,arguments)}(i.Vc.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start():a||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(a&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():a||i.indexBackfillerScheduler.stop())});return function(a){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=zz();if(!DN.D(e))throw new ut(Ze.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=mN(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new DN(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class L0{initialize(t,e){var i=this;return(0,Te.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>i6(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=eY.bind(null,i.syncEngine),yield qN(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new U8}createDatastore(t){const e=ZE(t.databaseInfo.databaseId),i=new b8(t.databaseInfo);return new T8(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=c=>i6(this.syncEngine,c,0),a=Zz.D()?new Zz:new v8,new x8(e,i,r,s,a);var e,i,r,s,a}createSyncEngine(t,e){return function(i,r,s,a,c,h,p){const v=new j8(i,r,s,a,c,h);return p&&(v.vc=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Te.Z)(function*(e){const i=Bt(e);_t("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield A0(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function l6(n,t=10240){let e=0;return{read:()=>(0,Te.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class LS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):ns("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class dY{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new Rs,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,Te.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,Te.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,Te.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const s=yield t.$c(r);return new Z8(JSON.parse(s),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,Te.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,Te.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,Te.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class hY{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Te.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ut(Ze.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Te.Z)(function*(s,a){const c=Bt(s),h=PE(c.serializer)+"/documents",p={documents:a.map(P=>ME(c.serializer,P))},v=yield c.vo("BatchGetDocuments",h,p,a.length),b=new Map;v.forEach(P=>{const R=function O9(n,t){return"found"in t?function(e,i){gn(!!i.found);const r=qh(e,i.found.name),s=is(i.found.updateTime),a=i.found.createTime?is(i.found.createTime):yn.min(),c=new Da({mapValue:{fields:i.found.fields}});return eo.newFoundDocument(r,s,a,c)}(n,t):"missing"in t?function(e,i){gn(!!i.missing),gn(!!i.readTime);const r=qh(e,i.missing),s=is(i.readTime);return eo.newNoDocument(r,s)}(n,t):en()}(c.serializer,P);b.set(R.key.toString(),R)});const D=[];return a.forEach(P=>{const R=b.get(P.toString());gn(!!R),D.push(R)}),D}),function(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new C0(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Te.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=Ft.fromPath(r);t.mutations.push(new GR(s,t.precondition(s)))}),yield(i=(0,Te.Z)(function*(r,s){const a=Bt(r),c=PE(a.serializer)+"/documents",h={writes:s.map(p=>kE(a.serializer,p))};yield a.Io("Commit",c,h)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw en();e=yn.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new ut(Ze.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(yn.min())?yo.exists(!1):yo.updateTime(e):yo.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(yn.min()))throw new ut(Ze.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yo.updateTime(e)}return yo.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class fY{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new xN(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,Te.Z)(function*(){const e=new hY(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Uc(s)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!pE(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!RZ(e)}return!1}}class pY{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ea.UNAUTHENTICATED,this.clientId=PV.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,Te.Z)(function*(c){_t("FirestoreClient","Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(_t("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var t=this;return(0,Te.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ut(Ze.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=k0(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function FS(n,t){return DL.apply(this,arguments)}function DL(){return DL=(0,Te.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),_t("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Te.Z)(function*(s){i.isEqual(s)||(yield kz(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),DL.apply(this,arguments)}function IL(n,t){return xL.apply(this,arguments)}function xL(){return xL=(0,Te.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield SL(n);_t("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>Yz(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Yz(t.remoteStore,s)),n._onlineComponents=t}),xL.apply(this,arguments)}function c6(n){return"FirebaseError"===n.name?n.code===Ze.FAILED_PRECONDITION||n.code===Ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function SL(n){return AL.apply(this,arguments)}function AL(){return AL=(0,Te.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_t("FirestoreClient","Using user provided OfflineComponentProvider");try{yield FS(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!c6(e))throw e;Fu("Error using user provided cache. Falling back to memory cache: "+e),yield FS(n,new qE)}}else _t("FirestoreClient","Using default OfflineComponentProvider"),yield FS(n,new qE);return n._offlineComponents}),AL.apply(this,arguments)}function US(n){return ML.apply(this,arguments)}function ML(){return ML=(0,Te.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_t("FirestoreClient","Using user provided OnlineComponentProvider"),yield IL(n,n._uninitializedComponentsProvider._online)):(_t("FirestoreClient","Using default OnlineComponentProvider"),yield IL(n,new L0))),n._onlineComponents}),ML.apply(this,arguments)}function u6(n){return SL(n).then(t=>t.persistence)}function BS(n){return SL(n).then(t=>t.localStore)}function d6(n){return US(n).then(t=>t.remoteStore)}function PL(n){return US(n).then(t=>t.syncEngine)}function h6(n){return US(n).then(t=>t.datastore)}function F0(n){return kL.apply(this,arguments)}function kL(){return kL=(0,Te.Z)(function*(n){const t=yield US(n),e=t.eventManager;return e.onListen=W8.bind(null,t.syncEngine),e.onUnlisten=$8.bind(null,t.syncEngine),e}),kL.apply(this,arguments)}function f6(n,t,e={}){const i=new Rs;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(r,s,a,c,h){const p=new LS({next:b=>{s.enqueueAndForget(()=>YN(r,v));const D=b.docs.has(a);!D&&b.fromCache?h.reject(new ut(Ze.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&c&&"server"===c.source?h.reject(new ut(Ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(b)},error:b=>h.reject(b)}),v=new JN(v0(a.path),p,{includeMetadataChanges:!0,Ku:!0});return $N(r,v)}(yield F0(n),n.asyncQueue,t,e,i)})),i.promise}function p6(n,t,e={}){const i=new Rs;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(r,s,a,c,h){const p=new LS({next:b=>{s.enqueueAndForget(()=>YN(r,v)),b.fromCache&&"server"===c.source?h.reject(new ut(Ze.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(b)},error:b=>h.reject(b)}),v=new JN(a,p,{includeMetadataChanges:!0,Ku:!0});return $N(r,v)}(yield F0(n),n.asyncQueue,t,e,i)})),i.promise}function g6(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const m6=new Map;function OL(n,t,e){if(!e)throw new ut(Ze.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function _6(n,t,e,i){if(!0===t&&!0===i)throw new ut(Ze.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function v6(n){if(!Ft.isDocumentKey(n))throw new ut(Ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function y6(n){if(Ft.isDocumentKey(n))throw new ut(Ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function VS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":en()}function Di(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ut(Ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=VS(n);throw new ut(Ze.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function w6(n,t){if(t<=0)throw new ut(Ze.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class b6{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new ut(Ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ut(Ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=g6(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new ut(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ut(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ut(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jE{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b6({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ut(Ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ut(Ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b6(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new C7;switch(e.type){case"firstParty":return new I7(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ut(Ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=m6.get(t);e&&(_t("ComponentProvider","Removing Datastore"),m6.delete(t),e.terminate())}(this),Promise.resolve()}}function C6(n,t,e,i={}){var r;const s=(n=Di(n,jE))._getSettings(),a=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&Fu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),i.mockUserToken){let c,h;if("string"==typeof i.mockUserToken)c=i.mockUserToken,h=ea.MOCK_USER;else{c=(0,K.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new ut(Ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ea(p)}n._authCredentials=new E7(new AV(c,h))}}class to{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jh(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new to(this.firestore,t,this._key)}}class Ia{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ia(this.firestore,t,this._query)}}class jh extends Ia{constructor(t,e,i){super(t,e,v0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new to(this.firestore,null,new Ft(t))}withConverter(t){return new jh(this.firestore,t,this._path)}}function RL(n,t,...e){if(n=(0,K.m9)(n),OL("collection","path",t),n instanceof jE){const i=Oi.fromString(t,...e);return y6(i),new jh(n,null,i)}{if(!(n instanceof to||n instanceof jh))throw new ut(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Oi.fromString(t,...e));return y6(i),new jh(n.firestore,null,i)}}function WE(n,t,...e){if(n=(0,K.m9)(n),1===arguments.length&&(t=PV.A()),OL("doc","path",t),n instanceof jE){const i=Oi.fromString(t,...e);return v6(i),new to(n,null,new Ft(i))}{if(!(n instanceof to||n instanceof jh))throw new ut(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Oi.fromString(t,...e));return v6(i),new to(n.firestore,n instanceof jh?n.converter:null,new Ft(i))}}function E6(n,t){return n=(0,K.m9)(n),t=(0,K.m9)(t),(n instanceof to||n instanceof jh)&&(t instanceof to||t instanceof jh)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function NL(n,t){return n=(0,K.m9)(n),t=(0,K.m9)(t),n instanceof Ia&&t instanceof Ia&&n.firestore===t.firestore&&bE(n._query,t._query)&&n.converter===t.converter}class TY{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new xN(this,"async_queue_retry"),this.Xc=()=>{const e=OS();e&&_t("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=OS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=OS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new Rs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,Te.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!Sg(e))throw e;_t("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,ns("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=WN.createAndSchedule(this,t,e,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&en()}verifyOperationInProgress(){}sa(){var t=this;return(0,Te.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function LL(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class DY{constructor(){this._progressObserver={},this._taskCompletionResolver=new Rs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class no extends jE{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new TY,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||D6(this),this._firestoreClient.terminate()}}function T6(n,t){const e="object"==typeof n?n:(0,Vo.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,Vo._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,K.P0)("firestore");s&&C6(r,...s)}return r}function rs(n){return n._firestoreClient||D6(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function D6(n){var t,e,i;const r=n._freezeSettings(),s=(c=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new n9(n._databaseId,c,n._persistenceKey,(p=r).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,g6(p.experimentalLongPollingOptions),p.useFetchStreams));var c,p;n._firestoreClient=new pY(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function I6(n,t,e){const i=new Rs;return n.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield FS(n,e),yield IL(n,t),i.resolve()}catch(r){const s=r;if(!c6(s))throw s;Fu("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function x6(n){if(n._initialized||n._terminated)throw new ut(Ze.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $E{constructor(t="count",e){this._aggregateType=t,this._internalFieldPath=e,this.type="AggregateField"}}class NY{constructor(t,e,i){this._userDataWriter=e,this._data=i,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Wh{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wh(Ns.fromBase64String(t))}catch(e){throw new ut(Ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Wh(Ns.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class sp{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ut(Ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zo(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class W_{constructor(t){this._methodName=t}}class ZS{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ut(Ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ut(Ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Qn(this._lat,t._lat)||Qn(this._long,t._long)}}const LY=/^__.*__$/;class FY{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new ip(t,this.data,this.fieldMask,e,this.fieldTransforms):new b0(t,this.data,e,this.fieldTransforms)}}class S6{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new ip(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function A6(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw en()}}class zS{constructor(t,e,i,r,s,a){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new zS(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return jS(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(A6(this.ca)&&LY.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class UY{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||ZE(t)}ya(t,e,i,r=!1){return new zS({ca:t,methodName:e,ga:i,path:zo.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $_(n){const t=n._freezeSettings(),e=ZE(n._databaseId);return new UY(n._databaseId,!!t.ignoreUndefinedProperties,e)}function HS(n,t,e,i,r,s={}){const a=n.ya(s.merge||s.mergeFields?2:0,t,e,r);VL("Data must be an object, but it was:",a,i);const c=k6(i,a);let h,p;if(s.merge)h=new dc(a.fieldMask),p=a.fieldTransforms;else if(s.mergeFields){const v=[];for(const b of s.mergeFields){const D=YE(t,b,e);if(!a.contains(D))throw new ut(Ze.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);R6(v,D)||v.push(D)}h=new dc(v),p=a.fieldTransforms.filter(b=>h.covers(b.field))}else h=null,p=a.fieldTransforms;return new FY(new Da(c),h,p)}class GE extends W_{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof GE}}function M6(n,t,e){return new zS({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class FL extends W_{_toFieldTransform(t){return new DE(t.path,new y0)}isEqual(t){return t instanceof FL}}class BY extends W_{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=M6(this,t,!0),i=this.pa.map(s=>G_(s,e)),r=new F_(i);return new DE(t.path,r)}isEqual(t){return this===t}}class VY extends W_{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=M6(this,t,!0),i=this.pa.map(s=>G_(s,e)),r=new U_(i);return new DE(t.path,r)}isEqual(t){return this===t}}class ZY extends W_{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new w0(t.serializer,EZ(t.serializer,this.Ia));return new DE(t.path,e)}isEqual(t){return this===t}}function UL(n,t,e,i){const r=n.ya(1,t,e);VL("Data must be an object, but it was:",r,i);const s=[],a=Da.empty();Ag(i,(h,p)=>{const v=qS(t,h,e);p=(0,K.m9)(p);const b=r.da(v);if(p instanceof GE)s.push(v);else{const D=G_(p,b);null!=D&&(s.push(v),a.set(v,D))}});const c=new dc(s);return new S6(a,c,r.fieldTransforms)}function BL(n,t,e,i,r,s){const a=n.ya(1,t,e),c=[YE(t,i,e)],h=[r];if(s.length%2!=0)throw new ut(Ze.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<s.length;D+=2)c.push(YE(t,s[D])),h.push(s[D+1]);const p=[],v=Da.empty();for(let D=c.length-1;D>=0;--D)if(!R6(p,c[D])){const P=c[D];let R=h[D];R=(0,K.m9)(R);const F=a.da(P);if(R instanceof GE)p.push(P);else{const V=G_(R,F);null!=V&&(p.push(P),v.set(P,V))}}const b=new dc(p);return new S6(v,b,a.fieldTransforms)}function P6(n,t,e,i=!1){return G_(e,n.ya(i?4:3,t))}function G_(n,t){if(O6(n=(0,K.m9)(n)))return VL("Unsupported field value:",t,n),k6(n,t);if(n instanceof W_)return function(e,i){if(!A6(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const a of e){let c=G_(a,i.wa(s));null==c&&(c={nullValue:"NULL_VALUE"}),r.push(c),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,K.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return EZ(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=vo.fromDate(e);return{timestampValue:E0(i.serializer,r)}}if(e instanceof vo){const r=new vo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:E0(i.serializer,r)}}if(e instanceof ZS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Wh)return{bytesValue:qZ(i.serializer,e._byteString)};if(e instanceof to){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:tN(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${VS(e)}`)}(n,t)}function k6(n,t){const e={};return WV(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ag(n,(i,r)=>{const s=G_(r,t.ha(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function O6(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vo||n instanceof ZS||n instanceof Wh||n instanceof to||n instanceof W_)}function VL(n,t,e){if(!O6(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=VS(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function YE(n,t,e){if((t=(0,K.m9)(t))instanceof sp)return t._internalPath;if("string"==typeof t)return qS(n,t);throw jS("Field path arguments must be of type string or ",n,!1,void 0,e)}const zY=new RegExp("[~\\*/\\[\\]]");function qS(n,t,e){if(t.search(zY)>=0)throw jS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new sp(...t.split("."))._internalPath}catch{throw jS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function jS(n,t,e,i,r){const s=i&&!i.isEmpty(),a=void 0!==r;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||a)&&(h+=" (found",s&&(h+=` in field ${i}`),a&&(h+=` in document ${r}`),h+=")"),new ut(Ze.INVALID_ARGUMENT,c+n+h)}function R6(n,t){return n.some(e=>e.isEqual(t))}class KE{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new to(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new HY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(WS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class HY extends KE{data(){return super.data()}}function WS(n,t){return"string"==typeof t?qS(n,t):t instanceof sp?t._internalPath:t._delegate._internalPath}function N6(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ut(Ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZL{}class QE extends ZL{}function Nd(n,t,...e){let i=[];t instanceof ZL&&i.push(t),i=i.concat(e),function(r){const s=r.filter(c=>c instanceof U0).length,a=r.filter(c=>c instanceof JE).length;if(s>1||s>0&&a>0)throw new ut(Ze.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class JE extends QE{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new JE(t,e,i)}_apply(t){const e=this._parse(t);return V6(t._query,e),new Ia(t.firestore,t.converter,jR(t._query,e))}_parse(t){const e=$_(t.firestore);return function(r,s,a,c,h,p,v){let b;if(h.isKeyField()){if("array-contains"===p||"array-contains-any"===p)throw new ut(Ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if("in"===p||"not-in"===p){B6(v,p);const D=[];for(const P of v)D.push(U6(c,r,P));b={arrayValue:{values:D}}}else b=U6(c,r,v)}else"in"!==p&&"not-in"!==p&&"array-contains-any"!==p||B6(v,p),b=P6(a,"where",v,"in"===p||"not-in"===p);return Ti.create(h,p,b)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}function zL(n,t,e){const i=t,r=WS("where",n);return JE._create(r,i,e)}class U0 extends ZL{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new U0(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:pr.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let s=i;const a=r.getFlattenedFilters();for(const c of a)V6(s,c),s=jR(s,c)}(t._query,e),new Ia(t.firestore,t.converter,jR(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class HL extends QE{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new HL(t,e)}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new ut(Ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ut(Ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new m0(r,s);return function(c,h){if(null===HR(c)){const p=dS(c);null!==p&&Z6(0,p,h.field)}}(i,a),a}(t._query,this._field,this._direction);return new Ia(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new tp(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}function L6(n,t="asc"){const e=t,i=WS("orderBy",n);return HL._create(i,e)}class $S extends QE{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new $S(t,e,i)}_apply(t){return new Ia(t.firestore,t.converter,hS(t._query,this._limit,this._limitType))}}class GS extends QE{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new GS(t,e,i)}_apply(t){const e=F6(t,this.type,this._docOrFields,this._inclusive);return new Ia(t.firestore,t.converter,(r=e,new tp((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class YS extends QE{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new YS(t,e,i)}_apply(t){const e=F6(t,this.type,this._docOrFields,this._inclusive);return new Ia(t.firestore,t.converter,(r=e,new tp((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function F6(n,t,e,i){if(e[0]=(0,K.m9)(e[0]),e[0]instanceof KE)return function(r,s,a,c,h){if(!c)throw new ut(Ze.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const p=[];for(const v of L_(r))if(v.field.isKeyField())p.push(R_(s,c.key));else{const b=c.data.field(v.field);if(rS(b))throw new ut(Ze.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===b){const D=v.field.canonicalString();throw new ut(Ze.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${D}' (used as the orderBy) does not exist.`)}p.push(b)}return new Ng(p,h)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=$_(n.firestore);return function(s,a,c,h,p,v){const b=s.explicitOrderBy;if(p.length>b.length)throw new ut(Ze.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const D=[];for(let P=0;P<p.length;P++){const R=p[P];if(b[P].field.isKeyField()){if("string"!=typeof R)throw new ut(Ze.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof R}`);if(!qR(s)&&-1!==R.indexOf("/"))throw new ut(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${R}' contains a slash.`);const F=s.path.child(Oi.fromString(R));if(!Ft.isDocumentKey(F))throw new ut(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${F}' is not because it contains an odd number of segments.`);const V=new Ft(F);D.push(R_(a,V))}else{const F=P6(c,h,R);D.push(F)}}return new Ng(D,v)}(n._query,n.firestore._databaseId,r,t,e,i)}}function U6(n,t,e){if("string"==typeof(e=(0,K.m9)(e))){if(""===e)throw new ut(Ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qR(t)&&-1!==e.indexOf("/"))throw new ut(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Oi.fromString(e));if(!Ft.isDocumentKey(i))throw new ut(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return R_(n,new Ft(i))}if(e instanceof to)return R_(n,e._key);throw new ut(Ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${VS(e)}.`)}function B6(n,t){if(!Array.isArray(n)||0===n.length)throw new ut(Ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function V6(n,t){if(t.isInequality()){const i=dS(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new ut(Ze.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=HR(n);null!==s&&Z6(0,r,s)}const e=function(i,r){for(const s of i)for(const a of s.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new ut(Ze.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function Z6(n,t,e){if(!e.isEqual(t))throw new ut(Ze.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class qL{convertValue(t,e="none"){switch(Og(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ho(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ep(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw en()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ag(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new ZS(Ho(t.latitude),Ho(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=oS(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(mE(t));default:return null}}convertTimestamp(t){const e=Mg(t);return new vo(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Oi.fromString(t);gn(ez(i));const r=new Pg(i.get(1),i.get(3)),s=new Ft(i.popFirst(5));return r.isEqual(e)||ns(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function KS(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class KY extends qL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wh(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new to(this.firestore,null,e)}}class Y_{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ap extends KE{constructor(t,e,i,r,s,a){super(t,e,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new XE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(WS("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class XE extends ap{data(t={}){return super.data(t)}}class zg{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Y_(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new XE(this._firestore,this._userDataWriter,i.key,i,new Y_(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ut(Ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new XE(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Y_(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const c=new XE(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Y_(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return 0!==a.type&&(h=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),p=s.indexOf(a.doc.key)),{type:JY(a.type),doc:c,oldIndex:h,newIndex:p}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function JY(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return en()}}function H6(n,t){return n instanceof ap&&t instanceof ap?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof zg&&t instanceof zg&&n._firestore===t._firestore&&NL(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Hg extends qL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wh(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new to(this.firestore,null,e)}}function q6(n){n=Di(n,Ia);const t=Di(n.firestore,no),e=rs(t),i=new Hg(t);return N6(n._query),p6(e,n._query).then(r=>new zg(t,i,n,r))}function j6(n,t,e){n=Di(n,to);const i=Di(n.firestore,no),r=KS(n.converter,t,e);return B0(i,[HS($_(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,yo.none())])}function jL(n,t,e,...i){n=Di(n,to);const r=Di(n.firestore,no),s=$_(r);let a;return a="string"==typeof(t=(0,K.m9)(t))||t instanceof sp?BL(s,"updateDoc",n._key,t,e,i):UL(s,"updateDoc",n._key,t),B0(r,[a.toMutation(n._key,yo.exists(!0))])}function W6(n){return B0(Di(n.firestore,no),[new C0(n._key,yo.none())])}function $6(n,t){const e=Di(n.firestore,no),i=WE(n),r=KS(n.converter,t);return B0(e,[HS($_(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,yo.exists(!1))]).then(()=>i)}function QS(n,...t){var e,i,r;n=(0,K.m9)(n);let s={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||LL(t[a])||(s=t[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges};if(LL(t[a])){const b=t[a];t[a]=null===(e=b.next)||void 0===e?void 0:e.bind(b),t[a+1]=null===(i=b.error)||void 0===i?void 0:i.bind(b),t[a+2]=null===(r=b.complete)||void 0===r?void 0:r.bind(b)}let h,p,v;if(n instanceof to)p=Di(n.firestore,no),v=v0(n._key.path),h={next:b=>{t[a]&&t[a](WL(p,n,b))},error:t[a+1],complete:t[a+2]};else{const b=Di(n,Ia);p=Di(b.firestore,no),v=b._query;const D=new Hg(p);h={next:P=>{t[a]&&t[a](new zg(p,D,b,P))},error:t[a+1],complete:t[a+2]},N6(n._query)}return function(b,D,P,R){const F=new LS(R),V=new JN(D,F,P);return b.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return $N(yield F0(b),V)})),()=>{F.Dc(),b.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return YN(yield F0(b),V)}))}}(rs(p),v,c,h)}function B0(n,t){return function(e,i){const r=new Rs;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function G8(n,t,e){return iL.apply(this,arguments)}(yield PL(e),i,r)})),r.promise}(rs(n),t)}function WL(n,t,e){const i=e.docs.get(t._key),r=new Hg(n);return new ap(n,r,t._key,i,new Y_(e.hasPendingWrites,e.fromCache),t.converter)}const pK={maxAttempts:5};class G6{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=$_(t)}set(t,e,i){this._verifyNotCommitted();const r=qg(t,this._firestore),s=KS(r.converter,e,i),a=HS(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,yo.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=qg(t,this._firestore);let a;return a="string"==typeof(e=(0,K.m9)(e))||e instanceof sp?BL(this._dataReader,"WriteBatch.update",s._key,e,i,r):UL(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(a.toMutation(s._key,yo.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=qg(t,this._firestore);return this._mutations=this._mutations.concat(new C0(e._key,yo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ut(Ze.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qg(n,t){if((n=(0,K.m9)(n)).firestore!==t)throw new ut(Ze.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class gK extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=$_(t)}get(t){const e=qg(t,this._firestore),i=new KY(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return en();const s=r[0];if(s.isFoundDocument())return new KE(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new KE(this._firestore,i,e._key,null,e.converter);throw en()})}set(t,e,i){const r=qg(t,this._firestore),s=KS(r.converter,e,i),a=HS(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(t,e,i,...r){const s=qg(t,this._firestore);let a;return a="string"==typeof(e=(0,K.m9)(e))||e instanceof sp?BL(this._dataReader,"Transaction.update",s._key,e,i,r):UL(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,a),this}delete(t){const e=qg(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=qg(t,this._firestore),i=new Hg(this._firestore);return super.get(t).then(r=>new ap(this._firestore,i,e._key,r._document,new Y_(!1,!1),e.converter))}}!function(n,t=!0){h0=Vo.SDK_VERSION,(0,Vo._registerComponent)(new Il.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),a=new no(new T7(e.getProvider("auth-internal")),new x7(e.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ut(Ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pg(c.options.projectId,h)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),(0,Vo.registerVersion)(SV,"3.13.0",n),(0,Vo.registerVersion)(SV,"3.13.0","esm2017")}();class JS{constructor(t){return t}}const K6="firestore",$L=new o.OlP("angularfire2.firestore-instances");function TK(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new JS(i)}}const DK={provide:class CK{constructor(){return(0,Wn.vb)(K6)}},deps:[[new o.FiY,$L]]},IK={provide:JS,useFactory:function EK(n,t){const e=(0,Wn.JM)(K6,n,t);return e&&new JS(e)},deps:[[new o.FiY,$L],Lf]};let xK=(()=>{class n{constructor(){(0,Dd.KN)("angularfire",Wn.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[IK,DK]}),n})();function SK(n,...t){return{ngModule:xK,providers:[{provide:$L,useFactory:TK(n),multi:!0,deps:[o.R0b,o.zs3,Wn.HU,xb,[new o.FiY,sx],[new o.FiY,qf],...t]}]}}const V0=(0,Wn.u3)(RL,!0),GL=(0,Wn.u3)(WE,!0),AK=(0,Wn.u3)(T6,!0);z(9568);const Q6="@firebase/database";let YL="";function X6(n){YL=n}class kK{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,K.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,K.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class OK{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,K.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const eH=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new kK(t)}}catch{}return new OK},K_=eH("localStorage"),KL=eH("sessionStorage"),Z0=new cc.Yd("@firebase/database"),tH=function(){let n=1;return function(){return n++}}(),nH=function(n){const t=(0,K.dS)(n),e=new K.gQ;e.update(t);const i=e.digest();return K.US.encodeByteArray(i)},eT=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=eT.apply(null,i):t+="object"==typeof i?(0,K.Wl)(i):i,t+=" "}return t};let Q_=null,iH=!0;const rH=function(n,t){(0,K.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Z0.logLevel=cc.in.VERBOSE,Q_=Z0.log.bind(Z0),t&&KL.set("logging_enabled",!0)):"function"==typeof n?Q_=n:(Q_=null,KL.remove("logging_enabled"))},ia=function(...n){if(!0===iH&&(iH=!1,null===Q_&&!0===KL.get("logging_enabled")&&rH(!0)),Q_){const t=eT.apply(null,n);Q_(t)}},tT=function(n){return function(...t){ia(n,...t)}},QL=function(...n){const t="FIREBASE INTERNAL ERROR: "+eT(...n);Z0.error(t)},$h=function(...n){const t=`FIREBASE FATAL ERROR: ${eT(...n)}`;throw Z0.error(t),new Error(t)},Ya=function(...n){const t="FIREBASE WARNING: "+eT(...n);Z0.warn(t)},XS=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},jg="[MIN_NAME]",lp="[MAX_NAME]",J_=function(n,t){if(n===t)return 0;if(n===jg||t===lp)return-1;if(t===jg||n===lp)return 1;{const e=aH(n),i=aH(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},LK=function(n,t){return n===t?0:n<t?-1:1},nT=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,K.Wl)(t))},JL=function(n){if("object"!=typeof n||null===n)return(0,K.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,K.Wl)(t[i]),e+=":",e+=JL(n[t[i]]);return e+="}",e},oH=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function ra(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const sH=function(n){(0,K.hu)(!XS(n),"Invalid JSON number");const i=1023;let r,s,a,c,h;0===n?(s=0,a=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=c+i,a=Math.round(n*Math.pow(2,52-c)-Math.pow(2,52))):(s=0,a=Math.round(n/Math.pow(2,-1074))));const p=[];for(h=52;h;h-=1)p.push(a%2?1:0),a=Math.floor(a/2);for(h=11;h;h-=1)p.push(s%2?1:0),s=Math.floor(s/2);p.push(r?1:0),p.reverse();const v=p.join("");let b="";for(h=0;h<64;h+=8){let D=parseInt(v.substr(h,8),2).toString(16);1===D.length&&(D="0"+D),b+=D}return b.toLowerCase()},VK=new RegExp("^-?(0*)\\d{1,10}$"),aH=function(n){if(VK.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},z0=function(n){try{n()}catch(t){setTimeout(()=>{throw Ya("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},HK=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},iT=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class qK{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ya(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class jK{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ia("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ya(t)}}let rT=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const hH=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gH="websocket",mH="long_polling";class e2{constructor(t,e,i,r,s=!1,a="",c=!1,h=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=h,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=K_.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&K_.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function _H(n,t,e){let i;if((0,K.hu)("string"==typeof t,"typeof type must == string"),(0,K.hu)("object"==typeof e,"typeof params must == object"),t===gH)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==mH)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function WK(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return ra(e,(s,a)=>{r.push(s+"="+a)}),i+r.join("&")}class $K{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,K.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,K.p$)(this.counters_)}}const t2={},n2={};function r2(n){const t=n.toString();return t2[t]||(t2[t]=new $K),t2[t]}class YK{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&z0(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Wg{constructor(t,e,i,r,s,a,c){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tT(t),this.stats_=r2(e),this.urlFn=h=>(this.appCheckToken&&(h.ac=this.appCheckToken),_H(e,mH,h))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new YK(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,K.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new o2((...s)=>{const[a,c,h,p,v]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=c,this.password=h;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[a,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,c)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&hH.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wg.forceAllow_=!0}static forceDisallow(){Wg.forceDisallow_=!0}static isAvailable(){return!((0,K.Yr)()||!Wg.forceAllow_&&(Wg.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,K.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,K.h$)(e),r=oH(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,K.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,K.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class o2{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,K.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=tH(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=o2.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){ia("frame writing exception"),c.stack&&ia(c.stack),ia(c)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ia("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const a=this.pendingSegs.shift();i=i+"&seg"+r+"="+a.seg+"&ts"+r+"="+a.ts+"&d"+r+"="+a.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,K.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ia("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let tA=null;typeof MozWebSocket<"u"?tA=MozWebSocket:typeof WebSocket<"u"&&(tA=WebSocket);let H0=(()=>{class n{constructor(e,i,r,s,a,c,h){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tT(this.connId),this.stats_=r2(i),this.connURL=n.connectionURL_(i,c,h,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,a){const c={v:"5"};return!(0,K.Yr)()&&typeof location<"u"&&location.hostname&&hH.test(location.hostname)&&(c.r="f"),i&&(c.s=i),r&&(c.ls=r),s&&(c.ac=s),a&&(c.p=a),_H(e,gH,c)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,K_.set("previous_websocket_failure",!0);try{let r;if((0,K.Yr)()){r={headers:{"User-Agent":`Firebase/5/${YL}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const a=process.env,c=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;c&&(r.proxy={origin:c})}this.mySock=new tA(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==tA&&!n.forceDisallow_}static previouslyFailed(){return K_.isInMemoryStorage||!0===K_.get("previous_websocket_failure")}markConnectionHealthy(){K_.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,K.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,K.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,K.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=oH(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),TH=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Wg,H0]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=H0&&H0.isAvailable();let r=i&&!H0.previouslyFailed();if(e.webSocketOnly&&(i||Ya("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[H0];else{const s=this.transports_=[];for(const a of n.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class PH{constructor(t,e,i,r,s,a,c,h,p,v){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=h,this.onKill_=p,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tT("c:"+this.id+":"),this.transportManager_=new TH(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=iT(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=nT("t",t),i=nT("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=nT("t",t),i=nT("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=nT("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?QL("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):QL("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Ya("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),iT(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):iT(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(K_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class kH{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class OH{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,K.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,K.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class nA extends OH{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,K.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new nA}getInitialEvent(t){return(0,K.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const RH=32,NH=768;class sr{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Wi(){return new sr("")}function pi(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function $g(n){return n.pieces_.length-n.pieceNum_}function Mr(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new sr(n.pieces_,t)}function a2(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function oT(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function LH(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new sr(t,0)}function wo(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof sr)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new sr(e,0)}function gi(n){return n.pieceNum_>=n.pieces_.length}function Ml(n,t){const e=pi(n),i=pi(t);if(null===e)return t;if(e===i)return Ml(Mr(n),Mr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function _Q(n,t){const e=oT(n,0),i=oT(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=J_(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function l2(n,t){if($g(n)!==$g(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Uu(n,t){let e=n.pieceNum_,i=t.pieceNum_;if($g(n)>$g(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class vQ{constructor(t,e){this.errorPrefix_=e,this.parts_=oT(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,K.ug)(this.parts_[i]);FH(this)}}function FH(n){if(n.byteLength_>NH)throw new Error(n.errorPrefix_+"has a key path longer than "+NH+" bytes ("+n.byteLength_+").");if(n.parts_.length>RH)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+RH+") or object contains a cycle "+X_(n))}function X_(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class c2 extends OH{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new c2}getInitialEvent(t){return(0,K.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const sT=1e3;let rA,ev=(()=>{class n extends kH{constructor(e,i,r,s,a,c,h,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=n.nextPersistentConnectionId_++,this.log_=tT("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=sT,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p&&!(0,K.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");c2.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&nA.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,a={r:s,a:e,b:i};this.log_((0,K.Wl)(a)),(0,K.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new K.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;"ok"===c.s?i.resolve(h):i.reject(h)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const a=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),(0,K.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,K.hu)(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");const h={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(c).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const a={p:r};e.tag&&(a.q=i._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,h=>{const p=h.d,v=h.s;n.warnOnListenWarnings_(p,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",h),"ok"!==v&&this.removeListen_(r,s),e.onComplete&&e.onComplete(v,p))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,K.r3)(e,"w")){const r=(0,K.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();Ya(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,K.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,K.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const a=s.s,c=s.d||"error";this.authToken_===e&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,K.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const a={p:e};s&&(a.q=r,a.t=s),this.sendRequest("n",a)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const a={p:i,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,a){this.initConnection_();const c={p:i,d:r};void 0!==a&&(c.h=a),this.outstandingPuts_.push({action:e,request:c,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,K.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):QL("Unrecognized action received from server: "+(0,K.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,K.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sT,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=sT,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=sT),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Te.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),a=e.id+":"+n.nextConnectionId_++,c=e.lastSessionId;let h=!1,p=null;const v=function(){p?p.close():(h=!0,s())};e.realtime_={close:v,sendRequest:function(P){(0,K.hu)(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(P)}};const D=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[P,R]=yield Promise.all([e.authTokenProvider_.getToken(D),e.appCheckTokenProvider_.getToken(D)]);h?ia("getToken() completed but was canceled"):(ia("getToken() completed. Creating connection."),e.authToken_=P&&P.accessToken,e.appCheckToken_=R&&R.token,p=new PH(a,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,F=>{Ya(F+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},c))}catch(P){e.log_("Failed to get token: "+P),h||(e.repoInfo_.nodeAdmin&&Ya(P),v())}}})()}interrupt(e){ia("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ia("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,K.xb)(this.interruptReasons_)&&(this.reconnectDelay_=sT,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(a=>JL(a)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new sr(e).toString();let s;if(this.listens.has(r)){const a=this.listens.get(r);s=a.get(i),a.delete(i),0===a.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){ia("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ia("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,K.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+YL.replace(/\./g,"-")]=1,(0,K.uI)()?e["framework.cordova"]=1:(0,K.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=nA.getInstance().currentlyOnline();return(0,K.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class yi{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new yi(t,e)}}class iA{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new yi(jg,t),r=new yi(jg,e);return 0!==this.compare(i,r)}minPost(){return yi.MIN}}class VH extends iA{static get __EMPTY_NODE(){return rA}static set __EMPTY_NODE(t){rA=t}compare(t,e){return J_(t.name,e.name)}isDefinedOn(t){throw(0,K.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return yi.MIN}maxPost(){return new yi(lp,rA)}makePost(t,e){return(0,K.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new yi(t,rA)}toString(){return".key"}}const Gh=new VH;class oA{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,r&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let d2,Ld=(()=>{class n{constructor(e,i,r,s,a){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??fc.EMPTY_NODE,this.right=a??fc.EMPTY_NODE}copy(e,i,r,s,a){return new n(e??this.key,i??this.value,r??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===a?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return fc.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return fc.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class fc{constructor(t,e=fc.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new fc(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ld.BLACK,null,null))}remove(t){return new fc(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ld.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new oA(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new oA(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new oA(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new oA(this.root_,null,this.comparator_,!0,t)}}function IQ(n,t){return J_(n.name,t.name)}function u2(n,t){return J_(n,t)}fc.EMPTY_NODE=new class DQ{copy(t,e,i,r,s){return this}insert(t,e,i){return new Ld(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ZH=function(n){return"number"==typeof n?"number:"+sH(n):"string:"+n},zH=function(n){if(n.isLeafNode()){const t=n.val();(0,K.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,K.r3)(t,".sv"),"Priority must be a string or number.")}else(0,K.hu)(n===d2||n.isEmpty(),"priority of unexpected type.");(0,K.hu)(n===d2||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let HH,qH,jH,q0=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,K.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),zH(this.priorityNode_)}static set __childrenNodeConstructor(e){HH=e}static get __childrenNodeConstructor(){return HH}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return gi(e)?this:".priority"===pi(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=pi(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,K.hu)(".priority"!==r||1===$g(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Mr(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ZH(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?sH(this.value_):this.value_,this.lazyHash_=nH(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,K.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),a=n.VALUE_TYPE_ORDER.indexOf(r);return(0,K.hu)(s>=0,"Unknown leaf type: "+i),(0,K.hu)(a>=0,"Unknown leaf type: "+r),s===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Vr=new class MQ extends iA{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?J_(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return yi.MIN}maxPost(){return new yi(lp,new q0("[PRIORITY-POST]",jH))}makePost(t,e){const i=qH(t);return new yi(e,new q0("[PRIORITY-POST]",i))}toString(){return".priority"}},PQ=Math.log(2);class kQ{constructor(t){this.count=parseInt(Math.log(t+1)/PQ,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const sA=function(n,t,e,i){n.sort(t);const r=function(h,p){const v=p-h;let b,D;if(0===v)return null;if(1===v)return b=n[h],D=e?e(b):b,new Ld(D,b.node,Ld.BLACK,null,null);{const P=parseInt(v/2,10)+h,R=r(h,P),F=r(P+1,p);return b=n[P],D=e?e(b):b,new Ld(D,b.node,Ld.BLACK,R,F)}},c=function(h){let p=null,v=null,b=n.length;const D=function(R,F){const V=b-R,Q=b;b-=R;const ee=r(V+1,Q),re=n[V],de=e?e(re):re;P(new Ld(de,re.node,F,null,ee))},P=function(R){p?(p.left=R,p=R):(v=R,p=R)};for(let R=0;R<h.count;++R){const F=h.nextBitIsOne(),V=Math.pow(2,h.count-(R+1));F?D(V,Ld.BLACK):(D(V,Ld.BLACK),D(V,Ld.RED))}return v}(new kQ(n.length));return new fc(i||t,c)};let h2;const j0={};class cp{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,K.hu)(j0&&Vr,"ChildrenNode.ts has not been loaded"),h2=h2||new cp({".priority":j0},{".priority":Vr}),h2}get(t){const e=(0,K.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof fc?e:null}hasIndex(t){return(0,K.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,K.hu)(t!==Gh,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(yi.Wrap);let c,a=s.getNext();for(;a;)r=r||t.isDefinedOn(a.node),i.push(a),a=s.getNext();c=r?sA(i,t.getCompare()):j0;const h=t.toString(),p=Object.assign({},this.indexSet_);p[h]=t;const v=Object.assign({},this.indexes_);return v[h]=c,new cp(v,p)}addToIndexes(t,e){const i=(0,K.UI)(this.indexes_,(r,s)=>{const a=(0,K.DV)(this.indexSet_,s);if((0,K.hu)(a,"Missing index implementation for "+s),r===j0){if(a.isDefinedOn(t.node)){const c=[],h=e.getIterator(yi.Wrap);let p=h.getNext();for(;p;)p.name!==t.name&&c.push(p),p=h.getNext();return c.push(t),sA(c,a.getCompare())}return j0}{const c=e.get(t.name);let h=r;return c&&(h=h.remove(new yi(t.name,c))),h.insert(t,t.node)}});return new cp(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,K.UI)(this.indexes_,r=>{if(r===j0)return r;{const s=e.get(t.name);return s?r.remove(new yi(t.name,s)):r}});return new cp(i,this.indexSet_)}}let aT,ii=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&zH(this.priorityNode_),this.children_.isEmpty()&&(0,K.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return aT||(aT=new n(new fc(u2),null,cp.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||aT}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?aT:i}}getChild(e){const i=pi(e);return null===i?this:this.getImmediateChild(i).getChild(Mr(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,K.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new yi(e,i);let s,a;i.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),a=this.indexMap_.addToIndexes(r,this.children_));const c=s.isEmpty()?aT:this.priorityNode_;return new n(s,c,a)}}updateChild(e,i){const r=pi(e);if(null===r)return i;{(0,K.hu)(".priority"!==pi(e)||1===$g(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Mr(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,a=!0;if(this.forEachChild(Vr,(c,h)=>{i[c]=h.val(e),r++,a&&n.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):a=!1}),!e&&a&&s<2*r){const c=[];for(const h in i)c[h]=i[h];return c}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+ZH(this.getPriority().val())+":"),this.forEachChild(Vr,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":nH(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const a=s.getPredecessorKey(new yi(e,i));return a?a.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new yi(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new yi(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,yi.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,yi.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===lT?-1:0}withIndex(e){if(e===Gh||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Gh||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Vr),s=i.getIterator(Vr);let a=r.getNext(),c=s.getNext();for(;a&&c;){if(a.name!==c.name||!a.node.equals(c.node))return!1;a=r.getNext(),c=s.getNext()}return null===a&&null===c}return!1}return!1}}resolveIndex_(e){return e===Gh?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const lT=new class OQ extends ii{constructor(){super(new fc(u2),ii.EMPTY_NODE,cp.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ii.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(yi,{MIN:{value:new yi(jg,ii.EMPTY_NODE)},MAX:{value:new yi(lp,lT)}}),VH.__EMPTY_NODE=ii.EMPTY_NODE,q0.__childrenNodeConstructor=ii,function xQ(n){d2=n}(lT),function AQ(n){jH=n}(lT);const RQ=!0;function ko(n,t=null){if(null===n)return ii.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,K.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new q0(n,ko(t));if(n instanceof Array||!RQ){let e=ii.EMPTY_NODE;return ra(n,(i,r)=>{if((0,K.r3)(n,i)&&"."!==i.substring(0,1)){const s=ko(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(ko(t))}{const e=[];let i=!1;if(ra(n,(a,c)=>{if("."!==a.substring(0,1)){const h=ko(c);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),e.push(new yi(a,h)))}}),0===e.length)return ii.EMPTY_NODE;const s=sA(e,IQ,a=>a.name,u2);if(i){const a=sA(e,Vr.getCompare());return new ii(s,ko(t),new cp({".priority":a},{".priority":Vr}))}return new ii(s,ko(t),cp.Default)}}!function SQ(n){qH=n}(ko);class f2 extends iA{constructor(t){super(),this.indexPath_=t,(0,K.hu)(!gi(t)&&".priority"!==pi(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?J_(t.name,e.name):s}makePost(t,e){const i=ko(t),r=ii.EMPTY_NODE.updateChild(this.indexPath_,i);return new yi(e,r)}maxPost(){const t=ii.EMPTY_NODE.updateChild(this.indexPath_,lT);return new yi(lp,t)}toString(){return oT(this.indexPath_,0).join("/")}}const p2=new class NQ extends iA{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?J_(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return yi.MIN}maxPost(){return yi.MAX}makePost(t,e){const i=ko(t);return new yi(e,i)}toString(){return".value"}};function WH(n){return{type:"value",snapshotNode:n}}function W0(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function cT(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function uT(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class g2{constructor(t){this.index_=t}updateChild(t,e,i,r,s,a){(0,K.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=t.getImmediateChild(e);return c.getChild(r).equals(i.getChild(r))&&c.isEmpty()===i.isEmpty()||(null!=a&&(i.isEmpty()?t.hasChild(e)?a.trackChildChange(cT(e,c)):(0,K.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(W0(e,i)):a.trackChildChange(uT(e,i,c))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Vr,(r,s)=>{e.hasChild(r)||i.trackChildChange(cT(r,s))}),e.isLeafNode()||e.forEachChild(Vr,(r,s)=>{if(t.hasChild(r)){const a=t.getImmediateChild(r);a.equals(s)||i.trackChildChange(uT(r,s,a))}else i.trackChildChange(W0(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?ii.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class dT{constructor(t){this.indexedFilter_=new g2(t.getIndex()),this.index_=t.getIndex(),this.startPost_=dT.getStartPost_(t),this.endPost_=dT.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,s,a){return this.matches(new yi(e,i))||(i=ii.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,a)}updateFullNode(t,e,i){e.isLeafNode()&&(e=ii.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(ii.EMPTY_NODE);const s=this;return e.forEachChild(Vr,(a,c)=>{s.matches(new yi(a,c))||(r=r.updateImmediateChild(a,ii.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class FQ{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new dT(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,s,a){return this.rangedFilter_.matches(new yi(e,i))||(i=ii.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,a):this.fullLimitUpdateChild_(t,e,i,s,a)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=ii.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=ii.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c)){if(!this.withinDirectionalEnd(c))break;r=r.updateImmediateChild(c.name,c.node),a++}}}else{let s;r=e.withIndex(this.index_),r=r.updatePriority(ii.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let a=0;for(;s.hasNext();){const c=s.getNext();a<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?a++:r=r.updateImmediateChild(c.name,ii.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let a;if(this.reverse_){const b=this.index_.getCompare();a=(D,P)=>b(P,D)}else a=this.index_.getCompare();const c=t;(0,K.hu)(c.numChildren()===this.limit_,"");const h=new yi(e,i),p=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(c.hasChild(e)){const b=c.getImmediateChild(e);let D=r.getChildAfterChild(this.index_,p,this.reverse_);for(;null!=D&&(D.name===e||c.hasChild(D.name));)D=r.getChildAfterChild(this.index_,D,this.reverse_);const P=null==D?1:a(D,h);if(v&&!i.isEmpty()&&P>=0)return s?.trackChildChange(uT(e,i,b)),c.updateImmediateChild(e,i);{s?.trackChildChange(cT(e,b));const F=c.updateImmediateChild(e,ii.EMPTY_NODE);return null!=D&&this.rangedFilter_.matches(D)?(s?.trackChildChange(W0(D.name,D.node)),F.updateImmediateChild(D.name,D.node)):F}}return i.isEmpty()?t:v&&a(p,h)>=0?(null!=s&&(s.trackChildChange(cT(p.name,p.node)),s.trackChildChange(W0(e,i))),c.updateImmediateChild(e,i).updateImmediateChild(p.name,ii.EMPTY_NODE)):t}}class aA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Vr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,K.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,K.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jg}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,K.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,K.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:lp}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,K.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Vr}copy(){const t=new aA;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function m2(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function _2(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function lA(n,t){const e=n.copy();return e.index_=t,e}function $H(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Vr?e="$priority":n.index_===p2?e="$value":n.index_===Gh?e="$key":((0,K.hu)(n.index_ instanceof f2,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,K.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,K.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,K.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,K.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,K.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function GH(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Vr&&(t.i=n.index_.toString()),t}class cA extends kH{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=tT("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,K.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const a=cA.getListenId_(t,i),c={};this.listens_[a]=c;const h=$H(t._queryParams);this.restRequest_(s+".json",h,(p,v)=>{let b=v;if(404===p&&(b=null,p=null),null===p&&this.onDataUpdate_(s,b,!1,i),(0,K.DV)(this.listens_,a)===c){let D;D=p?401===p?"permission_denied":"rest_error:"+p:"ok",r(D,null)}})}unlisten(t,e){const i=cA.getListenId_(t,e);delete this.listens_[i]}get(t){const e=$H(t._queryParams),i=t._path.toString(),r=new K.BH;return this.restRequest_(i+".json",e,(s,a)=>{let c=a;404===s&&(c=null,s=null),null===s?(this.onDataUpdate_(i,c,!1,null),r.resolve(c)):r.reject(new Error(c))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,K.xO)(e);this.log_("Sending REST request for "+a);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&4===c.readyState){this.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);let h=null;if(c.status>=200&&c.status<300){try{h=(0,K.cI)(c.responseText)}catch{Ya("Failed to parse JSON response for "+a+": "+c.responseText)}i(null,h)}else 401!==c.status&&404!==c.status&&Ya("Got unsuccessful REST response for "+a+" Status: "+c.status),i(c.status);i=null}},c.open("GET",a,!0),c.send()})}}class HQ{constructor(){this.rootNode_=ii.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function uA(){return{value:null,children:new Map}}function $0(n,t,e){if(gi(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=pi(t);n.children.has(i)||n.children.set(i,uA()),$0(n.children.get(i),t=Mr(t),e)}}function v2(n,t){if(gi(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Vr,(i,r)=>{$0(n,new sr(i),r)}),v2(n,t)}}if(n.children.size>0){const e=pi(t);return t=Mr(t),n.children.has(e)&&v2(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function y2(n,t,e){null!==n.value?e(t,n.value):function qQ(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{y2(r,new sr(t.toString()+"/"+i),e)})}class jQ{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&ra(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class GQ{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new jQ(t);const i=1e4+2e4*Math.random();iT(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;ra(t,(r,s)=>{s>0&&(0,K.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),iT(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Bu=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Bu||(Bu={})),Bu))();function C2(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class dA{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Bu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(gi(this.path)){if(null!=this.affectedTree.value)return(0,K.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new sr(t));return new dA(Wi(),e,this.revert)}}return(0,K.hu)(pi(this.path)===t,"operationForChild called for unrelated child."),new dA(Mr(this.path),this.affectedTree,this.revert)}}class hT{constructor(t,e){this.source=t,this.path=e,this.type=Bu.LISTEN_COMPLETE}operationForChild(t){return gi(this.path)?new hT(this.source,Wi()):new hT(this.source,Mr(this.path))}}class tv{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Bu.OVERWRITE}operationForChild(t){return gi(this.path)?new tv(this.source,Wi(),this.snap.getImmediateChild(t)):new tv(this.source,Mr(this.path),this.snap)}}class G0{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Bu.MERGE}operationForChild(t){if(gi(this.path)){const e=this.children.subtree(new sr(t));return e.isEmpty()?null:e.value?new tv(this.source,Wi(),e.value):new G0(this.source,Wi(),e)}return(0,K.hu)(pi(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new G0(this.source,Mr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Gg{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(gi(t))return this.isFullyInitialized()&&!this.filtered_;const e=pi(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class YQ{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function fT(n,t,e,i,r,s){const a=i.filter(c=>c.type===e);a.sort((c,h)=>function JQ(n,t,e){if(null==t.childName||null==e.childName)throw(0,K.g5)("Should only compare child_ events.");const i=new yi(t.childName,t.snapshotNode),r=new yi(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,c,h)),a.forEach(c=>{const h=function QQ(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,c,s);r.forEach(p=>{p.respondsTo(c.type)&&t.push(p.createEvent(h,n.query_))})})}function hA(n,t){return{eventCache:n,serverCache:t}}function pT(n,t,e,i){return hA(new Gg(t,e,i),n.serverCache)}function KH(n,t,e,i){return hA(n.eventCache,new Gg(t,e,i))}function fA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function nv(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let E2;class Zr{constructor(t,e=(()=>(E2||(E2=new fc(LK)),E2))()){this.value=t,this.children=e}static fromObject(t){let e=new Zr(null);return ra(t,(i,r)=>{e=e.set(new sr(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Wi(),value:this.value};if(gi(t))return null;{const i=pi(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Mr(t),e);return null!=s?{path:wo(new sr(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(gi(t))return this;{const e=pi(t),i=this.children.get(e);return null!==i?i.subtree(Mr(t)):new Zr(null)}}set(t,e){if(gi(t))return new Zr(e,this.children);{const i=pi(t),s=(this.children.get(i)||new Zr(null)).set(Mr(t),e),a=this.children.insert(i,s);return new Zr(this.value,a)}}remove(t){if(gi(t))return this.children.isEmpty()?new Zr(null):new Zr(null,this.children);{const e=pi(t),i=this.children.get(e);if(i){const r=i.remove(Mr(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new Zr(null):new Zr(this.value,s)}return this}}get(t){if(gi(t))return this.value;{const e=pi(t),i=this.children.get(e);return i?i.get(Mr(t)):null}}setTree(t,e){if(gi(t))return e;{const i=pi(t),s=(this.children.get(i)||new Zr(null)).setTree(Mr(t),e);let a;return a=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Zr(this.value,a)}}fold(t){return this.fold_(Wi(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(wo(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Wi(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(gi(t))return null;{const s=pi(t),a=this.children.get(s);return a?a.findOnPath_(Mr(t),wo(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Wi(),e)}foreachOnPath_(t,e,i){if(gi(t))return this;{this.value&&i(e,this.value);const r=pi(t),s=this.children.get(r);return s?s.foreachOnPath_(Mr(t),wo(e,r),i):new Zr(null)}}foreach(t){this.foreach_(Wi(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(wo(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Fd{constructor(t){this.writeTree_=t}static empty(){return new Fd(new Zr(null))}}function gT(n,t,e){if(gi(t))return new Fd(new Zr(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const a=Ml(r,t);return s=s.updateChild(a,e),new Fd(n.writeTree_.set(r,s))}{const r=new Zr(e),s=n.writeTree_.setTree(t,r);return new Fd(s)}}}function T2(n,t,e){let i=n;return ra(e,(r,s)=>{i=gT(i,wo(t,r),s)}),i}function QH(n,t){if(gi(t))return Fd.empty();{const e=n.writeTree_.setTree(t,new Zr(null));return new Fd(e)}}function D2(n,t){return null!=iv(n,t)}function iv(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Ml(e.path,t)):null}function JH(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Vr,(i,r)=>{t.push(new yi(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new yi(i,r.value))}),t}function Yg(n,t){if(gi(t))return n;{const e=iv(n,t);return new Fd(null!=e?new Zr(e):n.writeTree_.subtree(t))}}function I2(n){return n.writeTree_.isEmpty()}function Y0(n,t){return XH(Wi(),n.writeTree_,t)}function XH(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,K.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=XH(wo(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(wo(n,".priority"),i)),e}}function pA(n,t){return o4(t,n)}function rJ(n,t){if(n.snap)return Uu(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Uu(wo(n.path,e),t))return!0;return!1}function sJ(n){return n.visible}function e4(n,t,e){let i=Fd.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const a=s.path;let c;if(s.snap)Uu(e,a)?(c=Ml(e,a),i=gT(i,c,s.snap)):Uu(a,e)&&(c=Ml(a,e),i=gT(i,Wi(),s.snap.getChild(c)));else{if(!s.children)throw(0,K.g5)("WriteRecord should have .snap or .children");if(Uu(e,a))c=Ml(e,a),i=T2(i,c,s.children);else if(Uu(a,e))if(c=Ml(a,e),gi(c))i=T2(i,Wi(),s.children);else{const h=(0,K.DV)(s.children,pi(c));if(h){const p=h.getChild(Mr(c));i=gT(i,Wi(),p)}}}}}return i}function t4(n,t,e,i,r){if(i||r){const s=Yg(n.visibleWrites,t);return!r&&I2(s)?e:r||null!=e||D2(s,Wi())?Y0(e4(n.allWrites,function(p){return(p.visible||r)&&(!i||!~i.indexOf(p.writeId))&&(Uu(p.path,t)||Uu(t,p.path))},t),e||ii.EMPTY_NODE):null}{const s=iv(n.visibleWrites,t);if(null!=s)return s;{const a=Yg(n.visibleWrites,t);return I2(a)?e:null!=e||D2(a,Wi())?Y0(a,e||ii.EMPTY_NODE):null}}}function gA(n,t,e,i){return t4(n.writeTree,n.treePath,t,e,i)}function x2(n,t){return function aJ(n,t,e){let i=ii.EMPTY_NODE;const r=iv(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Vr,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(e){const s=Yg(n.visibleWrites,t);return e.forEachChild(Vr,(a,c)=>{const h=Y0(Yg(s,new sr(a)),c);i=i.updateImmediateChild(a,h)}),JH(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}return JH(Yg(n.visibleWrites,t)).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}(n.writeTree,n.treePath,t)}function n4(n,t,e,i){return function lJ(n,t,e,i,r){(0,K.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=wo(t,e);if(D2(n.visibleWrites,s))return null;{const a=Yg(n.visibleWrites,s);return I2(a)?r.getChild(e):Y0(a,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function mA(n,t){return function uJ(n,t){return iv(n.visibleWrites,t)}(n.writeTree,wo(n.treePath,t))}function S2(n,t,e){return function cJ(n,t,e,i){const r=wo(t,e),s=iv(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?Y0(Yg(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function r4(n,t){return o4(wo(n.treePath,t),n.writeTree)}function o4(n,t){return{treePath:n,writeTree:t}}class pJ{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,K.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,K.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,uT(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,cT(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,W0(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,K.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,uT(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const s4=new class gJ{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class A2{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Gg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return S2(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:nv(this.viewCache_),s=function fJ(n,t,e,i,r,s){return function dJ(n,t,e,i,r,s,a){let c;const h=Yg(n.visibleWrites,t),p=iv(h,Wi());if(null!=p)c=p;else{if(null==e)return[];c=Y0(h,e)}if(c=c.withIndex(a),c.isEmpty()||c.isLeafNode())return[];{const v=[],b=a.getCompare(),D=s?c.getReverseIteratorFrom(i,a):c.getIteratorFrom(i,a);let P=D.getNext();for(;P&&v.length<r;)0!==b(P,i)&&v.push(P),P=D.getNext();return v}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function a4(n,t,e,i,r,s){const a=t.eventCache;if(null!=mA(i,e))return t;{let c,h;if(gi(e))if((0,K.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=nv(t),b=x2(i,p instanceof ii?p:ii.EMPTY_NODE);c=n.filter.updateFullNode(t.eventCache.getNode(),b,s)}else{const p=gA(i,nv(t));c=n.filter.updateFullNode(t.eventCache.getNode(),p,s)}else{const p=pi(e);if(".priority"===p){(0,K.hu)(1===$g(e),"Can't have a priority with additional path components");const v=a.getNode();h=t.serverCache.getNode();const b=n4(i,e,v,h);c=null!=b?n.filter.updatePriority(v,b):a.getNode()}else{const v=Mr(e);let b;if(a.isCompleteForChild(p)){h=t.serverCache.getNode();const D=n4(i,e,a.getNode(),h);b=null!=D?a.getNode().getImmediateChild(p).updateChild(v,D):a.getNode().getImmediateChild(p)}else b=S2(i,p,t.serverCache);c=null!=b?n.filter.updateChild(a.getNode(),p,b,v,r,s):a.getNode()}}return pT(t,c,a.isFullyInitialized()||gi(e),n.filter.filtersNodes())}}function _A(n,t,e,i,r,s,a,c){const h=t.serverCache;let p;const v=a?n.filter:n.filter.getIndexedFilter();if(gi(e))p=v.updateFullNode(h.getNode(),i,null);else if(v.filtersNodes()&&!h.isFiltered()){const P=h.getNode().updateChild(e,i);p=v.updateFullNode(h.getNode(),P,null)}else{const P=pi(e);if(!h.isCompleteForPath(e)&&$g(e)>1)return t;const R=Mr(e),V=h.getNode().getImmediateChild(P).updateChild(R,i);p=".priority"===P?v.updatePriority(h.getNode(),V):v.updateChild(h.getNode(),P,V,R,s4,null)}const b=KH(t,p,h.isFullyInitialized()||gi(e),v.filtersNodes());return a4(n,b,e,r,new A2(r,b,s),c)}function M2(n,t,e,i,r,s,a){const c=t.eventCache;let h,p;const v=new A2(r,t,s);if(gi(e))p=n.filter.updateFullNode(t.eventCache.getNode(),i,a),h=pT(t,p,!0,n.filter.filtersNodes());else{const b=pi(e);if(".priority"===b)p=n.filter.updatePriority(t.eventCache.getNode(),i),h=pT(t,p,c.isFullyInitialized(),c.isFiltered());else{const D=Mr(e),P=c.getNode().getImmediateChild(b);let R;if(gi(D))R=i;else{const F=v.getCompleteChild(b);R=null!=F?".priority"===a2(D)&&F.getChild(LH(D)).isEmpty()?F:F.updateChild(D,i):ii.EMPTY_NODE}h=P.equals(R)?t:pT(t,n.filter.updateChild(c.getNode(),b,R,D,v,a),c.isFullyInitialized(),n.filter.filtersNodes())}}return h}function l4(n,t){return n.eventCache.isCompleteForChild(t)}function c4(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function P2(n,t,e,i,r,s,a,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p,h=t;p=gi(e)?i:new Zr(null).setTree(e,i);const v=t.serverCache.getNode();return p.children.inorderTraversal((b,D)=>{if(v.hasChild(b)){const R=c4(0,t.serverCache.getNode().getImmediateChild(b),D);h=_A(n,h,new sr(b),R,r,s,a,c)}}),p.children.inorderTraversal((b,D)=>{const P=!t.serverCache.isCompleteForChild(b)&&null===D.value;if(!v.hasChild(b)&&!P){const F=c4(0,t.serverCache.getNode().getImmediateChild(b),D);h=_A(n,h,new sr(b),F,r,s,a,c)}}),h}class TJ{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new g2(i.getIndex()),s=function UQ(n){return n.loadsAllData()?new g2(n.getIndex()):n.hasLimit()?new FQ(n):new dT(n)}(i);this.processor_=function mJ(n){return{filter:n}}(s);const a=e.serverCache,c=e.eventCache,h=r.updateFullNode(ii.EMPTY_NODE,a.getNode(),null),p=s.updateFullNode(ii.EMPTY_NODE,c.getNode(),null),v=new Gg(h,a.isFullyInitialized(),r.filtersNodes()),b=new Gg(p,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=hA(b,v),this.eventGenerator_=new YQ(this.query_)}get query(){return this.query_}}function xJ(n,t){const e=nv(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!gi(t)&&!e.getImmediateChild(pi(t)).isEmpty())?e.getChild(t):null}function u4(n){return 0===n.eventRegistrations_.length}function d4(n,t,e){const i=[];if(e){(0,K.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(e,r);a&&i.push(a)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const a=n.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(a)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function h4(n,t,e,i){t.type===Bu.MERGE&&null!==t.source.queryId&&((0,K.hu)(nv(n.viewCache_),"We should always have a full cache before handling merges"),(0,K.hu)(fA(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function vJ(n,t,e,i,r){const s=new pJ;let a,c;if(e.type===Bu.OVERWRITE){const p=e;p.source.fromUser?a=M2(n,t,p.path,p.snap,i,r,s):((0,K.hu)(p.source.fromServer,"Unknown source."),c=p.source.tagged||t.serverCache.isFiltered()&&!gi(p.path),a=_A(n,t,p.path,p.snap,i,r,c,s))}else if(e.type===Bu.MERGE){const p=e;p.source.fromUser?a=function wJ(n,t,e,i,r,s,a){let c=t;return i.foreach((h,p)=>{const v=wo(e,h);l4(t,pi(v))&&(c=M2(n,c,v,p,r,s,a))}),i.foreach((h,p)=>{const v=wo(e,h);l4(t,pi(v))||(c=M2(n,c,v,p,r,s,a))}),c}(n,t,p.path,p.children,i,r,s):((0,K.hu)(p.source.fromServer,"Unknown source."),c=p.source.tagged||t.serverCache.isFiltered(),a=P2(n,t,p.path,p.children,i,r,c,s))}else if(e.type===Bu.ACK_USER_WRITE){const p=e;a=p.revert?function EJ(n,t,e,i,r,s){let a;if(null!=mA(i,e))return t;{const c=new A2(i,t,r),h=t.eventCache.getNode();let p;if(gi(e)||".priority"===pi(e)){let v;if(t.serverCache.isFullyInitialized())v=gA(i,nv(t));else{const b=t.serverCache.getNode();(0,K.hu)(b instanceof ii,"serverChildren would be complete if leaf node"),v=x2(i,b)}p=n.filter.updateFullNode(h,v,s)}else{const v=pi(e);let b=S2(i,v,t.serverCache);null==b&&t.serverCache.isCompleteForChild(v)&&(b=h.getImmediateChild(v)),p=null!=b?n.filter.updateChild(h,v,b,Mr(e),c,s):t.eventCache.getNode().hasChild(v)?n.filter.updateChild(h,v,ii.EMPTY_NODE,Mr(e),c,s):h,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=gA(i,nv(t)),a.isLeafNode()&&(p=n.filter.updateFullNode(p,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=mA(i,Wi()),pT(t,p,a,n.filter.filtersNodes())}}(n,t,p.path,i,r,s):function bJ(n,t,e,i,r,s,a){if(null!=mA(r,e))return t;const c=t.serverCache.isFiltered(),h=t.serverCache;if(null!=i.value){if(gi(e)&&h.isFullyInitialized()||h.isCompleteForPath(e))return _A(n,t,e,h.getNode().getChild(e),r,s,c,a);if(gi(e)){let p=new Zr(null);return h.getNode().forEachChild(Gh,(v,b)=>{p=p.set(new sr(v),b)}),P2(n,t,e,p,r,s,c,a)}return t}{let p=new Zr(null);return i.foreach((v,b)=>{const D=wo(e,v);h.isCompleteForPath(D)&&(p=p.set(v,h.getNode().getChild(D)))}),P2(n,t,e,p,r,s,c,a)}}(n,t,p.path,p.affectedTree,i,r,s)}else{if(e.type!==Bu.LISTEN_COMPLETE)throw(0,K.g5)("Unknown operation type: "+e.type);a=function CJ(n,t,e,i,r){const s=t.serverCache;return a4(n,KH(t,s.getNode(),s.isFullyInitialized()||gi(e),s.isFiltered()),e,i,s4,r)}(n,t,e.path,i,s)}const h=s.getChanges();return function yJ(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=fA(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(WH(fA(t)))}}(t,a,h),{viewCache:a,changes:h}}(n.processor_,r,t,e,i);return function _J(n,t){(0,K.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,K.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,K.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,f4(n,s.changes,s.viewCache.eventCache.getNode(),null)}function f4(n,t,e,i){return function KQ(n,t,e,i){const r=[],s=[];return t.forEach(a=>{"child_changed"===a.type&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(function LQ(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(a.childName,a.snapshotNode))}),fT(n,r,"child_removed",t,i,e),fT(n,r,"child_added",t,i,e),fT(n,r,"child_moved",s,i,e),fT(n,r,"child_changed",t,i,e),fT(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let vA,wA;class p4{constructor(){this.views=new Map}}function k2(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,K.hu)(null!=s,"SyncTree gave us an op for an invalid query."),h4(s,t,e,i)}{let s=[];for(const a of n.views.values())s=s.concat(h4(a,t,e,i));return s}}function g4(n,t,e,i,r){const a=n.views.get(t._queryIdentifier);if(!a){let c=gA(e,r?i:null),h=!1;c?h=!0:i instanceof ii?(c=x2(e,i),h=!1):(c=ii.EMPTY_NODE,h=!1);const p=hA(new Gg(c,h,!1),new Gg(i,r,!1));return new TJ(t,p)}return a}function m4(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Kg(n,t){let e=null;for(const i of n.views.values())e=e||xJ(i,t);return e}function _4(n,t){return t._queryParams.loadsAllData()?yA(n):n.views.get(t._queryIdentifier)}function v4(n,t){return null!=_4(n,t)}function Qg(n){return null!=yA(n)}function yA(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let FJ=1;class y4{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Zr(null),this.pendingWriteTree_=function hJ(){return{visibleWrites:Fd.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function O2(n,t,e,i,r){return function eJ(n,t,e,i,r){(0,K.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=gT(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?K0(n,new tv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Jg(n,t,e=!1){const i=function nJ(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function iJ(n,t){const e=n.allWrites.findIndex(c=>c.writeId===t);(0,K.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,a=n.allWrites.length-1;for(;r&&a>=0;){const c=n.allWrites[a];c.visible&&(a>=e&&rJ(c,i.path)?r=!1:Uu(i.path,c.path)&&(s=!0)),a--}return!!r&&(s?(function oJ(n){n.visibleWrites=e4(n.allWrites,sJ,Wi()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=QH(n.visibleWrites,i.path):ra(i.children,h=>{n.visibleWrites=QH(n.visibleWrites,wo(i.path,h))}),!0))}(n.pendingWriteTree_,t)){let s=new Zr(null);return null!=i.snap?s=s.set(Wi(),!0):ra(i.children,a=>{s=s.set(new sr(a),!0)}),K0(n,new dA(i.path,s,e))}return[]}function mT(n,t,e){return K0(n,new tv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function bA(n,t,e,i,r=!1){const s=t._path,a=n.syncPointTree_.get(s);let c=[];if(a&&("default"===t._queryIdentifier||v4(a,t))){const h=function RJ(n,t,e,i){const r=t._queryIdentifier,s=[];let a=[];const c=Qg(n);if("default"===r)for(const[h,p]of n.views.entries())a=a.concat(d4(p,e,i)),u4(p)&&(n.views.delete(h),p.query._queryParams.loadsAllData()||s.push(p.query));else{const h=n.views.get(r);h&&(a=a.concat(d4(h,e,i)),u4(h)&&(n.views.delete(r),h.query._queryParams.loadsAllData()||s.push(h.query)))}return c&&!Qg(n)&&s.push(new(function PJ(){return(0,K.hu)(vA,"Reference.ts has not been loaded"),vA}())(t._repo,t._path)),{removed:s,events:a}}(a,t,e,i);(function kJ(n){return 0===n.views.size})(a)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const p=h.removed;if(c=h.events,!r){const v=-1!==p.findIndex(D=>D._queryParams.loadsAllData()),b=n.syncPointTree_.findOnPath(s,(D,P)=>Qg(P));if(v&&!b){const D=n.syncPointTree_.subtree(s);if(!D.isEmpty()){const P=function qJ(n){return n.fold((t,e,i)=>{if(e&&Qg(e))return[yA(e)];{let r=[];return e&&(r=m4(e)),ra(i,(s,a)=>{r=r.concat(a)}),r}})}(D);for(let R=0;R<P.length;++R){const F=P[R],V=F.query,Q=E4(n,F);n.listenProvider_.startListening(vT(V),_T(n,V),Q.hashFn,Q.onComplete)}}}!b&&p.length>0&&!i&&(v?n.listenProvider_.stopListening(vT(t),null):p.forEach(D=>{const P=n.queryToTagMap.get(EA(D));n.listenProvider_.stopListening(vT(D),P)}))}!function jJ(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=EA(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,p)}return c}function w4(n,t,e,i){const r=N2(n,i);if(null!=r){const s=L2(r),a=s.path,c=s.queryId,h=Ml(a,t);return F2(n,a,new tv(C2(c),h,e))}return[]}function R2(n,t,e,i=!1){const r=t._path;let s=null,a=!1;n.syncPointTree_.foreachOnPath(r,(D,P)=>{const R=Ml(D,r);s=s||Kg(P,R),a=a||Qg(P)});let h,c=n.syncPointTree_.get(r);c?(a=a||Qg(c),s=s||Kg(c,Wi())):(c=new p4,n.syncPointTree_=n.syncPointTree_.set(r,c)),null!=s?h=!0:(h=!1,s=ii.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((P,R)=>{const F=Kg(R,Wi());F&&(s=s.updateImmediateChild(P,F))}));const p=v4(c,t);if(!p&&!t._queryParams.loadsAllData()){const D=EA(t);(0,K.hu)(!n.queryToTagMap.has(D),"View does not exist, but we have a tag");const P=function WJ(){return FJ++}();n.queryToTagMap.set(D,P),n.tagToQueryMap.set(P,D)}let b=function OJ(n,t,e,i,r,s){const a=g4(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,a),function SJ(n,t){n.eventRegistrations_.push(t)}(a,e),function AJ(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Vr,(s,a)=>{i.push(W0(s,a))}),e.isFullyInitialized()&&i.push(WH(e.getNode())),f4(n,i,e.getNode(),t)}(a,e)}(c,t,e,pA(n.pendingWriteTree_,r),s,h);if(!p&&!a&&!i){const D=_4(c,t);b=b.concat(function $J(n,t,e){const i=t._path,r=_T(n,t),s=E4(n,e),a=n.listenProvider_.startListening(vT(t),r,s.hashFn,s.onComplete),c=n.syncPointTree_.subtree(i);if(r)(0,K.hu)(!Qg(c.value),"If we're adding a query, it shouldn't be shadowed");else{const h=c.fold((p,v,b)=>{if(!gi(p)&&v&&Qg(v))return[yA(v).query];{let D=[];return v&&(D=D.concat(m4(v).map(P=>P.query))),ra(b,(P,R)=>{D=D.concat(R)}),D}});for(let p=0;p<h.length;++p){const v=h[p];n.listenProvider_.stopListening(vT(v),_T(n,v))}}return a}(n,t,D))}return b}function CA(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(a,c)=>{const p=Kg(c,Ml(a,t));if(p)return p});return t4(r,t,s,e,!0)}function K0(n,t){return b4(t,n.syncPointTree_,null,pA(n.pendingWriteTree_,Wi()))}function b4(n,t,e,i){if(gi(n.path))return C4(n,t,e,i);{const r=t.get(Wi());null==e&&null!=r&&(e=Kg(r,Wi()));let s=[];const a=pi(n.path),c=n.operationForChild(a),h=t.children.get(a);if(h&&c){const p=e?e.getImmediateChild(a):null,v=r4(i,a);s=s.concat(b4(c,h,p,v))}return r&&(s=s.concat(k2(r,n,i,e))),s}}function C4(n,t,e,i){const r=t.get(Wi());null==e&&null!=r&&(e=Kg(r,Wi()));let s=[];return t.children.inorderTraversal((a,c)=>{const h=e?e.getImmediateChild(a):null,p=r4(i,a),v=n.operationForChild(a);v&&(s=s.concat(C4(v,c,h,p)))}),r&&(s=s.concat(k2(r,n,i,e))),s}function E4(n,t){const e=t.query,i=_T(n,e);return{hashFn:()=>(function DJ(n){return n.viewCache_.serverCache.getNode()}(t)||ii.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function ZJ(n,t,e){const i=N2(n,e);if(i){const r=L2(i),s=r.path,a=r.queryId,c=Ml(s,t);return F2(n,s,new hT(C2(a),c))}return[]}(n,e._path,i):function VJ(n,t){return K0(n,new hT({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function BK(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return bA(n,e,null,s)}}}}function _T(n,t){const e=EA(t);return n.queryToTagMap.get(e)}function EA(n){return n._path.toString()+"$"+n._queryIdentifier}function N2(n,t){return n.tagToQueryMap.get(t)}function L2(n){const t=n.indexOf("$");return(0,K.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new sr(n.substr(0,t))}}function F2(n,t,e){const i=n.syncPointTree_.get(t);return(0,K.hu)(i,"Missing sync point for query tag that we're tracking"),k2(i,e,pA(n.pendingWriteTree_,t),null)}function vT(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function LJ(){return(0,K.hu)(wA,"Reference.ts has not been loaded"),wA}())(n._repo,n._path):n}class U2{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new U2(e)}node(){return this.node_}}class B2{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=wo(this.path_,t);return new B2(this.syncTree_,e)}node(){return CA(this.syncTree_,this.path_)}}const GJ=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},T4=function(n,t,e){return n&&"object"==typeof n?((0,K.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?YJ(n[".sv"],t,e):"object"==typeof n[".sv"]?KJ(n[".sv"],t):void(0,K.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},YJ=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,K.hu)(!1,"Unexpected server value: "+n)},KJ=function(n,t,e){n.hasOwnProperty("increment")||(0,K.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,K.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,K.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return"number"!=typeof a?i:a+i},D4=function(n,t,e,i){return Z2(t,new B2(e,n),i)},V2=function(n,t,e){return Z2(n,new U2(t),e)};function Z2(n,t,e){const i=n.getPriority().val(),r=T4(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const a=n,c=T4(a.getValue(),t,e);return c!==a.getValue()||r!==a.getPriority().val()?new q0(c,ko(r)):n}{const a=n;return s=a,r!==a.getPriority().val()&&(s=s.updatePriority(new q0(r))),a.forEachChild(Vr,(c,h)=>{const p=Z2(h,t.getImmediateChild(c),e);p!==h&&(s=s.updateImmediateChild(c,p))}),s}}class z2{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function TA(n,t){let e=t instanceof sr?t:new sr(t),i=n,r=pi(e);for(;null!==r;){const s=(0,K.DV)(i.node.children,r)||{children:{},childCount:0};i=new z2(r,i,s),e=Mr(e),r=pi(e)}return i}function rv(n){return n.node.value}function H2(n,t){n.node.value=t,q2(n)}function I4(n){return n.node.childCount>0}function DA(n,t){ra(n.node.children,(e,i)=>{t(new z2(e,n,i))})}function x4(n,t,e,i){e&&!i&&t(n),DA(n,r=>{x4(r,t,!0,i)}),e&&i&&t(n)}function yT(n){return new sr(null===n.parent?n.name:yT(n.parent)+"/"+n.name)}function q2(n){null!==n.parent&&function XJ(n,t,e){const i=function QJ(n){return void 0===rv(n)&&!I4(n)}(e),r=(0,K.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,q2(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,q2(n))}(n.parent,n.name,n)}const eX=/[\[\].#$\/\u0000-\u001F\u007F]/,tX=/[\[\].#$\u0000-\u001F\u007F]/,j2=10485760,IA=function(n){return"string"==typeof n&&0!==n.length&&!eX.test(n)},S4=function(n){return"string"==typeof n&&0!==n.length&&!tX.test(n)},wT=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!XS(n)||n&&"object"==typeof n&&(0,K.r3)(n,".sv")},Yh=function(n,t,e,i){i&&void 0===t||bT((0,K.gK)(n,"value"),t,e)},bT=function(n,t,e){const i=e instanceof sr?new vQ(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+X_(i));if("function"==typeof t)throw new Error(n+"contains a function "+X_(i)+" with contents = "+t.toString());if(XS(t))throw new Error(n+"contains "+t.toString()+" "+X_(i));if("string"==typeof t&&t.length>j2/3&&(0,K.ug)(t)>j2)throw new Error(n+"contains a string greater than "+j2+" utf8 bytes "+X_(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(ra(t,(a,c)=>{if(".value"===a)r=!0;else if(".priority"!==a&&".sv"!==a&&(s=!0,!IA(a)))throw new Error(n+" contains an invalid key ("+a+") "+X_(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function yQ(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,K.ug)(t),FH(n)})(i,a),bT(n,c,i),function wQ(n){const t=n.parts_.pop();n.byteLength_-=(0,K.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+X_(i)+" in addition to actual children.")}},A4=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,K.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];ra(t,(a,c)=>{const h=new sr(a);if(bT(r,c,wo(e,h)),".priority"===a2(h)&&!wT(c))throw new Error(r+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(h)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=oT(i);for(let a=0;a<s.length;a++)if((".priority"!==s[a]||a!==s.length-1)&&!IA(s[a]))throw new Error(n+"contains an invalid key ("+s[a]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(_Q);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Uu(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},W2=function(n,t,e){if(!e||void 0!==t){if(XS(t))throw new Error((0,K.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wT(t))throw new Error((0,K.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},CT=function(n,t,e,i){if(!(i&&void 0===e||IA(e)))throw new Error((0,K.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ET=function(n,t,e,i){if(!(i&&void 0===e||S4(e)))throw new Error((0,K.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},rX=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ET(n,t,e,i)},Vu=function(n,t){if(".info"===pi(t))throw new Error(n+" failed = Can't modify data under /.info/")},M4=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!IA(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),S4(n)}(e))throw new Error((0,K.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class oX{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xA(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!l2(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function P4(n,t,e){xA(n,e),k4(n,i=>l2(i,t))}function Kc(n,t,e){xA(n,e),k4(n,i=>Uu(i,t)||Uu(t,i))}function k4(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(sX(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function sX(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Q_&&ia("event: "+e.toString()),z0(i)}}}const O4="repo_interrupt",aX=25;class lX{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oX,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uA(),this.transactionQueueTree_=new z2,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function R4(n){const e=n.infoData_.getNode(new sr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function TT(n){return GJ({timestamp:R4(n)})}function N4(n,t,e,i,r){n.dataUpdateCount++;const s=new sr(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let a=[];if(r)if(i){const h=(0,K.UI)(e,p=>ko(p));a=function zJ(n,t,e,i){const r=N2(n,i);if(r){const s=L2(r),a=s.path,c=s.queryId,h=Ml(a,t),p=Zr.fromObject(e);return F2(n,a,new G0(C2(c),h,p))}return[]}(n.serverSyncTree_,s,h,r)}else{const h=ko(e);a=w4(n.serverSyncTree_,s,h,r)}else if(i){const h=(0,K.UI)(e,p=>ko(p));a=function BJ(n,t,e){const i=Zr.fromObject(e);return K0(n,new G0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,h)}else{const h=ko(e);a=mT(n.serverSyncTree_,s,h)}let c=s;a.length>0&&(c=J0(n,s)),Kc(n.eventQueue_,c,a)}function L4(n,t){$2(n,"connected",t),!1===t&&function fX(n){Q0(n,"onDisconnectEvents");const t=TT(n),e=uA();y2(n.onDisconnect_,Wi(),(r,s)=>{const a=D4(r,s,n.serverSyncTree_,t);$0(e,r,a)});let i=[];y2(e,Wi(),(r,s)=>{i=i.concat(mT(n.serverSyncTree_,r,s));const a=Q2(n,r);J0(n,a)}),n.onDisconnect_=uA(),Kc(n.eventQueue_,Wi(),i)}(n)}function $2(n,t,e){const i=new sr("/.info/"+t),r=ko(e);n.infoData_.updateSnapshot(i,r);const s=mT(n.infoSyncTree_,i,r);Kc(n.eventQueue_,i,s)}function SA(n){return n.nextWriteId_++}function G2(n,t,e,i,r){Q0(n,"set",{path:t.toString(),value:e,priority:i});const s=TT(n),a=ko(e,i),c=CA(n.serverSyncTree_,t),h=V2(a,c,s),p=SA(n),v=O2(n.serverSyncTree_,t,h,p,!0);xA(n.eventQueue_,v),n.server_.put(t.toString(),a.val(!0),(D,P)=>{const R="ok"===D;R||Ya("set at "+t+" failed: "+D);const F=Jg(n.serverSyncTree_,p,!R);Kc(n.eventQueue_,t,F),Xg(0,r,D,P)});const b=Q2(n,t);J0(n,b),Kc(n.eventQueue_,b,[])}function pX(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&v2(n.onDisconnect_,t),Xg(0,e,i,r)})}function F4(n,t,e,i){const r=ko(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,a)=>{"ok"===s&&$0(n.onDisconnect_,t,r),Xg(0,i,s,a)})}function Y2(n,t,e){let i;i=".info"===pi(t._path)?bA(n.infoSyncTree_,t,e):bA(n.serverSyncTree_,t,e),P4(n.eventQueue_,t._path,i)}function U4(n){n.persistentConnection_&&n.persistentConnection_.interrupt(O4)}function Q0(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ia(e,...t)}function Xg(n,t,e,i){t&&z0(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const a=new Error(s);a.code=r,t(a)}})}function K2(n,t,e){return CA(n.serverSyncTree_,t,e)||ii.EMPTY_NODE}function AA(n,t=n.transactionQueueTree_){if(t||MA(n,t),rv(t)){const e=V4(n,t);(0,K.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function wX(n,t,e){const i=e.map(p=>p.currentWriteId),r=K2(n,t,i);let s=r;const a=r.hash();for(let p=0;p<e.length;p++){const v=e[p];(0,K.hu)(0===v.status,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const b=Ml(t,v.path);s=s.updateChild(b,v.currentOutputSnapshotRaw)}const c=s.val(!0),h=t;n.server_.put(h.toString(),c,p=>{Q0(n,"transaction put response",{path:h.toString(),status:p});let v=[];if("ok"===p){const b=[];for(let D=0;D<e.length;D++)e[D].status=2,v=v.concat(Jg(n.serverSyncTree_,e[D].currentWriteId)),e[D].onComplete&&b.push(()=>e[D].onComplete(null,!0,e[D].currentOutputSnapshotResolved)),e[D].unwatcher();MA(n,TA(n.transactionQueueTree_,t)),AA(n,n.transactionQueueTree_),Kc(n.eventQueue_,t,v);for(let D=0;D<b.length;D++)z0(b[D])}else{if("datastale"===p)for(let b=0;b<e.length;b++)e[b].status=3===e[b].status?4:0;else{Ya("transaction at "+h.toString()+" failed: "+p);for(let b=0;b<e.length;b++)e[b].status=4,e[b].abortReason=p}J0(n,t)}},a)}(n,yT(t),e)}else I4(t)&&DA(t,e=>{AA(n,e)})}function J0(n,t){const e=B4(n,t),i=yT(e);return function bX(n,t,e){if(0===t.length)return;const i=[];let r=[];const a=t.filter(c=>0===c.status).map(c=>c.currentWriteId);for(let c=0;c<t.length;c++){const h=t[c],p=Ml(e,h.path);let b,v=!1;if((0,K.hu)(null!==p,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status)v=!0,b=h.abortReason,r=r.concat(Jg(n.serverSyncTree_,h.currentWriteId,!0));else if(0===h.status)if(h.retryCount>=aX)v=!0,b="maxretry",r=r.concat(Jg(n.serverSyncTree_,h.currentWriteId,!0));else{const D=K2(n,h.path,a);h.currentInputSnapshot=D;const P=t[c].update(D.val());if(void 0!==P){bT("transaction failed: Data returned ",P,h.path);let R=ko(P);"object"==typeof P&&null!=P&&(0,K.r3)(P,".priority")||(R=R.updatePriority(D.getPriority()));const V=h.currentWriteId,Q=TT(n),ee=V2(R,D,Q);h.currentOutputSnapshotRaw=R,h.currentOutputSnapshotResolved=ee,h.currentWriteId=SA(n),a.splice(a.indexOf(V),1),r=r.concat(O2(n.serverSyncTree_,h.path,ee,h.currentWriteId,h.applyLocally)),r=r.concat(Jg(n.serverSyncTree_,V,!0))}else v=!0,b="nodata",r=r.concat(Jg(n.serverSyncTree_,h.currentWriteId,!0))}Kc(n.eventQueue_,e,r),r=[],v&&(t[c].status=2,setTimeout(t[c].unwatcher,Math.floor(0)),t[c].onComplete&&i.push("nodata"===b?()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot):()=>t[c].onComplete(new Error(b),!1,null)))}MA(n,n.transactionQueueTree_);for(let c=0;c<i.length;c++)z0(i[c]);AA(n,n.transactionQueueTree_)}(n,V4(n,e),i),i}function B4(n,t){let e,i=n.transactionQueueTree_;for(e=pi(t);null!==e&&void 0===rv(i);)i=TA(i,e),e=pi(t=Mr(t));return i}function V4(n,t){const e=[];return Z4(n,t,e),e.sort((i,r)=>i.order-r.order),e}function Z4(n,t,e){const i=rv(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);DA(t,r=>{Z4(n,r,e)})}function MA(n,t){const e=rv(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,H2(t,e.length>0?e:void 0)}DA(t,i=>{MA(n,i)})}function Q2(n,t){const e=yT(B4(n,t)),i=TA(n.transactionQueueTree_,t);return function JJ(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{J2(n,r)}),J2(n,i),x4(i,r=>{J2(n,r)}),e}function J2(n,t){const e=rv(t);if(e){const i=[];let r=[],s=-1;for(let a=0;a<e.length;a++)3===e[a].status||(1===e[a].status?((0,K.hu)(s===a-1,"All SENT items should be at beginning of queue."),s=a,e[a].status=3,e[a].abortReason="set"):((0,K.hu)(0===e[a].status,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(Jg(n.serverSyncTree_,e[a].currentWriteId,!0)),e[a].onComplete&&i.push(e[a].onComplete.bind(null,new Error("set"),!1,null))));-1===s?H2(t,void 0):e.length=s+1,Kc(n.eventQueue_,yT(t),r);for(let a=0;a<i.length;a++)z0(i[a])}}const X2=function(n,t){const e=TX(n),i=e.namespace;return"firebase.com"===e.domain&&$h(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&$h("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ya("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new e2(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new sr(e.pathString)}},TX=function(n){let t="",e="",i="",r="",s="",a=!0,c="https",h=443;if("string"==typeof n){let p=n.indexOf("//");p>=0&&(c=n.substring(0,p-1),n=n.substring(p+2));let v=n.indexOf("/");-1===v&&(v=n.length);let b=n.indexOf("?");-1===b&&(b=n.length),t=n.substring(0,Math.min(v,b)),v<b&&(r=function CX(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(v,b)));const D=function EX(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ya(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,b)));p=t.indexOf(":"),p>=0?(a="https"===c||"wss"===c,h=parseInt(t.substring(p+1),10)):p=t.length;const P=t.slice(0,p);if("localhost"===P.toLowerCase())e="localhost";else if(P.split(".").length<=2)e=P;else{const R=t.indexOf(".");i=t.substring(0,R).toLowerCase(),e=t.substring(R+1),s=i}"ns"in D&&(s=D.ns)}return{host:t,port:h,domain:e,subdomain:i,secure:a,scheme:c,pathString:r,namespace:s}},z4="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",DX=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=z4.charAt(e%64),e=Math.floor(e/64);(0,K.hu)(0===e,"Cannot push at time == 0");let a=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=z4.charAt(t[r]);return(0,K.hu)(20===a.length,"nextPushId: Length should be 20."),a}}();class H4{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,K.Wl)(this.snapshot.exportVal())}}class q4{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class eF{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,K.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class j4{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new K.BH;return pX(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Vu("OnDisconnect.remove",this._path);const t=new K.BH;return F4(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Vu("OnDisconnect.set",this._path),Yh("OnDisconnect.set",t,this._path,!1);const e=new K.BH;return F4(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Vu("OnDisconnect.setWithPriority",this._path),Yh("OnDisconnect.setWithPriority",t,this._path,!1),W2("OnDisconnect.setWithPriority",e,!1);const i=new K.BH;return function gX(n,t,e,i,r){const s=ko(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(a,c)=>{"ok"===a&&$0(n.onDisconnect_,t,s),Xg(0,r,a,c)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Vu("OnDisconnect.update",this._path),A4("OnDisconnect.update",t,this._path,!1);const e=new K.BH;return function mX(n,t,e,i){if((0,K.xb)(e))return ia("onDisconnect().update() called with empty data.  Don't do anything."),void Xg(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&ra(e,(a,c)=>{const h=ko(c);$0(n.onDisconnect_,wo(t,a),h)}),Xg(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class pc{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return gi(this._path)?null:a2(this._path)}get ref(){return new Zu(this._repo,this._path)}get _queryIdentifier(){const t=GH(this._queryParams),e=JL(t);return"{}"===e?"default":e}get _queryObject(){return GH(this._queryParams)}isEqual(t){if(!((t=(0,K.m9)(t))instanceof pc))return!1;const e=this._repo===t._repo,i=l2(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function mQ(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function PA(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function em(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Gh){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==jg)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==lp)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Vr){if(null!=t&&!wT(t)||null!=e&&!wT(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,K.hu)(n.getIndex()instanceof f2||n.getIndex()===p2,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function kA(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Zu extends pc{constructor(t,e){super(t,e,new aA,!1)}get parent(){const t=LH(this._path);return null===t?null:new Zu(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class ov{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new sr(t),i=sv(this.ref,t);return new ov(this._node.getChild(e),i,Vr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new ov(r,sv(this.ref,i),Vr)))}hasChild(t){const e=new sr(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function W4(n,t){return(n=(0,K.m9)(n))._checkNotDeleted("ref"),void 0!==t?sv(n._root,t):n._root}function $4(n,t){(n=(0,K.m9)(n))._checkNotDeleted("refFromURL");const e=X2(t,n._repo.repoInfo_.nodeAdmin);M4("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&$h("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),W4(n,e.path.toString())}function sv(n,t){return null===pi((n=(0,K.m9)(n))._path)?rX("child","path",t,!1):ET("child","path",t,!1),new Zu(n._repo,wo(n._path,t))}function tF(n,t){n=(0,K.m9)(n),Vu("set",n._path),Yh("set",t,n._path,!1);const e=new K.BH;return G2(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function MX(n,t){A4("update",t,n._path,!1);const e=new K.BH;return function hX(n,t,e,i){Q0(n,"update",{path:t.toString(),value:e});let r=!0;const s=TT(n),a={};if(ra(e,(c,h)=>{r=!1,a[c]=D4(wo(t,c),ko(h),n.serverSyncTree_,s)}),r)ia("update() called with empty data.  Don't do anything."),Xg(0,i,"ok",void 0);else{const c=SA(n),h=function UJ(n,t,e,i){!function tJ(n,t,e,i){(0,K.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=T2(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Zr.fromObject(e);return K0(n,new G0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,a,c);xA(n.eventQueue_,h),n.server_.merge(t.toString(),e,(p,v)=>{const b="ok"===p;b||Ya("update at "+t+" failed: "+p);const D=Jg(n.serverSyncTree_,c,!b),P=D.length>0?J0(n,t):t;Kc(n.eventQueue_,P,D),Xg(0,i,p,v)}),ra(e,p=>{const v=Q2(n,wo(t,p));J0(n,v)}),Kc(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function PX(n){n=(0,K.m9)(n);const t=new eF(()=>{}),e=new DT(t);return function dX(n,t,e){const i=function HJ(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(p,v)=>{const b=Ml(p,e);i=i||Kg(v,b)});let r=n.syncPointTree_.get(e);r?i=i||Kg(r,Wi()):(r=new p4,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,a=s?new Gg(i,!0,!1):null;return function IJ(n){return fA(n.viewCache_)}(g4(r,t,pA(n.pendingWriteTree_,t._path),s?a.getNode():ii.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=ko(r).withIndex(t._queryParams.getIndex());let a;if(R2(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())a=mT(n.serverSyncTree_,t._path,s);else{const c=_T(n.serverSyncTree_,t);a=w4(n.serverSyncTree_,t._path,s,c)}return Kc(n.eventQueue_,t._path,a),bA(n.serverSyncTree_,t,e,null,!0),s},r=>(Q0(n,"get for query "+(0,K.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new ov(i,new Zu(n._repo,n._path),n._queryParams.getIndex()))}class DT{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new H4("value",this,new ov(t.snapshotNode,new Zu(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new q4(this,t,e):null}matches(t){return t instanceof DT&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class OA{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new q4(this,t,e):null}createEvent(t,e){(0,K.hu)(null!=t.childName,"Child events should have a childName.");const i=sv(new Zu(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new H4(t.type,this,new ov(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof OA&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function IT(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const h=e,p=(v,b)=>{Y2(n._repo,n,c),h(v,b)};p.userCallback=e.userCallback,p.context=e.context,e=p}const a=new eF(e,s||void 0),c="value"===t?new DT(a):new OA(t,a);return function _X(n,t,e){let i;i=".info"===pi(t._path)?R2(n.infoSyncTree_,t,e):R2(n.serverSyncTree_,t,e),P4(n.eventQueue_,t._path,i)}(n._repo,n,c),()=>Y2(n._repo,n,c)}function nF(n,t,e,i){return IT(n,"value",t,e,i)}function G4(n,t,e,i){return IT(n,"child_added",t,e,i)}function Y4(n,t,e,i){return IT(n,"child_changed",t,e,i)}function K4(n,t,e,i){return IT(n,"child_moved",t,e,i)}function Q4(n,t,e,i){return IT(n,"child_removed",t,e,i)}function J4(n,t,e){let i=null;const r=e?new eF(e):null;"value"===t?i=new DT(r):t&&(i=new OA(t,r)),Y2(n._repo,n,i)}class Ud{}class X4 extends Ud{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yh("endAt",this._value,t._path,!0);const e=_2(t._queryParams,this._value,this._key);if(kA(e),em(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new pc(t._repo,t._path,e,t._orderByCalled)}}class OX extends Ud{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yh("endBefore",this._value,t._path,!1);const e=function zQ(n,t,e){let i;return i=_2(n,t,n.index_===Gh||e?e:jg),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(kA(e),em(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new pc(t._repo,t._path,e,t._orderByCalled)}}class eq extends Ud{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yh("startAt",this._value,t._path,!0);const e=m2(t._queryParams,this._value,this._key);if(kA(e),em(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new pc(t._repo,t._path,e,t._orderByCalled)}}class LX extends Ud{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Yh("startAfter",this._value,t._path,!1);const e=function ZQ(n,t,e){let i;return i=m2(n,t,n.index_===Gh||e?e:lp),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(kA(e),em(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new pc(t._repo,t._path,e,t._orderByCalled)}}class UX extends Ud{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new pc(t._repo,t._path,function BQ(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class VX extends Ud{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new pc(t._repo,t._path,function VQ(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class zX extends Ud{constructor(t){super(),this._path=t}_apply(t){PA(t,"orderByChild");const e=new sr(this._path);if(gi(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new f2(e),r=lA(t._queryParams,i);return em(r),new pc(t._repo,t._path,r,!0)}}class qX extends Ud{_apply(t){PA(t,"orderByKey");const e=lA(t._queryParams,Gh);return em(e),new pc(t._repo,t._path,e,!0)}}class WX extends Ud{_apply(t){PA(t,"orderByPriority");const e=lA(t._queryParams,Vr);return em(e),new pc(t._repo,t._path,e,!0)}}class GX extends Ud{_apply(t){PA(t,"orderByValue");const e=lA(t._queryParams,p2);return em(e),new pc(t._repo,t._path,e,!0)}}class KX extends Ud{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Yh("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new X4(this._value,this._key)._apply(new eq(this._value,this._key)._apply(t))}}function Bd(n,...t){let e=(0,K.m9)(n);for(const i of t)e=i._apply(e);return e}(function MJ(n){(0,K.hu)(!vA,"__referenceConstructor has already been defined"),vA=n})(Zu),function NJ(n){(0,K.hu)(!wA,"__referenceConstructor has already been defined"),wA=n}(Zu);const JX="FIREBASE_DATABASE_EMULATOR_HOST",iF={};let tq=!1;function nq(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||$h("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ia("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let h,p,a=X2(s,r),c=a.repoInfo;typeof process<"u"&&process.env&&(p=process.env[JX]),p?(h=!0,s=`http://${p}?ns=${c.namespace}`,a=X2(s,r),c=a.repoInfo):h=!a.repoInfo.secure;const v=r&&h?new rT(rT.OWNER):new jK(n.name,n.options,t);M4("Invalid Firebase Database URL",a),gi(a.path)||$h("Database URL must point to the root of a Firebase Database (not including a child path).");const b=function tee(n,t,e,i){let r=iF[t.name];r||(r={},iF[t.name]=r);let s=r[n.toURLString()];return s&&$h("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new lX(n,tq,e,i),r[n.toURLString()]=s,s}(c,n,v,new qK(n.name,e));return new iee(b,n)}class iee{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function cX(n,t,e){if(n.stats_=r2(n.repoInfo_),n.forceRestClient_||HK())n.server_=new cA(n.repoInfo_,(i,r,s,a)=>{N4(n,i,r,s,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>L4(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,K.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new ev(n.repoInfo_,t,(i,r,s,a)=>{N4(n,i,r,s,a)},i=>{L4(n,i)},i=>{!function uX(n,t){ra(t,(e,i)=>{$2(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function GK(n,t){const e=n.toString();return n2[e]||(n2[e]=t()),n2[e]}(n.repoInfo_,()=>new GQ(n.stats_,n.server_)),n.infoData_=new HQ,n.infoSyncTree_=new y4({startListening:(i,r,s,a)=>{let c=[];const h=n.infoData_.getNode(i._path);return h.isEmpty()||(c=mT(n.infoSyncTree_,i._path,h),setTimeout(()=>{a("ok")},0)),c},stopListening:()=>{}}),$2(n,"connected",!1),n.serverSyncTree_=new y4({startListening:(i,r,s,a)=>(n.server_.listen(i,s,r,(c,h)=>{const p=a(c,h);Kc(n.eventQueue_,i._path,p)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zu(this._repo,Wi())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function eee(n,t){const e=iF[t];(!e||e[n.key]!==n)&&$h(`Database ${t}(${n.repoInfo_}) has already been deleted.`),U4(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&$h("Cannot call "+t+" on a deleted database.")}}function iq(){TH.IS_TRANSPORT_INITIALIZED&&Ya("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ree(){iq(),Wg.forceDisallow()}function oee(){iq(),H0.forceDisallow(),Wg.forceAllow()}function lee(n,t){rH(n,t)}const uee={".sv":"timestamp"};class fee{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ev.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},ev.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function cee(n){X6(Vo.SDK_VERSION),(0,Vo._registerComponent)(new Il.wA("database",(t,{instanceIdentifier:e})=>nq(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Vo.registerVersion)(Q6,"0.14.4",n),(0,Vo.registerVersion)(Q6,"0.14.4","esm2017")}();const _ee=new cc.Yd("@firebase/database-compat"),oq=function(n){_ee.warn("FIREBASE WARNING: "+n)};class wee{constructor(t){this._delegate=t}cancel(t){(0,K.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,K.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,K.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,K.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,K.Dv)("OnDisconnect.set",1,2,arguments.length),(0,K.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,K.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,K.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,K.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,oq("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,K.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class bee{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,K.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class tm{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,K.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,K.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,K.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,K.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,K.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),ET("DataSnapshot.child","path",t,!1),new tm(this._database,this._delegate.child(t))}hasChild(t){return(0,K.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ET("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,K.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,K.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,K.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new tm(this._database,e)))}hasChildren(){return(0,K.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,K.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,K.Dv)("DataSnapshot.ref",0,0,arguments.length),new Qc(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class xa{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,K.Dv)("Query.on",2,4,arguments.length),(0,K.Wj)("Query.on","callback",e,!1);const a=xa.getCancelAndContextArgs_("Query.on",i,r),c=(p,v)=>{e.call(a.context,new tm(this.database,p),v)};c.userCallback=e,c.context=a.context;const h=null===(s=a.cancel)||void 0===s?void 0:s.bind(a.context);switch(t){case"value":return nF(this._delegate,c,h),e;case"child_added":return G4(this._delegate,c,h),e;case"child_removed":return Q4(this._delegate,c,h),e;case"child_changed":return Y4(this._delegate,c,h),e;case"child_moved":return K4(this._delegate,c,h),e;default:throw new Error((0,K.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,K.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,K.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,K.Wj)("Query.off","callback",e,!0),(0,K.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,J4(this._delegate,t,r)}else J4(this._delegate,t)}get(){return PX(this._delegate).then(t=>new tm(this.database,t))}once(t,e,i,r){(0,K.Dv)("Query.once",1,4,arguments.length),(0,K.Wj)("Query.once","callback",e,!0);const s=xa.getCancelAndContextArgs_("Query.once",i,r),a=new K.BH,c=(p,v)=>{const b=new tm(this.database,p);e&&e.call(s.context,b,v),a.resolve(b)};c.userCallback=e,c.context=s.context;const h=p=>{s.cancel&&s.cancel.call(s.context,p),a.reject(p)};switch(t){case"value":nF(this._delegate,c,h,{onlyOnce:!0});break;case"child_added":G4(this._delegate,c,h,{onlyOnce:!0});break;case"child_removed":Q4(this._delegate,c,h,{onlyOnce:!0});break;case"child_changed":Y4(this._delegate,c,h,{onlyOnce:!0});break;case"child_moved":K4(this._delegate,c,h,{onlyOnce:!0});break;default:throw new Error((0,K.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(t){return(0,K.Dv)("Query.limitToFirst",1,1,arguments.length),new xa(this.database,Bd(this._delegate,function BX(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new UX(n)}(t)))}limitToLast(t){return(0,K.Dv)("Query.limitToLast",1,1,arguments.length),new xa(this.database,Bd(this._delegate,function ZX(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new VX(n)}(t)))}orderByChild(t){return(0,K.Dv)("Query.orderByChild",1,1,arguments.length),new xa(this.database,Bd(this._delegate,function HX(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ET("orderByChild","path",n,!1),new zX(n)}(t)))}orderByKey(){return(0,K.Dv)("Query.orderByKey",0,0,arguments.length),new xa(this.database,Bd(this._delegate,function jX(){return new qX}()))}orderByPriority(){return(0,K.Dv)("Query.orderByPriority",0,0,arguments.length),new xa(this.database,Bd(this._delegate,function $X(){return new WX}()))}orderByValue(){return(0,K.Dv)("Query.orderByValue",0,0,arguments.length),new xa(this.database,Bd(this._delegate,function YX(){return new GX}()))}startAt(t=null,e){return(0,K.Dv)("Query.startAt",0,2,arguments.length),new xa(this.database,Bd(this._delegate,function NX(n=null,t){return CT("startAt","key",t,!0),new eq(n,t)}(t,e)))}startAfter(t=null,e){return(0,K.Dv)("Query.startAfter",0,2,arguments.length),new xa(this.database,Bd(this._delegate,function FX(n,t){return CT("startAfter","key",t,!0),new LX(n,t)}(t,e)))}endAt(t=null,e){return(0,K.Dv)("Query.endAt",0,2,arguments.length),new xa(this.database,Bd(this._delegate,function kX(n,t){return CT("endAt","key",t,!0),new X4(n,t)}(t,e)))}endBefore(t=null,e){return(0,K.Dv)("Query.endBefore",0,2,arguments.length),new xa(this.database,Bd(this._delegate,function RX(n,t){return CT("endBefore","key",t,!0),new OX(n,t)}(t,e)))}equalTo(t,e){return(0,K.Dv)("Query.equalTo",1,2,arguments.length),new xa(this.database,Bd(this._delegate,function QX(n,t){return CT("equalTo","key",t,!0),new KX(n,t)}(t,e)))}toString(){return(0,K.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,K.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,K.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof xa))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,K.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,K.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,K.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Qc(this.database,new Zu(this._delegate._repo,this._delegate._path))}}class Qc extends xa{constructor(t,e){super(t,new pc(e._repo,e._path,new aA,!1)),this.database=t,this._delegate=e}getKey(){return(0,K.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,K.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Qc(this.database,sv(this._delegate,t))}getParent(){(0,K.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Qc(this.database,t):null}getRoot(){return(0,K.Dv)("Reference.root",0,0,arguments.length),new Qc(this.database,this._delegate.root)}set(t,e){(0,K.Dv)("Reference.set",1,2,arguments.length),(0,K.Wj)("Reference.set","onComplete",e,!0);const i=tF(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,K.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,oq("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vu("Reference.update",this._delegate._path),(0,K.Wj)("Reference.update","onComplete",e,!0);const i=MX(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,K.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,K.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function AX(n,t,e){if(Vu("setWithPriority",n._path),Yh("setWithPriority",t,n._path,!1),W2("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new K.BH;return G2(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,K.Dv)("Reference.remove",0,1,arguments.length),(0,K.Wj)("Reference.remove","onComplete",t,!0);const e=function xX(n){return Vu("remove",n._path),tF(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,K.Dv)("Reference.transaction",1,3,arguments.length),(0,K.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,K.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,K.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function pee(n,t,e){var i;if(n=(0,K.m9)(n),Vu("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new K.BH,c=nF(n,()=>{});return function yX(n,t,e,i,r,s){Q0(n,"transaction on "+t);const a={path:t,update:e,onComplete:i,status:null,order:tH(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=K2(n,t,void 0);a.currentInputSnapshot=c;const h=a.update(c.val());if(void 0===h)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{bT("transaction failed: Data returned ",h,a.path),a.status=0;const p=TA(n.transactionQueueTree_,t),v=rv(p)||[];let b;v.push(a),H2(p,v),"object"==typeof h&&null!==h&&(0,K.r3)(h,".priority")?(b=(0,K.DV)(h,".priority"),(0,K.hu)(wT(b),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):b=(CA(n.serverSyncTree_,t)||ii.EMPTY_NODE).getPriority().val();const D=TT(n),P=ko(h,b),R=V2(P,c,D);a.currentOutputSnapshotRaw=P,a.currentOutputSnapshotResolved=R,a.currentWriteId=SA(n);const F=O2(n.serverSyncTree_,t,R,a.currentWriteId,a.applyLocally);Kc(n.eventQueue_,t,F),AA(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(h,p,v)=>{let b=null;h?s.reject(h):(b=new ov(v,new Zu(n._repo,n._path),Vr),s.resolve(new fee(p,b)))},c,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new bee(s.committed,new tm(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,K.Dv)("Reference.setPriority",1,2,arguments.length),(0,K.Wj)("Reference.setPriority","onComplete",e,!0);const i=function SX(n,t){n=(0,K.m9)(n),Vu("setPriority",n._path),W2("setPriority",t,!1);const e=new K.BH;return G2(n._repo,wo(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,K.Dv)("Reference.push",0,2,arguments.length),(0,K.Wj)("Reference.push","onComplete",e,!0);const i=function IX(n,t){n=(0,K.m9)(n),Vu("push",n._path),Yh("push",t,n._path,!0);const e=R4(n._repo),i=DX(e),r=sv(n,i),s=sv(n,i);let a;return a=null!=t?tF(s,t).then(()=>s):Promise.resolve(s),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}(this._delegate,t),r=i.then(a=>new Qc(this.database,a));e&&r.then(()=>e(null),a=>e(a));const s=new Qc(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Vu("Reference.onDisconnect",this._delegate._path),new wee(new j4(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class xT{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ree,forceLongPolling:oee}}useEmulator(t,e,i={}){!function rq(n,t,e,i={}){(n=(0,K.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&$h("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&$h('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new rT(rT.OWNER);else if(i.mockUserToken){const a="string"==typeof i.mockUserToken?i.mockUserToken:(0,K.Sg)(i.mockUserToken,n.app.options.projectId);s=new rT(a)}!function XX(n,t,e,i){n.repoInfo_=new e2(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,K.Dv)("database.ref",0,1,arguments.length),t instanceof Qc){const e=$4(this._delegate,t.toString());return new Qc(this,e)}{const e=W4(this._delegate,t);return new Qc(this,e)}}refFromURL(t){(0,K.Dv)("database.refFromURL",1,1,arguments.length);const i=$4(this._delegate,t);return new Qc(this,i)}goOffline(){return(0,K.Dv)("database.goOffline",0,0,arguments.length),function see(n){(n=(0,K.m9)(n))._checkNotDeleted("goOffline"),U4(n._repo)}(this._delegate)}goOnline(){return(0,K.Dv)("database.goOnline",0,0,arguments.length),function aee(n){(n=(0,K.m9)(n))._checkNotDeleted("goOnline"),function vX(n){n.persistentConnection_&&n.persistentConnection_.resume(O4)}(n._repo)}(this._delegate)}}xT.ServerValue={TIMESTAMP:function dee(){return uee}(),increment:n=>function hee(n){return{".sv":{increment:n}}}(n)};var Eee=Object.freeze({__proto__:null,initStandalone:function Cee({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){X6(e);const a=new Il.zt("auth-internal",new Il.H0("database-standalone"));return a.setComponent(new Il.wA("auth-internal",()=>i,"PRIVATE")),{instance:new xT(nq(n,a,void 0,t,s),n),namespace:r}}});const Tee=xT.ServerValue;function sq(n,t){return(0,_u.m)(t)?Mi(()=>n,t):Mi(()=>n)}!function Dee(n){n.INTERNAL.registerComponent(new Il.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new xT(r,i)},"PUBLIC").setServiceProps({Reference:Qc,Query:xa,Database:xT,DataSnapshot:tm,enableLogging:lee,INTERNAL:Eee,ServerValue:Tee}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(sy.Z);const rF=new o.OlP("angularfire2.auth.use-emulator"),oF=new o.OlP("angularfire2.auth.settings"),sF=new o.OlP("angularfire2.auth.tenant-id"),aF=new o.OlP("angularfire2.auth.langugage-code"),lF=new o.OlP("angularfire2.auth.use-device-language"),cF=new o.OlP("angularfire.auth.persistence"),uF=(n,t,e,i,r,s,a,c)=>(0,Bo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const h=t.runOutsideAngular(()=>n.auth());if(e&&h.useEmulator(...e),i&&(h.tenantId=i),h.languageCode=r,s&&h.useDeviceLanguage(),a)for(const[p,v]of Object.entries(a))h.settings[p]=v;return c&&h.setPersistence(c),h},[e,i,r,s,a,c]);let dF=(()=>{class n{constructor(e,i,r,s,a,c,h,p,v,b,D,P){const R=new ds.x,F=Ht(void 0).pipe((0,Gm.Q)(a.outsideAngular),Mi(()=>s.runOutsideAngular(()=>Promise.resolve().then(z.bind(z,9568)))),(0,qt.U)(()=>(0,Bo.on)(e,s,i)),(0,qt.U)(V=>uF(V,s,c,p,v,b,h,D)),gb({bufferSize:1,refCount:!1}));if(ol(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ht(null);else{F.pipe(ga()).subscribe();const Q=F.pipe(Mi(de=>de.getRedirectResult().then(_e=>_e,()=>null)),Wn.iC,gb({bufferSize:1,refCount:!1})),ee=F.pipe(Mi(de=>new Ei.y(_e=>({unsubscribe:s.runOutsideAngular(()=>de.onAuthStateChanged(ue=>_e.next(ue),ue=>_e.error(ue),()=>_e.complete()))})))),re=F.pipe(Mi(de=>new Ei.y(_e=>({unsubscribe:s.runOutsideAngular(()=>de.onIdTokenChanged(ue=>_e.next(ue),ue=>_e.error(ue),()=>_e.complete()))}))));this.authState=Q.pipe(sq(ee),(0,Jv.R)(a.outsideAngular),(0,Gm.Q)(a.insideAngular)),this.user=Q.pipe(sq(re),(0,Jv.R)(a.outsideAngular),(0,Gm.Q)(a.insideAngular)),this.idToken=this.user.pipe(Mi(de=>de?(0,si.D)(de.getIdToken()):Ht(null))),this.idTokenResult=this.user.pipe(Mi(de=>de?(0,si.D)(de.getIdTokenResult()):Ht(null))),this.credential=(0,Qv.T)(Q,R,this.authState.pipe(es(de=>!de))).pipe((0,qt.U)(de=>de?.user?de:null),(0,Jv.R)(a.outsideAngular),(0,Gm.Q)(a.insideAngular))}return(0,Bo.pX)(this,F,s,{spy:{apply:(V,Q,ee)=>{(V.startsWith("signIn")||V.startsWith("createUser"))&&ee.then(re=>R.next(re))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Bo.Dh),o.LFG(Bo.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Wn.HU),o.LFG(rF,8),o.LFG(oF,8),o.LFG(sF,8),o.LFG(aF,8),o.LFG(lF,8),o.LFG(cF,8),o.LFG(qf,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function aq(n){return null==n}function lq(n){return"function"==typeof n.set}function cq(n,t){return lq(t)?t:n.ref(t)}function uq(n,t){if(function xee(n){return"string"==typeof n}(n))return t.stringCase();if(lq(n))return t.firebaseCase();if(function See(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function ST(n,t,e="on",i=Kv.z){return new Ei.y(r=>{let s=null;return s=n[e](t,(a,c)=>{i.schedule(()=>{r.next({snapshot:a,prevKey:c})}),"once"===e&&i.schedule(()=>r.complete())},a=>{i.schedule(()=>r.error(a))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,qt.U)(r=>{const{snapshot:s,prevKey:a}=r;let c=null;return s.exists()&&(c=s.key),{type:t,payload:s,prevKey:a,key:c}}),(0,pb.B)())}function dq(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Pee(n,t){const{payload:e,prevKey:i,key:r}=t,s=dq(n,r),a=function Mee(n,t){if(aq(t))return 0;{const e=dq(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let c=null;t.payload.forEach(h=>{const p={payload:h,type:"value",prevKey:c,key:h.key};return c=h.key,n=[...n,p],!1})}return n;case"child_added":if(s>-1){const c=n[s-1];(c&&c.key||null)!==i&&(n=n.filter(h=>h.payload.key!==e.key)).splice(a,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(a,0,t)}return n;case"child_removed":return n.filter(c=>c.payload.key!==e.key);case"child_changed":return n.map(c=>c.payload.key===r?t:c);case"child_moved":if(s>-1){const c=n.splice(s,1)[0];return(n=n.slice()).splice(a,0,c),n}return n;default:return n}}function hq(n){return(aq(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function fq(n,t,e){return function Aee(n,t,e){return ST(n,"value","once",e).pipe(Mi(i=>{const r=[Ht(i)];return t.forEach(s=>r.push(ST(n,s,"on",e))),(0,Qv.T)(...r).pipe(wu(Pee,[]))}),mb())}(n,t=hq(t),e)}function pq(n,t,e){const i=(t=hq(t)).map(r=>ST(n,r,"on",e));return(0,Qv.T)(...i)}function gq(n,t){return function(i,r){return uq(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Nee(n){return function(e){return e?uq(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function mq(n,t){return function(){return ST(n,"value","on",t)}}const Uee=new o.OlP("angularfire2.realtimeDatabaseURL"),Bee=new o.OlP("angularfire2.database.use-emulator");let Vee=(()=>{class n{constructor(e,i,r,s,a,c,h,p,v,b,D,P,R,F,V){this.schedulers=c;const Q=h,ee=(0,Bo.on)(e,a,i);p&&uF(ee,a,v,D,P,R,b,F),this.database=(0,Bo.cc)(`${ee.name}.database.${r}`,"AngularFireDatabase",ee.name,()=>{const re=a.runOutsideAngular(()=>ee.database(r||void 0));return Q&&re.useEmulator(...Q),re},[Q])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>cq(this.database,e));let s=r;return i&&(s=i(r)),function Lee(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:gq(i,"update"),set:gq(i,"set"),push:r=>i.push(r),remove:Nee(i),snapshotChanges:r=>fq(n,r,e).pipe(Wn.iC),stateChanges:r=>pq(n,r,e).pipe(Wn.iC),auditTrail:r=>function kee(n,t,e){return function Ree(n,t,e){return function Oee(n,t){return ST(n,"value","on",t).pipe((0,qt.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function MK(...n){const t=(0,Ys.jO)(n);return(0,Ar.e)((e,i)=>{const r=n.length,s=new Array(r);let a=n.map(()=>!1),c=!1;for(let h=0;h<r;h++)(0,bl.Xf)(n[h]).subscribe((0,hr.x)(i,p=>{s[h]=p,!c&&!a[h]&&(a[h]=!0,(c=a.every(Jl.y))&&(a=null))},fb.Z));e.subscribe((0,hr.x)(i,h=>{if(c){const p=[h,...s];i.next(t?t(...p):p)}}))})}(t),(0,qt.U)(([r,s])=>{const a=r.lastKeyToLoad,c=s.map(h=>h.key);return{actions:s,lastKeyToLoad:a,loadedKeys:c}}),function PK(n){return(0,Ar.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,hr.x)(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,qt.U)(r=>r.actions))}(n,pq(n,t).pipe(wu((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(Wn.iC),valueChanges:(r,s)=>fq(n,r,e).pipe((0,qt.U)(c=>c.map(h=>s&&s.idField?Object.assign(Object.assign({},h.payload.val()),{[s.idField]:h.key}):h.payload.val())),Wn.iC)}}(s,this)}object(e){return function Fee(n,t){return{query:n,snapshotChanges:()=>mq(n,t.schedulers.outsideAngular)().pipe(Wn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>mq(n,t.schedulers.outsideAngular)().pipe(Wn.iC,(0,qt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>cq(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Bo.Dh),o.LFG(Bo.xv,8),o.LFG(Uee,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Wn.HU),o.LFG(Bee,8),o.LFG(dF,8),o.LFG(rF,8),o.LFG(oF,8),o.LFG(sF,8),o.LFG(aF,8),o.LFG(lF,8),o.LFG(cF,8),o.LFG(qf,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Zee=(()=>{class n{constructor(){DC.Z.registerVersion("angularfire",Wn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Vee]}),n})();function hF(){return(0,Ar.e)((n,t)=>{let e,i=!1;n.subscribe((0,hr.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}function fF(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ut("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function _q(){if(typeof Uint8Array>"u")throw new ut("unimplemented","Uint8Arrays are not available in this environment.")}function vq(){if(!function e9(){return typeof atob<"u"}())throw new ut("unimplemented","Blobs are unavailable in Firestore in this environment.")}class AT{constructor(t){this._delegate=t}static fromBase64String(t){return vq(),new AT(Wh.fromBase64String(t))}static fromUint8Array(t){return _q(),new AT(Wh.fromUint8Array(t))}toBase64(){return vq(),this._delegate.toBase64()}toUint8Array(){return _q(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function pF(n){return function qee(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class jee{enableIndexedDbPersistence(t,e){return function xY(n,t){x6(n=Di(n,no));const e=rs(n);if(e._uninitializedComponentsProvider)throw new ut(Ze.FAILED_PRECONDITION,"SDK cache is already specified.");Fu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new L0;return I6(e,r,new TL(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function SY(n){x6(n=Di(n,no));const t=rs(n);if(t._uninitializedComponentsProvider)throw new ut(Ze.FAILED_PRECONDITION,"SDK cache is already specified.");Fu("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new L0;return I6(t,i,new a6(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function AY(n){if(n._initialized&&!n._terminated)throw new ut(Ze.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Rs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(e=(0,Te.Z)(function*(i){if(!Rd.D())return Promise.resolve();const r=i+"main";yield Rd.delete(r)}),function(i){return e.apply(this,arguments)})(mN(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class yq{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Pg||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Fu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){C6(this._delegate,t,e,i)}enableNetwork(){return function PY(n){return function gY(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const t=yield u6(n),e=yield d6(n);return t.setNetworkEnabled(!0),function(i){const r=Bt(i);return r.vu.delete(0),zE(r)}(e)}))}(rs(n=Di(n,no)))}(this._delegate)}disableNetwork(){return function kY(n){return function mY(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const t=yield u6(n),e=yield d6(n);return t.setNetworkEnabled(!1),(i=(0,Te.Z)(function*(r){const s=Bt(r);s.vu.add(0),yield A0(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(rs(n=Di(n,no)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,_6("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function MY(n){return function(t){const e=new Rs;return t.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function J8(n,t){return lL.apply(this,arguments)}(yield PL(t),e)})),e.promise}(rs(n=Di(n,no)))}(this._delegate)}onSnapshotsInSync(t){return function rK(n,t){return function yY(n,t){const e=new LS(t);return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return i=yield F0(n),r=e,Bt(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return i=yield F0(n),r=e,void Bt(i).ku.delete(r);var i,r}))}}(rs(n=Di(n,no)),LL(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ut("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new X0(this,RL(this._delegate,t))}catch(e){throw Pl(e,"collection()","Firestore.collection()")}}doc(t){try{return new zu(this,WE(this._delegate,t))}catch(e){throw Pl(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new kl(this,function EY(n,t){if(n=Di(n,jE),OL("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ut(Ze.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ia(n,null,(e=t,new tp(Oi.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Pl(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function mK(n,t,e){n=Di(n,no);const i=Object.assign(Object.assign({},pK),e);return function(r){if(r.maxAttempts<1)throw new ut(Ze.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,a){const c=new Rs;return r.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const h=yield h6(r);new fY(r.asyncQueue,h,a,s,c).run()})),c.promise}(rs(n),r=>t(new gK(n,r)),i)}(this._delegate,e=>t(new wq(this,e)))}batch(){return rs(this._delegate),new bq(new G6(this._delegate,t=>B0(this._delegate,t)))}loadBundle(t){return function OY(n,t){const e=rs(n=Di(n,no)),i=new DY;return function wY(n,t,e,i){const r=function(s,a){let c;return c="string"==typeof s?LZ().encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return l6(h,p);if(h instanceof ArrayBuffer)return l6(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new dY(h,a);var h}(e,ZE(t));n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function cY(n,t,e){const i=Bt(n);var r;(r=(0,Te.Z)(function*(s,a,c){try{const h=yield a.getMetadata();if(yield function(D,P){const R=Bt(D),F=is(P.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",V=>R.qs.getBundleMetadata(V,P.id)).then(V=>!!V&&V.createTime.compareTo(F)>=0)}(s.localStore,h))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(D=h).totalDocuments,bytesLoaded:D.totalBytes,totalDocuments:D.totalDocuments,totalBytes:D.totalBytes}),Promise.resolve(new Set);c._updateProgress(Jz(h));const p=new z8(h,s.localStore,a.serializer);let v=yield a.bc();for(;v;){const D=yield p.zu(v);D&&c._updateProgress(D),v=yield a.bc()}const b=yield p.complete();return yield op(s,b.Ju,void 0),yield function(D,P){const R=Bt(D);return R.persistence.runTransaction("Save bundle","readwrite",F=>R.qs.saveBundleMetadata(F,P))}(s.localStore,h),c._completeWith(b.progress),Promise.resolve(b.Hu)}catch(h){return Fu("SyncEngine",`Loading bundle failed with ${h}`),c._failWith(h),Promise.resolve(new Set)}var D}),function(s,a,c){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield PL(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function RY(n,t){return function bY(n,t){return n.asyncQueue.enqueue((0,Te.Z)(function*(){return function(e,i){const r=Bt(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield BS(n),t)}))}(rs(n=Di(n,no)),t).then(e=>e?new Ia(n,null,e.query):null)}(this._delegate,t).then(e=>e?new kl(this,e):null)}}class RA extends qL{constructor(t){super(),this.firestore=t}convertBytes(t){return new AT(new Wh(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return zu.forKey(e,this.firestore,null)}}class wq{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new RA(t)}get(t){const e=lv(t);return this._delegate.get(e).then(i=>new MT(this._firestore,new ap(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=lv(t);return i?(fF("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=lv(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=lv(t);return this._delegate.delete(e),this}}class bq{constructor(t){this._delegate=t}set(t,e,i){const r=lv(t);return i?(fF("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=lv(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=lv(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class av{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new XE(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new PT(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=av.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new av(t,new RA(t),e),r.set(e,s)),s}}av.INSTANCES=new WeakMap;class zu{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new RA(t)}static forPath(t,e,i){if(t.length%2!=0)throw new ut("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new zu(e,new to(e._delegate,i,new Ft(t)))}static forKey(t,e,i){return new zu(e,new to(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new X0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new X0(this.firestore,RL(this._delegate,t))}catch(e){throw Pl(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,K.m9)(t))instanceof to&&E6(this._delegate,t)}set(t,e){e=fF("DocumentReference.set",e);try{return e?j6(this._delegate,t,e):j6(this._delegate,t)}catch(i){throw Pl(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?jL(this._delegate,t):jL(this._delegate,t,e,...i)}catch(r){throw Pl(r,"updateDoc()","DocumentReference.update()")}}delete(){return W6(this._delegate)}onSnapshot(...t){const e=Cq(t),i=Eq(t,r=>new MT(this.firestore,new ap(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return QS(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function eK(n){n=Di(n,to);const t=Di(n.firestore,no),e=rs(t),i=new Hg(t);return function _Y(n,t){const e=new Rs;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(i=(0,Te.Z)(function*(r,s,a){try{const c=yield function(h,p){const v=Bt(h);return v.persistence.runTransaction("read document","readonly",b=>v.localDocuments.getDocument(b,p))}(r,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new ut(Ze.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const h=k0(c,`Failed to get document '${s} from cache`);a.reject(h)}}),function(r,s,a){return i.apply(this,arguments)})(yield BS(n),t,e);var i})),e.promise}(e,n._key).then(r=>new ap(t,i,n._key,r,new Y_(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function tK(n){n=Di(n,to);const t=Di(n.firestore,no);return f6(rs(t),n._key,{source:"server"}).then(e=>WL(t,n,e))}(this._delegate):function XY(n){n=Di(n,to);const t=Di(n.firestore,no);return f6(rs(t),n._key).then(e=>WL(t,n,e))}(this._delegate),e.then(i=>new MT(this.firestore,new ap(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new zu(this.firestore,this._delegate.withConverter(t?av.getInstance(this.firestore,t):null))}}function Pl(n,t,e){return n.message=n.message.replace(t,e),n}function Cq(n){for(const t of n)if("object"==typeof t&&!pF(t))return t;return{}}function Eq(n,t){var e,i;let r;return r=pF(n[0])?n[0]:pF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class MT{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new zu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return H6(this._delegate,t._delegate)}}class PT extends MT{data(t){const e=this._delegate.data(t);return function b7(n,t){n||en()}(void 0!==e),e}}class kl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new RA(t)}where(t,e,i){try{return new kl(this.firestore,Nd(this._delegate,zL(t,e,i)))}catch(r){throw Pl(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new kl(this.firestore,Nd(this._delegate,L6(t,e)))}catch(i){throw Pl(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new kl(this.firestore,Nd(this._delegate,function qY(n){return w6("limit",n),$S._create("limit",n,"F")}(t)))}catch(e){throw Pl(e,"limit()","Query.limit()")}}limitToLast(t){try{return new kl(this.firestore,Nd(this._delegate,function jY(n){return w6("limitToLast",n),$S._create("limitToLast",n,"L")}(t)))}catch(e){throw Pl(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new kl(this.firestore,Nd(this._delegate,function WY(...n){return GS._create("startAt",n,!0)}(...t)))}catch(e){throw Pl(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new kl(this.firestore,Nd(this._delegate,function $Y(...n){return GS._create("startAfter",n,!1)}(...t)))}catch(e){throw Pl(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new kl(this.firestore,Nd(this._delegate,function GY(...n){return YS._create("endBefore",n,!1)}(...t)))}catch(e){throw Pl(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new kl(this.firestore,Nd(this._delegate,function YY(...n){return YS._create("endAt",n,!0)}(...t)))}catch(e){throw Pl(e,"endAt()","Query.endAt()")}}isEqual(t){return NL(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function nK(n){n=Di(n,Ia);const t=Di(n.firestore,no),e=rs(t),i=new Hg(t);return function vY(n,t){const e=new Rs;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(i=(0,Te.Z)(function*(r,s,a){try{const c=yield AS(r,s,!0),h=new t6(s,c.ir),p=h.sc(c.documents),v=h.applyChanges(p,!1);a.resolve(v.snapshot)}catch(c){const h=k0(c,`Failed to execute query '${s} against cache`);a.reject(h)}}),function(r,s,a){return i.apply(this,arguments)})(yield BS(n),t,e);var i})),e.promise}(e,n._query).then(r=>new zg(t,i,n,r))}(this._delegate):"server"===t?.source?function iK(n){n=Di(n,Ia);const t=Di(n.firestore,no),e=rs(t),i=new Hg(t);return p6(e,n._query,{source:"server"}).then(r=>new zg(t,i,n,r))}(this._delegate):q6(this._delegate),e.then(i=>new gF(this.firestore,new zg(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=Cq(t),i=Eq(t,r=>new gF(this.firestore,new zg(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return QS(this._delegate,e,i)}withConverter(t){return new kl(this.firestore,this._delegate.withConverter(t?av.getInstance(this.firestore,t):null))}}class $ee{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new PT(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gF{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new kl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new PT(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new $ee(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new PT(this._firestore,i))})}isEqual(t){return H6(this._delegate,t._delegate)}}class X0 extends kl{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new zu(this.firestore,t):null}doc(t){try{return new zu(this.firestore,void 0===t?WE(this._delegate):WE(this._delegate,t))}catch(e){throw Pl(e,"doc()","CollectionReference.doc()")}}add(t){return $6(this._delegate,t).then(e=>new zu(this.firestore,e))}isEqual(t){return E6(this._delegate,t._delegate)}withConverter(t){return new X0(this.firestore,this._delegate.withConverter(t?av.getInstance(this.firestore,t):null))}}function lv(n){return Di(n,to)}class mF{constructor(...t){this._delegate=new sp(...t)}static documentId(){return new mF(zo.keyField().canonicalString())}isEqual(t){return(t=(0,K.m9)(t))instanceof sp&&this._delegate._internalPath.isEqual(t._internalPath)}}class cv{constructor(t){this._delegate=t}static serverTimestamp(){const t=function vK(){return new FL("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new cv(t)}static delete(){const t=function _K(){return new GE("deleteField")}();return t._methodName="FieldValue.delete",new cv(t)}static arrayUnion(...t){const e=function yK(...n){return new BY("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new cv(e)}static arrayRemove(...t){const e=function wK(...n){return new VY("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new cv(e)}static increment(t){const e=function bK(n){return new ZY("increment",n)}(t);return e._methodName="FieldValue.increment",new cv(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Gee={Firestore:yq,GeoPoint:ZS,Timestamp:vo,Blob:AT,Transaction:wq,WriteBatch:bq,DocumentReference:zu,DocumentSnapshot:MT,Query:kl,QueryDocumentSnapshot:PT,QuerySnapshot:gF,CollectionReference:X0,FieldPath:mF,FieldValue:cv,setLogLevel:function Wee(n){!function w7(n){Ig.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Tq(n,t){return function Qee(n,t=Kv.z){return new Ei.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function _F(n,t){return Tq(n,t).pipe((0,qt.U)(e=>({payload:e,type:"query"})))}function NA(n,t){return _F(n,t).pipe(pa(void 0),hF(),(0,qt.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(a=>({type:a.type,payload:a}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{const h=r.find(v=>v.doc.ref.isEqual(a.ref)),p=e?.payload.docs.find(v=>v.ref.isEqual(a.ref));h&&JSON.stringify(h.doc.metadata)===JSON.stringify(a.metadata)||!h&&p&&JSON.stringify(p.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function Dq(n,t,e){return NA(n,e).pipe(wu((i,r)=>function Xee(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function ete(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return vF(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return vF(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return vF(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),mb(),(0,qt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function vF(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function Iq(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function Kee(n){(function Yee(n,t){n.INTERNAL.registerComponent(new Il.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},Gee)))})(n,(t,e)=>new yq(t,e,new jee)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(sy.Z);class xq{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=NA(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,qt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(pa(void 0),hF(),es(([i,r])=>r.length>0||!i),(0,qt.U)(([i,r])=>r),Wn.iC)}auditTrail(t){return this.stateChanges(t).pipe(wu((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Iq(t);return Dq(this.query,e,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(t={}){return _F(this.query,this.afs.schedulers.outsideAngular).pipe((0,qt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Wn.iC)}get(t){return(0,si.D)(this.query.get(t)).pipe(Wn.iC)}add(t){return this.ref.add(t)}doc(t){return new Sq(this.ref.doc(t),this.afs)}}class Sq{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=Pq(i,e);return new xq(r,s,this.afs)}snapshotChanges(){return function Jee(n,t){return Tq(n,t).pipe(pa(void 0),hF(),(0,qt.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,qt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,si.D)(this.ref.get(t)).pipe(Wn.iC)}}class tte{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?NA(this.query,this.afs.schedulers.outsideAngular).pipe((0,qt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),es(e=>e.length>0),Wn.iC):NA(this.query,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}auditTrail(t){return this.stateChanges(t).pipe(wu((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Iq(t);return Dq(this.query,e,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(t={}){return _F(this.query,this.afs.schedulers.outsideAngular).pipe((0,qt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Wn.iC)}get(t){return(0,si.D)(this.query.get(t)).pipe(Wn.iC)}}const Aq=new o.OlP("angularfire2.enableFirestorePersistence"),Mq=new o.OlP("angularfire2.firestore.persistenceSettings"),nte=new o.OlP("angularfire2.firestore.settings"),ite=new o.OlP("angularfire2.firestore.use-emulator");function Pq(n,t=(e=>e)){return{query:t(n),ref:n}}let rte=(()=>{class n{constructor(e,i,r,s,a,c,h,p,v,b,D,P,R,F,V,Q,ee){this.schedulers=h;const re=(0,Bo.on)(e,c,i),de=v;b&&uF(re,c,D,R,F,V,P,Q),[this.firestore,this.persistenceEnabled$]=(0,Bo.cc)(`${re.name}.firestore`,"AngularFirestore",re.name,()=>{const _e=c.runOutsideAngular(()=>re.firestore());if(s&&_e.settings(s),de&&_e.useEmulator(...de),r&&!ol(a)){const ue=()=>{try{return(0,si.D)(_e.enablePersistence(p||void 0).then(()=>!0,()=>!1))}catch(pe){return typeof console<"u"&&console.warn(pe),Ht(!1)}};return[_e,c.runOutsideAngular(ue)]}return[_e,Ht(!1)]},[s,de,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:a}=Pq(r,i),c=this.schedulers.ngZone.run(()=>s);return new xq(c,a,this)}collectionGroup(e,i){const r=i||(a=>a),s=this.firestore.collectionGroup(e);return new tte(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new Sq(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Bo.Dh),o.LFG(Bo.xv,8),o.LFG(Aq,8),o.LFG(nte,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Wn.HU),o.LFG(Mq,8),o.LFG(ite,8),o.LFG(dF,8),o.LFG(rF,8),o.LFG(oF,8),o.LFG(sF,8),o.LFG(aF,8),o.LFG(lF,8),o.LFG(cF,8),o.LFG(qf,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ote=(()=>{class n{constructor(){DC.Z.registerVersion("angularfire",Wn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:Aq,useValue:!0},{provide:Mq,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[rte]}),n})();const kq_firebase={apiKey:"AIzaSyAOsw9i6F61js3aCbwPj5rsEFnApjQnlEQ",authDomain:"estateagent-2da55.firebaseapp.com",projectId:"estateagent-2da55",storageBucket:"estateagent-2da55.appspot.com",messagingSenderId:"791145182474",appId:"1:791145182474:web:9dc937800c64e7ed2036f3",measurementId:"G-F0XSWR6LGP"};class LA{}class yF{}class up{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(s=>s.toString()),r.length>0){const s=e.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(e,s)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof up?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new up;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof up?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let a=this.headers.get(e);if(!a)return;a=a.filter(c=>-1===s.indexOf(c)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ste{encodeKey(t){return Oq(t)}encodeValue(t){return Oq(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const lte=/%(\d[a-f0-9])/gi,cte={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Oq(n){return encodeURIComponent(n).replace(lte,(t,e)=>cte[e]??t)}function FA(n){return`${n}`}class nm{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ste,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ate(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,c]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],h=e.get(a)||[];h.push(c),e.set(a,h)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(FA):[FA(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new nm({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(FA(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(FA(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class ute{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Rq(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Nq(n){return typeof Blob<"u"&&n instanceof Blob}function Lq(n){return typeof FormData<"u"&&n instanceof FormData}class kT{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function dte(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new up),this.context||(this.context=new ute),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const c=e.indexOf("?");this.urlWithParams=e+(-1===c?"?":c<e.length-1?"&":"")+a}}else this.params=new nm,this.urlWithParams=e}serializeBody(){return null===this.body?null:Rq(this.body)||Nq(this.body)||Lq(this.body)||function hte(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof nm?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Lq(this.body)?null:Nq(this.body)?this.body.type||null:Rq(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nm?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,c=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,p=t.params||this.params;const v=t.context??this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((b,D)=>b.set(D,t.setHeaders[D]),h)),t.setParams&&(p=Object.keys(t.setParams).reduce((b,D)=>b.set(D,t.setParams[D]),p)),new kT(e,i,s,{params:p,headers:h,context:v,reportProgress:c,responseType:r,withCredentials:a})}}var ys=(()=>((ys=ys||{})[ys.Sent=0]="Sent",ys[ys.UploadProgress=1]="UploadProgress",ys[ys.ResponseHeader=2]="ResponseHeader",ys[ys.DownloadProgress=3]="DownloadProgress",ys[ys.Response=4]="Response",ys[ys.User=5]="User",ys))();class wF{constructor(t,e=200,i="OK"){this.headers=t.headers||new up,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class bF extends wF{constructor(t={}){super(t),this.type=ys.ResponseHeader}clone(t={}){return new bF({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class UA extends wF{constructor(t={}){super(t),this.type=ys.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new UA({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Fq extends wF{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function CF(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let OT=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof kT)s=e;else{let h,p;h=r.headers instanceof up?r.headers:new up(r.headers),r.params&&(p=r.params instanceof nm?r.params:new nm({fromObject:r.params})),s=new kT(e,i,void 0!==r.body?r.body:null,{headers:h,context:r.context,params:p,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=Ht(s).pipe(Cl(h=>this.handler.handle(h)));if(e instanceof kT||"events"===r.observe)return a;const c=a.pipe(es(h=>h instanceof UA));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe((0,qt.U)(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return c.pipe((0,qt.U)(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return c.pipe((0,qt.U)(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return c.pipe((0,qt.U)(h=>h.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new nm).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,CF(r,i))}post(e,i,r={}){return this.request("POST",e,CF(r,i))}put(e,i,r={}){return this.request("PUT",e,CF(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(LA))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Uq(n,t){return t(n)}function fte(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const gte=new o.OlP("HTTP_INTERCEPTORS"),RT=new o.OlP("HTTP_INTERCEPTOR_FNS");function mte(){let n=null;return(t,e)=>(null===n&&(n=((0,o.f3M)(gte,{optional:!0})??[]).reduceRight(fte,Uq)),n(t,e))}let Bq=(()=>{class n extends LA{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(RT)));this.chain=i.reduceRight((r,s)=>function pte(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(r,s,this.injector),Uq)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(yF),o.LFG(o.lqb))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const wte=/^\)\]\}',?\n/;let Zq=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ei.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((P,R)=>r.setRequestHeader(P,R.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const P=e.detectContentTypeHeader();null!==P&&r.setRequestHeader("Content-Type",P)}if(e.responseType){const P=e.responseType.toLowerCase();r.responseType="json"!==P?P:"text"}const s=e.serializeBody();let a=null;const c=()=>{if(null!==a)return a;const P=r.statusText||"OK",R=new up(r.getAllResponseHeaders()),F=function bte(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new bF({headers:R,status:r.status,statusText:P,url:F}),a},h=()=>{let{headers:P,status:R,statusText:F,url:V}=c(),Q=null;204!==R&&(Q=typeof r.response>"u"?r.responseText:r.response),0===R&&(R=Q?200:0);let ee=R>=200&&R<300;if("json"===e.responseType&&"string"==typeof Q){const re=Q;Q=Q.replace(wte,"");try{Q=""!==Q?JSON.parse(Q):null}catch(de){Q=re,ee&&(ee=!1,Q={error:de,text:Q})}}ee?(i.next(new UA({body:Q,headers:P,status:R,statusText:F,url:V||void 0})),i.complete()):i.error(new Fq({error:Q,headers:P,status:R,statusText:F,url:V||void 0}))},p=P=>{const{url:R}=c(),F=new Fq({error:P,status:r.status||0,statusText:r.statusText||"Unknown Error",url:R||void 0});i.error(F)};let v=!1;const b=P=>{v||(i.next(c()),v=!0);let R={type:ys.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(R.total=P.total),"text"===e.responseType&&r.responseText&&(R.partialText=r.responseText),i.next(R)},D=P=>{let R={type:ys.UploadProgress,loaded:P.loaded};P.lengthComputable&&(R.total=P.total),i.next(R)};return r.addEventListener("load",h),r.addEventListener("error",p),r.addEventListener("timeout",p),r.addEventListener("abort",p),e.reportProgress&&(r.addEventListener("progress",b),null!==s&&r.upload&&r.upload.addEventListener("progress",D)),r.send(s),i.next({type:ys.Sent}),()=>{r.removeEventListener("error",p),r.removeEventListener("abort",p),r.removeEventListener("load",h),r.removeEventListener("timeout",p),e.reportProgress&&(r.removeEventListener("progress",b),null!==s&&r.upload&&r.upload.removeEventListener("progress",D)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ua))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const EF=new o.OlP("XSRF_ENABLED"),zq=new o.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Hq=new o.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class qq{}let Tte=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=la(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ee),o.LFG(o.Lbi),o.LFG(zq))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Dte(n,t){const e=n.url.toLowerCase();if(!(0,o.f3M)(EF)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,o.f3M)(qq).getToken(),r=(0,o.f3M)(Hq);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var os=(()=>((os=os||{})[os.Interceptors=0]="Interceptors",os[os.LegacyInterceptors=1]="LegacyInterceptors",os[os.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",os[os.NoXsrfProtection=3]="NoXsrfProtection",os[os.JsonpSupport=4]="JsonpSupport",os[os.RequestsMadeViaParent=5]="RequestsMadeViaParent",os))();function ew(n,t){return{\u0275kind:n,\u0275providers:t}}function Ite(...n){const t=[OT,Zq,Bq,{provide:LA,useExisting:Bq},{provide:yF,useExisting:Zq},{provide:RT,useValue:Dte,multi:!0},{provide:EF,useValue:!0},{provide:qq,useClass:Tte}];for(const e of n)t.push(...e.\u0275providers);return(0,o.MR2)(t)}const jq=new o.OlP("LEGACY_INTERCEPTOR_FN");let Ste=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Ite(ew(os.LegacyInterceptors,[{provide:jq,useFactory:mte},{provide:RT,useExisting:jq,multi:!0}]))]}),n})();const Ate=[];let Mte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Wv.forRoot(Ate),Wv]}),n})();function Pte(n,t){if(1&n&&(o.TgZ(0,"div",36),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.count)}}let kte=(()=>{class n{constructor(e){this.http=e,this.title="estate",this.arrs=[],this.count=0,this.fatchDataNoFilter()}fatchDataNoFilter(){var e=this;return(0,Te.Z)(function*(){return yield e.http.get("https://estateagent-2da55-default-rtdb.europe-west1.firebasedatabase.app/posts.json").subscribe(i=>{e.arrs.push(Object.values(i));for(let r in e.arrs[0])e.count+=1})})()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(OT))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:79,vars:1,consts:[[1,"container-fluid"],[1,"row","flex-nowrap"],["id","sidebar",1,"bg-dark","col-auto","col-md-4","col-lg-3","min-vh-100","d-flex","flex-column","justify-content-between"],[1,"bg-dark","p-2"],["routerLink","not-found",1,"d-flex","text-decoration-none","mt-1","align-items-center","text-white"],[1,"fs-4","d-none","d-sm-inline"],[1,"nav","nav-pills","flex-column","mt-4"],["id","i_home",1,"nav-item","py-2","py-sm-0"],["href","#","routerLink","home",1,"nav-link","text-white"],[1,"fs-5","fa","fa-table-list"],["src","assets/images/homeIcon.png",2,"width","25px"],[1,"fs-6","ms-3","d-none","d-sm-inline"],["class","fs-6 ms-3 d-none d-sm-inline","id","notificationCount",4,"ngIf"],[1,"nav-item","py-2","py-sm-0"],["href","#","routerLink","landlords",1,"nav-link","text-white"],["src","assets/images/landlordIcon.png",2,"width","25px"],["href","#","routerLink","tenants",1,"nav-link","text-white"],["src","assets/images/tenantIcon.png",2,"width","25px"],["href","#","routerLink","properties",1,"nav-link","text-white"],["src","assets/images/propertyIcon.png",2,"width","25px"],["href","#","routerLink","others",1,"nav-link","text-white"],["src","assets/images/otherIcon.png",2,"width","25px"],["href","#","routerLink","money",1,"nav-link","text-white"],["src","assets/images/moneyIcon.png",2,"width","25px"],["href","#","routerLink","reports",1,"nav-link","text-white"],["src","assets/images/reportIcon.png",2,"width","25px"],["href","#","routerLink","charts",1,"nav-link","text-white"],["src","assets/images/chartIcon.png",2,"width","25px"],["href","#","routerLink","setting",1,"nav-link","text-white"],["src","assets/images/settingIcon.png",2,"width","25px"],[1,"dropdown","bg-dark","p-3"],["routerLink","profile",1,"nav-link","text-white"],["src","assets/images/userIcon.png",2,"width","25px"],["routerLink","auth",1,"nav-link","text-white"],["src","assets/images/loginIcon.png",2,"width","25px"],["id","content",1,"p-3"],["id","notificationCount",1,"fs-6","ms-3","d-none","d-sm-inline"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"span",5),o._uU(6,"Company Name"),o.qZA()(),o.TgZ(7,"ul",6)(8,"li",7)(9,"a",8)(10,"i",9),o._UZ(11,"img",10),o.qZA(),o.TgZ(12,"span",11),o._uU(13,"Home "),o.qZA(),o.YNc(14,Pte,2,1,"div",12),o.qZA()(),o.TgZ(15,"li",13)(16,"a",14)(17,"i",9),o._UZ(18,"img",15),o.qZA(),o.TgZ(19,"span",11),o._uU(20,"Landlodrd"),o.qZA()()(),o.TgZ(21,"li",13)(22,"a",16)(23,"i",9),o._UZ(24,"img",17),o.qZA(),o.TgZ(25,"span",11),o._uU(26,"Tenant"),o.qZA()()(),o.TgZ(27,"li",13)(28,"a",18)(29,"i",9),o._UZ(30,"img",19),o.qZA(),o.TgZ(31,"span",11),o._uU(32,"Property"),o.qZA()()(),o.TgZ(33,"li",13)(34,"a",20)(35,"i",9),o._UZ(36,"img",21),o.qZA(),o.TgZ(37,"span",11),o._uU(38,"Other"),o.qZA()()(),o.TgZ(39,"li",13)(40,"a",22)(41,"i",9),o._UZ(42,"img",23),o.qZA(),o.TgZ(43,"span",11),o._uU(44,"Money"),o.qZA()()(),o.TgZ(45,"li",13)(46,"a",24)(47,"i",9),o._UZ(48,"img",25),o.qZA(),o.TgZ(49,"span",11),o._uU(50,"Report"),o.qZA()()(),o.TgZ(51,"li",13)(52,"a",26)(53,"i",9),o._UZ(54,"img",27),o.qZA(),o.TgZ(55,"span",11),o._uU(56,"Charts"),o.qZA()()(),o.TgZ(57,"li",13)(58,"a",28)(59,"i",9),o._UZ(60,"img",29),o.qZA(),o.TgZ(61,"span",11),o._uU(62,"Setting"),o.qZA()()()()(),o.TgZ(63,"div",30)(64,"ul",6)(65,"li",13)(66,"a",31)(67,"i",9),o._UZ(68,"img",32),o.qZA(),o.TgZ(69,"span",11),o._uU(70,"Profile"),o.qZA()()(),o.TgZ(71,"li",13)(72,"a",33)(73,"i",9),o._UZ(74,"img",34),o.qZA(),o.TgZ(75,"span",11),o._uU(76,"Logout"),o.qZA()()()()()(),o.TgZ(77,"div",35),o._UZ(78,"router-outlet"),o.qZA()()()),2&e&&(o.xp6(14),o.Q6J("ngIf",i.count>0))},dependencies:[_i,Rw,Zm],styles:[".nav-pills[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#61ae3d}#content[_ngcontent-%COMP%]{width:75%}#notificationCount[_ngcontent-%COMP%]{background-color:red;color:#fff;text-align:center;padding:.2rem .5rem;border-radius:60%;z-index:100}"]}),n})(),qo=(()=>{class n{constructor(e){this.fdb=e,this.firebaseConfig={apiKey:"AIzaSyAOsw9i6F61js3aCbwPj5rsEFnApjQnlEQ",authDomain:"estateagent-2da55.firebaseapp.com",projectId:"estateagent-2da55",storageBucket:"estateagent-2da55.appspot.com",messagingSenderId:"791145182474",appId:"1:791145182474:web:9dc937800c64e7ed2036f3",measurementId:"G-F0XSWR6LGP"},this.app=(0,Dd.ZF)(this.firebaseConfig),this.dbs=T6(this.app)}ngOnInit(){throw new Error("Method not implemented.")}addData(e,i){var r=this;return(0,Te.Z)(function*(){const s=V0(r.fdb,i);let c=(yield function oK(n){return function sK(n,t){const e=Di(n.firestore,no),i=rs(e),r=function(s,a){const c=[];for(const h in s)Object.prototype.hasOwnProperty.call(s,h)&&c.push(a(s[h],h));return c}(t,(s,a)=>new T9(a,s._aggregateType,s._internalFieldPath));return function(s,a,c){const h=new Rs;return s.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){try{const p=yield h6(s);h.resolve(function D8(n,t,e){return SN.apply(this,arguments)}(p,a,c))}catch(p){h.reject(p)}})),h.promise}(i,n._query,r).then(s=>function(a,c,h){const p=new Hg(a);return new NY(c,p,h)}(e,n,s))}(n,{count:new $E("count")})}(s)).data().count+1;const h=GL(V0(r.fdb,"id")).id;return e.landlordId=h,e.id=c,$6(V0(r.fdb,i),e)})()}deleteData(e,i){var r=this;return(0,Te.Z)(function*(){let s;return QS(Nd(V0(r.fdb,i),zL("landlordId","==",e.landlordId)),p=>{p.docs.forEach(v=>{s=v.id}),null===s?alert("this document is not exist."):W6(GL(r.fdb,i,s)).then(v=>{}).catch(v=>console.log(v))})})()}getData(e){var i=this;return(0,Te.Z)(function*(){let r;r=yield V0(i.fdb,e);const s=Nd(r,L6("id","asc"));return yield q6(s)})()}updateData(e,i,r){var s=this;return(0,Te.Z)(function*(){let a=e.id,c=V0(s.fdb,r),h=yield Nd(c,zL("id","==",a));console.log("next step ..."),QS(h,p=>{let v="";return p.docs.forEach(D=>{v=D.id}),jL(GL(s.fdb,r,v),i)})})()}addFieldData(){return(0,Te.Z)(function*(){})()}storageData(e,i){var r=this;return(0,Te.Z)(function*(){const a=Ad(eC(r.app),e);yield function Yk(n,t,e){return function Qb(n,t,e){n._throwIfRoot("uploadBytes");const i=uI(n.storage,n._location,hg(),new qa(t,!0),e);return n.storage.makeRequestWithTokens(i,lc).then(r=>({metadata:r,ref:n}))}(n=(0,K.m9)(n),t,e)}(a,i).then(c=>alert("File is uploaded."))})()}getStorageData(e){var i=this;return(0,Te.Z)(function*(){const s=Ad(eC(i.app),e);return yield AI(s)})()}deleteStorageData(e){var i=this;return(0,Te.Z)(function*(){const s=Ad(eC(i.app),e);yield gg(s).then(()=>alert("The item is deleted.")).catch(a=>alert(a))})()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(JS))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ote=(()=>{class n{constructor(e,i){this.dbService=e,this.http=i,this.date=new Date,this.getDataArr=[]}ngOnInit(){}getPropertyData(){var e=this;return(0,Te.Z)(function*(){return yield e.dbService.getData("propertyDb")})()}getTenantData(){var e=this;return(0,Te.Z)(function*(){return yield e.dbService.getData("tenantDb")})()}getPorpToNotificaion(){var e=this;return(0,Te.Z)(function*(){let i=e.date.getUTCDate(),r=[];return yield e.getPropertyData().then(s=>{s.forEach(a=>{let h=new Date(a.data().date).getDate();i===h&&r.push(a.data())})}),yield r})()}getTenantToNotification(){var e=this;return(0,Te.Z)(function*(){let i=[];return e.tenantarr=yield e.getTenantData().then(r=>{r.forEach(s=>{i.push(s.data())})}),yield i})()}getTenantNote(){var e=this;return(0,Te.Z)(function*(){let i=[],r=[],s=[];yield e.getPorpToNotificaion().then(a=>{a.forEach(c=>{i.push(c)})}),yield e.getTenantToNotification().then(a=>{a.forEach(c=>s.push(c)),r=[]});for(let a of s)for(let c of i)a.curpostcode.toString()===c.postcode.toString()&&r.push({currentDayDate:(new Date).getUTCDate(),currentMonthDate:(new Date).getUTCMonth(),currentYearDate:(new Date).getUTCFullYear(),tfn:a.firstname,tln:a.lastname,postcode:c.postcode,rent:c.rent,schrent:c.charge,owner:c.owner,date:c.date});e.postData(r)})()}postData(e){var i=this;return(0,Te.Z)(function*(){yield i.http.get("https://estateagent-2da55-default-rtdb.europe-west1.firebasedatabase.app/posts.json").subscribe(r=>{if(null===r)e.forEach(a=>{i.http.post("https://estateagent-2da55-default-rtdb.europe-west1.firebasedatabase.app/posts.json",a).subscribe(c=>{})});else{let a=Object.values(r),c=(new Date).getUTCDate(),h=(new Date).getUTCMonth(),p=(new Date).getFullYear(),v=!1;for(let b=0;b<a.length;b++){if(a[b].currentDayDate==c&&a[b].currentMonthDate==h&&a[b].currentYearDate==p){v=!1;break}v=!0}v&&e.forEach(b=>{i.http.post("https://estateagent-2da55-default-rtdb.europe-west1.firebasedatabase.app/posts.json",b).subscribe(D=>{})})}})})()}fetchData(e=10){var i=this;return(0,Te.Z)(function*(){yield i.http.get("https://estateagent-2da55-default-rtdb.europe-west1.firebasedatabase.app/posts.json").subscribe(r=>{if(i.getDataArr.push(r),Object.keys(i.getDataArr[0]).length>e){let s=i.getDataArr[0],a=Object.values(i.getDataArr[0]);a.sort((h,p)=>Date.parse(p.date)-Date.parse(h.date));let c=a.slice(0,e);Object.fromEntries(Object.entries(s).filter(h=>{Object.values(c).includes(Object.values(h)[1])||i.deleteData(h[0])}))}})})()}deleteData(e){var i=this;return(0,Te.Z)(function*(){null==e?yield i.http.delete("https://estateagent-2da55-default-rtdb.europe-west1.firebasedatabase.app/posts.json").subscribe(r=>{}):yield i.http.delete(`https://estateagent-2da55-default-rtdb.europe-west1.firebasedatabase.app/posts/${e}.json`).subscribe(r=>{})})()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(qo),o.LFG(OT))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rte=(()=>{class n{calender(){const e=new Date,i=()=>{e.setDate(1);const r=document.querySelector(".days"),s=new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),a=new Date(e.getFullYear(),e.getMonth(),0).getDate(),c=e.getDay(),p=7-new Date(e.getFullYear(),e.getMonth()+1,0).getDay()-1;document.querySelector(".date h1").innerHTML=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],document.querySelector(".date p").innerHTML=(new Date).toDateString();let b="";for(let D=c;D>0;D--)b+=`<div class="prev-date"\n        style="\n        background-color: transparent;\n        font-size: 12px;\n        margin: 0.3rem;\n        width: calc(20.2rem / 7);\n        height: 2rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        text-shadow: 0 0.3rem 0.5rem rgba(0, 0, 0, 0.5);\n        transition: background-color 0.2s;\n        opacity: 0.5;\n        "\n\n        onmouseover="this.style.backgroundColor= '#383838';"\n        onmouseout="this.style.backgroundColor= 'transparent';"\n        >${a-D+1}</div>`;for(let D=1;D<=s;D++)D===(new Date).getDate()&&e.getMonth()===(new Date).getMonth()?b+=`<div class="today" style="\n\n          display: flex;\n          flex-wrap: wrap;\n          padding: 0.1rem;\n\n          background-color: #167e56;\n          font-size: 12px;\n          margin: 0.3rem;\n          width: calc(20.2rem / 7);\n          height: 2rem;\n\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          text-shadow: 0 0.3rem 0.5rem rgba(0, 0, 0, 0.5);\n          transition: background-color 0.2s;\n          "\n\n          onmouseover="this.style.backgroundColor= '#383838';"\n          onmouseout="this.style.backgroundColor= '#167e56';"\n\n          ">${D}</div>`:b+=`<div\n          style="\n          background-color: transparent;\n          font-size: 12px;\n          margin: 0.3rem;\n          width: calc(20.2rem / 7);\n          height: 2rem;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          text-shadow: 0 0.3rem 0.5rem rgba(0, 0, 0, 0.5);\n          transition: background-color 0.2s;\n          "\n          onmouseover="this.style.backgroundColor= '#383838';"\n          onmouseout="this.style.backgroundColor= 'transparent';"\n\n          >${D}</div>`;for(let D=1;D<=p;D++)b+=`<div class="next-date"\n        style="\n        background-color: transparent;\n        font-size: 12px;\n        margin: 0.3rem;\n        width: calc(20.2rem / 7);\n        height: 2rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        text-shadow: 0 0.3rem 0.5rem rgba(0, 0, 0, 0.5);\n        transition: background-color 0.2s;\n        opacity: 0.5;\n        "\n\n          onmouseover="this.style.backgroundColor= '#383838';"\n          onmouseout="this.style.backgroundColor= 'transparent';"\n        >${D}</div>`,r.innerHTML=b};document.querySelector(".prev").addEventListener("click",()=>{e.setMonth(e.getMonth()-1),i()}),document.querySelector(".next").addEventListener("click",()=>{e.setMonth(e.getMonth()+1),i()}),i()}mouseover(){document.getElementById("hov").style.color="yellow"}mouseout(){document.getElementById("hov").style.color="white"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nte=(()=>{class n{constructor(e){this.calendar=e}ngOnInit(){this.calendar.calender()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Rte))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-calendar"]],decls:26,vars:0,consts:[[1,"container"],[1,"calendar"],[1,"month"],[1,"fas","fa-angle-left","prev"],["alt","arrowIcon","src","assets/images/arrowPrevIcon.png"],[1,"date"],[1,"fas","fa-angle-right","next"],["alt","arrowIcon","src","assets/images/arrowNextIcon.png"],[1,"weekdays"],[1,"days"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"i",3),o._UZ(4,"img",4),o.qZA(),o.TgZ(5,"div",5),o._UZ(6,"h1")(7,"p"),o.qZA(),o.TgZ(8,"i",6),o._UZ(9,"img",7),o.qZA()(),o.TgZ(10,"div",8)(11,"div"),o._uU(12,"Sun"),o.qZA(),o.TgZ(13,"div"),o._uU(14,"Mon"),o.qZA(),o.TgZ(15,"div"),o._uU(16,"Tue"),o.qZA(),o.TgZ(17,"div"),o._uU(18,"Wed"),o.qZA(),o.TgZ(19,"div"),o._uU(20,"Thu"),o.qZA(),o.TgZ(21,"div"),o._uU(22,"Fri"),o.qZA(),o.TgZ(23,"div"),o._uU(24,"Sat"),o.qZA()(),o._UZ(25,"div",9),o.qZA()())},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Quicksand,sans-serif}.container[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#12121f;color:#eee;display:flex;justify-content:center;align-items:center}.calendar[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#222227;box-shadow:0 .5rem 3rem #0006}.month[_ngcontent-%COMP%]{width:100%;height:5rem;background-color:#167e56;display:flex;justify-content:space-between;align-items:center;padding:0 2rem;text-align:center;text-shadow:0 .3rem .5rem rgba(0,0,0,.5)}.month[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;cursor:pointer}.month[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1rem;text-transform:uppercase;letter-spacing:.1rem;margin-bottom:.2rem}.month[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.weekdays[_ngcontent-%COMP%]{width:100%;height:2rem;padding:1.5rem .4rem;display:flex;align-items:center}.weekdays[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:.9rem;letter-spacing:.1rem;width:calc(30.2rem / 7);display:flex;justify-content:center;align-items:center;text-shadow:0 .3rem .5rem rgba(0,0,0,.5)}.days[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;padding:.2rem}.days[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:.9rem;margin:.3rem;width:calc(30.2rem / 7);height:5rem;display:flex;justify-content:center;align-items:center;text-shadow:0 .3rem .5rem rgba(0,0,0,.5);transition:background-color .2s}.days[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover:not(.today){background-color:#262626;border:.2rem solid #777;cursor:pointer}.prev-date[_ngcontent-%COMP%], .next-date[_ngcontent-%COMP%]{opacity:.5}.today[_ngcontent-%COMP%]{background-color:#167e56}"]}),n})();function NT(n){return(NT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function Nt(n,t,e){return(t=function Fte(n){var t=function Lte(n,t){if("object"!==NT(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,t||"default");if("object"!==NT(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===NT(t)?t:String(t)}(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function tw(n){return n+.5|0}const dp=(n,t,e)=>Math.max(Math.min(n,e),t);function LT(n){return dp(tw(2.55*n),0,255)}function im(n){return dp(tw(255*n),0,255)}function hp(n){return dp(tw(n/2.55)/100,0,1)}function Wq(n){return dp(tw(100*n),0,100)}const Hu={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},TF=[..."0123456789ABCDEF"],Ute=n=>TF[15&n],Bte=n=>TF[(240&n)>>4]+TF[15&n],BA=n=>(240&n)>>4==(15&n),qte=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $q(n,t,e){const i=t*Math.min(e,1-e),r=(s,a=(s+n/30)%12)=>e-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function jte(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Wte(n,t,e){const i=$q(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function DF(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),a=Math.min(e,i,r),c=(s+a)/2;let h,p,v;return s!==a&&(v=s-a,p=c>.5?v/(2-s-a):v/(s+a),h=function $te(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}(e,i,r,v,s),h=60*h+.5),[0|h,p||0,c]}function IF(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(im)}function xF(n,t,e){return IF($q,n,t,e)}function Gq(n){return(n%360+360)%360}const Yq={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Kq={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let VA;const tne=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,SF=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,nw=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function ZA(n,t,e){if(n){let i=DF(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=xF(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Qq(n,t){return n&&Object.assign(t||{},n)}function Jq(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=im(n[3]))):(t=Qq(n,{r:0,g:0,b:0,a:1})).a=im(t.a),t}function one(n){return"r"===n.charAt(0)?function nne(n){const t=tne.exec(n);let i,r,s,e=255;if(t){if(t[7]!==i){const a=+t[7];e=t[8]?LT(a):dp(255*a,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?LT(i):dp(i,0,255)),r=255&(t[4]?LT(r):dp(r,0,255)),s=255&(t[6]?LT(s):dp(s,0,255)),{r:i,g:r,b:s,a:e}}}(n):function Kte(n){const t=qte.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?LT(+t[5]):im(+t[5]));const r=Gq(+t[2]),s=+t[3]/100,a=+t[4]/100;return i="hwb"===t[1]?function Gte(n,t,e){return IF(Wte,n,t,e)}(r,s,a):"hsv"===t[1]?function Yte(n,t,e){return IF(jte,n,t,e)}(r,s,a):xF(r,s,a),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class iw{constructor(t){if(t instanceof iw)return t;const e=typeof t;let i;"object"===e?i=Jq(t):"string"===e&&(i=function Zte(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*Hu[n[1]],g:255&17*Hu[n[2]],b:255&17*Hu[n[3]],a:5===t?17*Hu[n[4]]:255}:(7===t||9===t)&&(e={r:Hu[n[1]]<<4|Hu[n[2]],g:Hu[n[3]]<<4|Hu[n[4]],b:Hu[n[5]]<<4|Hu[n[6]],a:9===t?Hu[n[7]]<<4|Hu[n[8]]:255})),e}(t)||function ene(n){VA||(VA=function Xte(){const n={},t=Object.keys(Kq),e=Object.keys(Yq);let i,r,s,a,c;for(i=0;i<t.length;i++){for(a=c=t[i],r=0;r<e.length;r++)s=e[r],c=c.replace(s,Yq[s]);s=parseInt(Kq[a],16),n[c]=[s>>16&255,s>>8&255,255&s]}return n}(),VA.transparent=[0,0,0,0]);const t=VA[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||one(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Qq(this._rgb);return t&&(t.a=hp(t.a)),t}set rgb(t){this._rgb=Jq(t)}rgbString(){return this._valid?function ine(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${hp(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Hte(n){var t=(n=>BA(n.r)&&BA(n.g)&&BA(n.b)&&BA(n.a))(n)?Ute:Bte;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function Jte(n){if(!n)return;const t=DF(n),e=t[0],i=Wq(t[1]),r=Wq(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${hp(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let s;const a=e===s?.5:e,c=2*a-1,h=i.a-r.a,p=((c*h==-1?c:(c+h)/(1+c*h))+1)/2;s=1-p,i.r=255&p*i.r+s*r.r+.5,i.g=255&p*i.g+s*r.g+.5,i.b=255&p*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function rne(n,t,e){const i=nw(hp(n.r)),r=nw(hp(n.g)),s=nw(hp(n.b));return{r:im(SF(i+e*(nw(hp(t.r))-i))),g:im(SF(r+e*(nw(hp(t.g))-r))),b:im(SF(s+e*(nw(hp(t.b))-s))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new iw(this.rgb)}alpha(t){return this._rgb.a=im(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=tw(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ZA(this._rgb,2,t),this}darken(t){return ZA(this._rgb,2,-t),this}saturate(t){return ZA(this._rgb,1,t),this}desaturate(t){return ZA(this._rgb,1,-t),this}rotate(t){return function Qte(n,t){var e=DF(n);e[0]=Gq(e[0]+t),e=xF(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function fp(){}const sne=(()=>{let n=0;return()=>n++})();function Zi(n){return null===n||typeof n>"u"}function io(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Ii(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function jo(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function Jc(n,t){return jo(n)?n:t}function li(n,t){return typeof n>"u"?t:n}const Xq=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function zr(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function gr(n,t,e,i){let r,s,a;if(io(n))if(s=n.length,i)for(r=s-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<s;r++)t.call(e,n[r],r);else if(Ii(n))for(a=Object.keys(n),s=a.length,r=0;r<s;r++)t.call(e,n[a[r]],a[r])}function zA(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function HA(n){if(io(n))return n.map(HA);if(Ii(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=HA(n[e[r]]);return t}return n}function e5(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function lne(n,t,e,i){if(!e5(n))return;const r=t[n],s=e[n];Ii(r)&&Ii(s)?FT(r,s,i):t[n]=HA(s)}function FT(n,t,e){const i=io(t)?t:[t],r=i.length;if(!Ii(n))return n;const s=(e=e||{}).merger||lne;let a;for(let c=0;c<r;++c){if(a=i[c],!Ii(a))continue;const h=Object.keys(a);for(let p=0,v=h.length;p<v;++p)s(h[p],n,a,e)}return n}function UT(n,t){return FT(n,t,{merger:cne})}function cne(n,t,e){if(!e5(n))return;const i=t[n],r=e[n];Ii(i)&&Ii(r)?UT(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=HA(r))}const t5={"":n=>n,x:n=>n.x,y:n=>n.y};function rm(n,t){return(t5[t]||(t5[t]=function dne(n){const t=function une(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}(n);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(n)}function AF(n){return n.charAt(0).toUpperCase()+n.slice(1)}const BT=n=>typeof n<"u",om=n=>"function"==typeof n,n5=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},bo=Math.PI,ro=2*bo,fne=ro+bo,qA=Number.POSITIVE_INFINITY,pne=bo/180,Wo=bo/2,uv=bo/4,i5=2*bo/3,sm=Math.log10,Kh=Math.sign;function VT(n,t,e){return Math.abs(n-t)<e}function r5(n){const t=Math.round(n);n=VT(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(sm(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function rw(n){return!isNaN(parseFloat(n))&&isFinite(n)}function o5(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Vd(n){return n*(bo/180)}function MF(n){return n*(180/bo)}function s5(n){if(!jo(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function a5(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*bo&&(s+=ro),{angle:s,distance:r}}function PF(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function _ne(n,t){return(n-t+fne)%ro-bo}function Xc(n){return(n%ro+ro)%ro}function ZT(n,t,e,i){const r=Xc(n),s=Xc(t),a=Xc(e),c=Xc(s-r),h=Xc(a-r),p=Xc(r-s),v=Xc(r-a);return r===s||r===a||i&&s===a||c>h&&p<v}function oa(n,t,e){return Math.max(t,Math.min(e,n))}function pp(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function kF(n,t,e){e=e||(a=>n[a]<t);let s,i=n.length-1,r=0;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const gp=(n,t,e,i)=>kF(n,e,i?r=>{const s=n[r][t];return s<e||s===e&&n[r+1][t]===e}:r=>n[r][t]<e),yne=(n,t,e)=>kF(n,e,i=>n[i][t]>=e),l5=["push","pop","shift","splice","unshift"];function c5(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),!(i.length>0)&&(l5.forEach(s=>{delete n[s]}),delete n._chartjs)}function u5(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const d5=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function h5(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,d5.call(window,()=>{i=!1,n.apply(t,e)}))}}const OF=n=>"start"===n?"left":"end"===n?"right":"center",Ka=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function f5(n,t,e){const i=t.length;let r=0,s=i;if(n._sorted){const{iScale:a,_parsed:c}=n,h=a.axis,{min:p,max:v,minDefined:b,maxDefined:D}=a.getUserBounds();b&&(r=oa(Math.min(gp(c,a.axis,p).lo,e?i:gp(t,h,a.getPixelForValue(p)).lo),0,i-1)),s=D?oa(Math.max(gp(c,a.axis,v,!0).hi+1,e?0:gp(t,h,a.getPixelForValue(v),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function p5(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}const jA=n=>0===n||1===n,g5=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*ro/e),m5=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ro/e)+1,zT={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*Wo),easeOutSine:n=>Math.sin(n*Wo),easeInOutSine:n=>-.5*(Math.cos(bo*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>jA(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>jA(n)?n:g5(n,.075,.3),easeOutElastic:n=>jA(n)?n:m5(n,.075,.3),easeInOutElastic:n=>jA(n)?n:n<.5?.5*g5(2*n,.1125,.45):.5+.5*m5(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-zT.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*zT.easeInBounce(2*n):.5*zT.easeOutBounce(2*n-1)+.5};function RF(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function _5(n){return RF(n)?n:new iw(n)}function NF(n){return RF(n)?n:new iw(n).saturate(.5).darken(.1).hexString()}const Tne=["x","y","borderWidth","radius","tension"],Dne=["color","borderColor","backgroundColor"],v5=new Map;function HT(n,t,e){return function Sne(n,t){t=t||{};const e=n+JSON.stringify(t);let i=v5.get(e);return i||(i=new Intl.NumberFormat(n,t),v5.set(e,i)),i}(t,e).format(n)}const y5={values:n=>io(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const p=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(p<1e-4||p>1e15)&&(r="scientific"),s=function Ane(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const a=sm(Math.abs(s)),c=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),h={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),HT(n,i,h)},logarithmic(n,t,e){if(0===n)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(sm(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?y5.numeric.call(this,n,t,e):""}};var WA={formatters:y5};const dv=Object.create(null),LF=Object.create(null);function qT(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function FF(n,t,e){return"string"==typeof t?FT(qT(n,t),e):FT(qT(n,""),t)}class Pne{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>NF(r.backgroundColor),this.hoverBorderColor=(i,r)=>NF(r.borderColor),this.hoverColor=(i,r)=>NF(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return FF(this,t,e)}get(t){return qT(this,t)}describe(t,e){return FF(LF,t,e)}override(t,e){return FF(dv,t,e)}route(t,e,i,r){const s=qT(this,t),a=qT(this,i),c="_"+e;Object.defineProperties(s,{[c]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[c],p=a[r];return Ii(h)?Object.assign({},p,h):li(h,p)},set(h){this[c]=h}}})}apply(t){t.forEach(e=>e(this))}}var $o=new Pne({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Ine(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),n.set("animations",{colors:{type:"color",properties:Dne},numbers:{type:"number",properties:Tne}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function xne(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Mne(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:WA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function $A(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function One(n,t,e,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let a=0;const c=e.length;let h,p,v,b,D;for(h=0;h<c;h++)if(b=e[h],null==b||io(b)){if(io(b))for(p=0,v=b.length;p<v;p++)D=b[p],null!=D&&!io(D)&&(a=$A(n,r,s,a,D))}else a=$A(n,r,s,a,b);n.restore();const P=s.length/2;if(P>e.length){for(h=0;h<P;h++)delete r[s[h]];s.splice(0,P)}return a}function hv(n,t,e){const i=n.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function w5(n,t){(t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function UF(n,t,e,i){b5(n,t,e,i,null)}function b5(n,t,e,i,r){let s,a,c,h,p,v,b,D;const P=t.pointStyle,R=t.rotation,F=t.radius;let V=(R||0)*pne;if(P&&"object"==typeof P&&(s=P.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(e,i),n.rotate(V),n.drawImage(P,-P.width/2,-P.height/2,P.width,P.height),void n.restore();if(!(isNaN(F)||F<=0)){switch(n.beginPath(),P){default:r?n.ellipse(e,i,r/2,F,0,0,ro):n.arc(e,i,F,0,ro),n.closePath();break;case"triangle":v=r?r/2:F,n.moveTo(e+Math.sin(V)*v,i-Math.cos(V)*F),V+=i5,n.lineTo(e+Math.sin(V)*v,i-Math.cos(V)*F),V+=i5,n.lineTo(e+Math.sin(V)*v,i-Math.cos(V)*F),n.closePath();break;case"rectRounded":p=.516*F,h=F-p,a=Math.cos(V+uv)*h,b=Math.cos(V+uv)*(r?r/2-p:h),c=Math.sin(V+uv)*h,D=Math.sin(V+uv)*(r?r/2-p:h),n.arc(e-b,i-c,p,V-bo,V-Wo),n.arc(e+D,i-a,p,V-Wo,V),n.arc(e+b,i+c,p,V,V+Wo),n.arc(e-D,i+a,p,V+Wo,V+bo),n.closePath();break;case"rect":if(!R){h=Math.SQRT1_2*F,v=r?r/2:h,n.rect(e-v,i-h,2*v,2*h);break}V+=uv;case"rectRot":b=Math.cos(V)*(r?r/2:F),a=Math.cos(V)*F,c=Math.sin(V)*F,D=Math.sin(V)*(r?r/2:F),n.moveTo(e-b,i-c),n.lineTo(e+D,i-a),n.lineTo(e+b,i+c),n.lineTo(e-D,i+a),n.closePath();break;case"crossRot":V+=uv;case"cross":b=Math.cos(V)*(r?r/2:F),a=Math.cos(V)*F,c=Math.sin(V)*F,D=Math.sin(V)*(r?r/2:F),n.moveTo(e-b,i-c),n.lineTo(e+b,i+c),n.moveTo(e+D,i-a),n.lineTo(e-D,i+a);break;case"star":b=Math.cos(V)*(r?r/2:F),a=Math.cos(V)*F,c=Math.sin(V)*F,D=Math.sin(V)*(r?r/2:F),n.moveTo(e-b,i-c),n.lineTo(e+b,i+c),n.moveTo(e+D,i-a),n.lineTo(e-D,i+a),V+=uv,b=Math.cos(V)*(r?r/2:F),a=Math.cos(V)*F,c=Math.sin(V)*F,D=Math.sin(V)*(r?r/2:F),n.moveTo(e-b,i-c),n.lineTo(e+b,i+c),n.moveTo(e+D,i-a),n.lineTo(e-D,i+a);break;case"line":a=r?r/2:Math.cos(V)*F,c=Math.sin(V)*F,n.moveTo(e-a,i-c),n.lineTo(e+a,i+c);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(V)*(r?r/2:F),i+Math.sin(V)*F);break;case!1:n.closePath()}n.fill(),t.borderWidth>0&&n.stroke()}}function mp(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function GA(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function YA(n){n.restore()}function Rne(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if("middle"===r){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else"after"===r!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Nne(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function Fne(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),a=t-s.actualBoundingBoxLeft,c=t+s.actualBoundingBoxRight,p=e+s.actualBoundingBoxDescent,v=r.strikethrough?(e-s.actualBoundingBoxAscent+p)/2:p;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(a,v),n.lineTo(c,v),n.stroke()}}function Une(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function fv(n,t,e,i,r,s={}){const a=io(t)?t:[t],c=s.strokeWidth>0&&""!==s.strokeColor;let h,p;for(n.save(),n.font=r.string,function Lne(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Zi(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,s),h=0;h<a.length;++h)p=a[h],s.backdrop&&Une(n,s.backdrop),c&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Zi(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(p,e,i,s.maxWidth)),n.fillText(p,e,i,s.maxWidth),Fne(n,e,i,p,s),i+=Number(r.lineHeight);n.restore()}function jT(n,t){const{x:e,y:i,w:r,h:s,radius:a}=t;n.arc(e+a.topLeft,i+a.topLeft,a.topLeft,-Wo,bo,!0),n.lineTo(e,i+s-a.bottomLeft),n.arc(e+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,bo,Wo,!0),n.lineTo(e+r-a.bottomRight,i+s),n.arc(e+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,Wo,0,!0),n.lineTo(e+r,i+a.topRight),n.arc(e+r-a.topRight,i+a.topRight,a.topRight,0,-Wo,!0),n.lineTo(e+a.topLeft,i)}const Bne=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Vne=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Zne(n,t){const e=(""+n).match(Bne);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const zne=n=>+n||0;function BF(n,t){const e={},i=Ii(t),r=i?Object.keys(t):t,s=Ii(n)?i?a=>li(n[a],n[t[a]]):a=>n[a]:()=>n;for(const a of r)e[a]=zne(s(a));return e}function C5(n){return BF(n,{top:"y",right:"x",bottom:"y",left:"x"})}function pv(n){return BF(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Qa(n){const t=C5(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ls(n,t){let e=li((n=n||{}).size,(t=t||$o.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=li(n.style,t.style);i&&!(""+i).match(Vne)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:li(n.family,t.family),lineHeight:Zne(li(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:li(n.weight,t.weight),string:""};return r.string=function kne(n){return!n||Zi(n.size)||Zi(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function WT(n,t,e,i){let s,a,c,r=!0;for(s=0,a=n.length;s<a;++s)if(c=n[s],void 0!==c&&(void 0!==t&&"function"==typeof c&&(c=c(t),r=!1),void 0!==e&&io(c)&&(c=c[e%c.length],r=!1),void 0!==c))return i&&!r&&(i.cacheable=!1),c}function am(n,t){return Object.assign(Object.create(n),t)}function VF(n,t=[""],e,i,r=(()=>n[0])){const s=e||n;typeof i>"u"&&(i=x5("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:c=>VF([c,...n],t,s,i)};return new Proxy(a,{deleteProperty:(c,h)=>(delete c[h],delete c._keys,delete n[0][h],!0),get:(c,h)=>T5(c,h,()=>function Qne(n,t,e,i){let r;for(const s of t)if(r=x5(qne(s,n),e),typeof r<"u")return ZF(n,r)?zF(e,i,n,r):r}(h,t,n,c)),getOwnPropertyDescriptor:(c,h)=>Reflect.getOwnPropertyDescriptor(c._scopes[0],h),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(c,h)=>S5(c).includes(h),ownKeys:c=>S5(c),set(c,h,p){const v=c._storage||(c._storage=r());return c[h]=v[h]=p,delete c._keys,!0}})}function ow(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:E5(n,i),setContext:s=>ow(n,s,e,i),override:s=>ow(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty:(s,a)=>(delete s[a],delete n[a],!0),get:(s,a,c)=>T5(s,a,()=>function jne(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=n;let c=i[t];return om(c)&&a.isScriptable(t)&&(c=function Wne(n,t,e,i){const{_proxy:r,_context:s,_subProxy:a,_stack:c}=e;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let h=t(s,a||i);return c.delete(n),ZF(n,h)&&(h=zF(r._scopes,r,n,h)),h}(t,c,n,e)),io(c)&&c.length&&(c=function $ne(n,t,e,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:c}=e;if(typeof s.index<"u"&&i(n))return t[s.index%t.length];if(Ii(t[0])){const h=t,p=r._scopes.filter(v=>v!==h);t=[];for(const v of h){const b=zF(p,r,n,v);t.push(ow(b,s,a&&a[n],c))}}return t}(t,c,n,a.isIndexable)),ZF(t,c)&&(c=ow(c,r,s&&s[t],a)),c}(s,a,c)),getOwnPropertyDescriptor:(s,a)=>s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,a)=>Reflect.has(n,a),ownKeys:()=>Reflect.ownKeys(n),set:(s,a,c)=>(n[a]=c,delete s[a],!0)})}function E5(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:om(e)?e:()=>e,isIndexable:om(i)?i:()=>i}}const qne=(n,t)=>n?n+AF(t):t,ZF=(n,t)=>Ii(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function T5(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const i=e();return n[t]=i,i}function D5(n,t,e){return om(n)?n(t,e):n}const Gne=(n,t)=>!0===n?t:"string"==typeof n?rm(t,n):void 0;function Yne(n,t,e,i,r){for(const s of t){const a=Gne(e,s);if(a){n.add(a);const c=D5(a._fallback,e,r);if(typeof c<"u"&&c!==e&&c!==i)return c}else if(!1===a&&typeof i<"u"&&e!==i)return null}return!1}function zF(n,t,e,i){const r=t._rootScopes,s=D5(t._fallback,e,i),a=[...n,...r],c=new Set;c.add(i);let h=I5(c,a,e,s||e,i);return!(null===h||typeof s<"u"&&s!==e&&(h=I5(c,a,s,h,i),null===h))&&VF(Array.from(c),[""],r,s,()=>function Kne(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return io(r)&&Ii(e)?e:r||{}}(t,e,i))}function I5(n,t,e,i,r){for(;e;)e=Yne(n,t,e,i,r);return e}function x5(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function S5(n){let t=n._keys;return t||(t=n._keys=function Jne(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}function A5(n,t,e,i){const{iScale:r}=n,{key:s="r"}=this._parsing,a=new Array(i);let c,h,p,v;for(c=0,h=i;c<h;++c)p=c+e,v=t[p],a[c]={r:r.parse(rm(v,s),p)};return a}const Xne=Number.EPSILON||1e-14,sw=(n,t)=>t<n.length&&!n[t].skip&&n[t],M5=n=>"x"===n?"y":"x";function eie(n,t,e,i){const r=n.skip?t:n,s=t,a=e.skip?t:e,c=PF(s,r),h=PF(a,s);let p=c/(c+h),v=h/(c+h);p=isNaN(p)?0:p,v=isNaN(v)?0:v;const b=i*p,D=i*v;return{previous:{x:s.x-b*(a.x-r.x),y:s.y-b*(a.y-r.y)},next:{x:s.x+D*(a.x-r.x),y:s.y+D*(a.y-r.y)}}}function KA(n,t,e){return Math.max(Math.min(n,e),t)}function oie(n,t,e,i,r){let s,a,c,h;if(t.spanGaps&&(n=n.filter(p=>!p.skip)),"monotone"===t.cubicInterpolationMode)!function iie(n,t="x"){const e=M5(t),i=n.length,r=Array(i).fill(0),s=Array(i);let a,c,h,p=sw(n,0);for(a=0;a<i;++a)if(c=h,h=p,p=sw(n,a+1),h){if(p){const v=p[t]-h[t];r[a]=0!==v?(p[e]-h[e])/v:0}s[a]=c?p?Kh(r[a-1])!==Kh(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}(function tie(n,t,e){const i=n.length;let r,s,a,c,h,p=sw(n,0);for(let v=0;v<i-1;++v)if(h=p,p=sw(n,v+1),h&&p){if(VT(t[v],0,Xne)){e[v]=e[v+1]=0;continue}r=e[v]/t[v],s=e[v+1]/t[v],c=Math.pow(r,2)+Math.pow(s,2),!(c<=9)&&(a=3/Math.sqrt(c),e[v]=r*a*t[v],e[v+1]=s*a*t[v])}})(n,r,s),function nie(n,t,e="x"){const i=M5(e),r=n.length;let s,a,c,h=sw(n,0);for(let p=0;p<r;++p){if(a=c,c=h,h=sw(n,p+1),!c)continue;const v=c[e],b=c[i];a&&(s=(v-a[e])/3,c[`cp1${e}`]=v-s,c[`cp1${i}`]=b-s*t[p]),h&&(s=(h[e]-v)/3,c[`cp2${e}`]=v+s,c[`cp2${i}`]=b+s*t[p])}}(n,s,t)}(n,r);else{let p=i?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)c=n[s],h=eie(p,c,n[Math.min(s+1,a-(i?0:1))%a],t.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,p=c}t.capBezierPoints&&function rie(n,t){let e,i,r,s,a,c=mp(n[0],t);for(e=0,i=n.length;e<i;++e)a=s,s=c,c=e<i-1&&mp(n[e+1],t),s&&(r=n[e],a&&(r.cp1x=KA(r.cp1x,t.left,t.right),r.cp1y=KA(r.cp1y,t.top,t.bottom)),c&&(r.cp2x=KA(r.cp2x,t.left,t.right),r.cp2y=KA(r.cp2y,t.top,t.bottom)))}(n,e)}function P5(){return typeof window<"u"&&typeof document<"u"}function HF(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function QA(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const JA=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),aie=["top","right","bottom","left"];function gv(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=aie[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const lie=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function mv(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=JA(e),s="border-box"===r.boxSizing,a=gv(r,"padding"),c=gv(r,"border","width"),{x:h,y:p,box:v}=function cie(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i;let c,h,a=!1;if(lie(r,s,n.target))c=r,h=s;else{const p=t.getBoundingClientRect();c=i.clientX-p.left,h=i.clientY-p.top,a=!0}return{x:c,y:h,box:a}}(n,e),b=a.left+(v&&c.left),D=a.top+(v&&c.top);let{width:P,height:R}=t;return s&&(P-=a.width+c.width,R-=a.height+c.height),{x:Math.round((h-b)/P*e.width/i),y:Math.round((p-D)/R*e.height/i)}}const XA=n=>Math.round(10*n)/10;function k5(n,t,e){const i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||a.height!==r||a.width!==s)&&(n.currentDevicePixelRatio=i,a.height=r,a.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0)}const hie=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return n}();function O5(n,t){const e=function sie(n,t){return JA(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function _v(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function fie(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function pie(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},a=_v(n,r,e),c=_v(r,s,e),h=_v(s,t,e),p=_v(a,c,e),v=_v(c,h,e);return _v(p,v,e)}const gie=function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}},mie=function(){return{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}};function aw(n,t,e){return n?gie(t,e):mie()}function R5(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function N5(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function L5(n){return"angle"===n?{between:ZT,compare:_ne,normalize:Xc}:{between:pp,compare:(t,e)=>t-e,normalize:t=>t}}function F5({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:r}}function U5(n,t,e){if(!e)return[n];const{property:i,start:r,end:s}=e,a=t.length,{compare:c,between:h,normalize:p}=L5(i),{start:v,end:b,loop:D,style:P}=function _ie(n,t,e){const{property:i,start:r,end:s}=e,{between:a,normalize:c}=L5(i),h=t.length;let D,P,{start:p,end:v,loop:b}=n;if(b){for(p+=h,v+=h,D=0,P=h;D<P&&a(c(t[p%h][i]),r,s);++D)p--,v--;p%=h,v%=h}return v<p&&(v+=h),{start:p,end:v,loop:b,style:n.style}}(n,t,e),R=[];let Q,ee,re,F=!1,V=null;for(let Le=v,et=v;Le<=b;++Le)ee=t[Le%a],!ee.skip&&(Q=p(ee[i]),Q!==re&&(F=h(Q,r,s),null===V&&(F||h(r,re,Q)&&0!==c(r,re))&&(V=0===c(Q,r)?Le:et),null!==V&&(!F||0===c(s,Q)||h(s,re,Q))&&(R.push(F5({start:V,end:Le,loop:D,count:a,style:P})),V=null),et=Le,re=Q));return null!==V&&R.push(F5({start:V,end:b,loop:D,count:a,style:P})),R}function B5(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const s=U5(i[r],n.points,t);s.length&&e.push(...s)}return e}function Z5(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Cie(n,t){if(!t)return!1;const e=[],i=function(r,s){return RF(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(t,i)}class Eie{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const a=e.duration;e.listeners[r].forEach(c=>c({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(i-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=d5.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let h,a=s.length-1,c=!1;for(;a>=0;--a)h=s[a],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(t),c=!0):(s[a]=s[s.length-1],s.pop());c&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var _p=new Eie;const z5="transparent",Tie={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=_5(n||z5),r=i.valid&&_5(t||z5);return r&&r.valid?r.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class Die{constructor(t,e,i,r){const s=e[i];r=WT([t.to,r,s,t.from]);const a=WT([t.from,s,r]);this._active=!0,this._fn=t.fn||Tie[t.type||typeof a],this._easing=zT[t.easing]||zT.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=WT([t.to,e,r,t.from]),this._from=WT([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,c=this._to;let h;if(this._active=s!==c&&(a||e<i),!this._active)return this._target[r]=c,void this._notify(!0);e<0?this._target[r]=s:(h=e/i%2,h=a&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(s,c,h))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class H5{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ii(t))return;const e=Object.keys($o.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!Ii(s))return;const a={};for(const c of e)a[c]=s[c];(io(s.properties)&&s.properties||[r]).forEach(c=>{(c===r||!i.has(c))&&i.set(c,a)})})}_animateOptions(t,e){const i=e.options,r=function xie(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&function Iie(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),a=Object.keys(e),c=Date.now();let h;for(h=a.length-1;h>=0;--h){const p=a[h];if("$"===p.charAt(0))continue;if("options"===p){r.push(...this._animateOptions(t,e));continue}const v=e[p];let b=s[p];const D=i.get(p);if(b){if(D&&b.active()){b.update(D,v,c);continue}b.cancel()}D&&D.duration?(s[p]=b=new Die(D,t,p,v),r.push(b)):t[p]=v}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(_p.add(this._chart,i),!0):void 0}}function q5(n,t){const e=n&&n.options||{},i=e.reverse,r=void 0===e.min?t:0,s=void 0===e.max?t:0;return{start:i?s:r,end:i?r:s}}function j5(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function W5(n,t,e,i={}){const r=n.keys,s="single"===i.mode;let a,c,h,p;if(null!==t){for(a=0,c=r.length;a<c;++a){if(h=+r[a],h===e){if(i.all)continue;break}p=n.values[h],jo(p)&&(s||0===t||Kh(t)===Kh(p))&&(t+=p)}return t}}function $5(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function Oie(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function G5(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function Y5(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:a,index:c}=i,h=s.axis,p=a.axis,v=function Pie(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(s,a,i),b=t.length;let D;for(let P=0;P<b;++P){const R=t[P],{[h]:F,[p]:V}=R;D=(R._stacks||(R._stacks={}))[p]=Oie(r,v,F),D[c]=V,D._top=G5(D,a,!0,i.type),D._bottom=G5(D,a,!1,i.type),(D._visualValues||(D._visualValues={}))[c]=V}}function qF(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function $T(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||void 0===s[i]||void 0===s[i][e])return;delete s[i][e],void 0!==s[i]._visualValues&&void 0!==s[i]._visualValues[e]&&delete s[i]._visualValues[e]}}}const jF=n=>"reset"===n||"none"===n,K5=(n,t)=>t?n:Object.assign({},n);let lm=(()=>{class n{constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=$5(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&$T(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,r=this.getDataset(),s=(D,P,R,F)=>"x"===D?P:"r"===D?F:R,a=i.xAxisID=li(r.xAxisID,qF(e,"x")),c=i.yAxisID=li(r.yAxisID,qF(e,"y")),h=i.rAxisID=li(r.rAxisID,qF(e,"r")),p=i.indexAxis,v=i.iAxisID=s(p,a,c,h),b=i.vAxisID=s(p,c,a,h);i.xScale=this.getScaleForId(a),i.yScale=this.getScaleForId(c),i.rScale=this.getScaleForId(h),i.iScale=this.getScaleForId(v),i.vScale=this.getScaleForId(b)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&c5(this._data,this),e._stacked&&$T(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),r=this._data;if(Ii(i))this._data=function Mie(n){const t=Object.keys(n),e=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],e[i]={x:s,y:n[s]};return e}(i);else if(r!==i){if(r){c5(r,this);const s=this._cachedMeta;$T(s),s._parsed=[]}i&&Object.isExtensible(i)&&function bne(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),l5.forEach(e=>{const i="_onData"+AF(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return n._chartjs.listeners.forEach(c=>{"function"==typeof c[i]&&c[i](...s)}),a}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const a=i._stacked;i._stacked=$5(i.vScale,i),i.stack!==r.stack&&(s=!0,$T(i),i.stack=r.stack),this._resyncElements(e),(s||a!==i._stacked)&&Y5(this,i._parsed)}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:r,_data:s}=this,{iScale:a,_stacked:c}=r,h=a.axis;let b,D,P,p=0===e&&i===s.length||r._sorted,v=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=s,r._sorted=!0,P=s;else{P=io(s[e])?this.parseArrayData(r,s,e,i):Ii(s[e])?this.parseObjectData(r,s,e,i):this.parsePrimitiveData(r,s,e,i);const R=()=>null===D[h]||v&&D[h]<v[h];for(b=0;b<i;++b)r._parsed[b+e]=D=P[b],p&&(R()&&(p=!1),v=D);r._sorted=p}c&&Y5(this,P)}parsePrimitiveData(e,i,r,s){const{iScale:a,vScale:c}=e,h=a.axis,p=c.axis,v=a.getLabels(),b=a===c,D=new Array(s);let P,R,F;for(P=0,R=s;P<R;++P)F=P+r,D[P]={[h]:b||a.parse(v[F],F),[p]:c.parse(i[F],F)};return D}parseArrayData(e,i,r,s){const{xScale:a,yScale:c}=e,h=new Array(s);let p,v,b,D;for(p=0,v=s;p<v;++p)b=p+r,D=i[b],h[p]={x:a.parse(D[0],b),y:c.parse(D[1],b)};return h}parseObjectData(e,i,r,s){const{xScale:a,yScale:c}=e,{xAxisKey:h="x",yAxisKey:p="y"}=this._parsing,v=new Array(s);let b,D,P,R;for(b=0,D=s;b<D;++b)P=b+r,R=i[P],v[b]={x:a.parse(rm(R,h),P),y:c.parse(rm(R,p),P)};return v}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,r){const a=this._cachedMeta,c=i[e.axis];return W5({keys:j5(this.chart,!0),values:i._stacks[e.axis]._visualValues},c,a.index,{mode:r})}updateRangeFromParsed(e,i,r,s){const a=r[i.axis];let c=null===a?NaN:a;const h=s&&r._stacks[i.axis];s&&h&&(s.values=h,c=W5(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,i){const r=this._cachedMeta,s=r._parsed,a=r._sorted&&e===r.iScale,c=s.length,h=this._getOtherScale(e),p=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:j5(this.chart,!0),values:null})(i,r),v={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:b,max:D}=function kie(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(h);let P,R;function F(){R=s[P];const V=R[h.axis];return!jo(R[e.axis])||b>V||D<V}for(P=0;P<c&&(F()||(this.updateRangeFromParsed(v,e,R,p),!a));++P);if(a)for(P=c-1;P>=0;--P)if(!F()){this.updateRangeFromParsed(v,e,R,p);break}return v}getAllParsedValues(e){const i=this._cachedMeta._parsed,r=[];let s,a,c;for(s=0,a=i.length;s<a;++s)c=i[s][e.axis],jo(c)&&r.push(c);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,r=i.iScale,s=i.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=function Aie(n){let t,e,i,r;return Ii(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:!1===n}}(li(this.options.clip,function Sie(n,t,e){if(!1===e)return!1;const i=q5(n,e),r=q5(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,s=r.data||[],a=this.chart.chartArea,c=[],h=this._drawStart||0,p=this._drawCount||s.length-h,v=this.options.drawActiveElementsOnTop;let b;for(r.dataset&&r.dataset.draw(e,a,h,p),b=h;b<h+p;++b){const D=s[b];D.hidden||(D.active&&v?c.push(D):D.draw(e,a))}for(b=0;b<c.length;++b)c[b].draw(e,a)}getStyle(e,i){const r=i?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,i,r){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];a=c.$context||(c.$context=function Nie(n,t,e){return am(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),e,c)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=function Rie(n,t){return am(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!i,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",r){const s="active"===i,a=this._cachedDataOpts,c=e+"-"+i,h=a[c],p=this.enableOptionSharing&&BT(r);if(h)return K5(h,p);const v=this.chart.config,b=v.datasetElementScopeKeys(this._type,e),D=s?[`${e}Hover`,"hover",e,""]:[e,""],P=v.getOptionScopes(this.getDataset(),b),R=Object.keys($o.elements[e]),V=v.resolveNamedOptions(P,R,()=>this.getContext(r,s,i),D);return V.$shared&&(V.$shared=p,a[c]=Object.freeze(K5(V,p))),V}_resolveAnimations(e,i,r){const s=this.chart,a=this._cachedDataOpts,c=`animation-${i}`,h=a[c];if(h)return h;let p;if(!1!==s.options.animation){const b=this.chart.config,D=b.datasetAnimationScopeKeys(this._type,i),P=b.getOptionScopes(this.getDataset(),D);p=b.createResolver(P,this.getContext(e,r,i))}const v=new H5(s,p&&p.animations);return p&&p._cacheable&&(a[c]=Object.freeze(v)),v}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||jF(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){const r=this.resolveDataElementOptions(e,i),s=this._sharedOptions,a=this.getSharedOptions(r),c=this.includeOptions(i,a)||a!==s;return this.updateSharedOptions(a,i,r),{sharedOptions:a,includeOptions:c}}updateElement(e,i,r,s){jF(s)?Object.assign(e,r):this._resolveAnimations(i,s).update(e,r)}updateSharedOptions(e,i,r){e&&!jF(i)&&this._resolveAnimations(void 0,i).update(e,r)}_setStyle(e,i,r,s){e.active=s;const a=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,i,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,i,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,r=this._cachedMeta.data;for(const[h,p,v]of this._syncList)this[h](p,v);this._syncList=[];const s=r.length,a=i.length,c=Math.min(a,s);c&&this.parse(0,c),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,i,r=!0){const s=this._cachedMeta,a=s.data,c=e+i;let h;const p=v=>{for(v.length+=i,h=v.length-1;h>=c;h--)v[h]=v[h-i]};for(p(a),h=e;h<c;++h)a[h]=new this.dataElementType;this._parsing&&p(s._parsed),this.parse(e,i),r&&this.updateElements(a,e,i,"reset")}updateElements(e,i,r,s){}_removeElements(e,i){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,i);r._stacked&&$T(r,s)}r.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,r,s]=e;this[i](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return Nt(n,"defaults",{}),Nt(n,"datasetElementType",null),Nt(n,"dataElementType",null),n})();function Uie(n){const t=n.iScale,e=function Fie(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=u5(i.sort((r,s)=>r-s))}return n._cache.$bar}(t,n.type);let r,s,a,c,i=t._length;const h=()=>{32767===a||-32768===a||(BT(c)&&(i=Math.min(i,Math.abs(a-c)||i)),c=a)};for(r=0,s=e.length;r<s;++r)a=t.getPixelForValue(e[r]),h();for(c=void 0,r=0,s=t.ticks.length;r<s;++r)a=t.getPixelForTick(r),h();return i}function Q5(n,t,e,i){return io(n)?function Zie(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),a=Math.min(r,s),c=Math.max(r,s);let h=a,p=c;Math.abs(a)>Math.abs(c)&&(h=c,p=a),t[e.axis]=p,t._custom={barStart:h,barEnd:p,start:r,end:s,min:a,max:c}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function J5(n,t,e,i){const r=n.iScale,s=n.vScale,a=r.getLabels(),c=r===s,h=[];let p,v,b,D;for(p=e,v=e+i;p<v;++p)D=t[p],b={},b[r.axis]=c||r.parse(a[p],p),h.push(Q5(D,b,s,p));return h}function WF(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function qie(n,t,e,i){let r=t.borderSkipped;const s={};if(!r)return void(n.borderSkipped=s);if(!0===r)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:c,reverse:h,top:p,bottom:v}=function Hie(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}(n);"middle"===r&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=p:(e._bottom||0)===i?r=v:(s[X5(v,a,c,h)]=!0,r=p)),s[X5(r,a,c,h)]=!0,n.borderSkipped=s}function X5(n,t,e,i){return i?(n=function jie(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=ej(n,e,t)):n=ej(n,t,e),n}function ej(n,t,e){return"start"===n?t:"end"===n?e:n}function Wie(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}let $ie=(()=>{class n extends lm{parsePrimitiveData(e,i,r,s){return J5(e,i,r,s)}parseArrayData(e,i,r,s){return J5(e,i,r,s)}parseObjectData(e,i,r,s){const{iScale:a,vScale:c}=e,{xAxisKey:h="x",yAxisKey:p="y"}=this._parsing,v="x"===a.axis?h:p,b="x"===c.axis?h:p,D=[];let P,R,F,V;for(P=r,R=r+s;P<R;++P)V=i[P],F={},F[a.axis]=a.parse(rm(V,v),P),D.push(Q5(rm(V,b),F,c,P));return D}updateRangeFromParsed(e,i,r,s){super.updateRangeFromParsed(e,i,r,s);const a=r._custom;a&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:r,vScale:s}=i,a=this.getParsed(e),c=a._custom,h=WF(c)?"["+c.start+", "+c.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,r,s){const a="reset"===s,{index:c,_cachedMeta:{vScale:h}}=this,p=h.getBasePixel(),v=h.isHorizontal(),b=this._getRuler(),{sharedOptions:D,includeOptions:P}=this._getSharedOptions(i,s);for(let R=i;R<i+r;R++){const F=this.getParsed(R),V=a||Zi(F[h.axis])?{base:p,head:p}:this._calculateBarValuePixels(R),Q=this._calculateBarIndexPixels(R,b),ee=(F._stacks||{})[h.axis],re={horizontal:v,base:V.base,enableBorderRadius:!ee||WF(F._custom)||c===ee._top||c===ee._bottom,x:v?V.head:Q.center,y:v?Q.center:V.head,height:v?Q.size:Math.abs(V.size),width:v?Math.abs(V.size):Q.size};P&&(re.options=D||this.resolveDataElementOptions(R,e[R].active?"active":s));const de=re.options||e[R].options;qie(re,de,ee,c),Wie(re,de,b.ratio),this.updateElement(e[R],R,re,s)}}_getStacks(e,i){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=r.options.stacked,c=[],h=p=>{const v=p.controller.getParsed(i),b=v&&v[p.vScale.axis];if(Zi(b)||isNaN(b))return!0};for(const p of s)if((void 0===i||!h(p))&&((!1===a||-1===c.indexOf(p.stack)||void 0===a&&void 0===p.stack)&&c.push(p.stack),p.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,r){const s=this._getStacks(e,r),a=void 0!==i?s.indexOf(i):-1;return-1===a?s.length-1:a}_getRuler(){const e=this.options,i=this._cachedMeta,r=i.iScale,s=[];let a,c;for(a=0,c=i.data.length;a<c;++a)s.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const h=e.barThickness;return{min:h||Uie(i),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:h?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:r,index:s},options:{base:a,minBarLength:c}}=this,h=a||0,p=this.getParsed(e),v=p._custom,b=WF(v);let F,V,D=p[i.axis],P=0,R=r?this.applyStack(i,p,r):D;R!==D&&(P=R-D,R=D),b&&(D=v.barStart,R=v.barEnd-v.barStart,0!==D&&Kh(D)!==Kh(v.barEnd)&&(P=0),P+=D);const Q=Zi(a)||b?P:a;let ee=i.getPixelForValue(Q);if(F=this.chart.getDataVisibility(e)?i.getPixelForValue(P+R):ee,V=F-ee,Math.abs(V)<c){V=function zie(n,t,e){return 0!==n?Kh(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(V,i,h)*c,D===h&&(ee-=V/2);const re=i.getPixelForDecimal(0),de=i.getPixelForDecimal(1),_e=Math.min(re,de),ue=Math.max(re,de);ee=Math.max(Math.min(ee,ue),_e),F=ee+V,r&&!b&&(p._stacks[i.axis]._visualValues[s]=i.getValueForPixel(F)-i.getValueForPixel(ee))}if(ee===i.getPixelForValue(h)){const re=Kh(V)*i.getLineWidthForValue(h)/2;ee+=re,V-=re}return{size:V,base:ee,head:F,center:F+V/2}}_calculateBarIndexPixels(e,i){const r=i.scale,s=this.options,a=s.skipNull,c=li(s.maxBarThickness,1/0);let h,p;if(i.grouped){const v=a?this._getStackCount(e):i.stackCount,b="flex"===s.barThickness?function Vie(n,t,e,i){const r=t.pixels,s=r[n];let a=n>0?r[n-1]:null,c=n<r.length-1?r[n+1]:null;const h=e.categoryPercentage;null===a&&(a=s-(null===c?t.end-t.start:c-s)),null===c&&(c=s+s-a);const p=s-(s-Math.min(a,c))/2*h;return{chunk:Math.abs(c-a)/2*h/i,ratio:e.barPercentage,start:p}}(e,i,s,v):function Bie(n,t,e,i){const r=e.barThickness;let s,a;return Zi(r)?(s=t.min*e.categoryPercentage,a=e.barPercentage):(s=r*i,a=1),{chunk:s/i,ratio:a,start:t.pixels[n]-s/2}}(e,i,s,v),D=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);h=b.start+b.chunk*D+b.chunk/2,p=Math.min(c,b.chunk*b.ratio)}else h=r.getPixelForValue(this.getParsed(e)[r.axis],e),p=Math.min(c,i.min*i.ratio);return{base:h-p/2,head:h+p/2,center:h,size:p}}draw(){const e=this._cachedMeta,i=e.vScale,r=e.data,s=r.length;let a=0;for(;a<s;++a)null!==this.getParsed(a)[i.axis]&&r[a].draw(this._ctx)}}return Nt(n,"id","bar"),Nt(n,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Nt(n,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}}),n})(),Gie=(()=>{class n extends lm{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,r,s){const a=super.parsePrimitiveData(e,i,r,s);for(let c=0;c<a.length;c++)a[c]._custom=this.resolveDataElementOptions(c+r).radius;return a}parseArrayData(e,i,r,s){const a=super.parseArrayData(e,i,r,s);for(let c=0;c<a.length;c++)a[c]._custom=li(i[r+c][2],this.resolveDataElementOptions(c+r).radius);return a}parseObjectData(e,i,r,s){const a=super.parseObjectData(e,i,r,s);for(let c=0;c<a.length;c++){const h=i[r+c];a[c]._custom=li(h&&h.r&&+h.r,this.resolveDataElementOptions(c+r).radius)}return a}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let r=e.length-1;r>=0;--r)i=Math.max(i,e[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:a}=i,c=this.getParsed(e),h=s.getLabelForValue(c.x),p=a.getLabelForValue(c.y),v=c._custom;return{label:r[e]||"",value:"("+h+", "+p+(v?", "+v:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,r,s){const a="reset"===s,{iScale:c,vScale:h}=this._cachedMeta,{sharedOptions:p,includeOptions:v}=this._getSharedOptions(i,s),b=c.axis,D=h.axis;for(let P=i;P<i+r;P++){const R=e[P],F=!a&&this.getParsed(P),V={},Q=V[b]=a?c.getPixelForDecimal(.5):c.getPixelForValue(F[b]),ee=V[D]=a?h.getBasePixel():h.getPixelForValue(F[D]);V.skip=isNaN(Q)||isNaN(ee),v&&(V.options=p||this.resolveDataElementOptions(P,R.active?"active":s),a&&(V.options.radius=0)),this.updateElement(R,P,V,s)}}resolveDataElementOptions(e,i){const r=this.getParsed(e);let s=super.resolveDataElementOptions(e,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const a=s.radius;return"active"!==i&&(s.radius=0),s.radius+=li(r&&r._custom,a),s}}return Nt(n,"id","bubble"),Nt(n,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Nt(n,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}}),n})(),$F=(()=>{class n extends lm{constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const r=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=r;else{let c,h,a=p=>+r[p];if(Ii(r[e])){const{key:p="value"}=this._parsing;a=v=>+rm(r[v],p)}for(c=e,h=e+i;c<h;++c)s._parsed[c]=a(c)}}_getRotation(){return Vd(this.options.rotation-90)}_getCircumference(){return Vd(this.options.circumference)}_getRotationExtents(){let e=ro,i=-ro;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,a=s._getRotation(),c=s._getCircumference();e=Math.min(e,a),i=Math.max(i,a+c)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:r}=i,s=this._cachedMeta,a=s.data,c=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,h=Math.max((Math.min(r.width,r.height)-c)/2,0),p=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/t)(this.options.cutout,h),1),v=this._getRingWeight(this.index),{circumference:b,rotation:D}=this._getRotationExtents(),{ratioX:P,ratioY:R,offsetX:F,offsetY:V}=function Yie(n,t,e){let i=1,r=1,s=0,a=0;if(t<ro){const c=n,h=c+t,p=Math.cos(c),v=Math.sin(c),b=Math.cos(h),D=Math.sin(h),P=(re,de,_e)=>ZT(re,c,h,!0)?1:Math.max(de,de*e,_e,_e*e),R=(re,de,_e)=>ZT(re,c,h,!0)?-1:Math.min(de,de*e,_e,_e*e),F=P(0,p,b),V=P(Wo,v,D),Q=R(bo,p,b),ee=R(bo+Wo,v,D);i=(F-Q)/2,r=(V-ee)/2,s=-(F+Q)/2,a=-(V+ee)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}(D,b,p),re=Math.max(Math.min((r.width-c)/P,(r.height-c)/R)/2,0),de=Xq(this.options.radius,re),ue=(de-Math.max(de*p,0))/this._getVisibleDatasetWeightTotal();this.offsetX=F*de,this.offsetY=V*de,s.total=this.calculateTotal(),this.outerRadius=de-ue*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ue*v,0),this.updateElements(a,0,a.length,e)}_circumference(e,i){const r=this.options,s=this._cachedMeta,a=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===s._parsed[e]||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*a/ro)}updateElements(e,i,r,s){const a="reset"===s,c=this.chart,h=c.chartArea,b=(h.left+h.right)/2,D=(h.top+h.bottom)/2,P=a&&c.options.animation.animateScale,R=P?0:this.innerRadius,F=P?0:this.outerRadius,{sharedOptions:V,includeOptions:Q}=this._getSharedOptions(i,s);let re,ee=this._getRotation();for(re=0;re<i;++re)ee+=this._circumference(re,a);for(re=i;re<i+r;++re){const de=this._circumference(re,a),_e=e[re],ue={x:b+this.offsetX,y:D+this.offsetY,startAngle:ee,endAngle:ee+de,circumference:de,outerRadius:F,innerRadius:R};Q&&(ue.options=V||this.resolveDataElementOptions(re,_e.active?"active":s)),ee+=de,this.updateElement(_e,re,ue,s)}}calculateTotal(){const e=this._cachedMeta,i=e.data;let s,r=0;for(s=0;s<i.length;s++){const a=e._parsed[s];null!==a&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?ro*(Math.abs(e)/i):0}getLabelAndValue(e){const r=this.chart,s=r.data.labels||[],a=HT(this._cachedMeta._parsed[e],r.options.locale);return{label:s[e]||"",value:a}}getMaxBorderWidth(e){let i=0;const r=this.chart;let s,a,c,h,p;if(!e)for(s=0,a=r.data.datasets.length;s<a;++s)if(r.isDatasetVisible(s)){c=r.getDatasetMeta(s),e=c.data,h=c.controller;break}if(!e)return 0;for(s=0,a=e.length;s<a;++s)p=h.resolveDataElementOptions(s),"inner"!==p.borderAlign&&(i=Math.max(i,p.borderWidth||0,p.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let r=0,s=e.length;r<s;++r){const a=this.resolveDataElementOptions(r);i=Math.max(i,a.offset||0,a.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(e){return Math.max(li(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return Nt(n,"id","doughnut"),Nt(n,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Nt(n,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Nt(n,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,a)=>{const h=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}}),n})(),Kie=(()=>{class n extends lm{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:r,data:s=[],_dataset:a}=i,c=this.chart._animationsDisabled;let{start:h,count:p}=f5(i,s,c);this._drawStart=h,this._drawCount=p,p5(i)&&(h=0,p=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=s;const v=this.resolveDatasetElementOptions(e);this.options.showLine||(v.borderWidth=0),v.segment=this.options.segment,this.updateElement(r,void 0,{animated:!c,options:v},e),this.updateElements(s,h,p,e)}updateElements(e,i,r,s){const a="reset"===s,{iScale:c,vScale:h,_stacked:p,_dataset:v}=this._cachedMeta,{sharedOptions:b,includeOptions:D}=this._getSharedOptions(i,s),P=c.axis,R=h.axis,{spanGaps:F,segment:V}=this.options,Q=rw(F)?F:Number.POSITIVE_INFINITY,ee=this.chart._animationsDisabled||a||"none"===s,re=i+r,de=e.length;let _e=i>0&&this.getParsed(i-1);for(let ue=0;ue<de;++ue){const pe=e[ue],Le=ee?pe:{};if(ue<i||ue>=re){Le.skip=!0;continue}const et=this.getParsed(ue),bt=Zi(et[R]),at=Le[P]=c.getPixelForValue(et[P],ue),ot=Le[R]=a||bt?h.getBasePixel():h.getPixelForValue(p?this.applyStack(h,et,p):et[R],ue);Le.skip=isNaN(at)||isNaN(ot)||bt,Le.stop=ue>0&&Math.abs(et[P]-_e[P])>Q,V&&(Le.parsed=et,Le.raw=v.data[ue]),D&&(Le.options=b||this.resolveDataElementOptions(ue,pe.active?"active":s)),ee||this.updateElement(pe,ue,Le,s),_e=et}}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,r=i.options&&i.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const a=s[0].size(this.resolveDataElementOptions(0)),c=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,a,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return Nt(n,"id","line"),Nt(n,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Nt(n,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}}),n})(),tj=(()=>{class n extends lm{constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,s=r.data.labels||[],a=HT(this._cachedMeta._parsed[e].r,r.options.locale);return{label:s[e]||"",value:a}}parseObjectData(e,i,r,s){return A5.bind(this)(e,i,r,s)}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,s)=>{const a=this.getParsed(s).r;!isNaN(a)&&this.chart.getDataVisibility(s)&&(a<i.min&&(i.min=a),a>i.max&&(i.max=a))}),i}_updateRadius(){const e=this.chart,i=e.chartArea,r=e.options,s=Math.min(i.right-i.left,i.bottom-i.top),a=Math.max(s/2,0),h=(a-Math.max(r.cutoutPercentage?a/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=a-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(e,i,r,s){const a="reset"===s,c=this.chart,p=c.options.animation,v=this._cachedMeta.rScale,b=v.xCenter,D=v.yCenter,P=v.getIndexAngle(0)-.5*bo;let F,R=P;const V=360/this.countVisibleElements();for(F=0;F<i;++F)R+=this._computeAngle(F,s,V);for(F=i;F<i+r;F++){const Q=e[F];let ee=R,re=R+this._computeAngle(F,s,V),de=c.getDataVisibility(F)?v.getDistanceFromCenterForValue(this.getParsed(F).r):0;R=re,a&&(p.animateScale&&(de=0),p.animateRotate&&(ee=re=P));const _e={x:b,y:D,innerRadius:0,outerRadius:de,startAngle:ee,endAngle:re,options:this.resolveDataElementOptions(F,Q.active?"active":s)};this.updateElement(Q,F,_e,s)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(e,i,r){return this.chart.getDataVisibility(e)?Vd(this.resolveDataElementOptions(e,i).angle||r):0}}return Nt(n,"id","polarArea"),Nt(n,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Nt(n,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,a)=>{const h=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}}),n})();var Qie=Object.freeze({__proto__:null,BarController:$ie,BubbleController:Gie,DoughnutController:$F,LineController:Kie,PieController:(()=>{class n extends $F{}return Nt(n,"id","pie"),Nt(n,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"}),n})(),PolarAreaController:tj,RadarController:(()=>{class n extends lm{getLabelAndValue(e){const i=this._cachedMeta.vScale,r=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(e,i,r,s){return A5.bind(this)(e,i,r,s)}update(e){const i=this._cachedMeta,r=i.dataset,s=i.data||[],a=i.iScale.getLabels();if(r.points=s,"resize"!==e){const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:a.length===s.length,options:c},e)}this.updateElements(s,0,s.length,e)}updateElements(e,i,r,s){const a=this._cachedMeta.rScale,c="reset"===s;for(let h=i;h<i+r;h++){const p=e[h],v=this.resolveDataElementOptions(h,p.active?"active":s),b=a.getPointPositionForValue(h,this.getParsed(h).r),D=c?a.xCenter:b.x,P=c?a.yCenter:b.y,R={x:D,y:P,angle:b.angle,skip:isNaN(D)||isNaN(P),options:v};this.updateElement(p,h,R,s)}}}return Nt(n,"id","radar"),Nt(n,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Nt(n,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}}),n})(),ScatterController:(()=>{class n extends lm{getLabelAndValue(e){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:a}=i,c=this.getParsed(e),h=s.getLabelForValue(c.x),p=a.getLabelForValue(c.y);return{label:r[e]||"",value:"("+h+", "+p+")"}}update(e){const i=this._cachedMeta,{data:r=[]}=i,s=this.chart._animationsDisabled;let{start:a,count:c}=f5(i,r,s);if(this._drawStart=a,this._drawCount=c,p5(i)&&(a=0,c=r.length),this.options.showLine){const{dataset:h,_dataset:p}=i;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!p._decimated,h.points=r;const v=this.resolveDatasetElementOptions(e);v.segment=this.options.segment,this.updateElement(h,void 0,{animated:!s,options:v},e)}this.updateElements(r,a,c,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,r,s){const a="reset"===s,{iScale:c,vScale:h,_stacked:p,_dataset:v}=this._cachedMeta,b=this.resolveDataElementOptions(i,s),D=this.getSharedOptions(b),P=this.includeOptions(s,D),R=c.axis,F=h.axis,{spanGaps:V,segment:Q}=this.options,ee=rw(V)?V:Number.POSITIVE_INFINITY,re=this.chart._animationsDisabled||a||"none"===s;let de=i>0&&this.getParsed(i-1);for(let _e=i;_e<i+r;++_e){const ue=e[_e],pe=this.getParsed(_e),Le=re?ue:{},et=Zi(pe[F]),bt=Le[R]=c.getPixelForValue(pe[R],_e),at=Le[F]=a||et?h.getBasePixel():h.getPixelForValue(p?this.applyStack(h,pe,p):pe[F],_e);Le.skip=isNaN(bt)||isNaN(at)||et,Le.stop=_e>0&&Math.abs(pe[R]-de[R])>ee,Q&&(Le.parsed=pe,Le.raw=v.data[_e]),P&&(Le.options=D||this.resolveDataElementOptions(_e,ue.active?"active":s)),re||this.updateElement(ue,_e,Le,s),de=pe}this.updateSharedOptions(D,s,b)}getMaxOverflow(){const e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let h=0;for(let p=i.length-1;p>=0;--p)h=Math.max(h,i[p].size(this.resolveDataElementOptions(p))/2);return h>0&&h}const r=e.dataset,s=r.options&&r.options.borderWidth||0;if(!i.length)return s;const a=i[0].size(this.resolveDataElementOptions(0)),c=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,a,c)/2}}return Nt(n,"id","scatter"),Nt(n,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Nt(n,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}}),n})()});function vv(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class GF{static override(t){Object.assign(GF.prototype,t)}constructor(t){Nt(this,"options",void 0),this.options=t||{}}init(){}formats(){return vv()}parse(){return vv()}format(){return vv()}add(){return vv()}diff(){return vv()}startOf(){return vv()}endOf(){return vv()}}var Jie__date=GF;function Xie(n,t,e,i){const{controller:r,data:s,_sorted:a}=n,c=r._cachedMeta.iScale;if(c&&t===c.axis&&"r"!==t&&a&&s.length){const h=c._reversePixels?yne:gp;if(!i)return h(s,t,e);if(r._sharedOptions){const p=s[0],v="function"==typeof p.getRange&&p.getRange(t);if(v){const b=h(s,t,e-v),D=h(s,t,e+v);return{lo:b.lo,hi:D.hi}}}}return{lo:0,hi:s.length-1}}function GT(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),a=e[t];for(let c=0,h=s.length;c<h;++c){const{index:p,data:v}=s[c],{lo:b,hi:D}=Xie(s[c],t,a,r);for(let P=b;P<=D;++P){const R=v[P];R.skip||i(R,p,P)}}}function YF(n,t,e,i,r){const s=[];return!r&&!n.isPointInArea(t)||GT(n,e,t,function(c,h,p){!r&&!mp(c,n.chartArea,0)||c.inRange(t.x,t.y,i)&&s.push({element:c,datasetIndex:h,index:p})},!0),s}function KF(n,t,e,i,r,s){return s||n.isPointInArea(t)?"r"!==e||i?function nre(n,t,e,i,r,s){let a=[];const c=function ere(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,r){const s=t?Math.abs(i.x-r.x):0,a=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}(e);let h=Number.POSITIVE_INFINITY;return GT(n,e,t,function p(v,b,D){const P=v.inRange(t.x,t.y,r);if(i&&!P)return;const R=v.getCenterPoint(r);if(!s&&!n.isPointInArea(R)&&!P)return;const V=c(t,R);V<h?(a=[{element:v,datasetIndex:b,index:D}],h=V):V===h&&a.push({element:v,datasetIndex:b,index:D})}),a}(n,t,e,i,r,s):function tre(n,t,e,i){let r=[];return GT(n,e,t,function s(a,c,h){const{startAngle:p,endAngle:v}=a.getProps(["startAngle","endAngle"],i),{angle:b}=a5(a,{x:t.x,y:t.y});ZT(b,p,v)&&r.push({element:a,datasetIndex:c,index:h})}),r}(n,t,e,r):[]}function nj(n,t,e,i,r){const s=[],a="x"===e?"inXRange":"inYRange";let c=!1;return GT(n,e,t,(h,p,v)=>{h[a](t[e],r)&&(s.push({element:h,datasetIndex:p,index:v}),c=c||h.inRange(t.x,t.y,r))}),i&&!c?[]:s}var ire={evaluateInteractionItems:GT,modes:{index(n,t,e,i){const r=mv(t,n),s=e.axis||"x",a=e.includeInvisible||!1,c=e.intersect?YF(n,r,s,i,a):KF(n,r,s,!1,i,a),h=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(p=>{const v=c[0].index,b=p.data[v];b&&!b.skip&&h.push({element:b,datasetIndex:p.index,index:v})}),h):[]},dataset(n,t,e,i){const r=mv(t,n),s=e.axis||"xy",a=e.includeInvisible||!1;let c=e.intersect?YF(n,r,s,i,a):KF(n,r,s,!1,i,a);if(c.length>0){const h=c[0].datasetIndex,p=n.getDatasetMeta(h).data;c=[];for(let v=0;v<p.length;++v)c.push({element:p[v],datasetIndex:h,index:v})}return c},point:(n,t,e,i)=>YF(n,mv(t,n),e.axis||"xy",i,e.includeInvisible||!1),nearest:(n,t,e,i)=>KF(n,mv(t,n),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(n,t,e,i)=>nj(n,mv(t,n),"x",e.intersect,i),y:(n,t,e,i)=>nj(n,mv(t,n),"y",e.intersect,i)}};const ij=["left","top","right","bottom"];function YT(n,t){return n.filter(e=>e.pos===t)}function rj(n,t){return n.filter(e=>-1===ij.indexOf(e.pos)&&e.box.axis===t)}function KT(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function oj(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function sj(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function lre(n,t,e,i){const{pos:r,box:s}=e,a=n.maxPadding;if(!Ii(r)){e.size&&(n[r]-=e.size);const b=i[e.stack]||{size:0,count:1};b.size=Math.max(b.size,e.horizontal?s.height:s.width),e.size=b.size/b.count,n[r]+=e.size}s.getPadding&&sj(a,s.getPadding());const c=Math.max(0,t.outerWidth-oj(a,n,"left","right")),h=Math.max(0,t.outerHeight-oj(a,n,"top","bottom")),p=c!==n.w,v=h!==n.h;return n.w=c,n.h=h,e.horizontal?{same:p,other:v}:{same:v,other:p}}function ure(n,t){const e=t.maxPadding;return function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(t[a],e[a])}),s}(n?["left","right"]:["top","bottom"])}function QT(n,t,e,i){const r=[];let s,a,c,h,p,v;for(s=0,a=n.length,p=0;s<a;++s){c=n[s],h=c.box,h.update(c.width||t.w,c.height||t.h,ure(c.horizontal,t));const{same:b,other:D}=lre(t,e,c,i);p|=b&&r.length,v=v||D,h.fullSize||r.push(c)}return p&&QT(r,t,e,i)||v}function eM(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function aj(n,t,e,i){const r=e.padding;let{x:s,y:a}=t;for(const c of n){const h=c.box,p=i[c.stack]||{count:1,placed:0,weight:1},v=c.stackWeight/p.weight||1;if(c.horizontal){const b=t.w*v,D=p.size||h.height;BT(p.start)&&(a=p.start),h.fullSize?eM(h,r.left,a,e.outerWidth-r.right-r.left,D):eM(h,t.left+p.placed,a,b,D),p.start=a,p.placed+=b,a=h.bottom}else{const b=t.h*v,D=p.size||h.width;BT(p.start)&&(s=p.start),h.fullSize?eM(h,s,r.top,D,e.outerHeight-r.bottom-r.top):eM(h,s,t.top+p.placed,D,b),p.start=s,p.placed+=b,s=h.right}}t.x=s,t.y=a}var Ja={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Qa(n.options.layout.padding),s=Math.max(t-r.width,0),a=Math.max(e-r.height,0),c=function are(n){const t=function rre(n){const t=[];let e,i,r,s,a,c;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],({position:s,options:{stack:a,stackWeight:c=1}}=r),t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:c});return t}(n),e=KT(t.filter(p=>p.box.fullSize),!0),i=KT(YT(t,"left"),!0),r=KT(YT(t,"right")),s=KT(YT(t,"top"),!0),a=KT(YT(t,"bottom")),c=rj(t,"x"),h=rj(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(h).concat(a).concat(c),chartArea:YT(t,"chartArea"),vertical:i.concat(r).concat(h),horizontal:s.concat(a).concat(c)}}(n.boxes),h=c.vertical,p=c.horizontal;gr(n.boxes,F=>{"function"==typeof F.beforeLayout&&F.beforeLayout()});const v=h.reduce((F,V)=>V.box.options&&!1===V.box.options.display?F:F+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/v,hBoxMaxHeight:a/2}),D=Object.assign({},r);sj(D,Qa(i));const P=Object.assign({maxPadding:D,w:s,h:a,x:r.left,y:r.top},r),R=function sre(n,t){const e=function ore(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!ij.includes(r))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,a,c;for(s=0,a=n.length;s<a;++s){c=n[s];const{fullSize:h}=c.box,p=e[c.stack],v=p&&c.stackWeight/p.weight;c.horizontal?(c.width=v?v*i:h&&t.availableWidth,c.height=r):(c.width=i,c.height=v?v*r:h&&t.availableHeight)}return e}(h.concat(p),b);QT(c.fullSize,P,b,R),QT(h,P,b,R),QT(p,P,b,R)&&QT(h,P,b,R),function cre(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(P),aj(c.leftAndTop,P,b,R),P.x+=P.w,P.y+=P.h,aj(c.rightAndBottom,P,b,R),n.chartArea={left:P.left,top:P.top,right:P.left+P.w,bottom:P.top+P.h,height:P.h,width:P.w},gr(c.chartArea,F=>{const V=F.box;Object.assign(V,n.chartArea),V.update(P.w,P.h,{left:0,top:0,right:0,bottom:0})})}};class lj{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class dre extends lj{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const tM="$chartjs",hre={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},cj=n=>null===n||""===n,uj=!!hie&&{passive:!0};function gre(n,t,e){n.canvas.removeEventListener(t,e,uj)}function nM(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function _re(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const c of s)a=a||nM(c.addedNodes,i),a=a&&!nM(c.removedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function vre(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const c of s)a=a||nM(c.removedNodes,i),a=a&&!nM(c.addedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const JT=new Map;let dj=0;function hj(){const n=window.devicePixelRatio;n!==dj&&(dj=n,JT.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function bre(n,t,e){const i=n.canvas,r=i&&HF(i);if(!r)return;const s=h5((c,h)=>{const p=r.clientWidth;e(c,h),p<r.clientWidth&&e()},window),a=new ResizeObserver(c=>{const h=c[0],p=h.contentRect.width,v=h.contentRect.height;0===p&&0===v||s(p,v)});return a.observe(r),function yre(n,t){JT.size||window.addEventListener("resize",hj),JT.set(n,t)}(n,s),a}function QF(n,t,e){e&&e.disconnect(),"resize"===t&&function wre(n){JT.delete(n),JT.size||window.removeEventListener("resize",hj)}(n)}function Cre(n,t,e){const i=n.canvas,r=h5(s=>{null!==n.ctx&&e(function mre(n,t){const e=hre[n.type]||n.type,{x:i,y:r}=mv(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(s,n))},n);return function pre(n,t,e){n.addEventListener(t,e,uj)}(i,t,r),r}class Ere extends lj{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function fre(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[tM]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",cj(r)){const s=O5(n,"width");void 0!==s&&(n.width=s)}if(cj(i))if(""===n.style.height)n.height=n.width/(t||2);else{const s=O5(n,"height");void 0!==s&&(n.height=s)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[tM])return!1;const i=e[tM].initial;["height","width"].forEach(s=>{const a=i[s];Zi(a)?e.removeAttribute(s):e.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[tM],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:_re,detach:vre,resize:bre}[e]||Cre)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];r&&(({attach:QF,detach:QF,resize:QF}[e]||gre)(t,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return function die(n,t,e,i){const r=JA(n),s=gv(r,"margin"),a=QA(r.maxWidth,n,"clientWidth")||qA,c=QA(r.maxHeight,n,"clientHeight")||qA,h=function uie(n,t,e){let i,r;if(void 0===t||void 0===e){const s=HF(n);if(s){const a=s.getBoundingClientRect(),c=JA(s),h=gv(c,"border","width"),p=gv(c,"padding");t=a.width-p.width-h.width,e=a.height-p.height-h.height,i=QA(c.maxWidth,s,"clientWidth"),r=QA(c.maxHeight,s,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||qA,maxHeight:r||qA}}(n,t,e);let{width:p,height:v}=h;if("content-box"===r.boxSizing){const D=gv(r,"border","width"),P=gv(r,"padding");p-=P.width+D.width,v-=P.height+D.height}return p=Math.max(0,p-s.width),v=Math.max(0,i?p/i:v-s.height),p=XA(Math.min(p,a,h.maxWidth)),v=XA(Math.min(v,c,h.maxHeight)),p&&!v&&(v=XA(p/2)),(void 0!==t||void 0!==e)&&i&&h.height&&v>h.height&&(v=h.height,p=XA(Math.floor(v*i))),{width:p,height:v}}(t,e,i,r)}isAttached(t){const e=HF(t);return!(!e||!e.isConnected)}}class Zd{constructor(){Nt(this,"x",void 0),Nt(this,"y",void 0),Nt(this,"active",!1),Nt(this,"options",void 0),Nt(this,"$animations",void 0)}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return rw(this.x)&&rw(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}function iM(n,t,e,i,r){const s=li(i,0),a=Math.min(li(r,n.length),n.length);let h,p,v,c=0;for(e=Math.ceil(e),r&&(h=r-i,e=h/Math.floor(h/e)),v=s;v<0;)c++,v=Math.round(s+c*e);for(p=Math.max(s,0);p<a;p++)p===v&&(t.push(n[p]),c++,v=Math.round(s+c*e))}Nt(Zd,"defaults",{}),Nt(Zd,"defaultRoutes",void 0);const Pre=n=>"left"===n?"right":"right"===n?"left":n,fj=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e,pj=(n,t)=>Math.min(t||n,n);function gj(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function kre(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,a=n._endPixel,c=1e-6;let p,h=n.getPixelForTick(r);if(!(e&&(p=1===i?Math.max(h-s,a-h):0===t?(n.getPixelForTick(1)-h)/2:(h-n.getPixelForTick(r-1))/2,h+=r<t?p:-p,h<s-c||h>a+c)))return h}function XT(n){return n.drawTicks?n.tickLength:0}function mj(n,t){if(!n.display)return 0;const e=Ls(n.font,t),i=Qa(n.padding);return(io(n.text)?n.text.length:1)*e.lineHeight+i.height}function Lre(n,t,e){let i=OF(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=Pre(i)),i}class yv extends Zd{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Jc(t,Number.POSITIVE_INFINITY),e=Jc(e,Number.NEGATIVE_INFINITY),i=Jc(i,Number.POSITIVE_INFINITY),r=Jc(r,Number.NEGATIVE_INFINITY),{min:Jc(t,i),max:Jc(e,r),minDefined:jo(t),maxDefined:jo(e)}}getMinMax(t){let a,{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:e,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,p=c.length;h<p;++h)a=c[h].controller.getMinMax(this,t),r||(e=Math.min(e,a.min)),s||(i=Math.max(i,a.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:Jc(e,Jc(i,e)),max:Jc(i,Jc(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){zr(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Hne(n,t,e){const{min:i,max:r}=n,s=Xq(t,(r-i)/2),a=(c,h)=>e&&0===c?0:c+h;return{min:a(i,-Math.abs(s)),max:a(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?gj(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function Dre(n,t){const e=n.options.ticks,i=function Ire(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),r=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?function Sre(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],a=s.length,c=s[0],h=s[a-1],p=[];if(a>r)return function Are(n,t,e,i){let a,r=0,s=e[0];for(i=Math.ceil(i),a=0;a<n.length;a++)a===s&&(t.push(n[a]),r++,s=e[r*i])}(t,p,s,a/r),p;const v=function xre(n,t,e){const i=function Mre(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),r=t.length/e;if(!i)return Math.max(r,1);const s=function gne(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}(i);for(let a=0,c=s.length-1;a<c;a++){const h=s[a];if(h>r)return h}return Math.max(r,1)}(s,t,r);if(a>0){let b,D;const P=a>1?Math.round((h-c)/(a-1)):null;for(iM(t,p,v,Zi(P)?0:c-P,c),b=0,D=a-1;b<D;b++)iM(t,p,v,s[b],s[b+1]);return iM(t,p,v,h,Zi(P)?t.length:h+P),p}return iM(t,p,v),p}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){zr(this.options.afterUpdate,[this])}beforeSetDimensions(){zr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){zr(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),zr(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){zr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=zr(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){zr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){zr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=pj(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,s=e.maxRotation;let c,h,p,a=r;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const v=this._getLabelSizes(),b=v.widest.width,D=v.highest.height,P=oa(this.chart.width-b,0,this.maxWidth);c=t.offset?this.maxWidth/i:P/(i-1),b+6>c&&(c=P/(i-(t.offset?.5:1)),h=this.maxHeight-XT(t.grid)-e.padding-mj(t.title,this.chart.options.font),p=Math.sqrt(b*b+D*D),a=MF(Math.min(Math.asin(oa((v.highest.height+6)/c,-1,1)),Math.asin(oa(h/p,-1,1))-Math.asin(oa(D/p,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){zr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){zr(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const h=mj(r,e.options.font);if(c?(t.width=this.maxWidth,t.height=XT(s)+h):(t.height=this.maxHeight,t.width=XT(s)+h),i.display&&this.ticks.length){const{first:p,last:v,widest:b,highest:D}=this._getLabelSizes(),P=2*i.padding,R=Vd(this.labelRotation),F=Math.cos(R),V=Math.sin(R);c?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:V*b.width+F*D.height)+P):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:F*b.width+V*D.height)+P),this._calculatePadding(p,v,V,F)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:s,padding:a},position:c}=this.options,h=0!==this.labelRotation,p="top"!==c&&"x"===this.axis;if(this.isHorizontal()){const v=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let D=0,P=0;h?p?(D=r*t.width,P=i*e.height):(D=i*t.height,P=r*e.width):"start"===s?P=e.width:"end"===s?D=t.width:"inner"!==s&&(D=t.width/2,P=e.width/2),this.paddingLeft=Math.max((D-v+a)*this.width/(this.width-v),0),this.paddingRight=Math.max((P-b+a)*this.width/(this.width-b),0)}else{let v=e.height/2,b=t.height/2;"start"===s?(v=0,b=t.height):"end"===s&&(v=e.height,b=0),this.paddingTop=v+a,this.paddingBottom=b+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){zr(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)Zi(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=gj(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:s}=this,a=[],c=[],h=Math.floor(e/pj(e,i));let b,D,P,R,F,V,Q,ee,re,de,_e,p=0,v=0;for(b=0;b<e;b+=h){if(R=t[b].label,F=this._resolveTickFontOptions(b),r.font=V=F.string,Q=s[V]=s[V]||{data:{},gc:[]},ee=F.lineHeight,re=de=0,Zi(R)||io(R)){if(io(R))for(D=0,P=R.length;D<P;++D)_e=R[D],!Zi(_e)&&!io(_e)&&(re=$A(r,Q.data,Q.gc,re,_e),de+=ee)}else re=$A(r,Q.data,Q.gc,re,R),de=ee;a.push(re),c.push(de),p=Math.max(re,p),v=Math.max(de,v)}!function Ore(n,t){gr(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}(s,e);const ue=a.indexOf(p),pe=c.indexOf(v),Le=et=>({width:a[et]||0,height:c[et]||0});return{first:Le(0),last:Le(e-1),widest:Le(ue),highest:Le(pe),widths:a,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function vne(n){return oa(n,-32768,32767)}(this._alignToPixels?hv(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function Nre(n,t,e){return am(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function Rre(n,t){return am(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Vd(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),a=t.autoSkipPadding||0,c=s?s.widest.width+a:0,h=s?s.highest.height+a:0;return this.isHorizontal()?h*i>c*r?c/i:h/r:h*r<c*i?h/i:c/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:s,position:a,border:c}=r,h=s.offset,p=this.isHorizontal(),b=this.ticks.length+(h?1:0),D=XT(s),P=[],R=c.setContext(this.getContext()),F=R.display?R.width:0,V=F/2,Q=function(Ct){return hv(i,Ct,F)};let ee,re,de,_e,ue,pe,Le,et,bt,at,ot,En;if("top"===a)ee=Q(this.bottom),pe=this.bottom-D,et=ee-V,at=Q(t.top)+V,En=t.bottom;else if("bottom"===a)ee=Q(this.top),at=t.top,En=Q(t.bottom)-V,pe=ee+V,et=this.top+D;else if("left"===a)ee=Q(this.right),ue=this.right-D,Le=ee-V,bt=Q(t.left)+V,ot=t.right;else if("right"===a)ee=Q(this.left),bt=t.left,ot=Q(t.right)-V,ue=ee+V,Le=this.left+D;else if("x"===e){if("center"===a)ee=Q((t.top+t.bottom)/2+.5);else if(Ii(a)){const Ct=Object.keys(a)[0];ee=Q(this.chart.scales[Ct].getPixelForValue(a[Ct]))}at=t.top,En=t.bottom,pe=ee+V,et=pe+D}else if("y"===e){if("center"===a)ee=Q((t.left+t.right)/2);else if(Ii(a)){const Ct=Object.keys(a)[0];ee=Q(this.chart.scales[Ct].getPixelForValue(a[Ct]))}ue=ee-V,Le=ue-D,bt=t.left,ot=t.right}const Jn=li(r.ticks.maxTicksLimit,b),wi=Math.max(1,Math.ceil(b/Jn));for(re=0;re<b;re+=wi){const Ct=this.getContext(re),At=s.setContext(Ct),nn=c.setContext(Ct),$t=At.lineWidth,Ni=At.color,nr=nn.dash||[],Hr=nn.dashOffset,sa=At.tickWidth,ki=At.tickColor,Aa=At.tickBorderDash||[],ou=At.tickBorderDashOffset;de=kre(this,re,h),void 0!==de&&(_e=hv(i,de,$t),p?ue=Le=bt=ot=_e:pe=et=at=En=_e,P.push({tx1:ue,ty1:pe,tx2:Le,ty2:et,x1:bt,y1:at,x2:ot,y2:En,width:$t,color:Ni,borderDash:nr,borderDashOffset:Hr,tickWidth:sa,tickColor:ki,tickBorderDash:Aa,tickBorderDashOffset:ou}))}return this._ticksLength=b,this._borderValue=ee,P}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:p,padding:v,mirror:b}=s,D=XT(i.grid),P=D+v,R=b?-v:P,F=-Vd(this.labelRotation),V=[];let Q,ee,re,de,_e,ue,pe,Le,et,bt,at,ot,En="middle";if("top"===r)ue=this.bottom-R,pe=this._getXAxisLabelAlignment();else if("bottom"===r)ue=this.top+R,pe=this._getXAxisLabelAlignment();else if("left"===r){const wi=this._getYAxisLabelAlignment(D);pe=wi.textAlign,_e=wi.x}else if("right"===r){const wi=this._getYAxisLabelAlignment(D);pe=wi.textAlign,_e=wi.x}else if("x"===e){if("center"===r)ue=(t.top+t.bottom)/2+P;else if(Ii(r)){const wi=Object.keys(r)[0];ue=this.chart.scales[wi].getPixelForValue(r[wi])+P}pe=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)_e=(t.left+t.right)/2-P;else if(Ii(r)){const wi=Object.keys(r)[0];_e=this.chart.scales[wi].getPixelForValue(r[wi])}pe=this._getYAxisLabelAlignment(D).textAlign}"y"===e&&("start"===h?En="top":"end"===h&&(En="bottom"));const Jn=this._getLabelSizes();for(Q=0,ee=c.length;Q<ee;++Q){re=c[Q],de=re.label;const wi=s.setContext(this.getContext(Q));Le=this.getPixelForTick(Q)+s.labelOffset,et=this._resolveTickFontOptions(Q),bt=et.lineHeight,at=io(de)?de.length:1;const Ct=at/2,At=wi.color,nn=wi.textStrokeColor,$t=wi.textStrokeWidth;let nr,Ni=pe;if(a?(_e=Le,"inner"===pe&&(Ni=Q===ee-1?this.options.reverse?"left":"right":0===Q?this.options.reverse?"right":"left":"center"),ot="top"===r?"near"===p||0!==F?-at*bt+bt/2:"center"===p?-Jn.highest.height/2-Ct*bt+bt:bt/2-Jn.highest.height:"near"===p||0!==F?bt/2:"center"===p?Jn.highest.height/2-Ct*bt:Jn.highest.height-at*bt,b&&(ot*=-1),0!==F&&!wi.showLabelBackdrop&&(_e+=bt/2*Math.sin(F))):(ue=Le,ot=(1-at)*bt/2),wi.showLabelBackdrop){const Hr=Qa(wi.backdropPadding),sa=Jn.heights[Q],ki=Jn.widths[Q];let Aa=ot-Hr.top,ou=0-Hr.left;switch(En){case"middle":Aa-=sa/2;break;case"bottom":Aa-=sa}switch(pe){case"center":ou-=ki/2;break;case"right":ou-=ki}nr={left:ou,top:Aa,width:ki+Hr.width,height:sa+Hr.height,color:wi.backdropColor}}V.push({label:de,font:et,textOffset:ot,options:{rotation:F,color:At,strokeColor:nn,strokeWidth:$t,textAlign:Ni,textBaseline:En,translation:[_e,ue],backdrop:nr}})}return V}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Vd(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,c=t+s,h=this._getLabelSizes().widest.width;let p,v;return"left"===e?r?(v=this.right+s,"near"===i?p="left":"center"===i?(p="center",v+=h/2):(p="right",v+=h)):(v=this.right-c,"near"===i?p="right":"center"===i?(p="center",v-=h/2):(p="left",v=this.left)):"right"===e?r?(v=this.left+s,"near"===i?p="right":"center"===i?(p="center",v-=h/2):(p="left",v-=h)):(v=this.left+c,"near"===i?p="left":"center"===i?(p="center",v+=h/2):(p="right",v=this.right)):p="right",{textAlign:p,x:v}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,a;const c=(h,p,v)=>{!v.width||!v.color||(i.save(),i.lineWidth=v.width,i.strokeStyle=v.color,i.setLineDash(v.borderDash||[]),i.lineDashOffset=v.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(e.display)for(s=0,a=r.length;s<a;++s){const h=r[s];e.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),a=i.display?s.width:0;if(!a)return;const c=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let p,v,b,D;this.isHorizontal()?(p=hv(t,this.left,a)-a/2,v=hv(t,this.right,c)+c/2,b=D=h):(b=hv(t,this.top,a)-a/2,D=hv(t,this.bottom,c)+c/2,p=v=h),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(p,b),e.lineTo(v,D),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&GA(i,r);const s=this.getLabelItems(t);for(const a of s)fv(i,a.label,0,a.textOffset,a.font,a.options);r&&YA(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=Ls(i.font),a=Qa(i.padding),c=i.align;let h=s.lineHeight/2;"bottom"===e||"center"===e||Ii(e)?(h+=a.bottom,io(i.text)&&(h+=s.lineHeight*(i.text.length-1))):h+=a.top;const{titleX:p,titleY:v,maxWidth:b,rotation:D}=function Fre(n,t,e,i){const{top:r,left:s,bottom:a,right:c,chart:h}=n,{chartArea:p,scales:v}=h;let D,P,R,b=0;const F=a-r,V=c-s;if(n.isHorizontal()){if(P=Ka(i,s,c),Ii(e)){const Q=Object.keys(e)[0];R=v[Q].getPixelForValue(e[Q])+F-t}else R="center"===e?(p.bottom+p.top)/2+F-t:fj(n,e,t);D=c-s}else{if(Ii(e)){const Q=Object.keys(e)[0];P=v[Q].getPixelForValue(e[Q])-V+t}else P="center"===e?(p.left+p.right)/2-V+t:fj(n,e,t);R=Ka(i,a,r),b="left"===e?-Wo:Wo}return{titleX:P,titleY:R,maxWidth:D,rotation:b}}(this,h,e,c);fv(t,i.text,0,0,s,{color:i.color,maxWidth:b,rotation:D,textAlign:Lre(c,e,r),textBaseline:"middle",translation:[p,v]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=li(t.grid&&t.grid.z,-1),r=li(t.border&&t.border.z,0);return this._isVisible()&&this.draw===yv.prototype.draw?[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]:[{z:e,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=e.length;s<a;++s){const c=e[s];c[i]===this.id&&(!t||c.type===t)&&r.push(c)}return r}_resolveTickFontOptions(t){return Ls(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class rM{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function Vre(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const r=this.items,s=t.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,function Ure(n,t,e){const i=FT(Object.create(null),[e?$o.get(e):{},$o.get(t),n.defaults]);$o.set(t,i),n.defaultRoutes&&function Bre(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),a=t[e].split("."),c=a.pop(),h=a.join(".");$o.route(s,r,h,c)})}(t,n.defaultRoutes),n.descriptors&&$o.describe(t,n.descriptors)}(t,a,i),this.override&&$o.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in $o[r]&&(delete $o[r][i],this.override&&delete dv[i])}}class Zre{constructor(){this.controllers=new rM(lm,"datasets",!0),this.elements=new rM(Zd,"elements"),this.plugins=new rM(Object,"plugins"),this.scales=new rM(yv,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):gr(r,a=>{const c=i||this._getRegistryForType(a);this._exec(t,c,a)})})}_exec(t,e,i){const r=AF(t);zr(i["before"+r],[],i),e[t](i),zr(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Qh=new Zre;class zre{constructor(){this._init=[]}notify(t,e,i,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),a=this._notify(s,t,e,i);return"afterDestroy"===e&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,i,r){r=r||{};for(const s of t){const a=s.plugin;if(!1===zr(a[i],[e,r,s.options],a)&&r.cancelable)return!1}return!0}invalidate(){Zi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=li(i.options&&i.options.plugins,{}),s=function Hre(n){const t={},e=[],i=Object.keys(Qh.plugins.items);for(let s=0;s<i.length;s++)e.push(Qh.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];-1===e.indexOf(a)&&(e.push(a),t[a.id]=!0)}return{plugins:e,localIds:t}}(i);return!1!==r||e?function jre(n,{plugins:t,localIds:e},i,r){const s=[],a=n.getContext();for(const c of t){const h=c.id,p=qre(i[h],r);null!==p&&s.push({plugin:c,options:Wre(n.config,{plugin:c,local:e[h]},p,a)})}return s}(t,s,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(c=>!a.some(h=>c.plugin.id===h.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function qre(n,t){return t||!1!==n?!0===n?{}:n:null}function Wre(n,{plugin:t,local:e},i,r){const s=n.pluginScopeKeys(t),a=n.getOptionScopes(i,s);return e&&t.defaults&&a.push(t.defaults),n.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function JF(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||($o.datasets[n]||{}).indexAxis||"x"}function _j(n){if("x"===n||"y"===n||"r"===n)return n}function Yre(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function XF(n,...t){if(_j(n))return n;for(const e of t){const i=e.axis||Yre(e.position)||n.length>1&&_j(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function vj(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function yj(n){const t=n.options||(n.options={});t.plugins=li(t.plugins,{}),t.scales=function Qre(n,t){const e=dv[n.type]||{scales:{}},i=t.scales||{},r=JF(n.type,t),s=Object.create(null);return Object.keys(i).forEach(a=>{const c=i[a];if(!Ii(c))return console.error(`Invalid scale configuration for scale: ${a}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const h=XF(a,c,function Kre(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return vj(n,"x",e[0])||vj(n,"y",e[0])}return{}}(a,n),$o.scales[c.type]),p=function Gre(n,t){return n===t?"_index_":"_value_"}(h,r),v=e.scales||{};s[a]=UT(Object.create(null),[{axis:h},c,v[h],v[p]])}),n.data.datasets.forEach(a=>{const c=a.type||n.type,h=a.indexAxis||JF(c,t),v=(dv[c]||{}).scales||{};Object.keys(v).forEach(b=>{const D=function $re(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(b,h),P=a[D+"AxisID"]||D;s[P]=s[P]||Object.create(null),UT(s[P],[{axis:D},i[P],v[b]])})}),Object.keys(s).forEach(a=>{const c=s[a];UT(c,[$o.scales[c.type],$o.scale])}),s}(n,t)}function wj(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const bj=new Map,Cj=new Set;function oM(n,t){let e=bj.get(n);return e||(e=t(),bj.set(n,e),Cj.add(e)),e}const eD=(n,t,e)=>{const i=rm(t,e);void 0!==i&&n.add(i)};class Xre{constructor(t){this._config=function Jre(n){return(n=n||{}).data=wj(n.data),yj(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=wj(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),yj(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return oM(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return oM(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return oM(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return oM(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,a=this._cachedScopes(t,i),c=a.get(e);if(c)return c;const h=new Set;e.forEach(v=>{t&&(h.add(t),v.forEach(b=>eD(h,t,b))),v.forEach(b=>eD(h,r,b)),v.forEach(b=>eD(h,dv[s]||{},b)),v.forEach(b=>eD(h,$o,b)),v.forEach(b=>eD(h,LF,b))});const p=Array.from(h);return 0===p.length&&p.push(Object.create(null)),Cj.has(e)&&a.set(e,p),p}chartOptionScopes(){const{options:t,type:e}=this;return[t,dv[e]||{},$o.datasets[e]||{},{type:e},$o,LF]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:c}=Ej(this._resolverCache,t,r);let h=a;(function toe(n,t){const{isScriptable:e,isIndexable:i}=E5(n);for(const r of t){const s=e(r),a=i(r),c=(a||s)&&n[r];if(s&&(om(c)||eoe(c))||a&&io(c))return!0}return!1})(a,e)&&(s.$shared=!1,h=ow(a,i=om(i)?i():i,this.createResolver(t,i,c)));for(const p of e)s[p]=h[p];return s}createResolver(t,e,i=[""],r){const{resolver:s}=Ej(this._resolverCache,t,i);return Ii(e)?ow(s,e,void 0,r):s}}function Ej(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:VF(t,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},i.set(r,s)),s}const eoe=n=>Ii(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||om(n[e]),!1),ioe=["top","bottom","left","right","chartArea"];function Tj(n,t){return"top"===n||"bottom"===n||-1===ioe.indexOf(n)&&"x"===t}function Dj(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Ij(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),zr(e&&e.onComplete,[n],t)}function roe(n){const t=n.chart,e=t.options.animation;zr(e&&e.onProgress,[n],t)}function xj(n){return P5()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const sM={},Sj=n=>{const t=xj(n);return Object.values(sM).filter(e=>e.canvas===t).pop()};function ooe(n,t,e){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=t){const a=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=a)}}}let cm=(()=>{class n{static register(...e){Qh.add(...e),Aj()}static unregister(...e){Qh.remove(...e),Aj()}constructor(e,i){const r=this.config=new Xre(i),s=xj(e),a=Sj(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const c=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function Tre(n){return!P5()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?dre:Ere}(s)),this.platform.updateConfig(r);const h=this.platform.acquireContext(s,c.aspectRatio),p=h&&h.canvas,v=p&&p.height,b=p&&p.width;this.id=sne(),this.ctx=h,this.canvas=p,this.width=b,this.height=v,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zre,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Cne(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(D=>this.update(D),c.resizeDelay||0),this._dataChanges=[],sM[this.id]=this,h&&p?(_p.listen(this,"complete",Ij),_p.listen(this,"progress",roe),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:i},width:r,height:s,_aspectRatio:a}=this;return Zi(e)?i&&a?a:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Qh}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():k5(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return w5(this.canvas,this.ctx),this}stop(){return _p.stop(this),this}resize(e,i){_p.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){const r=this.options,c=this.platform.getMaximumSize(this.canvas,e,i,r.maintainAspectRatio&&this.aspectRatio),h=r.devicePixelRatio||this.platform.getDevicePixelRatio(),p=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,k5(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),zr(r.onResize,[this,c],this),this.attached&&this._doResize(p)&&this.render())}ensureScalesHaveIDs(){gr(this.options.scales||{},(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,i=e.scales,r=this.scales,s=Object.keys(r).reduce((c,h)=>(c[h]=!1,c),{});let a=[];i&&(a=a.concat(Object.keys(i).map(c=>{const h=i[c],p=XF(c,h),v="r"===p,b="x"===p;return{options:h,dposition:v?"chartArea":b?"bottom":"left",dtype:v?"radialLinear":b?"category":"linear"}}))),gr(a,c=>{const h=c.options,p=h.id,v=XF(p,h),b=li(h.type,c.dtype);(void 0===h.position||Tj(h.position,v)!==Tj(c.dposition))&&(h.position=c.dposition),s[p]=!0;let D=null;p in r&&r[p].type===b?D=r[p]:(D=new(Qh.getScale(b))({id:p,type:b,ctx:this.ctx,chart:this}),r[D.id]=D),D.init(h,e)}),gr(s,(c,h)=>{c||delete r[h]}),gr(r,c=>{Ja.configure(this,c,c.options),Ja.addBox(this,c)})}_updateMetasets(){const e=this._metasets,i=this.data.datasets.length,r=e.length;if(e.sort((s,a)=>s.index-a.index),r>i){for(let s=i;s<r;++s)this._destroyDatasetMeta(s);e.splice(i,r-i)}this._sortedMetasets=e.slice(0).sort(Dj("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((r,s)=>{0===i.filter(a=>a===r._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],i=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=i.length;r<s;r++){const a=i[r];let c=this.getDatasetMeta(r);const h=a.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(r),c=this.getDatasetMeta(r)),c.type=h,c.indexAxis=a.indexAxis||JF(h,this.options),c.order=a.order||0,c.index=r,c.label=""+a.label,c.visible=this.isDatasetVisible(r),c.controller)c.controller.updateIndex(r),c.controller.linkScales();else{const p=Qh.getController(h),{datasetElementType:v,dataElementType:b}=$o.datasets[h];Object.assign(p,{dataElementType:Qh.getElement(b),datasetElementType:v&&Qh.getElement(v)}),c.controller=new p(this,r),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){gr(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const i=this.config;i.update();const r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let v=0,b=this.data.datasets.length;v<b;v++){const{controller:D}=this.getDatasetMeta(v),P=!s&&-1===a.indexOf(D);D.buildOrUpdateElements(P),c=Math.max(+D.getMaxOverflow(),c)}c=this._minPadding=r.layout.autoPadding?c:0,this._updateLayout(c),s||gr(a,v=>{v.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Dj("z","_idx"));const{_active:h,_lastEvent:p}=this;p?this._eventHandler(p,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){gr(this.scales,e=>{Ja.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!n5(i,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:a}of i)ooe(e,s,"_removeElements"===r?-a:a)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const i=this.data.datasets.length,r=a=>new Set(e.filter(c=>c[0]===a).map((c,h)=>h+","+c.splice(1).join(","))),s=r(0);for(let a=1;a<i;a++)if(!n5(s,r(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Ja.update(this,this.width,this.height,e);const i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],gr(this.boxes,s=>{r&&"chartArea"===s.position||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,om(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:i,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(r.controller._update(i),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(_p.has(this)?this.attached&&!_p.running(this)&&_p.start(this):(this.draw(),Ij({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resize(r,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const i=this._sortedMetasets,r=[];let s,a;for(s=0,a=i.length;s<a;++s){const c=i[s];(!e||c.visible)&&r.push(c)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const i=this.ctx,r=e._clip,s=!r.disabled,a=function aoe(n){const{xScale:t,yScale:e}=n;if(t&&e)return{left:t.left,right:t.right,top:e.top,bottom:e.bottom}}(e)||this.chartArea,c={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",c)&&(s&&GA(i,{left:!1===r.left?0:a.left-r.left,right:!1===r.right?this.width:a.right+r.right,top:!1===r.top?0:a.top-r.top,bottom:!1===r.bottom?this.height:a.bottom+r.bottom}),e.controller.draw(),s&&YA(i),c.cancelable=!1,this.notifyPlugins("afterDatasetDraw",c))}isPointInArea(e){return mp(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,r,s){const a=ire.modes[i];return"function"==typeof a?a(this,e,r,s):[]}getDatasetMeta(e){const i=this.data.datasets[e],r=this._metasets;let s=r.filter(a=>a&&a._dataset===i).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=am(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const i=this.data.datasets[e];if(!i)return!1;const r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!i.hidden}setDatasetVisibility(e,i){this.getDatasetMeta(e).hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,r){const s=r?"show":"hide",a=this.getDatasetMeta(e),c=a.controller._resolveAnimations(void 0,s);BT(i)?(a.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),c.update(a,{visible:r}),this.update(h=>h.datasetIndex===e?s:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){const i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),_p.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),w5(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete sM[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,i=this.platform,r=(a,c)=>{i.addEventListener(this,a,c),e[a]=c},s=(a,c,h)=>{a.offsetX=c,a.offsetY=h,this._eventHandler(a)};gr(this.options.events,a=>r(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,i=this.platform,r=(p,v)=>{i.addEventListener(this,p,v),e[p]=v},s=(p,v)=>{e[p]&&(i.removeEventListener(this,p,v),delete e[p])},a=(p,v)=>{this.canvas&&this.resize(p,v)};let c;const h=()=>{s("attach",h),this.attached=!0,this.resize(),r("resize",a),r("detach",c)};c=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),r("attach",h)},i.isAttached(this.canvas)?h():c()}unbindEvents(){gr(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},gr(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,r){const s=r?"set":"remove";let a,c,h,p;for("dataset"===i&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),h=0,p=e.length;h<p;++h){c=e[h];const v=c&&this.getDatasetMeta(c.datasetIndex).controller;v&&v[s+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const i=this._active||[],r=e.map(({datasetIndex:a,index:c})=>{const h=this.getDatasetMeta(a);if(!h)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:h.data[c],index:c}});!zA(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(e,i,r){return this._plugins.notify(this,e,i,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(i=>i.plugin.id===e).length}_updateHoverStyles(e,i,r){const s=this.options.hover,a=(p,v)=>p.filter(b=>!v.some(D=>b.datasetIndex===D.datasetIndex&&b.index===D.index)),c=a(i,e),h=r?e:a(e,i);c.length&&this.updateHoverStyle(c,s.mode,!1),h.length&&s.mode&&this.updateHoverStyle(h,s.mode,!0)}_eventHandler(e,i){const r={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},s=c=>(c.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,s))return;const a=this._handleEvent(e,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(a||r.changed)&&this.render(),this}_handleEvent(e,i,r){const{_active:s=[],options:a}=this,h=this._getActiveElements(e,s,r,i),p=function hne(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(e),v=function soe(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(e,this._lastEvent,r,p);r&&(this._lastEvent=null,zr(a.onHover,[e,h,this],this),p&&zr(a.onClick,[e,h,this],this));const b=!zA(h,s);return(b||i)&&(this._active=h,this._updateHoverStyles(h,s,i)),this._lastEvent=v,b}_getActiveElements(e,i,r,s){if("mouseout"===e.type)return[];if(!r)return i;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}}return Nt(n,"defaults",$o),Nt(n,"instances",sM),Nt(n,"overrides",dv),Nt(n,"registry",Qh),Nt(n,"version","4.3.0"),Nt(n,"getChart",Sj),n})();function Aj(){return gr(cm.instances,n=>n._plugins.invalidate())}function lw(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function aM(n,t,e,i,r,s){const{x:a,y:c,startAngle:h,pixelMargin:p,innerRadius:v}=t,b=Math.max(t.outerRadius+i+e-p,0),D=v>0?v+i+e+p:0;let P=0;const R=r-h;if(i){const At=((v>0?v-i:0)+(b>0?b-i:0))/2;P=(R-(0!==At?R*At/(At+i):R))/2}const V=(R-Math.max(.001,R*b-e/bo)/b)/2,Q=h+V+P,ee=r-V-P,{outerStart:re,outerEnd:de,innerStart:_e,innerEnd:ue}=function uoe(n,t,e,i){const r=function coe(n){return BF(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(e-t)/2,a=Math.min(s,i*t/2),c=h=>{const p=(e-Math.min(s,h))*i/2;return oa(h,0,Math.min(s,p))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:oa(r.innerStart,0,a),innerEnd:oa(r.innerEnd,0,a)}}(t,D,b,ee-Q),pe=b-re,Le=b-de,et=Q+re/pe,bt=ee-de/Le,at=D+_e,ot=D+ue,En=Q+_e/at,Jn=ee-ue/ot;if(n.beginPath(),s){const wi=(et+bt)/2;if(n.arc(a,c,b,et,wi),n.arc(a,c,b,wi,bt),de>0){const $t=lw(Le,bt,a,c);n.arc($t.x,$t.y,de,bt,ee+Wo)}const Ct=lw(ot,ee,a,c);if(n.lineTo(Ct.x,Ct.y),ue>0){const $t=lw(ot,Jn,a,c);n.arc($t.x,$t.y,ue,ee+Wo,Jn+Math.PI)}const At=(ee-ue/D+(Q+_e/D))/2;if(n.arc(a,c,D,ee-ue/D,At,!0),n.arc(a,c,D,At,Q+_e/D,!0),_e>0){const $t=lw(at,En,a,c);n.arc($t.x,$t.y,_e,En+Math.PI,Q-Wo)}const nn=lw(pe,Q,a,c);if(n.lineTo(nn.x,nn.y),re>0){const $t=lw(pe,et,a,c);n.arc($t.x,$t.y,re,Q-Wo,et)}}else{n.moveTo(a,c);const wi=Math.cos(et)*b+a,Ct=Math.sin(et)*b+c;n.lineTo(wi,Ct);const At=Math.cos(bt)*b+a,nn=Math.sin(bt)*b+c;n.lineTo(At,nn)}n.closePath()}class tD extends Zd{constructor(t){super(),Nt(this,"circumference",void 0),Nt(this,"endAngle",void 0),Nt(this,"fullCircles",void 0),Nt(this,"innerRadius",void 0),Nt(this,"outerRadius",void 0),Nt(this,"pixelMargin",void 0),Nt(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:s,distance:a}=a5(r,{x:t,y:e}),{startAngle:c,endAngle:h,innerRadius:p,outerRadius:v,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),D=(this.options.spacing+this.options.borderWidth)/2,R=li(b,h-c)>=ro||ZT(s,c,h),F=pp(a,p+D,v+D);return R&&F}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:s,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:h,spacing:p}=this.options,v=(r+s)/2,b=(a+c+p+h)/2;return{x:e+Math.cos(v)*b,y:i+Math.sin(v)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,s=(e.spacing||0)/2,a=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>ro?Math.floor(i/ro):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*r,Math.sin(c)*r);const p=r*(1-Math.sin(Math.min(bo,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function doe(n,t,e,i,r){const{fullCircles:s,startAngle:a,circumference:c}=t;let h=t.endAngle;if(s){aM(n,t,e,i,h,r);for(let p=0;p<s;++p)n.fill();isNaN(c)||(h=a+(c%ro||ro))}aM(n,t,e,i,h,r),n.fill()}(t,this,p,s,a),function hoe(n,t,e,i,r){const{fullCircles:s,startAngle:a,circumference:c,options:h}=t,{borderWidth:p,borderJoinStyle:v,borderDash:b,borderDashOffset:D}=h,P="inner"===h.borderAlign;if(!p)return;n.setLineDash(b||[]),n.lineDashOffset=D,P?(n.lineWidth=2*p,n.lineJoin=v||"round"):(n.lineWidth=p,n.lineJoin=v||"bevel");let R=t.endAngle;if(s){aM(n,t,e,i,R,r);for(let F=0;F<s;++F)n.stroke();isNaN(c)||(R=a+(c%ro||ro))}P&&function loe(n,t,e){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:c,innerRadius:h}=t;let p=r/c;n.beginPath(),n.arc(s,a,c,i-p,e+p),h>r?(p=r/h,n.arc(s,a,h,e+p,i-p,!0)):n.arc(s,a,r,e+Wo,i-Wo),n.closePath(),n.clip()}(n,t,R),s||(aM(n,t,e,i,R,r),n.stroke())}(t,this,p,s,a),t.restore()}}function Mj(n,t,e=t){n.lineCap=li(e.borderCapStyle,t.borderCapStyle),n.setLineDash(li(e.borderDash,t.borderDash)),n.lineDashOffset=li(e.borderDashOffset,t.borderDashOffset),n.lineJoin=li(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=li(e.borderWidth,t.borderWidth),n.strokeStyle=li(e.borderColor,t.borderColor)}function foe(n,t,e){n.lineTo(e.x,e.y)}function Pj(n,t,e={}){const i=n.length,{start:r=0,end:s=i-1}=e,{start:a,end:c}=t,h=Math.max(r,a),p=Math.min(s,c);return{count:i,start:h,loop:t.loop,ilen:p<h&&!(r<a&&s<a||r>c&&s>c)?i+p-h:p-h}}function goe(n,t,e,i){const{points:r,options:s}=t,{count:a,start:c,loop:h,ilen:p}=Pj(r,e,i),v=function poe(n){return n.stepped?Rne:n.tension||"monotone"===n.cubicInterpolationMode?Nne:foe}(s);let P,R,F,{move:b=!0,reverse:D}=i||{};for(P=0;P<=p;++P)R=r[(c+(D?p-P:P))%a],!R.skip&&(b?(n.moveTo(R.x,R.y),b=!1):v(n,F,R,D,s.stepped),F=R);return h&&(R=r[(c+(D?p:0))%a],v(n,F,R,D,s.stepped)),!!h}function moe(n,t,e,i){const r=t.points,{count:s,start:a,ilen:c}=Pj(r,e,i),{move:h=!0,reverse:p}=i||{};let D,P,R,F,V,Q,v=0,b=0;const ee=de=>(a+(p?c-de:de))%s,re=()=>{F!==V&&(n.lineTo(v,V),n.lineTo(v,F),n.lineTo(v,Q))};for(h&&(P=r[ee(0)],n.moveTo(P.x,P.y)),D=0;D<=c;++D){if(P=r[ee(D)],P.skip)continue;const de=P.x,_e=P.y,ue=0|de;ue===R?(_e<F?F=_e:_e>V&&(V=_e),v=(b*v+de)/++b):(re(),n.lineTo(de,_e),R=ue,b=0,F=V=_e),Q=_e}re()}function eU(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?goe:moe}Nt(tD,"id","arc"),Nt(tD,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Nt(tD,"defaultRoutes",{backgroundColor:"backgroundColor"}),Nt(tD,"descriptors",{_scriptable:!0,_indexable:n=>"borderDash"!==n});const woe="function"==typeof Path2D;let lM=(()=>{class n extends Zd{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(oie(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function wie(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const s=!!n._loop,{start:a,end:c}=function vie(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}(e,r,s,i);return function V5(n,t,e,i){return i&&i.setContext&&e?function bie(n,t,e,i){const r=n._chart.getContext(),s=Z5(n.options),{_datasetIndex:a,options:{spanGaps:c}}=n,h=e.length,p=[];let v=s,b=t[0].start,D=b;function P(R,F,V,Q){const ee=c?-1:1;if(R!==F){for(R+=h;e[R%h].skip;)R-=ee;for(;e[F%h].skip;)F+=ee;R%h!=F%h&&(p.push({start:R%h,end:F%h,loop:V,style:Q}),v=Q,b=F%h)}}for(const R of t){b=c?b:R.start;let V,F=e[b%h];for(D=b+1;D<=R.end;D++){const Q=e[D%h];V=Z5(i.setContext(am(r,{type:"segment",p0:F,p1:Q,p0DataIndex:(D-1)%h,p1DataIndex:D%h,datasetIndex:a}))),Cie(V,v)&&P(b,D-1,R.loop,v),F=Q,v=V}b<D-1&&P(b,D-1,R.loop,v)}return p}(n,t,e,i):t}(n,!0===i?[{start:a,end:c,loop:s}]:function yie(n,t,e,i){const r=n.length,s=[];let h,a=t,c=n[t];for(h=t+1;h<=e;++h){const p=n[h%r];p.skip||p.stop?c.skip||(s.push({start:t%r,end:(h-1)%r,loop:i=!1}),t=a=p.stop?h:null):(a=h,c.skip&&(t=h)),c=p}return null!==a&&s.push({start:t%r,end:a%r,loop:i}),s}(e,a,c<a?c+r:c,!!n._fullLoop&&0===a&&c===r-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,i){const r=this.options,s=e[i],a=this.points,c=B5(this,{property:i,start:s,end:s});if(!c.length)return;const h=[],p=function _oe(n){return n.stepped?fie:n.tension||"monotone"===n.cubicInterpolationMode?pie:_v}(r);let v,b;for(v=0,b=c.length;v<b;++v){const{start:D,end:P}=c[v],R=a[D],F=a[P];if(R===F){h.push(R);continue}const Q=p(R,F,Math.abs((s-R[i])/(F[i]-R[i])),r.stepped);Q[i]=e[i],h.push(Q)}return 1===h.length?h[0]:h}pathSegment(e,i,r){return eU(this)(e,this,i,r)}path(e,i,r){const s=this.segments,a=eU(this);let c=this._loop;i=i||0,r=r||this.points.length-i;for(const h of s)c&=a(e,this,h,{start:i,end:i+r-1});return!!c}draw(e,i,r,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function boe(n,t,e,i){woe&&!t.options.segment?function voe(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),Mj(n,t.options),n.stroke(r)}(n,t,e,i):function yoe(n,t,e,i){const{segments:r,options:s}=t,a=eU(t);for(const c of r)Mj(n,s,c.style),n.beginPath(),a(n,t,c,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return Nt(n,"id","line"),Nt(n,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Nt(n,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Nt(n,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t}),n})();function kj(n,t,e,i){const r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}let Coe=(()=>{class n extends Zd{constructor(e){super(),Nt(this,"parsed",void 0),Nt(this,"skip",void 0),Nt(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const s=this.options,{x:a,y:c}=this.getProps(["x","y"],r);return Math.pow(e-a,2)+Math.pow(i-c,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,i){return kj(this,e,"x",i)}inYRange(e,i){return kj(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){let i=(e=e||this.options||{}).radius||0;return i=Math.max(i,i&&e.hoverRadius||0),2*(i+(i&&e.borderWidth||0))}draw(e,i){const r=this.options;this.skip||r.radius<.1||!mp(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,UF(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return Nt(n,"id","point"),Nt(n,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Nt(n,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),n})();function Oj(n,t){const{x:e,y:i,base:r,width:s,height:a}=n.getProps(["x","y","base","width","height"],t);let c,h,p,v,b;return n.horizontal?(b=a/2,c=Math.min(e,r),h=Math.max(e,r),p=i-b,v=i+b):(b=s/2,c=e-b,h=e+b,p=Math.min(i,r),v=Math.max(i,r)),{left:c,top:p,right:h,bottom:v}}function um(n,t,e,i){return n?0:oa(t,e,i)}function tU(n,t,e,i){const r=null===t,s=null===e,c=n&&!(r&&s)&&Oj(n,i);return c&&(r||pp(t,c.left,c.right))&&(s||pp(e,c.top,c.bottom))}function xoe(n,t){n.rect(t.x,t.y,t.w,t.h)}function nU(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-r),radius:n.radius}}class cM extends Zd{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:a}=function Doe(n){const t=Oj(n),e=t.right-t.left,i=t.bottom-t.top,r=function Eoe(n,t,e){const r=n.borderSkipped,s=C5(n.options.borderWidth);return{t:um(r.top,s.top,0,e),r:um(r.right,s.right,0,t),b:um(r.bottom,s.bottom,0,e),l:um(r.left,s.left,0,t)}}(n,e/2,i/2),s=function Toe(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=pv(r),a=Math.min(t,e),c=n.borderSkipped,h=i||Ii(r);return{topLeft:um(!h||c.top||c.left,s.topLeft,0,a),topRight:um(!h||c.top||c.right,s.topRight,0,a),bottomLeft:um(!h||c.bottom||c.left,s.bottomLeft,0,a),bottomRight:um(!h||c.bottom||c.right,s.bottomRight,0,a)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),c=function Ioe(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(a.radius)?jT:xoe;t.save(),(a.w!==s.w||a.h!==s.h)&&(t.beginPath(),c(t,nU(a,e,s)),t.clip(),c(t,nU(s,-e,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,nU(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return tU(this,t,e,i)}inXRange(t,e){return tU(this,t,null,e)}inYRange(t,e){return tU(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}Nt(cM,"id","bar"),Nt(cM,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Nt(cM,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Soe=Object.freeze({__proto__:null,ArcElement:tD,BarElement:cM,LineElement:lM,PointElement:Coe});const iU=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Rj=iU.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Nj(n){return iU[n%iU.length]}function Lj(n){return Rj[n%Rj.length]}function Fj(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}var Roe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:s}=r;if(!e.forceOverride&&(Fj(i)||function Ooe(n){return n&&(n.borderColor||n.backgroundColor)}(r)||s&&Fj(s)))return;const a=function koe(n){let t=0;return(e,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof $F?t=function Moe(n,t){return n.backgroundColor=n.data.map(()=>Nj(t++)),t}(e,t):r instanceof tj?t=function Poe(n,t){return n.backgroundColor=n.data.map(()=>Lj(t++)),t}(e,t):r&&(t=function Aoe(n,t){return n.borderColor=Nj(t),n.backgroundColor=Lj(t),++t}(e,t))}}(n);i.forEach(a)}};function Uj(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Bj(n){n.data.datasets.forEach(t=>{Uj(t)})}var Uoe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void Bj(n);const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:a,indexAxis:c}=r,h=n.getDatasetMeta(s),p=a||r.data;if("y"===WT([c,n.options.indexAxis])||!h.controller.supportsDecimation)return;const v=n.scales[h.xAxisID];if("linear"!==v.type&&"time"!==v.type||n.options.parsing)return;let R,{start:b,count:D}=function Foe(n,t){const e=t.length;let r,i=0;const{iScale:s}=n,{min:a,max:c,minDefined:h,maxDefined:p}=s.getUserBounds();return h&&(i=oa(gp(t,s.axis,a).lo,0,e-1)),r=p?oa(gp(t,s.axis,c).hi+1,i,e)-i:e-i,{start:i,count:r}}(h,p);if(D<=(e.threshold||4*i))Uj(r);else{switch(Zi(a)&&(r._data=p,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(F){this._data=F}})),e.algorithm){case"lttb":R=function Noe(n,t,e,i,r){const s=r.samples||i;if(s>=e)return n.slice(t,t+e);const a=[],c=(e-2)/(s-2);let h=0;const p=t+e-1;let b,D,P,R,F,v=t;for(a[h++]=n[v],b=0;b<s-2;b++){let ee,V=0,Q=0;const re=Math.floor((b+1)*c)+1+t,de=Math.min(Math.floor((b+2)*c)+1,e)+t,_e=de-re;for(ee=re;ee<de;ee++)V+=n[ee].x,Q+=n[ee].y;V/=_e,Q/=_e;const ue=Math.floor(b*c)+1+t,pe=Math.min(Math.floor((b+1)*c)+1,e)+t,{x:Le,y:et}=n[v];for(P=R=-1,ee=ue;ee<pe;ee++)R=.5*Math.abs((Le-V)*(n[ee].y-et)-(Le-n[ee].x)*(Q-et)),R>P&&(P=R,D=n[ee],F=ee);a[h++]=D,v=F}return a[h++]=n[p],a}(p,b,D,i,e);break;case"min-max":R=function Loe(n,t,e,i){let a,c,h,p,v,b,D,P,R,F,r=0,s=0;const V=[],ee=n[t].x,de=n[t+e-1].x-ee;for(a=t;a<t+e;++a){c=n[a],h=(c.x-ee)/de*i,p=c.y;const _e=0|h;if(_e===v)p<R?(R=p,b=a):p>F&&(F=p,D=a),r=(s*r+c.x)/++s;else{const ue=a-1;if(!Zi(b)&&!Zi(D)){const pe=Math.min(b,D),Le=Math.max(b,D);pe!==P&&pe!==ue&&V.push({...n[pe],x:r}),Le!==P&&Le!==ue&&V.push({...n[Le],x:r})}a>0&&ue!==P&&V.push(n[ue]),V.push(c),v=_e,s=0,R=F=p,b=D=P=a}}return V}(p,b,D,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=R}})},destroy(n){Bj(n)}};function rU(n,t,e,i){if(i)return;let r=t[n],s=e[n];return"angle"===n&&(r=Xc(r),s=Xc(s)),{property:n,start:r,end:s}}function oU(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Vj(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function Zj(n,t){let e=[],i=!1;return io(n)?(i=!0,e=n):e=function Voe(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:a,end:c})=>{c=oU(a,c,r);const h=r[a],p=r[c];null!==i?(s.push({x:h.x,y:i}),s.push({x:p.x,y:i})):null!==e&&(s.push({x:e,y:h.y}),s.push({x:e,y:p.y}))}),s}(n,t),e.length?new lM({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function zj(n){return n&&!1!==n.fill}function Zoe(n,t,e){let r=n[t].fill;const s=[t];let a;if(!e)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!jo(r))return r;if(a=n[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function zoe(n,t,e){const i=function Woe(n){const t=n.options,e=t.fill;let i=li(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(Ii(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return jo(r)&&Math.floor(r)===r?function Hoe(n,t,e,i){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=i)&&e}(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Yoe(n,t,e){const i=[];for(let r=0;r<e.length;r++){const s=e[r],{first:a,last:c,point:h}=Koe(s,t,"x");if(!(!h||a&&c))if(a)i.unshift(h);else if(n.push(h),!c)break}n.push(...i)}function Koe(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],s=n.segments,a=n.points;let c=!1,h=!1;for(let p=0;p<s.length;p++){const v=s[p],b=a[v.start][e],D=a[v.end][e];if(pp(r,b,D)){c=r===b,h=r===D;break}}return{first:c,last:h,point:i}}class Hj{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:s,radius:a}=this;return t.arc(r,s,a,(e=e||{start:0,end:ro}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function sU(n,t,e){const i=function Qoe(n){const{chart:t,fill:e,line:i}=n;if(jo(e))return function Joe(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function $oe(n){const{scale:t,index:e,line:i}=n,r=[],s=i.segments,a=i.points,c=function Goe(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}(t,e);c.push(Zj({x:null,y:t.bottom},i));for(let h=0;h<s.length;h++){const p=s[h];for(let v=p.start;v<=p.end;v++)Yoe(r,a[v],c)}return new lM({points:r,options:{}})}(n);if("shape"===e)return!0;const r=function Xoe(n){return(n.scale||{}).getPointPositionForValue?function tse(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,a=function joe(n,t,e){let i;return i="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:Ii(n)?n.value:t.getBaseValue(),i}(e,t,s),c=[];if(i.grid.circular){const h=t.getPointPositionForValue(0,s);return new Hj({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(a)})}for(let h=0;h<r;++h)c.push(t.getPointPositionForValue(h,a));return c}(n):function ese(n){const{scale:t={},fill:e}=n,i=function qoe(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:Ii(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(jo(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof Hj?r:Zj(r,i)}(t),{line:r,scale:s,axis:a}=t,c=r.options,h=c.fill,p=c.backgroundColor,{above:v=p,below:b=p}=h||{};i&&r.points.length&&(GA(n,e),function nse(n,t){const{line:e,target:i,above:r,below:s,area:a,scale:c}=t,h=e._loop?"angle":t.axis;n.save(),"x"===h&&s!==r&&(qj(n,i,a.top),jj(n,{line:e,target:i,color:r,scale:c,property:h}),n.restore(),n.save(),qj(n,i,a.bottom)),jj(n,{line:e,target:i,color:s,scale:c,property:h}),n.restore()}(n,{line:r,target:i,above:v,below:b,area:e,scale:s,axis:a}),YA(n))}function qj(n,t,e){const{segments:i,points:r}=t;let s=!0,a=!1;n.beginPath();for(const c of i){const{start:h,end:p}=c,v=r[h],b=r[oU(h,p,r)];s?(n.moveTo(v.x,v.y),s=!1):(n.lineTo(v.x,e),n.lineTo(v.x,v.y)),a=!!t.pathSegment(n,c,{move:a}),a?n.closePath():n.lineTo(b.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function jj(n,t){const{line:e,target:i,property:r,color:s,scale:a}=t,c=function Boe(n,t,e){const i=n.segments,r=n.points,s=t.points,a=[];for(const c of i){let{start:h,end:p}=c;p=oU(h,p,r);const v=rU(e,r[h],r[p],c.loop);if(!t.segments){a.push({source:c,target:v,start:r[h],end:r[p]});continue}const b=B5(t,v);for(const D of b){const P=rU(e,s[D.start],s[D.end],D.loop),R=U5(c,r,P);for(const F of R)a.push({source:F,target:D,start:{[e]:Vj(v,P,"start",Math.max)},end:{[e]:Vj(v,P,"end",Math.min)}})}}return a}(e,i,r);for(const{source:h,target:p,start:v,end:b}of c){const{style:{backgroundColor:D=s}={}}=h,P=!0!==i;n.save(),n.fillStyle=D,ise(n,a,P&&rU(r,v,b)),n.beginPath();const R=!!e.pathSegment(n,h);let F;if(P){R?n.closePath():Wj(n,i,b,r);const V=!!i.pathSegment(n,p,{move:R,reverse:!0});F=R&&V,F||Wj(n,i,v,r)}n.closePath(),n.fill(F?"evenodd":"nonzero"),n.restore()}}function ise(n,t,e){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:a,end:c}=e||{};"x"===s&&(n.beginPath(),n.rect(a,i,c-a,r-i),n.clip())}function Wj(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var rse={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let s,a,c,h;for(a=0;a<i;++a)s=n.getDatasetMeta(a),c=s.dataset,h=null,c&&c.options&&c instanceof lM&&(h={visible:n.isDatasetVisible(a),index:a,fill:zoe(c,a,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:c}),s.$filler=h,r.push(h);for(a=0;a<i;++a)h=r[a],h&&!1!==h.fill&&(h.fill=Zoe(r,a,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let a=r.length-1;a>=0;--a){const c=r[a].$filler;c&&(c.line.updateControlPoints(s,c.axis),i&&c.fill&&sU(n.ctx,c,s))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;zj(s)&&sU(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!zj(i)||"beforeDatasetDraw"!==e.drawTime||sU(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const $j=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class Gj extends Zd{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=zr(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,r=Ls(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=$j(i,s);let p,v;e.font=r.string,this.isHorizontal()?(p=this.maxWidth,v=this._fitRows(a,s,c,h)+10):(v=this.maxHeight,p=this._fitCols(a,r,c,h)+10),this.width=Math.min(p,t.maxWidth||this.maxWidth),this.height=Math.min(v,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],p=this.lineWidths=[0],v=r+c;let b=t;s.textAlign="left",s.textBaseline="middle";let D=-1,P=-v;return this.legendItems.forEach((R,F)=>{const V=i+e/2+s.measureText(R.text).width;(0===F||p[p.length-1]+V+2*c>a)&&(b+=v,p[p.length-(F>0?0:1)]=0,P+=v,D++),h[F]={left:0,top:P,row:D,width:V,height:r},p[p.length-1]+=V+c}),b}_fitCols(t,e,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],p=this.columnSizes=[],v=a-t;let b=c,D=0,P=0,R=0,F=0;return this.legendItems.forEach((V,Q)=>{const{itemWidth:ee,itemHeight:re}=function sse(n,t,e,i,r){const s=function ase(n,t,e,i){let r=n.text;return r&&"string"!=typeof r&&(r=r.reduce((s,a)=>s.length>a.length?s:a)),t+e.size/2+i.measureText(r).width}(i,n,t,e),a=function lse(n,t,e){let i=n;return"string"!=typeof t.text&&(i=Yj(t,e)),i}(r,i,t.lineHeight);return{itemWidth:s,itemHeight:a}}(i,e,s,V,r);Q>0&&P+re+2*c>v&&(b+=D+c,p.push({width:D,height:P}),R+=D+c,F++,D=P=0),h[Q]={left:R,top:P,col:F,width:ee,height:re},D=Math.max(D,ee),P+=re+c}),b+=D,p.push({width:D,height:P}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,a=aw(s,this.left,this.width);if(this.isHorizontal()){let c=0,h=Ka(i,this.left+r,this.right-this.lineWidths[c]);for(const p of e)c!==p.row&&(c=p.row,h=Ka(i,this.left+r,this.right-this.lineWidths[c])),p.top+=this.top+t+r,p.left=a.leftForLtr(a.x(h),p.width),h+=p.width+r}else{let c=0,h=Ka(i,this.top+t+r,this.bottom-this.columnSizes[c].height);for(const p of e)p.col!==c&&(c=p.col,h=Ka(i,this.top+t+r,this.bottom-this.columnSizes[c].height)),p.top=h,p.left+=this.left+r,p.left=a.leftForLtr(a.x(p.left),p.width),h+=p.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;GA(t,this),this._draw(),YA(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:a}=t,c=$o.color,h=aw(t.rtl,this.left,this.width),p=Ls(a.font),{padding:v}=a,b=p.size,D=b/2;let P;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=p.string;const{boxWidth:R,boxHeight:F,itemHeight:V}=$j(a,b),re=this.isHorizontal(),de=this._computeTitleHeight();P=re?{x:Ka(s,this.left+v,this.right-i[0]),y:this.top+v+de,line:0}:{x:this.left+v,y:Ka(s,this.top+de+v,this.bottom-e[0].height),line:0},R5(this.ctx,t.textDirection);const _e=V+v;this.legendItems.forEach((ue,pe)=>{r.strokeStyle=ue.fontColor,r.fillStyle=ue.fontColor;const Le=r.measureText(ue.text).width,et=h.textAlign(ue.textAlign||(ue.textAlign=a.textAlign)),bt=R+D+Le;let at=P.x,ot=P.y;h.setWidth(this.width),re?pe>0&&at+bt+v>this.right&&(ot=P.y+=_e,P.line++,at=P.x=Ka(s,this.left+v,this.right-i[P.line])):pe>0&&ot+_e>this.bottom&&(at=P.x=at+e[P.line].width+v,P.line++,ot=P.y=Ka(s,this.top+de+v,this.bottom-e[P.line].height)),function(ue,pe,Le){if(isNaN(R)||R<=0||isNaN(F)||F<0)return;r.save();const et=li(Le.lineWidth,1);if(r.fillStyle=li(Le.fillStyle,c),r.lineCap=li(Le.lineCap,"butt"),r.lineDashOffset=li(Le.lineDashOffset,0),r.lineJoin=li(Le.lineJoin,"miter"),r.lineWidth=et,r.strokeStyle=li(Le.strokeStyle,c),r.setLineDash(li(Le.lineDash,[])),a.usePointStyle){const bt={radius:F*Math.SQRT2/2,pointStyle:Le.pointStyle,rotation:Le.rotation,borderWidth:et},at=h.xPlus(ue,R/2);b5(r,bt,at,pe+D,a.pointStyleWidth&&R)}else{const bt=pe+Math.max((b-F)/2,0),at=h.leftForLtr(ue,R),ot=pv(Le.borderRadius);r.beginPath(),Object.values(ot).some(En=>0!==En)?jT(r,{x:at,y:bt,w:R,h:F,radius:ot}):r.rect(at,bt,R,F),r.fill(),0!==et&&r.stroke()}r.restore()}(h.x(at),ot,ue),at=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(et,at+R+D,re?at+bt:this.right,t.rtl),function(ue,pe,Le){fv(r,Le.text,ue,pe+V/2,p,{strikethrough:Le.hidden,textAlign:h.textAlign(Le.textAlign)})}(h.x(at),ot,ue),re?P.x+=bt+v:P.y+="string"!=typeof ue.text?Yj(ue,p.lineHeight):_e}),N5(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Ls(e.font),r=Qa(e.padding);if(!e.display)return;const s=aw(t.rtl,this.left,this.width),a=this.ctx,c=e.position,p=r.top+i.size/2;let v,b=this.left,D=this.width;if(this.isHorizontal())D=Math.max(...this.lineWidths),v=this.top+p,b=Ka(t.align,b,this.right-D);else{const R=this.columnSizes.reduce((F,V)=>Math.max(F,V.height),0);v=p+Ka(t.align,this.top,this.bottom-R-t.labels.padding-this._computeTitleHeight())}const P=Ka(c,b,b+D);a.textAlign=s.textAlign(OF(c)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=i.string,fv(a,e.text,P,v,i)}_computeTitleHeight(){const t=this.options.title,e=Ls(t.font),i=Qa(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(pp(t,this.left,this.right)&&pp(e,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],pp(t,r.left,r.left+r.width)&&pp(e,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function cse(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,s=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(r,i);r&&!s&&zr(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&zr(e.onHover,[t,i,this],this)}else i&&zr(e.onClick,[t,i,this],this)}}function Yj(n,t){return t*(n.text?n.text.length+.5:0)}var use={id:"legend",_element:Gj,start(n,t,e){const i=n.legend=new Gj({ctx:n.ctx,options:e,chart:n});Ja.configure(n,i,e),Ja.addBox(n,i)},stop(n){Ja.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Ja.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s,useBorderRadius:a,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const p=h.controller.getStyle(e?0:void 0),v=Qa(p.borderWidth);return{text:t[h.index].label,fillStyle:p.backgroundColor,fontColor:s,hidden:!h.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(v.width+v.height)/4,strokeStyle:p.borderColor,pointStyle:i||p.pointStyle,rotation:p.rotation,textAlign:r||p.textAlign,borderRadius:a&&(c||p.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class aU extends Zd{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=io(i.text)?i.text.length:1;this._padding=Qa(i.padding);const s=r*Ls(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:r,right:s,options:a}=this,c=a.align;let p,v,b,h=0;return this.isHorizontal()?(v=Ka(c,i,s),b=e+t,p=s-i):("left"===a.position?(v=i+t,b=Ka(c,r,e),h=-.5*bo):(v=s-t,b=Ka(c,e,r),h=.5*bo),p=r-e),{titleX:v,titleY:b,maxWidth:p,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Ls(e.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:c,maxWidth:h,rotation:p}=this._drawArgs(s);fv(t,e.text,0,0,i,{color:e.color,maxWidth:h,rotation:p,textAlign:OF(e.align),textBaseline:"middle",translation:[a,c]})}}var hse={id:"title",_element:aU,start(n,t,e){!function dse(n,t){const e=new aU({ctx:n.ctx,options:t,chart:n});Ja.configure(n,e,t),Ja.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){Ja.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Ja.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const uM=new WeakMap;var fse={id:"subtitle",start(n,t,e){const i=new aU({ctx:n.ctx,options:e,chart:n});Ja.configure(n,i,e),Ja.addBox(n,i),uM.set(n,i)},stop(n){Ja.removeBox(n,uM.get(n)),uM.delete(n)},beforeUpdate(n,t,e){const i=uM.get(n);Ja.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const nD={average(n){if(!n.length)return!1;let t,e,i=0,r=0,s=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const c=a.tooltipPosition();i+=c.x,r+=c.y,++s}}return{x:i/s,y:r/s}},nearest(n,t){if(!n.length)return!1;let s,a,c,e=t.x,i=t.y,r=Number.POSITIVE_INFINITY;for(s=0,a=n.length;s<a;++s){const h=n[s].element;if(h&&h.hasValue()){const v=PF(t,h.getCenterPoint());v<r&&(r=v,c=h)}}if(c){const h=c.tooltipPosition();e=h.x,i=h.y}return{x:e,y:i}}};function Jh(n,t){return t&&(io(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function vp(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function pse(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:a,value:c}=s.getLabelAndValue(r);return{chart:n,label:a,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:c,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function Kj(n,t){const e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:a,boxHeight:c}=t,h=Ls(t.bodyFont),p=Ls(t.titleFont),v=Ls(t.footerFont),b=s.length,D=r.length,P=i.length,R=Qa(t.padding);let F=R.height,V=0,Q=i.reduce((de,_e)=>de+_e.before.length+_e.lines.length+_e.after.length,0);Q+=n.beforeBody.length+n.afterBody.length,b&&(F+=b*p.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),Q&&(F+=P*(t.displayColors?Math.max(c,h.lineHeight):h.lineHeight)+(Q-P)*h.lineHeight+(Q-1)*t.bodySpacing),D&&(F+=t.footerMarginTop+D*v.lineHeight+(D-1)*t.footerSpacing);let ee=0;const re=function(de){V=Math.max(V,e.measureText(de).width+ee)};return e.save(),e.font=p.string,gr(n.title,re),e.font=h.string,gr(n.beforeBody.concat(n.afterBody),re),ee=t.displayColors?a+2+t.boxPadding:0,gr(i,de=>{gr(de.before,re),gr(de.lines,re),gr(de.after,re)}),ee=0,e.font=v.string,gr(n.footer,re),e.restore(),V+=R.width,{width:V,height:F}}function _se(n,t,e,i){const{x:r,width:s}=e,{width:a,chartArea:{left:c,right:h}}=n;let p="center";return"center"===i?p=r<=(c+h)/2?"left":"right":r<=s/2?p="left":r>=a-s/2&&(p="right"),function mse(n,t,e,i){const{x:r,width:s}=i,a=e.caretSize+e.caretPadding;if("left"===n&&r+s+a>t.width||"right"===n&&r-s-a<0)return!0}(p,n,t,e)&&(p="center"),p}function Qj(n,t,e){const i=e.yAlign||t.yAlign||function gse(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||_se(n,t,e,i),yAlign:i}}function Jj(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=n,{xAlign:c,yAlign:h}=e,p=r+s,{topLeft:v,topRight:b,bottomLeft:D,bottomRight:P}=pv(a);let R=function vse(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,c);const F=function yse(n,t,e){let{y:i,height:r}=n;return"top"===t?i+=e:i-="bottom"===t?r+e:r/2,i}(t,h,p);return"center"===h?"left"===c?R+=p:"right"===c&&(R-=p):"left"===c?R-=Math.max(v,D)+r:"right"===c&&(R+=Math.max(b,P)+r),{x:oa(R,0,i.width-t.width),y:oa(F,0,i.height-t.height)}}function dM(n,t,e){const i=Qa(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function Xj(n){return Jh([],vp(n))}function eW(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const tW={beforeTitle:fp,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:fp,beforeBody:fp,beforeLabel:fp,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Zi(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:fp,afterBody:fp,beforeFooter:fp,footer:fp,afterFooter:fp};function gc(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?tW[t].call(e,i):r}let nW=(()=>{class n extends Zd{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&i.options.animation&&r.animations,a=new H5(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=function wse(n,t,e){return am(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:r}=i,s=gc(r,"beforeTitle",this,e),a=gc(r,"title",this,e),c=gc(r,"afterTitle",this,e);let h=[];return h=Jh(h,vp(s)),h=Jh(h,vp(a)),h=Jh(h,vp(c)),h}getBeforeBody(e,i){return Xj(gc(i.callbacks,"beforeBody",this,e))}getBody(e,i){const{callbacks:r}=i,s=[];return gr(e,a=>{const c={before:[],lines:[],after:[]},h=eW(r,a);Jh(c.before,vp(gc(h,"beforeLabel",this,a))),Jh(c.lines,gc(h,"label",this,a)),Jh(c.after,vp(gc(h,"afterLabel",this,a))),s.push(c)}),s}getAfterBody(e,i){return Xj(gc(i.callbacks,"afterBody",this,e))}getFooter(e,i){const{callbacks:r}=i,s=gc(r,"beforeFooter",this,e),a=gc(r,"footer",this,e),c=gc(r,"afterFooter",this,e);let h=[];return h=Jh(h,vp(s)),h=Jh(h,vp(a)),h=Jh(h,vp(c)),h}_createItems(e){const i=this._active,r=this.chart.data,s=[],a=[],c=[];let p,v,h=[];for(p=0,v=i.length;p<v;++p)h.push(pse(this.chart,i[p]));return e.filter&&(h=h.filter((b,D,P)=>e.filter(b,D,P,r))),e.itemSort&&(h=h.sort((b,D)=>e.itemSort(b,D,r))),gr(h,b=>{const D=eW(e.callbacks,b);s.push(gc(D,"labelColor",this,b)),a.push(gc(D,"labelPointStyle",this,b)),c.push(gc(D,"labelTextColor",this,b))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=c,this.dataPoints=h,h}update(e,i){const r=this.options.setContext(this.getContext()),s=this._active;let a,c=[];if(s.length){const h=nD[r.position].call(this,s,this._eventPosition);c=this._createItems(r),this.title=this.getTitle(c,r),this.beforeBody=this.getBeforeBody(c,r),this.body=this.getBody(c,r),this.afterBody=this.getAfterBody(c,r),this.footer=this.getFooter(c,r);const p=this._size=Kj(this,r),v=Object.assign({},h,p),b=Qj(this.chart,r,v),D=Jj(r,v,b,this.chart);this.xAlign=b.xAlign,this.yAlign=b.yAlign,a={opacity:1,x:D.x,y:D.y,width:p.width,height:p.height,caretX:h.x,caretY:h.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=c,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,r,s){const a=this.getCaretPosition(e,r,s);i.lineTo(a.x1,a.y1),i.lineTo(a.x2,a.y2),i.lineTo(a.x3,a.y3)}getCaretPosition(e,i,r){const{xAlign:s,yAlign:a}=this,{caretSize:c,cornerRadius:h}=r,{topLeft:p,topRight:v,bottomLeft:b,bottomRight:D}=pv(h),{x:P,y:R}=e,{width:F,height:V}=i;let Q,ee,re,de,_e,ue;return"center"===a?(_e=R+V/2,"left"===s?(Q=P,ee=Q-c,de=_e+c,ue=_e-c):(Q=P+F,ee=Q+c,de=_e-c,ue=_e+c),re=Q):(ee="left"===s?P+Math.max(p,b)+c:"right"===s?P+F-Math.max(v,D)-c:this.caretX,"top"===a?(de=R,_e=de-c,Q=ee-c,re=ee+c):(de=R+V,_e=de+c,Q=ee+c,re=ee-c),ue=de),{x1:Q,x2:ee,x3:re,y1:de,y2:_e,y3:ue}}drawTitle(e,i,r){const s=this.title,a=s.length;let c,h,p;if(a){const v=aw(r.rtl,this.x,this.width);for(e.x=dM(this,r.titleAlign,r),i.textAlign=v.textAlign(r.titleAlign),i.textBaseline="middle",c=Ls(r.titleFont),h=r.titleSpacing,i.fillStyle=r.titleColor,i.font=c.string,p=0;p<a;++p)i.fillText(s[p],v.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+h,p+1===a&&(e.y+=r.titleMarginBottom-h)}}_drawColorBox(e,i,r,s,a){const c=this.labelColors[r],h=this.labelPointStyles[r],{boxHeight:p,boxWidth:v}=a,b=Ls(a.bodyFont),D=dM(this,"left",a),P=s.x(D),F=i.y+(p<b.lineHeight?(b.lineHeight-p)/2:0);if(a.usePointStyle){const V={radius:Math.min(v,p)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},Q=s.leftForLtr(P,v)+v/2,ee=F+p/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,UF(e,V,Q,ee),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,UF(e,V,Q,ee)}else{e.lineWidth=Ii(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const V=s.leftForLtr(P,v),Q=s.leftForLtr(s.xPlus(P,1),v-2),ee=pv(c.borderRadius);Object.values(ee).some(re=>0!==re)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,jT(e,{x:V,y:F,w:v,h:p,radius:ee}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),jT(e,{x:Q,y:F+1,w:v-2,h:p-2,radius:ee}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(V,F,v,p),e.strokeRect(V,F,v,p),e.fillStyle=c.backgroundColor,e.fillRect(Q,F+1,v-2,p-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,i,r){const{body:s}=this,{bodySpacing:a,bodyAlign:c,displayColors:h,boxHeight:p,boxWidth:v,boxPadding:b}=r,D=Ls(r.bodyFont);let P=D.lineHeight,R=0;const F=aw(r.rtl,this.x,this.width),V=function(et){i.fillText(et,F.x(e.x+R),e.y+P/2),e.y+=P+a},Q=F.textAlign(c);let ee,re,de,_e,ue,pe,Le;for(i.textAlign=c,i.textBaseline="middle",i.font=D.string,e.x=dM(this,Q,r),i.fillStyle=r.bodyColor,gr(this.beforeBody,V),R=h&&"right"!==Q?"center"===c?v/2+b:v+2+b:0,_e=0,pe=s.length;_e<pe;++_e){for(ee=s[_e],re=this.labelTextColors[_e],i.fillStyle=re,gr(ee.before,V),de=ee.lines,h&&de.length&&(this._drawColorBox(i,e,_e,F,r),P=Math.max(D.lineHeight,p)),ue=0,Le=de.length;ue<Le;++ue)V(de[ue]),P=D.lineHeight;gr(ee.after,V)}R=0,P=D.lineHeight,gr(this.afterBody,V),e.y-=a}drawFooter(e,i,r){const s=this.footer,a=s.length;let c,h;if(a){const p=aw(r.rtl,this.x,this.width);for(e.x=dM(this,r.footerAlign,r),e.y+=r.footerMarginTop,i.textAlign=p.textAlign(r.footerAlign),i.textBaseline="middle",c=Ls(r.footerFont),i.fillStyle=r.footerColor,i.font=c.string,h=0;h<a;++h)i.fillText(s[h],p.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+r.footerSpacing}}drawBackground(e,i,r,s){const{xAlign:a,yAlign:c}=this,{x:h,y:p}=e,{width:v,height:b}=r,{topLeft:D,topRight:P,bottomLeft:R,bottomRight:F}=pv(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(h+D,p),"top"===c&&this.drawCaret(e,i,r,s),i.lineTo(h+v-P,p),i.quadraticCurveTo(h+v,p,h+v,p+P),"center"===c&&"right"===a&&this.drawCaret(e,i,r,s),i.lineTo(h+v,p+b-F),i.quadraticCurveTo(h+v,p+b,h+v-F,p+b),"bottom"===c&&this.drawCaret(e,i,r,s),i.lineTo(h+R,p+b),i.quadraticCurveTo(h,p+b,h,p+b-R),"center"===c&&"left"===a&&this.drawCaret(e,i,r,s),i.lineTo(h,p+D),i.quadraticCurveTo(h,p,h+D,p),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,r=this.$animations,s=r&&r.x,a=r&&r.y;if(s||a){const c=nD[e.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=Kj(this,e),p=Object.assign({},c,this._size),v=Qj(i,e,p),b=Jj(e,p,v,i);(s._to!==b.x||a._to!==b.y)&&(this.xAlign=v.xAlign,this.yAlign=v.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,b))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const c=Qa(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,s,i),R5(e,i.textDirection),a.y+=c.top,this.drawTitle(a,e,i),this.drawBody(a,e,i),this.drawFooter(a,e,i),N5(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const r=this._active,s=e.map(({datasetIndex:h,index:p})=>{const v=this.chart.getDatasetMeta(h);if(!v)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:v.data[p],index:p}}),a=!zA(r,s),c=this._positionChanged(s,i);(a||c)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],c=this._getActiveElements(e,a,i,r),h=this._positionChanged(c,e),p=i||!zA(c,a)||h;return p&&(this._active=c,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),p}_getActiveElements(e,i,r,s){const a=this.options;if("mouseout"===e.type)return[];if(!s)return i;const c=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&c.reverse(),c}_positionChanged(e,i){const{caretX:r,caretY:s,options:a}=this,c=nD[a.position].call(this,e,i);return!1!==c&&(r!==c.x||s!==c.y)}}return Nt(n,"positioners",nD),n})();var bse={id:"tooltip",_element:nW,positioners:nD,afterInit(n,t,e){e&&(n.tooltip=new nW({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:tW},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Cse=Object.freeze({__proto__:null,Colors:Roe,Decimation:Uoe,Filler:rse,Legend:use,SubTitle:fse,Title:hse,Tooltip:bse});function iW(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}let Ise=(()=>{class n extends yv{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const i=this._addedLabels;if(i.length){const r=this.getLabels();for(const{index:s,label:a}of i)r[s]===a&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(Zi(e))return null;const r=this.getLabels();return i=isFinite(i)&&r[i]===e?i:function Tse(n,t,e,i){const r=n.indexOf(t);return-1===r?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):r!==n.lastIndexOf(t)?e:r}(r,e,li(i,e),this._addedLabels),((n,t)=>null===n?null:oa(Math.round(n),0,t))(i,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),i||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,i=this.max,r=this.options.offset,s=[];let a=this.getLabels();a=0===e&&i===a.length-1?a:a.slice(e,i+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let c=e;c<=i;c++)s.push({value:c});return s}getLabelForValue(e){return iW.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return Nt(n,"id","category"),Nt(n,"defaults",{ticks:{callback:iW}}),n})();function rW(n,t,{horizontal:e,minRotation:i}){const r=Vd(i),s=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/s,.75*t*(""+n).length)}class hM extends yv{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Zi(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=h=>r=e?r:h,c=h=>s=i?s:h;if(t){const h=Kh(r),p=Kh(s);h<0&&p<0?c(0):h>0&&p>0&&a(0)}if(r===s){let h=0===s?1:Math.abs(.05*s);c(s+h),t||a(r-h)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:e,stepSize:i}=t;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a=function xse(n,t){const e=[],{bounds:r,step:s,min:a,max:c,precision:h,count:p,maxTicks:v,maxDigits:b,includeBounds:D}=n,P=s||1,R=v-1,{min:F,max:V}=t,Q=!Zi(a),ee=!Zi(c),re=!Zi(p),de=(V-F)/(b+1);let ue,pe,Le,et,_e=r5((V-F)/R/P)*P;if(_e<1e-14&&!Q&&!ee)return[{value:F},{value:V}];et=Math.ceil(V/_e)-Math.floor(F/_e),et>R&&(_e=r5(et*_e/R/P)*P),Zi(h)||(ue=Math.pow(10,h),_e=Math.ceil(_e*ue)/ue),"ticks"===r?(pe=Math.floor(F/_e)*_e,Le=Math.ceil(V/_e)*_e):(pe=F,Le=V),Q&&ee&&s&&function mne(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((c-a)/s,_e/1e3)?(et=Math.round(Math.min((c-a)/_e,v)),_e=(c-a)/et,pe=a,Le=c):re?(pe=Q?a:pe,Le=ee?c:Le,et=p-1,_e=(Le-pe)/et):(et=(Le-pe)/_e,et=VT(et,Math.round(et),_e/1e3)?Math.round(et):Math.ceil(et));const bt=Math.max(s5(_e),s5(pe));ue=Math.pow(10,Zi(h)?bt:h),pe=Math.round(pe*ue)/ue,Le=Math.round(Le*ue)/ue;let at=0;for(Q&&(D&&pe!==a?(e.push({value:a}),pe<a&&at++,VT(Math.round((pe+at*_e)*ue)/ue,a,rW(a,de,n))&&at++):pe<a&&at++);at<et;++at){const ot=Math.round((pe+at*_e)*ue)/ue;if(ee&&ot>c)break;e.push({value:ot})}return ee&&D&&Le!==c?e.length&&VT(e[e.length-1].value,c,rW(c,de,n))?e[e.length-1].value=c:e.push({value:c}):(!ee||Le===c)&&e.push({value:Le}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&o5(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return HT(t,this.chart.options.locale,this.options.ticks.format)}}class lU extends hM{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=jo(t)?t:0,this.max=jo(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Vd(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Nt(lU,"id","linear"),Nt(lU,"defaults",{ticks:{callback:WA.formatters.numeric}});const iD=n=>Math.floor(sm(n)),wv=(n,t)=>Math.pow(10,iD(n)+t);function oW(n){return n/Math.pow(10,iD(n))==1}function sW(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}class cU extends yv{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=hM.prototype.parse.apply(this,[t,e]);if(0!==i)return jo(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=jo(t)?Math.max(0,t):null,this.max=jo(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!jo(this._userMin)&&(this.min=t===wv(this.min,0)?wv(this.min,-1):wv(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const s=c=>i=t?i:c,a=c=>r=e?r:c;i===r&&(i<=0?(s(1),a(10)):(s(wv(i,-1)),a(wv(r,1)))),i<=0&&s(wv(r,-1)),r<=0&&a(wv(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,i=function Ase(n,{min:t,max:e}){t=Jc(n.min,t);const i=[],r=iD(t);let s=function Sse(n,t){let i=iD(t-n);for(;sW(n,t,i)>10;)i++;for(;sW(n,t,i)<10;)i--;return Math.min(i,iD(n))}(t,e),a=s<0?Math.pow(10,Math.abs(s)):1;const c=Math.pow(10,s),h=r>s?Math.pow(10,r):0,p=Math.round((t-h)*a)/a,v=Math.floor((t-h)/c/10)*c*10;let b=Math.floor((p-v)/Math.pow(10,s)),D=Jc(n.min,Math.round((h+v+b*Math.pow(10,s))*a)/a);for(;D<e;)i.push({value:D,major:oW(D),significand:b}),b>=10?b=b<15?15:20:b++,b>=20&&(s++,b=2,a=s>=0?1:a),D=Math.round((h+v+b*Math.pow(10,s))*a)/a;const P=Jc(n.max,D);return i.push({value:P,major:oW(P),significand:b}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&o5(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":HT(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=sm(t),this._valueRange=sm(this.max)-sm(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(sm(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function uU(n){const t=n.ticks;if(t.display&&n.display){const e=Qa(t.backdropPadding);return li(t.font&&t.font.size,$o.font.size)+e.height}return 0}function Mse(n,t,e){return e=io(e)?e:[e],{w:One(n,t.string,e),h:e.length*t.lineHeight}}function aW(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function kse(n,t,e,i,r){const s=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));let c=0,h=0;i.start<t.l?(c=(t.l-i.start)/s,n.l=Math.min(n.l,t.l-c)):i.end>t.r&&(c=(i.end-t.r)/s,n.r=Math.max(n.r,t.r+c)),r.start<t.t?(h=(t.t-r.start)/a,n.t=Math.min(n.t,t.t-h)):r.end>t.b&&(h=(r.end-t.b)/a,n.b=Math.max(n.b,t.b+h))}function Ose(n,t,e){const i=n.drawingArea,{extra:r,additionalAngle:s,padding:a,size:c}=e,h=n.getPointPosition(t,i+r+a,s),p=Math.round(MF(Xc(h.angle+Wo))),v=function Use(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}(h.y,c.h,p),b=function Lse(n){return 0===n||180===n?"center":n<180?"left":"right"}(p),D=function Fse(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}(h.x,c.w,b);return{visible:!0,x:h.x,y:v,textAlign:b,left:D,top:v,right:D+c.w,bottom:v+c.h}}function Rse(n,t){if(!t)return!0;const{left:e,top:i,right:r,bottom:s}=n;return!(mp({x:e,y:i},t)||mp({x:e,y:s},t)||mp({x:r,y:i},t)||mp({x:r,y:s},t))}function Bse(n,t,e){const{left:i,top:r,right:s,bottom:a}=e,{backdropColor:c}=t;if(!Zi(c)){const h=pv(t.borderRadius),p=Qa(t.backdropPadding);n.fillStyle=c;const v=i-p.left,b=r-p.top,D=s-i+p.width,P=a-r+p.height;Object.values(h).some(R=>0!==R)?(n.beginPath(),jT(n,{x:v,y:b,w:D,h:P,radius:h}),n.fill()):n.fillRect(v,b,D,P)}}function lW(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,ro);else{let s=n.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let a=1;a<i;a++)s=n.getPointPosition(a,t),r.lineTo(s.x,s.y)}}Nt(cU,"id","logarithmic"),Nt(cU,"defaults",{ticks:{callback:WA.formatters.logarithmic,major:{enabled:!0}}});class rD extends hM{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Qa(uU(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=jo(t)&&!isNaN(t)?t:0,this.max=jo(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/uU(this.options))}generateTickLabels(t){hM.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=zr(this.options.pointLabels.callback,[e,i],this);return r||0===r?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function Pse(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],s=n._pointLabels.length,a=n.options.pointLabels,c=a.centerPointLabels?bo/s:0;for(let h=0;h<s;h++){const p=a.setContext(n.getPointLabelContext(h));r[h]=p.padding;const v=n.getPointPosition(h,n.drawingArea+r[h],c),b=Ls(p.font),D=Mse(n.ctx,b,n._pointLabels[h]);i[h]=D;const P=Xc(n.getIndexAngle(h)+c),R=Math.round(MF(P));kse(e,t,P,aW(R,v.x,D.w,0,180),aW(R,v.y,D.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function Nse(n,t,e){const i=[],r=n._pointLabels.length,s=n.options,{centerPointLabels:a,display:c}=s.pointLabels,h={extra:uU(s)/2,additionalAngle:a?bo/r:0};let p;for(let v=0;v<r;v++){h.padding=e[v],h.size=t[v];const b=Ose(n,v,h);i.push(b),"auto"===c&&(b.visible=Rse(b,p),b.visible&&(p=b))}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){return Xc(t*(ro/(this._pointLabels.length||1))+Vd(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Zi(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Zi(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function zse(n,t,e){return am(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-Wo+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),lW(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:s}=e,a=this._pointLabels.length;let c,h,p;if(e.pointLabels.display&&function Vse(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const s=n._pointLabelItems[r];if(!s.visible)continue;const a=i.setContext(n.getPointLabelContext(r));Bse(e,a,s);const c=Ls(a.font),{x:h,y:p,textAlign:v}=s;fv(e,n._pointLabels[r],h,p+c.lineHeight/2,c,{color:a.color,textAlign:v,textBaseline:"middle"})}}(this,a),r.display&&this.ticks.forEach((v,b)=>{if(0!==b){h=this.getDistanceFromCenterForValue(v.value);const D=this.getContext(b),P=r.setContext(D),R=s.setContext(D);!function Zse(n,t,e,i,r){const s=n.ctx,a=t.circular,{color:c,lineWidth:h}=t;!a&&!i||!c||!h||e<0||(s.save(),s.strokeStyle=c,s.lineWidth=h,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),lW(n,e,a,i),s.closePath(),s.stroke(),s.restore())}(this,P,h,a,R)}}),i.display){for(t.save(),c=a-1;c>=0;c--){const v=i.setContext(this.getPointLabelContext(c)),{color:b,lineWidth:D}=v;!D||!b||(t.lineWidth=D,t.strokeStyle=b,t.setLineDash(v.borderDash),t.lineDashOffset=v.borderDashOffset,h=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),p=this.getPointPosition(c,h),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(p.x,p.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,h)=>{if(0===h&&!e.reverse)return;const p=i.setContext(this.getContext(h)),v=Ls(p.font);if(s=this.getDistanceFromCenterForValue(this.ticks[h].value),p.showLabelBackdrop){t.font=v.string,a=t.measureText(c.label).width,t.fillStyle=p.backdropColor;const b=Qa(p.backdropPadding);t.fillRect(-a/2-b.left,-s-v.size/2-b.top,a+b.width,v.size+b.height)}fv(t,c.label,0,-s,v,{color:p.color})}),t.restore()}drawTitle(){}}Nt(rD,"id","radialLinear"),Nt(rD,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:WA.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}}),Nt(rD,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Nt(rD,"descriptors",{angleLines:{_fallback:"grid"}});const fM={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},mc=Object.keys(fM);function Hse(n,t){return n-t}function cW(n,t){if(Zi(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let a=t;return"function"==typeof i&&(a=i(a)),jo(a)||(a="string"==typeof i?e.parse(a,i):e.parse(a)),null===a?null:(r&&(a="week"!==r||!rw(s)&&!0!==s?e.startOf(a,r):e.startOf(a,"isoWeek",s)),+a)}function uW(n,t,e,i){const r=mc.length;for(let s=mc.indexOf(n);s<r-1;++s){const a=fM[mc[s]];if(a.common&&Math.ceil((e-t)/((a.steps?a.steps:Number.MAX_SAFE_INTEGER)*a.size))<=i)return mc[s]}return mc[r-1]}function dW(n,t,e){if(e){if(e.length){const{lo:i,hi:r}=kF(e,t);n[e[i]>=t?e[i]:e[r]]=!0}}else n[t]=!0}function hW(n,t,e){const i=[],r={},s=t.length;let a,c;for(a=0;a<s;++a)c=t[a],r[c]=a,i.push({value:c,major:!1});return 0!==s&&e?function Wse(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),a=t[t.length-1].value;let c,h;for(c=s;c<=a;c=+r.add(c,1,i))h=e[c],h>=0&&(t[h].major=!0);return t}(n,i,r,e):i}let dU=(()=>{class n extends yv{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){const r=e.time||(e.time={}),s=this._adapter=new Jie__date(e.adapters.date);s.init(i),UT(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return void 0===e?null:cW(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,r=e.time.unit||"day";let{min:s,max:a,minDefined:c,maxDefined:h}=this.getUserBounds();function p(v){!c&&!isNaN(v.min)&&(s=Math.min(s,v.min)),!h&&!isNaN(v.max)&&(a=Math.max(a,v.max))}(!c||!h)&&(p(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&p(this.getMinMax(!1))),s=jo(s)&&!isNaN(s)?s:+i.startOf(Date.now(),r),a=jo(a)&&!isNaN(a)?a:+i.endOf(Date.now(),r)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],r=e[e.length-1]),{min:i,max:r}}buildTicks(){const e=this.options,i=e.time,r=e.ticks,s="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,h=function wne(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}(s,a,this.max);return this._unit=i.unit||(r.autoSkip?uW(i.minUnit,this.min,this.max,this._getLabelCapacity(a)):function qse(n,t,e,i,r){for(let s=mc.length-1;s>=mc.indexOf(e);s--){const a=mc[s];if(fM[a].common&&n._adapter.diff(r,i,a)>=t-1)return a}return mc[e?mc.indexOf(e):0]}(this,h.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function jse(n){for(let t=mc.indexOf(n)+1,e=mc.length;t<e;++t)if(fM[mc[t]].common)return mc[t]}(this._unit):void 0,this.initOffsets(s),e.reverse&&h.reverse(),hW(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s,a,i=0,r=0;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),i=1===e.length?1-s:(this.getDecimalForValue(e[1])-s)/2,a=this.getDecimalForValue(e[e.length-1]),r=1===e.length?a:(a-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;i=oa(i,0,c),r=oa(r,0,c),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,i=this.min,r=this.max,s=this.options,a=s.time,c=a.unit||uW(a.minUnit,i,r,this._getLabelCapacity(i)),h=li(s.ticks.stepSize,1),p="week"===c&&a.isoWeekday,v=rw(p)||!0===p,b={};let P,R,D=i;if(v&&(D=+e.startOf(D,"isoWeek",p)),D=+e.startOf(D,v?"day":c),e.diff(r,i,c)>1e5*h)throw new Error(i+" and "+r+" are too far apart with stepSize of "+h+" "+c);const F="data"===s.ticks.source&&this.getDataTimestamps();for(P=D,R=0;P<r;P=+e.add(P,h,c),R++)dW(b,P,F);return(P===r||"ticks"===s.bounds||1===R)&&dW(b,P,F),Object.keys(b).sort((V,Q)=>V-Q).map(V=>+V)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}format(e,i){return this._adapter.format(e,i||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,i,r,s){const a=this.options,c=a.ticks.callback;if(c)return zr(c,[e,i,r],this);const h=a.time.displayFormats,p=this._unit,v=this._majorUnit,D=v&&h[v],P=r[i];return this._adapter.format(e,s||(v&&D&&P&&P.major?D:p&&h[p]))}generateTickLabels(e){let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],s.label=this._tickFormatFunction(s.value,i,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(e){const i=this._offsets,r=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,r=this.ctx.measureText(e).width,s=Vd(this.isHorizontal()?i.maxRotation:i.minRotation),a=Math.cos(s),c=Math.sin(s),h=this._resolveTickFontOptions(0).size;return{w:r*a+h*c,h:r*c+h*a}}_getLabelCapacity(e){const i=this.options.time,r=i.displayFormats,s=r[i.unit]||r.millisecond,a=this._tickFormatFunction(e,0,hW(this,[e],this._majorUnit),s),c=this._getLabelSize(a),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let i,r,e=this._cache.data||[];if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,r=s.length;i<r;++i)e=e.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,r;if(e.length)return e;const s=this.getLabels();for(i=0,r=s.length;i<r;++i)e.push(cW(this,s[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return u5(e.sort(Hse))}}return Nt(n,"id","time"),Nt(n,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}}),n})();function pM(n,t,e){let s,a,c,h,i=0,r=n.length-1;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=gp(n,"pos",t)),({pos:s,time:c}=n[i]),({pos:a,time:h}=n[r])):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=gp(n,"time",t)),({time:s,pos:c}=n[i]),({time:a,pos:h}=n[r]));const p=a-s;return p?c+(h-c)*(t-s)/p:c}class hU extends dU{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=pM(e,this.min),this._tableRange=pM(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let a,c,h,p,v;for(a=0,c=t.length;a<c;++a)p=t[a],p>=e&&p<=i&&r.push(p);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(a=0,c=r.length;a<c;++a)v=r[a+1],h=r[a-1],p=r[a],Math.round((v+h)/2)!==p&&s.push({time:p,pos:a/(c-1)});return s}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(pM(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return pM(this._table,i*this._tableRange+this._minPos,!0)}}Nt(hU,"id","timeseries"),Nt(hU,"defaults",dU.defaults);const fW=[Qie,Soe,Cse,Object.freeze({__proto__:null,CategoryScale:Ise,LinearScale:lU,LogarithmicScale:cU,RadialLinearScale:rD,TimeScale:dU,TimeSeriesScale:hU})];let fU=(()=>{class n{constructor(e){this.dbService=e}ngOnInit(){}onGetCountTableList(e){var i=this;return(0,Te.Z)(function*(){let r=0;return yield i.dbService.getData(e).then(s=>{s.forEach(()=>{r+=1})}),r})()}onGetMoneyData(){var e=this;return(0,Te.Z)(function*(){let i=[];return yield e.dbService.getData("moneyDb").then(r=>{r.forEach(s=>{i.push(s.data())})}).catch(r=>{console.log(r)}),i})()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(qo))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gse=(()=>{class n{constructor(e){this.chartService=e}ngOnInit(){this.chart_1()}chart_1(){var e=this;return(0,Te.Z)(function*(){let i=[0,0,0,0],r=["landlordDb","tenantDb","otherDb","propertyDb"];for(let s=1;s<5;s++)yield e.chartService.onGetCountTableList(r[s-1]).then(a=>{i[s-1]=a});new cm("myChart",{type:"bar",data:{labels:[`${i[0]} Landlords`,`${i[1]} Tenants`,`${i[2]} Others`,`${i[3]} Properties`],datasets:[{label:"Company Estate Agent",data:[i[0],i[1],i[2],i[3]],backgroundColor:["rgba(255, 99, 132, 0.7)","rgba(54, 162, 235, 0.7)","rgba(255, 206, 86, 0.7)","rgba(75, 192, 192, 0.7)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})})()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fU))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-chart-ltop"]],decls:2,vars:0,consts:[["id","divChart"],["id","myChart"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"canvas",1),o.qZA())},styles:["#divChart[_ngcontent-%COMP%]{display:block;width:40vw;height:400px}@media only screen and (max-width: 1000px){#divChart[_ngcontent-%COMP%]{display:block;width:60vw;height:400px}}"]}),n})(),yp=(()=>{class n{transform(e){if(e){const i=e.split(" ");for(let r=0;r<i.length;r++)i[r]=i[r].charAt(0).toUpperCase()+i[r].slice(1);return i.join(" ")}return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"upperFirst",type:n,pure:!0}),n})(),Yse=(()=>{class n{transform(e){let i=(new Date).getUTCDate(),r=(new Date).getUTCMonth(),s=e.currentDayDate;return i===s&&r===e.currentMonthDate?"Today":i===s+1?"Yesterday":e.date}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"checkNoteDatePipe",type:n,pure:!0}),n})();function Kse(n,t){if(1&n&&(o.TgZ(0,"li")(1,"div",15)(2,"div",16)(3,"p"),o._uU(4),o.ALo(5,"checkNoteDatePipe"),o.qZA(),o.TgZ(6,"p"),o._uU(7,"Rent Notification"),o.qZA()(),o.TgZ(8,"p",17),o._uU(9,"Today is the due date for your rent payment for the property located at "),o.TgZ(10,"a",18),o._uU(11),o.qZA(),o._uU(12,". The rent is collected form "),o.TgZ(13,"a",19),o._uU(14),o.ALo(15,"upperFirst"),o.ALo(16,"upperFirst"),o.qZA(),o._uU(17),o.qZA()()()),2&n){const e=t.$implicit;o.xp6(4),o.Oqu(o.lcZ(5,5,e)),o.xp6(7),o.Oqu(e.postcode),o.xp6(3),o.AsE("",o.lcZ(15,7,e.tfn)," ",o.lcZ(16,9,e.tln),""),o.xp6(3),o.hij(" , with amount ",e.rent,"")}}let pW=(()=>{class n{constructor(e,i){this.noteService=e,this.http=i,this.arrs=[],this.count=0,this.noteService.getTenantNote(),this.noteService.fetchData(),this.fatchDataNoFilter()}ngOnInit(){}postDATA(){this.noteService.deleteData()}fetchDATA(){var e=this;return(0,Te.Z)(function*(){yield e.noteService.fetchData().then(i=>{}).catch(i=>{})})()}fatchDataNoFilter(){var e=this;return(0,Te.Z)(function*(){return yield e.http.get("https://estateagent-2da55-default-rtdb.europe-west1.firebasedatabase.app/posts.json").subscribe(i=>{e.arrs.push(Object.values(i))})})()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ote),o.Y36(OT))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-home"]],decls:22,vars:1,consts:[[1,"container"],[1,"row"],[1,"col"],["id","container_1"],[1,"card",2,"width","18rem"],["src","assets/images/home_company_card.png","alt","...",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["href","#",1,"btn","btn-primary"],["id","calender"],["id","container_2"],["id","chart"],["id","notification"],[4,"ngFor","ngForOf"],["id","notificationCard",1,"card"],[1,"card-header"],[2,"font-size","14px"],["routerLink","/properties"],["routerLink","/tenants"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),o._UZ(5,"img",5),o.TgZ(6,"div",6)(7,"h5",7),o._uU(8,"Company Details"),o.qZA(),o.TgZ(9,"p",8),o._uU(10,"An estate agent company is a professional organization that specializes in facilitating property transactions."),o.qZA(),o.TgZ(11,"a",9),o._uU(12,"More info"),o.qZA()()(),o.TgZ(13,"div",10),o._UZ(14,"app-calendar"),o.qZA()(),o._UZ(15,"hr"),o.TgZ(16,"div",11)(17,"div",12),o._UZ(18,"app-chart-ltop"),o.qZA(),o.TgZ(19,"div",13)(20,"ul"),o.YNc(21,Kse,18,11,"li",14),o.qZA()()()()()()),2&e&&(o.xp6(21),o.Q6J("ngForOf",i.arrs[0]))},dependencies:[Xi,Zm,Nte,Gse,yp,Yse],styles:["#container_1[_ngcontent-%COMP%]{display:flex;justify-content:space-around}#calender[_ngcontent-%COMP%]{margin-top:10px}.container[_ngcontent-%COMP%]{text-align:center}#container_2[_ngcontent-%COMP%]{display:flex;margin-top:2rem;padding:0rem}#chart[_ngcontent-%COMP%]{display:flex}#notification[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}#notification[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{height:20rem;overflow:hidden;overflow-y:scroll}.card[_ngcontent-%COMP%]{margin-top:.75vh;font-size:14px}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;padding:.5rem}.card-header[_ngcontent-%COMP%]{font-size:14px;display:flex;justify-content:space-between;font-weight:700}@media only screen and (max-width: 1000px){#container_1[_ngcontent-%COMP%]{display:block;text-align:center;justify-content:center}#container_2[_ngcontent-%COMP%]{display:block}}@media only screen and (max-width:650px){#calender[_ngcontent-%COMP%]{display:none}}"]}),n})(),Qse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-not-found"]],decls:2,vars:0,template:function(e,i){1&e&&(o.TgZ(0,"p"),o._uU(1,"not-found works!"),o.qZA())}}),n})(),gW=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),bv=(()=>{class n extends gW{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const zd=new o.OlP("NgValueAccessor"),eae={provide:zd,useExisting:(0,o.Gpc)(()=>ss),multi:!0},nae=new o.OlP("CompositionEventMode");let ss=(()=>{class n extends gW{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function tae(){const n=W()?W().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(nae,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([eae]),o.qOj]}),n})();const iae=!1;function dm(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const Xa=new o.OlP("NgValidators"),hm=new o.OlP("NgAsyncValidators");function wW(n){return dm(n.value)?{required:!0}:null}function gM(n){return null}function IW(n){return null!=n}function xW(n){const t=(0,o.QGY)(n)?(0,si.D)(n):n;if(iae&&!(0,o.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new o.vHH(-1101,e)}return t}function SW(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function AW(n,t){return t.map(e=>e(n))}function MW(n){return n.map(t=>function oae(n){return!n.validate}(t)?t:e=>t.validate(e))}function pU(n){return null!=n?function PW(n){if(!n)return null;const t=n.filter(IW);return 0==t.length?null:function(e){return SW(AW(e,t))}}(MW(n)):null}function gU(n){return null!=n?function kW(n){if(!n)return null;const t=n.filter(IW);return 0==t.length?null:function(e){return function Jse(...n){const t=(0,Ys.jO)(n),{args:e,keys:i}=mh(n),r=new Ei.y(s=>{const{length:a}=e;if(!a)return void s.complete();const c=new Array(a);let h=a,p=a;for(let v=0;v<a;v++){let b=!1;(0,bl.Xf)(e[v]).subscribe((0,hr.x)(s,D=>{b||(b=!0,p--),c[v]=D},()=>h--,void 0,()=>{(!h||!b)&&(p||s.next(i?_h(i,c):c),s.complete())}))}});return t?r.pipe(hs(t)):r}(AW(e,t).map(xW)).pipe((0,qt.U)(SW))}}(MW(n)):null}function OW(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function mU(n){return n?Array.isArray(n)?n:[n]:[]}function mM(n,t){return Array.isArray(n)?n.includes(t):n===t}function LW(n,t){const e=mU(t);return mU(n).forEach(r=>{mM(e,r)||e.push(r)}),e}function FW(n,t){return mU(t).filter(e=>!mM(n,e))}class UW{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=pU(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=gU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ol extends UW{get formDirective(){return null}get path(){return null}}class fm extends UW{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class BW{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Fs=(()=>{class n extends BW{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fm,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[o.qOj]}),n})(),Hd=(()=>{class n extends BW{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ol,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[o.qOj]}),n})();function VW(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const yU=!1,oD="VALID",vM="INVALID",cw="PENDING",sD="DISABLED";function wU(n){return(yM(n)?n.validators:n)||null}function bU(n,t){return(yM(t)?t.asyncValidators:n)||null}function yM(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class HW{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===oD}get invalid(){return this.status===vM}get pending(){return this.status==cw}get disabled(){return this.status===sD}get enabled(){return this.status!==sD}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(LW(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(LW(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(FW(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(FW(t,this._rawAsyncValidators))}hasValidator(t){return mM(this._rawValidators,t)}hasAsyncValidator(t){return mM(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=cw,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=sD,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=oD,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oD||this.status===cw)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sD:oD}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=cw,this._hasOwnPendingAsyncValidator=!0;const e=xW(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?sD:this.errors?vM:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cw)?cw:this._anyControlsHaveStatus(vM)?vM:oD}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){yM(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function hae(n){return Array.isArray(n)?pU(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function fae(n){return Array.isArray(n)?gU(n):n||null}(this._rawAsyncValidators)}}class CU extends HW{constructor(t,e,i){super(wU(e),bU(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function zW(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new o.vHH(1002,yU?function dae(n,t){return`Must supply a value for form control ${VW(n,t)}`}(t,r):"")})})(this,!0,t),Object.keys(t).forEach(i=>{(function ZW(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new o.vHH(1e3,yU?function cae(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!i[e])throw new o.vHH(1001,yU?function uae(n,t){return`Cannot find form control ${VW(n,t)}`}(t,e):"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const uw=new o.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>wM}),wM="always";function aD(n,t,e=wM){EU(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function mae(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&qW(n,t)})}(n,t),function vae(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function _ae(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&qW(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function gae(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function EM(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function EU(n,t){const e=function RW(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(OW(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function NW(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(OW(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();EM(t._rawValidators,r),EM(t._rawAsyncValidators,r)}function qW(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Eae={provide:Ol,useExisting:(0,o.Gpc)(()=>eu)},lD=(()=>Promise.resolve())();let eu=(()=>{class n extends Ol{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new CU({},pU(e),gU(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){lD.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),aD(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){lD.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){lD.then(()=>{const i=this._findContainer(e.path),r=new CU({});(function jW(n,t){EU(n,t)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){lD.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){lD.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function WW(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Xa,10),o.Y36(hm,10),o.Y36(uw,8))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([Eae]),o.qOj]}),n})();function $W(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function GW(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const YW=class extends HW{constructor(t=null,e,i){super(wU(e),bU(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yM(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=GW(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){$W(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){$W(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){GW(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Iae={provide:fm,useExisting:(0,o.Gpc)(()=>ws)},JW=(()=>Promise.resolve())();let ws=(()=>{class n extends fm{constructor(e,i,r,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new YW,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function IU(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===ss?e=s:function bae(n){return Object.getPrototypeOf(n.constructor)===bv}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function DU(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){aD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){JW.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,o.D6c)(i);JW.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function bM(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ol,9),o.Y36(Xa,10),o.Y36(hm,10),o.Y36(zd,10),o.Y36(o.sBO,8),o.Y36(uw,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([Iae]),o.qOj,o.TTD]}),n})(),qd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const xae={provide:zd,useExisting:(0,o.Gpc)(()=>dw),multi:!0};let dw=(()=>{class n extends bv{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[o._Bn([xae]),o.qOj]}),n})(),XW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Lae={provide:zd,useExisting:(0,o.Gpc)(()=>qu),multi:!0};function s$(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let qu=(()=>{class n extends bv{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=s$(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function Fae(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&o.NdJ("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([Lae]),o.qOj]}),n})(),Xh=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(s$(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(qu,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Uae={provide:zd,useExisting:(0,o.Gpc)(()=>MU),multi:!0};function a$(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let MU=(()=>{class n extends bv{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(r.indexOf(a.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const a=s;for(let c=0;c<a.length;c++){const p=this._getOptionValue(a[c].value);r.push(p)}}else{const a=i.options;for(let c=0;c<a.length;c++){const h=a[c];if(h.selected){const p=this._getOptionValue(h.value);r.push(p)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Bae(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&o.NdJ("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([Uae]),o.qOj]}),n})(),ef=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(a$(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(a$(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(MU,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let Cv=(()=>{class n{constructor(){this._validator=gM}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):gM,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const zae={provide:Xa,useExisting:(0,o.Gpc)(()=>el),multi:!0};let el=(()=>{class n extends Cv{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.D6c,this.createValidator=e=>wW}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[o._Bn([zae]),o.qOj]}),n})();const Wae={provide:Xa,useExisting:(0,o.Gpc)(()=>tf),multi:!0};let tf=(()=>{class n extends Cv{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function l$(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>function TW(n){return t=>function _W(n){return null!=n&&"number"==typeof n.length}(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[o._Bn([Wae]),o.qOj]}),n})();const $ae={provide:Xa,useExisting:(0,o.Gpc)(()=>nf),multi:!0};let nf=(()=>{class n extends Cv{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>function DW(n){if(!n)return gM;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(dm(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[o._Bn([$ae]),o.qOj]}),n})(),Gae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[XW]}),n})(),Kae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:uw,useValue:e.callSetDisabledState??wM}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Gae]}),n})();var wp=z(8407);let Ev=(()=>{class n{constructor(){}landlordData(){return[{id:"0001",firstName:"john",lastName:"smith",address:"123 Main Street",postcode:"B12 3AB",email:"johnsmith@example.com",phone:"0123456789",details:""},{id:"0002",firstName:"sarah",lastName:"johnson",address:"456 High Road",postcode:"B18 6CD",email:"sarahjohnson@example.com",phone:"9876543210",details:""},{id:"0003",firstName:"david",lastName:"thompson",address:"789 Park Avenue",postcode:"B24 9EF",email:"davidthompson@example.com",phone:"4567891230",details:""},{id:"0004",firstName:"emma",lastName:"wilson",address:"321 Oak Street",postcode:"B15 7FG",email:"emmawilson@example.com",phone:"7890123456",details:""},{id:"0005",firstName:"michael",lastName:"davies",address:"987 Elm Court",postcode:"B20 4GH",email:"michaeldavies@example.com",phone:"5678901234",details:""},{id:"0006",firstName:"laura",lastName:"anderson",address:"654 Grove Lane",postcode:"B10 5IJ",email:"lauraanderson@example.com",phone:"9012345678",details:""},{id:"0007",firstName:"mark",lastName:"wilson",address:"321 Maple Road",postcode:"B9 8KL",email:"markwilson@example.com",phone:"3456789012",details:""},{id:"0008",firstName:"rebecca",lastName:"turner",address:"789 Pine Avenue",postcode:"B16 3MN",email:"rebeccaturner@example.com",phone:"6789012345",details:""},{id:"0009",firstName:"daniel",lastName:"harris",address:"456 Cedar Court",postcode:"B23 7OP",email:"danielharris@example.com",phone:"1234567890",details:""},{id:"0010",firstName:"sophie",lastName:"clark",address:"789 Birch Lane",postcode:"B11 9XY",email:"sophieclark@example.com",phone:"2345678901",details:""}]}tenantData(){return[{id:"0001",firstName:"alex",lastName:"johnson",previousAddress:"234 Park Street",previousPostcode:"B12 4CD",email:"alexjohnson@example.com",phone:"0123456789",owner:"John Smith",currentAddress:"123 Main Street",currentPostcode:"B12 3AB",details:""},{id:"0002",firstName:"emily",lastName:"brown",previousAddress:"789 High Road",previousPostcode:"B18 5EF",email:"emilybrown@example.com",phone:"9876543210",owner:"Sarah Johnson",currentAddress:"456 High Road",currentPostcode:"B18 6CD",details:""},{id:"0003",firstName:"daniel",lastName:"taylor",previousAddress:"567 Park Avenue",previousPostcode:"B24 7GH",email:"danieltaylor@example.com",phone:"4567891230",owner:"David Thompson",currentAddress:"789 Park Avenue",currentPostcode:"B24 9EF",details:""},{id:"0004",firstName:"sophia",lastName:"robinson",previousAddress:"987 Oak Street",previousPostcode:"B15 6IJ",email:"sophiarobinson@example.com",phone:"7890123456",owner:"Emma Wilson",currentAddress:"321 Oak Street",currentPostcode:"B15 7FG",details:""},{id:"0005",firstName:"oliver",lastName:"davis",previousAddress:"456 Elm Court",previousPostcode:"B20 3KL",email:"oliverdavis@example.com",phone:"5678901234",owner:"Michael Davies",currentAddress:"987 Elm Court",currentPostcode:"B20 4GH",details:""},{id:"0006",firstName:"amelia",lastName:"lee",previousAddress:"654 Grove Lane",previousPostcode:"B10 4MN",email:"amelialeee@example.com",phone:"9012345678",owner:"Laura Anderson",currentAddress:"654 Grove Lane",currentPostcode:"B10 5IJ",details:""},{id:"0007",firstName:"william",lastName:"walker",previousAddress:"321 Maple Road",previousPostcode:"B9 7OP",email:"williamwalker@example.com",phone:"3456789012",owner:"Mark Wilson",currentAddress:"321 Maple Road",currentPostcode:"B9 8KL",details:""},{id:"0008",firstName:"ava",lastName:"turner",previousAddress:"789 Pine Avenue",previousPostcode:"B16 2XY",email:"avaturner@example.com",phone:"6789012345",owner:"Rebecca Turner",currentAddress:"789 Pine Avenue",currentPostcode:"B16 3MN",details:""}]}propertyData(){return[{Id:"0001",Owner:"john smith",Address:"123 main street",Postcode:"B12 0YL",City:"Birmingham",Date:"2023-1-20",Rent:"\xa31,200",ServiceCharge:"\xa3100",PaymentDate:"1st of every month",Phone:"0123456782",Details:"Spacious two-bedroom apartment with a balcony overlooking thecity center."},{Id:"0002",Owner:"john smith",Address:"126 main street",Postcode:"B18 7DW",City:"Birmingham",Date:"2023-1-20",Rent:"\xa32,200",ServiceCharge:"\xa3150",PaymentDate:"1st of every month",Phone:"0123456782",Details:"Spacious two-bedroom apartment with a balcony overlooking thecity center."},{Id:"0003",Owner:"sarah johnson",Address:"456 high road",Postcode:"B30 2DN",City:"Birmingham",Date:"2023-1-20",Rent:"\xa3900",ServiceCharge:"\xa375",PaymentDate:"5th of every month",Phone:"9876543210",Details:"Cozy one-bedroom flat located in a quiet residential area near local amenities."},{Id:"0004",Owner:"david thompson",Address:"789 park avenue",Postcode:"B13 9YE",City:"Birmingham",Date:"2023-1-20",Rent:"\xa31,500",ServiceCharge:"\xa3120",Payment:"Date: 15th of every month",Phone:"4567891230",Details:"Modern three-bedroom townhouse with a garden, close to parks and schools."},{Id:"0005",Owner:"emma wilson",Address:"321 oak street",Postcode:"B25 8RN",City:"Birmingham",Date:"2023-1-20",Rent:"\xa32,000",ServiceCharge:"\xa3150",PaymentDate:"10th of every month",Phone:"7890123456",Details:"Luxury penthouse apartment with panoramic city views and high-end amenities."},{Id:"0006",Owner:"laura anderson",Address:"654 grove lane",Postcode:"B33 8BJ",City:"Birmingham",Date:"2023-1-20",Rent:"\xa31,100",ServiceCharge:"\xa390",PaymentDate:"20th of every month",Phone:"9012345678",Details:"Well-maintained two-bedroom house with a garden, suitable for a small family."},{Id:"0007",Owner:"mark wilson",Address:"321 maple road",Postcode:"B7 5SA",City:"Birmingham",Date:"2023-1-20",Rent:"\xa31,300",ServiceCharge:"\xa3100",PaymentDate:"5th of every month",Phone:"3456789012",Details:"Spacious three-bedroom semi-detached house with off-street parking."},{Id:"0008",Owner:"rebecca turner",Address:"789 pine avenue",Postcode:"B6 5SU",City:"Birmingham",Date:"2023-1-20",Rent:"\xa3950",ServiceCharge:"\xa380",PaymentDate:"1st of every month",Phone:"6789012345",Details:"Recently refurbished one-bedroom apartment in a modern development."}]}otherData(){return[{id:"0001",name:"smith's handyman services",sector:"residential",services:["plumbing","electrical","carpentry"],phone:"0123456789",email:"smithshandyman@example.com",address:"123 Main Street",postcode:"B12 3AB",details:""},{id:"0002",name:"Johnson's Property Maintenance",sector:"commercial",services:["painting","flooring","general repairs"],phone:"9876543210",email:"johnsonsproperty@example.com",address:"456 High Road",postcode:"B18 6CD",details:""},{id:"0003",name:"taylor's garden maintenance",sector:"landscaping",services:["lawn care","tree pruning","hedge trimming"],phone:"4567891230",email:"taylorsgarden@example.com",address:"789 Park Avenue",postcode:"B24 9EF",details:""},{id:"0004",name:"smith & sons plumbing",sector:"residential",services:["plumbing","heating","boiler repair"],phone:"7890123456",email:"smithandsons@example.com",address:"321 Oak Street",postcode:"B15 7FG",details:""},{id:"0005",name:"greenThumb landscapes",sector:"Landscaping",services:["garden design","turfing","paving"],phone:"5678901234",email:"greenthumblandscapes@example.com",address:"987 Elm Court",postcode:"B20 4GH",details:""},{id:"0006",name:"carpentry experts ltd",sector:"construction",services:["cabinet making","furniture installation","door repair"],phone:"9012345678",email:"carpentryexperts@example.com",address:"654 Grove Lane",postcode:"B10 5IJ",details:""},{id:"0007",name:"electric solutions",sector:"electrical",services:["wiring","lighting installation","appliance repair"],phone:"3456789012",email:"electricsolutions@example.com",address:"321 Maple Road",postcode:"B9 8KL",details:""}]}moneyData(){return[{id:"0001",invoice:"7023CP",position:"Tenant",date:"2022-3-15",name:"john smith",about:"Rent Payment",totalAmount:1200,paymentType:"Bank Transfer",transaction:[{type:"receive",description:"for rent",amount:"1200"}]},{id:"0002",invoice:"7033CP",position:"Landlord",date:"2022-6-1",name:"sarah johnson",about:"Rent Adjustment",totalAmount:300,paymentType:"Cash",transaction:[{type:"receive",description:"for rent",amount:"300"}]},{id:"0003",invoice:"7055CP",position:"Others",date:"2022-10-10",name:"abc cleaning services",about:"Cleaning Services",totalAmount:-150,paymentType:"Bank Transfer",transaction:[{type:"receive",description:"for rent",amount:"80"},{type:"pay",description:"adjustment",amount:"-220"},{type:"pay",description:"fix pumbler",amount:"-10"}]},{id:"0004",invoice:"7003CP",position:"Tenant",date:"2023-1-5",name:"Emily Thompson",about:"Rent Payment",totalAmount:800,paymentType:"Bank Transfer",transaction:[{type:"receive",description:"for rent",amount:"800"}]},{id:"0005",invoice:"5023CP",position:"Landlord",date:"2023-2-20",name:"michael anderson",about:"Rent Adjustment",totalAmount:-200,paymentType:"Cash",transaction:[{type:"receive",description:"for rent",amount:"25"},{type:"pay",description:"adjustment",amount:"-150"},{type:"pay",description:"fix pumbler",amount:"-75"}]},{id:"0006",invoice:"7084CP",position:"Tenant",date:"2023-4-10",name:"jessica lee",about:"Services (Plumbing)",totalAmount:500,paymentType:"Bank Transfer",transaction:[{type:"receive",description:"for rent",amount:"750"},{type:"pay",description:"adjustment",amount:"-30"},{type:"pay",description:"fix pumbler",amount:"-10.50"}]},{id:"0007",invoice:"7983CP",position:"Others",date:"2023-7-15",name:"xyz construction",about:"Repair Services",totalAmount:-790.5,paymentType:"Cash",transaction:[{type:"pay",description:"for rent",amount:"-750"},{type:"pay",description:"adjustment",amount:"-30"},{type:"pay",description:"fix pumbler",amount:"-10.50"}]},{id:"0008",invoice:"8723CP",position:"Landlord",date:"2023-8-5",name:"thomas collins",about:"Rent Adjustment",totalAmount:-150,paymentType:"Bank Transfer",transaction:[{type:"pay",description:"rent for property",amount:"-150"}]},{id:"0009",invoice:"7080CP",position:"Tenant",date:"2023-11-1",name:"olivia martinez",about:"Rent Payment",totalAmount:1500,paymentType:"Bank Transfer",transaction:[{type:"receive",description:"for rent",amount:"750"},{type:"pay",description:"adjustment",amount:"-30"},{type:"pay",description:"fix pumbler",amount:"-10.50"}]},{id:"0010",invoice:"7998CP",position:"Others",date:"2023-12-20",name:"green thumb landscapes",about:"Garden Maintenance Services",totalAmount:200,paymentType:"Cash",transaction:[{type:"receive",description:"painting",amount:"250"},{type:"pay",description:"adjustment",amount:"-50"}]},{id:"0011",invoice:"7443CP",position:"Tenant",date:"2023-3-16",name:"john smith",about:"Rent Payment",totalAmount:1400,paymentType:"Bank Transfer",transaction:[{type:"receive",description:"for rent",amount:"1400"}]}]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rf=(()=>{class n{constructor(e,i){this.dataService=e,this.dbService=i,this.icon={icon:wp.icon({iconSize:[25,41],iconAnchor:[13,0],iconUrl:"./node_modules/leaflet/dist/images/marker-icon.png",shadowUrl:"./node_modules/leaflet/dist/images/marker-shadow.png"})},this.lat=52.466064,this.lng=-1.891307,this.postcodeArrs=[]}ngOnInit(){this.postcodeArrs=[],this.propertiesPostcodes(),this.map&&(this.map=this.map.remove()),this.mapMain&&(this.mapMain=this.mapMain.remove()),this.initMap("b120yl")}propertiesPostcodes(){var e=this;return(0,Te.Z)(function*(){let i=[];yield e.dbService.getData("propertyDb").then(r=>{i=[],r.forEach(s=>{i.push(s.data())})});for(let r of i){let a,s={latFunc:"",lngFunc:"",postcode:"",url:""};r.postcode&&(a=yield e.getLatLng(r.postcode)),s.latFunc=a.latitude,s.lngFunc=a.longitude,s.postcode=r.postcode,r.image?yield e.dbService.getStorageData(r.image).then(c=>{let h=r;h.image=c.toString(),s.url=h.image}).catch(c=>console.log(c)):s.url="assets/images/mohammedAlfadhel.png",e.postcodeArrs.push(s)}})()}initMap(e="B12 0YL"){var i=this;return(0,Te.Z)(function*(){e&&(yield i.getLatLng(e)),i.map&&i.map.remove(),i.map=wp.map("map").setView([i.lat,i.lng],15);const r=wp.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,minZoom:10,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(i.map);var s=wp.icon({iconUrl:"assets/images/locationPin.png",iconSize:[14,26],iconAnchor:[2,26],popupAnchor:[-1,-35]});wp.marker([i.lat,i.lng],{icon:s}).addTo(i.map).bindPopup(e).openPopup(),yield r.addTo(i.map)})()}initMainMap(){var e=this;return(0,Te.Z)(function*(){yield e.propertiesPostcodes(),e.mapMain&&e.mapMain.remove(),e.mapMain=wp.map("map").setView([e.lat,e.lng],10);const i=wp.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:17,minZoom:5,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(e.mapMain);var r=wp.icon({iconUrl:"assets/images/locationPin.png",iconSize:[14,26],iconAnchor:[2,26],popupAnchor:[-1,-35]});for(let a of e.postcodeArrs)wp.marker([a.latFunc,a.lngFunc,a.postcode],{icon:r}).addTo(e.mapMain).bindPopup(a.postcode+"<br><img style='width:50px;' src='"+a.url+"'>").openPopup();yield i.addTo(e.mapMain)})()}getLatLng(e){var i=this;return(0,Te.Z)(function*(){let r,s=e.split(" ").join("");return yield fetch("https://api.postcodes.io/postcodes/"+s).then(c=>c.json().then(h=>{r=h.result})).catch(c=>console.log("Postcode not exist! "+c)),i.lat=0,i.lng=0,i.lat=r.latitude,i.lng=r.longitude,r})()}checkPostcode(e){return(0,Te.Z)(function*(){let i,r=e.split(" ").join("");return yield fetch("https://api.postcodes.io/postcodes/"+r).then(a=>a.json().then(c=>{i=c.result})).catch(a=>console.log("Postcode not exist! "+a)),i})()}ngOnDestroy(){this.map.remove(),this.mapMain.remove()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ev),o.LFG(qo))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qae=["firstname"],Jae=["lastname"],Xae=["address"],ele=["postcode"],tle=["email"],nle=["phone"],ile=["details"];function rle(n,t){1&n&&(o.TgZ(0,"div",32)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function ole(n,t){1&n&&(o.TgZ(0,"div",32)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function sle(n,t){1&n&&(o.TgZ(0,"div",32)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function ale(n,t){1&n&&(o.TgZ(0,"div",32)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function lle(n,t){1&n&&(o.TgZ(0,"p",32),o._uU(1,"This postcode is not exist!"),o.qZA())}function cle(n,t){1&n&&(o.TgZ(0,"div",32)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function ule(n,t){1&n&&(o.TgZ(0,"div",32)(1,"p"),o._uU(2,"*Required"),o.qZA()())}const dle=function(n){return{color:n}};let hle=(()=>{class n{constructor(e,i,r){this.elementRef=e,this.mapingService=i,this.dbService=r,this.close=new o.vpe,this.postcodeNotExist=!1}ngOnInit(){}onSubmit(e){var i=this;return(0,Te.Z)(function*(){i.postcodeNotExist=!1,void 0===(yield i.mapingService.checkPostcode(i.postcodeRef.nativeElement.value))?(console.log("this is undefined value"),i.postcodeRef.nativeElement.value="",i.postcodeNotExist=!0):(i.landlord={firstname:i.firstnameRef.nativeElement.value.toLowerCase(),lastname:i.lastnameRef.nativeElement.value.toLowerCase(),address:i.addressRef.nativeElement.value.toLowerCase(),postcode:i.postcodeRef.nativeElement.value.toUpperCase(),email:i.emailRef.nativeElement.value.toLowerCase(),phone:i.phoneRef.nativeElement.value.toLowerCase(),detail:i.detailsRef.nativeElement.value.toLowerCase()},i.dbService.addData(i.landlord,"landlordDb").then(s=>{console.log(s)}).catch(s=>{console.log(s)}),i.onClose())})()}onClose(){this.ngOnDestroy()}ngOnDestroy(){this.elementRef.nativeElement.remove(),this.close.emit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(rf),o.Y36(qo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-add-landlord"]],viewQuery:function(e,i){if(1&e&&(o.Gf(Qae,5),o.Gf(Jae,5),o.Gf(Xae,5),o.Gf(ele,5),o.Gf(tle,5),o.Gf(nle,5),o.Gf(ile,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.firstnameRef=r.first),o.iGM(r=o.CRH())&&(i.lastnameRef=r.first),o.iGM(r=o.CRH())&&(i.addressRef=r.first),o.iGM(r=o.CRH())&&(i.postcodeRef=r.first),o.iGM(r=o.CRH())&&(i.emailRef=r.first),o.iGM(r=o.CRH())&&(i.phoneRef=r.first),o.iGM(r=o.CRH())&&(i.detailsRef=r.first)}},inputs:{closeForm:"closeForm"},outputs:{close:"close"},decls:66,vars:11,consts:[[1,"dropback",3,"click"],[1,"container"],[1,"row"],[1,"col"],[1,"title_pg"],[3,"click"],["alt","closeIcon","src","assets/images/closeIcon.png",2,"width","25px"],[3,"ngSubmit"],["f","ngForm"],[1,"input_block"],[1,"ContentDetails"],[1,"input-group"],[1,"input-group-text"],["type","text","placeholder","First name","name","firstname","ngModel","","id","firstname","pattern","[A-Za-z]{2,}","maxlength","20","required","",1,"form-control"],["firstname",""],["class","required-warning",4,"ngIf"],["type","text","placeholder","Last name","name","lastname","ngModel","","id","lastname","pattern","[A-Za-z]{2,}","maxlength","20","required","",1,"form-control"],["lastname",""],["type","text","placeholder","Address","name","address","ngModel","","id","address","pattern","[A-Za-z0-9\\w!@#$%?=*&.- ]{2,}","maxlength","50","required","",1,"form-control"],["address",""],["type","text","placeholder","Postcode","name","postcode","ngModel","","id","postcode","pattern","[A-Za-z0-9- ]{2,}","maxlength","8","required","",1,"form-control"],["postcode",""],["type","email","placeholder","Email","name","email","ngModel","","id","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$","required","",1,"form-control"],["email",""],["type","text","placeholder","Phone","name","phone","ngModel","","id","phone","maxlength","11","required","",1,"form-control"],["phone",""],["type","file","placeholder","Choose file","name","upload","ngModel","","id","upload",1,"form-control"],["type","textarea","placeholder","Other details","name","details","ngModel","","id","details",1,"form-control"],["details",""],[1,"btns"],["type","submit",1,"btn","btn-outline-success",3,"disabled","ngStyle"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"required-warning"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.NdJ("click",function(){return i.onClose()}),o.qZA(),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p"),o._uU(6,"Add landlord"),o.qZA(),o.TgZ(7,"a",5),o.NdJ("click",function(){return i.onClose()}),o._UZ(8,"img",6),o.qZA()(),o.TgZ(9,"form",7,8),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(10);return o.KtG(i.onSubmit(a))}),o.TgZ(11,"div",9)(12,"div",10)(13,"p"),o._uU(14,"Landlord details"),o.qZA()(),o.TgZ(15,"div",11)(16,"span",12),o._uU(17,"First name"),o.qZA(),o._UZ(18,"input",13,14),o.YNc(20,rle,3,0,"div",15),o.qZA(),o.TgZ(21,"div",11)(22,"span",12),o._uU(23,"Last name"),o.qZA(),o._UZ(24,"input",16,17),o.YNc(26,ole,3,0,"div",15),o.qZA(),o.TgZ(27,"div",11)(28,"span",12),o._uU(29,"Address"),o.qZA(),o._UZ(30,"input",18,19),o.YNc(32,sle,3,0,"div",15),o.qZA(),o.TgZ(33,"div",11)(34,"span",12),o._uU(35,"Postcode"),o.qZA(),o._UZ(36,"input",20,21),o.YNc(38,ale,3,0,"div",15),o.qZA(),o.YNc(39,lle,2,0,"p",15),o.TgZ(40,"div",11)(41,"span",12),o._uU(42,"@"),o.qZA(),o._UZ(43,"input",22,23),o.YNc(45,cle,3,0,"div",15),o.qZA(),o.TgZ(46,"div",11)(47,"span",12),o._uU(48,"Phone"),o.qZA(),o._UZ(49,"input",24,25),o.YNc(51,ule,3,0,"div",15),o.qZA(),o.TgZ(52,"div",11)(53,"span",12),o._uU(54,"Upload"),o.qZA(),o._UZ(55,"input",26),o.qZA(),o.TgZ(56,"div",11)(57,"span",12),o._uU(58,"Details"),o.qZA(),o._UZ(59,"textarea",27,28),o.qZA(),o.TgZ(61,"div",29)(62,"button",30),o._uU(63,"Submit"),o.qZA(),o.TgZ(64,"button",31),o.NdJ("click",function(){return i.onClose()}),o._uU(65,"Cancel"),o.qZA()()()()()()()}if(2&e){const r=o.MAs(10),s=o.MAs(19),a=o.MAs(25),c=o.MAs(31),h=o.MAs(37),p=o.MAs(44),v=o.MAs(50);o.xp6(20),o.Q6J("ngIf",!s.value),o.xp6(6),o.Q6J("ngIf",!a.value),o.xp6(6),o.Q6J("ngIf",!c.value),o.xp6(6),o.Q6J("ngIf",!h.value),o.xp6(1),o.Q6J("ngIf",i.postcodeNotExist),o.xp6(6),o.Q6J("ngIf",!p.value),o.xp6(6),o.Q6J("ngIf",!v.value),o.xp6(11),o.Q6J("disabled",!r.valid)("ngStyle",o.VKq(9,dle,r.valid?"":"gray"))}},dependencies:[_i,Dr,qd,ss,Fs,Hd,el,tf,nf,ws,eu],styles:[".dropback[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf;z-index:50}.container[_ngcontent-%COMP%]{position:fixed;top:5vh;left:30vw;width:40vw;height:-moz-fit-content;height:fit-content;padding:0;border-radius:10px;z-index:100;background-color:#fff;box-shadow:0 2px 8px #00000042}.title_pg[_ngcontent-%COMP%]{height:50px;width:100%;background-color:green;border-radius:10px 10px 0 0;color:#fff;padding:10px;display:flex;justify-content:space-between}.title_pg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.input_block[_ngcontent-%COMP%]{width:100%;padding:10px}.input-group[_ngcontent-%COMP%]{margin-top:7px;margin-bottom:7px}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.ContentDetails[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;color:#a1a1a1}.btns[_ngcontent-%COMP%]{width:30vw;text-align:center;margin-left:auto;margin-right:auto}.input_block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:10px}.required-warning[_ngcontent-%COMP%]{color:red;font-size:.7rem;padding-inline:.7vw}"]}),n})(),fle=(()=>{class n{constructor(e){this.elementRef=e,this.close=new o.vpe}ngOnInit(){this.onSelectedClient()}onClose(){this.ngOnDestroy()}onSelectedClient(){this.ClientDetails=this.selectedClient}ngOnDestroy(){this.elementRef.nativeElement.remove(),this.close.emit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-view-landlord"]],inputs:{selectedClient:"selectedClient"},outputs:{close:"close"},decls:35,vars:7,consts:[[1,"dropback",3,"click"],[1,"container"],[1,"row"],[1,"col"],[1,"title_pg"],[3,"click"],["alt","closeIcon","src","assets/images/closeIcon.png",2,"width","25px"],[1,"content_view"],[1,"input-group-text"],["wrap","hard","readonly",""],[1,"button"],["type","button",1,"btn","btn-outline-danger",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.NdJ("click",function(){return i.onClose()}),o.qZA(),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p"),o._uU(6,"View Landlord"),o.qZA(),o.TgZ(7,"a",5),o.NdJ("click",function(){return i.onClose()}),o._UZ(8,"img",6),o.qZA()(),o.TgZ(9,"div",7)(10,"label",8),o._uU(11),o.qZA(),o._UZ(12,"br"),o.TgZ(13,"label",8),o._uU(14),o.qZA(),o._UZ(15,"br"),o.TgZ(16,"label",8),o._uU(17),o.qZA(),o._UZ(18,"br"),o.TgZ(19,"label",8),o._uU(20),o.qZA(),o._UZ(21,"br"),o.TgZ(22,"label",8),o._uU(23),o.qZA(),o._UZ(24,"br"),o.TgZ(25,"label",8),o._uU(26),o.qZA(),o._UZ(27,"br")(28,"hr"),o.TgZ(29,"textarea",9),o._uU(30),o.qZA(),o._UZ(31,"br"),o.qZA(),o.TgZ(32,"div",10)(33,"button",11),o.NdJ("click",function(){return i.onClose()}),o._uU(34,"Close"),o.qZA()()()()()),2&e&&(o.xp6(11),o.hij("First name: ",i.ClientDetails.firstname,""),o.xp6(3),o.hij("Last name: ",i.ClientDetails.lastname,""),o.xp6(3),o.hij("Email: ",i.ClientDetails.email,""),o.xp6(3),o.hij("Postcode: ",i.ClientDetails.postcode,""),o.xp6(3),o.hij("Address: ",i.ClientDetails.address,""),o.xp6(3),o.hij("Phone: ",i.ClientDetails.phone,""),o.xp6(4),o.hij("Detail: ",i.ClientDetails.detail,""))},styles:[".dropback[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf;z-index:50}.container[_ngcontent-%COMP%]{position:fixed;top:3vh;left:30vw;width:40vw;height:-moz-fit-content;height:fit-content;padding:0;border-radius:10px;z-index:100;background-color:#fff;box-shadow:0 2px 8px #00000042}.title_pg[_ngcontent-%COMP%]{height:50px;width:100%;background-color:green;border-radius:10px 10px 0 0;color:#fff;padding:10px;display:flex;justify-content:space-between}.title_pg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.content_view[_ngcontent-%COMP%]{width:100%;padding:10px}.button[_ngcontent-%COMP%]{width:100%;margin:10px;text-align:center}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80%}textarea[_ngcontent-%COMP%]{width:100%}"]}),n})();function ple(n,t){if(1&n&&(o.TgZ(0,"div"),o._uU(1," Are you sure to delete data for "),o.TgZ(2,"span"),o._uU(3),o.qZA(),o._uU(4,"? "),o.qZA()),2&n){const e=o.oxw();o.xp6(3),o.HOy("",e.ClientDetails.firstname," ",e.ClientDetails.lastname," ",e.ClientDetails.owner," ",e.ClientDetails.name,"")}}function gle(n,t){if(1&n&&(o.TgZ(0,"div")(1,"p"),o._uU(2,"Are you sure to delete invoce to "),o.TgZ(3,"span"),o._uU(4),o.qZA()()()),2&n){const e=o.oxw();o.xp6(4),o.Oqu(e.ClientDetails.name)}}let cD=(()=>{class n{constructor(e,i){this.elementRef=e,this.dbService=i,this.close=new o.vpe}ngOnInit(){this.onSelectedClient()}onSelectedClient(){this.ClientDetails=this.selectedClient}onDelete(){console.log(this.dbName),this.dbService.deleteData(this.ClientDetails,this.dbName),this.dbService.deleteStorageData(this.ClientDetails.image),this.onClose()}onClose(){this.ngOnDestroy()}ngOnDestroy(){this.elementRef.nativeElement.remove(),this.close.emit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(qo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-warning-msg"]],inputs:{closeForm:"closeForm",dbName:"dbName",selectedClient:"selectedClient"},outputs:{close:"close"},decls:17,vars:2,consts:[[1,"dropback",3,"click"],[1,"container"],[1,"row"],[1,"col"],[1,"title_pg"],[3,"click"],["alt","closeIcon","src","assets/images/closeIcon.png",2,"width","25px"],[1,"content_delete"],[4,"ngIf"],[1,"button"],["type","button",1,"btn","btn-outline-success",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.NdJ("click",function(){return i.onClose()}),o.qZA(),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p"),o._uU(6,"Delete Client"),o.qZA(),o.TgZ(7,"a",5),o.NdJ("click",function(){return i.onClose()}),o._UZ(8,"img",6),o.qZA()(),o.TgZ(9,"div",7),o.YNc(10,ple,5,4,"div",8),o.YNc(11,gle,5,1,"div",8),o.qZA(),o.TgZ(12,"div",9)(13,"button",10),o.NdJ("click",function(){return i.onDelete()}),o._uU(14,"Yes, Delete"),o.qZA(),o.TgZ(15,"button",11),o.NdJ("click",function(){return i.onClose()}),o._uU(16,"Close"),o.qZA()()()()()),2&e&&(o.xp6(10),o.Q6J("ngIf",null==i.ClientDetails.position),o.xp6(1),o.Q6J("ngIf",null!=i.ClientDetails.position))},dependencies:[_i],styles:[".dropback[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf;z-index:50}.container[_ngcontent-%COMP%]{position:fixed;top:10vh;left:30vw;width:40vw;height:-moz-fit-content;height:fit-content;padding:0;border-radius:10px;z-index:100;background-color:#fff;box-shadow:0 2px 8px #00000042}.title_pg[_ngcontent-%COMP%]{height:50px;width:100%;background-color:#dc3545;border-radius:10px 10px 0 0;color:#fff;padding:10px;display:flex;justify-content:space-between}.title_pg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.content_delete[_ngcontent-%COMP%]{width:100%;padding:10px}.button[_ngcontent-%COMP%]{width:100%;margin:10px;text-align:center}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80%;margin-top:10px}.content_delete[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:uppercase}"]}),n})();const mle=["firstname"],_le=["lastname"],vle=["address"],yle=["postcode"],wle=["email"],ble=["phone"],Cle=["details"];function Ele(n,t){1&n&&(o.TgZ(0,"div",30)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Tle(n,t){1&n&&(o.TgZ(0,"div",30)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Dle(n,t){1&n&&(o.TgZ(0,"div",30)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Ile(n,t){1&n&&(o.TgZ(0,"div",30)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function xle(n,t){1&n&&(o.TgZ(0,"p",30),o._uU(1,"This postcode is not exist!"),o.qZA())}function Sle(n,t){1&n&&(o.TgZ(0,"div",30)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Ale(n,t){1&n&&(o.TgZ(0,"div",30)(1,"p"),o._uU(2,"*Required"),o.qZA()())}const Mle=function(n){return{color:n}};let Ple=(()=>{class n{constructor(e,i,r){this.elementRef=e,this.mapingService=i,this.dbService=r,this.close=new o.vpe,this.postcodeNotExist=!1}ngOnInit(){this.landlord=this.selectedClient}onSubmit(e){var i=this;return(0,Te.Z)(function*(){i.postcodeNotExist=!1,void 0===(yield i.mapingService.checkPostcode(i.postcodeRef.nativeElement.value))?(console.log("this is undefined value"),i.postcodeRef.nativeElement.value="",i.postcodeNotExist=!0):(i.newlandlord={id:i.selectedClient.id,firstname:i.firstnameRef.nativeElement.value.toLowerCase(),lastname:i.lastnameRef.nativeElement.value.toLowerCase(),address:i.addressRef.nativeElement.value.toLowerCase(),postcode:i.postcodeRef.nativeElement.value.toUpperCase(),email:i.emailRef.nativeElement.value.toLowerCase(),phone:i.phoneRef.nativeElement.value.toLowerCase(),detail:i.detailsRef.nativeElement.value.toLowerCase()},console.log(i.newlandlord),console.log(i.landlord),i.dbService.updateData(i.landlord,i.newlandlord,"landlordDb"),i.onClose())})()}onClose(){this.ngOnDestroy()}ngOnDestroy(){this.elementRef.nativeElement.remove(),this.close.emit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(rf),o.Y36(qo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-edit-landlord"]],viewQuery:function(e,i){if(1&e&&(o.Gf(mle,5),o.Gf(_le,5),o.Gf(vle,5),o.Gf(yle,5),o.Gf(wle,5),o.Gf(ble,5),o.Gf(Cle,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.firstnameRef=r.first),o.iGM(r=o.CRH())&&(i.lastnameRef=r.first),o.iGM(r=o.CRH())&&(i.addressRef=r.first),o.iGM(r=o.CRH())&&(i.postcodeRef=r.first),o.iGM(r=o.CRH())&&(i.emailRef=r.first),o.iGM(r=o.CRH())&&(i.phoneRef=r.first),o.iGM(r=o.CRH())&&(i.detailsRef=r.first)}},inputs:{closeForm:"closeForm",selectedClient:"selectedClient"},outputs:{close:"close"},decls:62,vars:18,consts:[[1,"dropback",3,"click"],[1,"container"],[1,"row"],[1,"col"],[1,"title_pg"],[3,"click"],["alt","closeIcon","src","assets/images/closeIcon.png",2,"width","25px"],[3,"ngSubmit"],["f","ngForm"],[1,"input_block"],[1,"input-group"],[1,"input-group-text"],["type","text","name","firstname","ngModel","","id","firstname","pattern","[A-Za-z]{2,}","maxlength","20","required","",1,"form-control",3,"placeholder"],["firstname",""],["class","required-warning",4,"ngIf"],["type","text","name","lastname","ngModel","","id","lastname","pattern","[A-Za-z]{2,}","maxlength","20","required","",1,"form-control",3,"placeholder"],["lastname",""],["type","text","name","address","ngModel","","id","address","maxlength","50","required","",1,"form-control",3,"placeholder"],["address",""],["type","text","name","postcode","ngModel","","id","postcode","pattern","[A-Za-z0-9- ]{2,}","maxlength","8","required","",1,"form-control",3,"placeholder"],["postcode",""],["type","email","name","email","ngModel","","id","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",1,"form-control",3,"placeholder"],["email",""],["type","text","name","phone","ngModel","","id","phone","maxlength","11","required","",1,"form-control",3,"placeholder"],["phone",""],["type","file","placeholder","Choose file","name","upload","ngModel","","id","upload",1,"form-control"],["type","textarea","name","details","ngModel","","id","details",1,"form-control",3,"placeholder"],["details",""],["type","submit",1,"btn","btn-outline-success",3,"disabled","ngStyle"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"required-warning"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.NdJ("click",function(){return i.onClose()}),o.qZA(),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p"),o._uU(6,"Edit landlord"),o.qZA(),o.TgZ(7,"a",5),o.NdJ("click",function(){return i.onClose()}),o._UZ(8,"img",6),o.qZA()(),o.TgZ(9,"form",7,8),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(10);return o.KtG(i.onSubmit(a))}),o.TgZ(11,"div",9)(12,"div",10)(13,"span",11),o._uU(14,"First name"),o.qZA(),o._UZ(15,"input",12,13),o.YNc(17,Ele,3,0,"div",14),o.qZA(),o.TgZ(18,"div",10)(19,"span",11),o._uU(20,"Last name"),o.qZA(),o._UZ(21,"input",15,16),o.YNc(23,Tle,3,0,"div",14),o.qZA(),o.TgZ(24,"div",10)(25,"span",11),o._uU(26,"Address"),o.qZA(),o._UZ(27,"input",17,18),o.YNc(29,Dle,3,0,"div",14),o.qZA(),o.TgZ(30,"div",10)(31,"span",11),o._uU(32,"Postcode"),o.qZA(),o._UZ(33,"input",19,20),o.YNc(35,Ile,3,0,"div",14),o.qZA(),o.YNc(36,xle,2,0,"p",14),o.TgZ(37,"div",10)(38,"span",11),o._uU(39,"@"),o.qZA(),o._UZ(40,"input",21,22),o.YNc(42,Sle,3,0,"div",14),o.qZA(),o.TgZ(43,"div",10)(44,"span",11),o._uU(45,"Phone"),o.qZA(),o._UZ(46,"input",23,24),o.YNc(48,Ale,3,0,"div",14),o.qZA(),o.TgZ(49,"div",10)(50,"span",11),o._uU(51,"Upload"),o.qZA(),o._UZ(52,"input",25),o.qZA(),o.TgZ(53,"div",10)(54,"span",11),o._uU(55,"Details"),o.qZA(),o._UZ(56,"textarea",26,27),o.qZA(),o.TgZ(58,"button",28),o._uU(59,"Update"),o.qZA(),o.TgZ(60,"button",29),o.NdJ("click",function(){return i.onClose()}),o._uU(61,"Cancel"),o.qZA()()()()()()}if(2&e){const r=o.MAs(10),s=o.MAs(16),a=o.MAs(22),c=o.MAs(28),h=o.MAs(34),p=o.MAs(41),v=o.MAs(47);o.xp6(15),o.s9C("placeholder",i.selectedClient.firstname),o.xp6(2),o.Q6J("ngIf",!s.value),o.xp6(4),o.s9C("placeholder",i.selectedClient.lastname),o.xp6(2),o.Q6J("ngIf",!a.value),o.xp6(4),o.s9C("placeholder",i.selectedClient.address),o.xp6(2),o.Q6J("ngIf",!c.value),o.xp6(4),o.s9C("placeholder",i.selectedClient.postcode),o.xp6(2),o.Q6J("ngIf",!h.value),o.xp6(1),o.Q6J("ngIf",i.postcodeNotExist),o.xp6(4),o.s9C("placeholder",i.selectedClient.email),o.xp6(2),o.Q6J("ngIf",!p.value),o.xp6(4),o.s9C("placeholder",i.selectedClient.phone),o.xp6(2),o.Q6J("ngIf",!v.value),o.xp6(8),o.s9C("placeholder",i.selectedClient.detail),o.xp6(2),o.Q6J("disabled",!r.valid)("ngStyle",o.VKq(16,Mle,r.valid?"":"gray"))}},dependencies:[_i,Dr,qd,ss,Fs,Hd,el,tf,nf,ws,eu],styles:[".dropback[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf;z-index:50}.container[_ngcontent-%COMP%]{position:fixed;top:10vh;left:30vw;width:40vw;height:-moz-fit-content;height:fit-content;padding:0;border-radius:10px;z-index:100;background-color:#fff;box-shadow:0 2px 8px #00000042}.title_pg[_ngcontent-%COMP%]{height:50px;width:100%;background-color:#ffc107;border-radius:10px 10px 0 0;color:#fff;padding:10px;display:flex;justify-content:space-between}.title_pg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.input_block[_ngcontent-%COMP%]{width:100%;padding:10px}.input-group[_ngcontent-%COMP%]{margin-top:7px;margin-bottom:7px}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.input_block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:10px}.required-warning[_ngcontent-%COMP%]{color:red;font-size:.7rem;padding-inline:.7vw}"]}),n})(),uD=(()=>{class n{transform(e,i="",r,s,a,c,h,p){if(0===e.length||""===i)return e;const v=[];for(const b of e)(b[r]===i.toLowerCase()||b[s]===i.toLowerCase()||b[p]===i.toLowerCase()||b[a]===i||b[c]===i||b[h]===i.toLowerCase())&&v.push(b);return v}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"filter",type:n,pure:!0}),n})();function kle(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-add-landlord",24),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("closeForm",e.addingLandlordAllowed)}}function Ole(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-view-landlord",25),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("selectedClient",e.selectdClient)}}function Rle(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-warning-msg",26),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("closeForm",e.deleteLandlordAllowed)("selectedClient",e.selectdClient)("dbName",e.dbName)}}function Nle(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-edit-landlord",27),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("closeForm",e.editLandlordAllowed)("selectedClient",e.selectdClient)}}function Lle(n,t){1&n&&(o.TgZ(0,"div"),o._UZ(1,"img",28),o.qZA())}function Fle(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"tr")(1,"td",29),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"uppercase"),o.qZA(),o.TgZ(6,"td"),o._uU(7),o.ALo(8,"uppercase"),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o._uU(12),o.qZA(),o.TgZ(13,"td")(14,"button",30),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.on_view(s))}),o._uU(15,"View"),o.qZA(),o.TgZ(16,"button",31),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.on_delete(s))}),o._uU(17,"Delete"),o.qZA(),o.TgZ(18,"button",32),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.on_edit(s))}),o._uU(19,"Edit"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.id),o.xp6(2),o.Oqu(o.lcZ(5,5,e.firstname)),o.xp6(3),o.Oqu(o.lcZ(8,7,e.lastname)),o.xp6(3),o.Oqu(e.postcode),o.xp6(2),o.Oqu(e.phone)}}const Ule=function(n,t){return[n,t,"firstname","lastname","postcode","phone"]};let Ble=(()=>{class n{constructor(e,i){this.elementRef=e,this.dbService=i,this.landlordListCount=new o.vpe,this.landlordTableList=[],this.addingLandlordAllowed=!1,this.viewLandlordAllowed=!1,this.deleteLandlordAllowed=!1,this.editLandlordAllowed=!1,this.dbName="",this.loading=!1,this.landlordCount=0}ngOnInit(){this.onLandlordTableList()}onLandlordTableList(){var e=this;return(0,Te.Z)(function*(){e.loading=!0,yield e.dbService.getData("landlordDb").then(i=>{e.landlordTableList=[],i.forEach(r=>{e.landlordTableList.push(r.data()),e.landlordCount+=1}),e.loading=!1}),e.landlordListCount.emit(e.landlordCount)})()}add_landlord(){this.addingLandlordAllowed=!0}on_edit(e){this.editLandlordAllowed=!0,this.selectdClient=e}on_view(e){this.viewLandlordAllowed=!0,this.selectdClient=e}on_delete(e){this.deleteLandlordAllowed=!0,this.selectdClient=e,this.dbName="landlordDb"}onReloadPg(){this.addingLandlordAllowed=!1,this.viewLandlordAllowed=!1,this.deleteLandlordAllowed=!1,this.editLandlordAllowed=!1,this.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(qo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-landlords"]],outputs:{landlordListCount:"landlordListCount"},decls:44,vars:17,consts:[[3,"closeForm","close",4,"ngIf"],[3,"selectedClient","close",4,"ngIf"],[3,"closeForm","selectedClient","dbName","close",4,"ngIf"],[3,"closeForm","selectedClient","close",4,"ngIf"],[1,"container-sm"],[1,"row"],["id","card_add_content",1,"col-6"],["id","pg_content"],["id","card"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["type","button","id","landlords_add_btn",1,"btn","btn-primary",3,"click"],["id","c3",1,"col-12"],["id","searchInput",1,"input-group","mb-3"],["type","button","id","button-addon1",1,"btn","btn-outline-secondary"],["type","text","placeholder","search ...","aria-label","Example text with button addon","aria-describedby","button-addon1",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],["id","table_scroll"],["id","pg_table",1,"table","table-success","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"closeForm","close"],[3,"selectedClient","close"],[3,"closeForm","selectedClient","dbName","close"],[3,"closeForm","selectedClient","close"],["alt","spinner loading","src","assets/images/Rolling.gif",2,"width","4vw","text-align","center"],["scope","row"],["type","button","id","view_btn",1,"btn","btn-success",3,"click"],["type","button","id","delete_btn",1,"btn","btn-danger",3,"click"],["type","button","id","edit_btn",1,"btn","btn-warning",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div"),o.YNc(1,kle,1,1,"app-add-landlord",0),o.YNc(2,Ole,1,1,"app-view-landlord",1),o.YNc(3,Rle,1,3,"app-warning-msg",2),o.YNc(4,Nle,1,2,"app-edit-landlord",3),o.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10),o._uU(12," Landlords "),o.qZA(),o.TgZ(13,"div",11)(14,"h5",12),o._uU(15,"Landlords Details"),o.qZA(),o.TgZ(16,"p",13),o._uU(17,"This page has data, operations and views about landlords."),o.qZA()()()(),o.TgZ(18,"button",14),o.NdJ("click",function(){return i.add_landlord()}),o._uU(19,"Add New Landlords"),o.qZA()()(),o.TgZ(20,"div",15)(21,"div",16)(22,"button",17),o._uU(23,"Search"),o.qZA(),o.TgZ(24,"input",18),o.NdJ("ngModelChange",function(s){return i.filterString=s}),o.qZA()(),o.YNc(25,Lle,2,0,"div",19),o.TgZ(26,"div",20)(27,"table",21)(28,"thead")(29,"tr")(30,"th",22),o._uU(31,"ID"),o.qZA(),o.TgZ(32,"th",22),o._uU(33,"First name"),o.qZA(),o.TgZ(34,"th",22),o._uU(35,"Last name"),o.qZA(),o.TgZ(36,"th",22),o._uU(37,"Postcode"),o.qZA(),o.TgZ(38,"th",22),o._uU(39,"Phone"),o.qZA(),o._UZ(40,"th",22),o.qZA()(),o.TgZ(41,"tbody"),o.YNc(42,Fle,20,9,"tr",23),o.ALo(43,"filter"),o.qZA()()()()()()()),2&e&&(o.xp6(1),o.Q6J("ngIf",i.addingLandlordAllowed),o.xp6(1),o.Q6J("ngIf",i.viewLandlordAllowed),o.xp6(1),o.Q6J("ngIf",i.deleteLandlordAllowed),o.xp6(1),o.Q6J("ngIf",i.editLandlordAllowed),o.xp6(20),o.Q6J("ngModel",i.filterString),o.xp6(1),o.Q6J("ngIf",i.loading),o.xp6(17),o.Q6J("ngForOf",o.G7q(43,7,o.WLB(14,Ule,i.landlordTableList,i.filterString))))},dependencies:[Xi,_i,ss,Fs,ws,hle,fle,cD,Ple,Si,uD],styles:["#pg_content[_ngcontent-%COMP%]{height:100%}#card_add_content[_ngcontent-%COMP%]{position:relative}#map[_ngcontent-%COMP%]{border:.5px solid rgb(0,181,42);height:400px}agm-map[_ngcontent-%COMP%]{height:400px}#landlords_add_btn[_ngcontent-%COMP%]{width:100%;margin-top:30%}#pg_table[_ngcontent-%COMP%]{width:100%;max-height:300px}#searchInput[_ngcontent-%COMP%]{margin:10px auto auto}#table_scroll[_ngcontent-%COMP%]{width:100%;max-height:250px;overflow:auto;display:inline-block}thead[_ngcontent-%COMP%]{font-size:12px}tbody[_ngcontent-%COMP%]{font-size:13px}#view_btn[_ngcontent-%COMP%], #delete_btn[_ngcontent-%COMP%], #edit_btn[_ngcontent-%COMP%]{margin:auto 1%;font-size:11px}"]}),n})();const Vle=["firstname"],Zle=["lastname"],zle=["preaddress"],Hle=["curaddress"],qle=["prepostcode"],jle=["curpostcode"],Wle=["email"],$le=["phone"],Gle=["details"];function Yle(n,t){1&n&&(o.TgZ(0,"div",38)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Kle(n,t){1&n&&(o.TgZ(0,"div",38)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Qle(n,t){1&n&&(o.TgZ(0,"div",38)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Jle(n,t){1&n&&(o.TgZ(0,"div",38)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Xle(n,t){1&n&&(o.TgZ(0,"p",38),o._uU(1,"This postcode is not exist!"),o.qZA())}function ece(n,t){1&n&&(o.TgZ(0,"div",38)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function tce(n,t){1&n&&(o.TgZ(0,"div",38)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function nce(n,t){if(1&n&&(o.TgZ(0,"option"),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij("",e.postcode," ")}}function ice(n,t){1&n&&(o.TgZ(0,"div",38)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function rce(n,t){if(1&n&&(o.TgZ(0,"option"),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e)}}function oce(n,t){1&n&&(o.TgZ(0,"div",38)(1,"p"),o._uU(2,"*Required"),o.qZA()())}const sce=function(n){return{color:n}};let ace=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.dataService=i,this.mapingService=r,this.dbService=s,this.close=new o.vpe,this.postcodeNotExist=!1,this.propertyTableList=[],this.addressList=[],this.dbService.getData("propertyDb").then(c=>{c.forEach(h=>{this.propertyTableList.push(h.data())})})}ngOnInit(){}onSelected(e){this.addressList=[],this.propertyTableList.forEach(i=>{i.postcode===e&&this.addressList.push(i.address)})}onSubmit(e){var i=this;return(0,Te.Z)(function*(){i.postcodeNotExist=!1,void 0===(yield i.mapingService.checkPostcode(i.prepostcodeRef.nativeElement.value))?(console.log("this is undefined value"),i.prepostcodeRef.nativeElement.value="",i.postcodeNotExist=!0):(i.tenant={firstname:i.firstnameRef.nativeElement.value.toLowerCase(),lastname:i.lastnameRef.nativeElement.value.toLowerCase(),preaddress:i.preaddressRef.nativeElement.value.toLowerCase(),curaddress:i.curaddressRef.nativeElement.value.toLowerCase(),prepostcode:i.prepostcodeRef.nativeElement.value.toUpperCase(),curpostcode:i.curpostcodeRef.nativeElement.value.toUpperCase(),email:i.emailRef.nativeElement.value.toLowerCase(),phone:i.phoneRef.nativeElement.value.toLowerCase(),detail:i.detailsRef.nativeElement.value.toLowerCase()},i.dbService.addData(i.tenant,"tenantDb").then(s=>{console.log(s)}).catch(s=>{console.log(s)}),i.onClose())})()}onClose(){this.ngOnDestroy()}ngOnDestroy(){this.elementRef.nativeElement.remove(),this.close.emit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Ev),o.Y36(rf),o.Y36(qo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-add-tenant"]],viewQuery:function(e,i){if(1&e&&(o.Gf(Vle,5),o.Gf(Zle,5),o.Gf(zle,5),o.Gf(Hle,5),o.Gf(qle,5),o.Gf(jle,5),o.Gf(Wle,5),o.Gf($le,5),o.Gf(Gle,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.firstnameRef=r.first),o.iGM(r=o.CRH())&&(i.lastnameRef=r.first),o.iGM(r=o.CRH())&&(i.preaddressRef=r.first),o.iGM(r=o.CRH())&&(i.curaddressRef=r.first),o.iGM(r=o.CRH())&&(i.prepostcodeRef=r.first),o.iGM(r=o.CRH())&&(i.curpostcodeRef=r.first),o.iGM(r=o.CRH())&&(i.emailRef=r.first),o.iGM(r=o.CRH())&&(i.phoneRef=r.first),o.iGM(r=o.CRH())&&(i.detailsRef=r.first)}},inputs:{closeForm:"closeForm"},outputs:{close:"close"},decls:89,vars:15,consts:[[1,"dropback",3,"click"],[1,"container"],[1,"row"],[1,"col"],[1,"title_pg"],[3,"click"],["alt","closeIcon","src","assets/images/closeIcon.png",2,"width","25px"],[3,"ngSubmit"],["f","ngForm"],[1,"input_block"],[1,"ContentDetails"],[1,"input-group"],[1,"input-group-text"],["type","text","placeholder","First name","name","firstname","ngModel","","id","firstname","pattern","[A-Za-z]{2,}","maxlength","20","required","",1,"form-control"],["firstname",""],["class","required-warning",4,"ngIf"],["type","text","placeholder","Last name","name","lastname","ngModel","","id","lastname","pattern","[A-Za-z]{2,}","maxlength","20","required","",1,"form-control"],["lastname",""],["type","text","placeholder","Address","name","previousAddress","ngModel","","id","previousAddress","pattern","[A-Za-z0-9\\w!@#$%?=*&.- ]{2,}","maxlength","50","required","",1,"form-control"],["preaddress",""],["type","text","placeholder","Postcode","name","previousPostcode","ngModel","","id","previousPostcode","pattern","[A-Za-z0-9- ]{2,}","maxlength","8","required","",1,"form-control"],["prepostcode",""],["type","email","placeholder","Email","name","email","ngModel","","id","email","required","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",1,"form-control"],["email",""],["type","text","placeholder","Phone","name","phone","ngModel","","id","phone","maxlength","11","required","",1,"form-control"],["phone",""],["name","currentPostcode","id","currentPostcode","ngModel","","required","",1,"comboBoxList",3,"change"],["postcode","","curpostcode",""],[4,"ngFor","ngForOf"],["name","currentAddress","id","currentAddress","ngModel","","required","",1,"comboBoxList"],["curaddress",""],["default",""],["type","file","placeholder","Choose file","name","upload","ngModel","","id","upload",1,"form-control"],["type","textarea","placeholder","Other details","name","details","ngModel","","id","details",1,"form-control"],["details",""],[1,"btns"],["type","submit",1,"btn","btn-outline-success",3,"disabled","ngStyle"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"required-warning"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.NdJ("click",function(){return i.onClose()}),o.qZA(),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p"),o._uU(6,"Add tenant"),o.qZA(),o.TgZ(7,"a",5),o.NdJ("click",function(){return i.onClose()}),o._UZ(8,"img",6),o.qZA()(),o.TgZ(9,"form",7,8),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(10);return o.KtG(i.onSubmit(a))}),o.TgZ(11,"div",9)(12,"div",10)(13,"p"),o._uU(14,"Tenent details"),o.qZA()(),o.TgZ(15,"div",11)(16,"span",12),o._uU(17,"First name"),o.qZA(),o._UZ(18,"input",13,14),o.YNc(20,Yle,3,0,"div",15),o.qZA(),o.TgZ(21,"div",11)(22,"span",12),o._uU(23,"Last name"),o.qZA(),o._UZ(24,"input",16,17),o.YNc(26,Kle,3,0,"div",15),o.qZA(),o.TgZ(27,"div",11)(28,"span",12),o._uU(29,"Previous Address"),o.qZA(),o._UZ(30,"input",18,19),o.YNc(32,Qle,3,0,"div",15),o.qZA(),o.TgZ(33,"div",11)(34,"span",12),o._uU(35,"Previous Postcode"),o.qZA(),o._UZ(36,"input",20,21),o.YNc(38,Jle,3,0,"div",15),o.qZA(),o.YNc(39,Xle,2,0,"p",15),o.TgZ(40,"div",11)(41,"span",12),o._uU(42,"@"),o.qZA(),o._UZ(43,"input",22,23),o.YNc(45,ece,3,0,"div",15),o.qZA(),o.TgZ(46,"div",11)(47,"span",12),o._uU(48,"Phone"),o.qZA(),o._UZ(49,"input",24,25),o.YNc(51,tce,3,0,"div",15),o.qZA(),o._UZ(52,"hr"),o.TgZ(53,"div",10)(54,"p"),o._uU(55,"Property rented details"),o.qZA()(),o.TgZ(56,"div")(57,"div",11)(58,"span",12),o._uU(59,"Current Postcode"),o.qZA(),o.TgZ(60,"select",26,27),o.NdJ("change",function(){o.CHM(r);const a=o.MAs(61);return o.KtG(i.onSelected(a.value))}),o.YNc(63,nce,2,1,"option",28),o.qZA(),o.YNc(64,ice,3,0,"div",15),o.qZA(),o.TgZ(65,"div",11)(66,"span",12),o._uU(67,"Current Address"),o.qZA(),o.TgZ(68,"select",29,30)(70,"option",31),o._uU(71,"Select postcode ... "),o.qZA(),o.YNc(72,rce,2,1,"option",28),o.qZA(),o.YNc(73,oce,3,0,"div",15),o.qZA()(),o._UZ(74,"hr"),o.TgZ(75,"div",11)(76,"span",12),o._uU(77,"Upload"),o.qZA(),o._UZ(78,"input",32),o.qZA(),o.TgZ(79,"div",11)(80,"span",12),o._uU(81,"Details"),o.qZA(),o._UZ(82,"textarea",33,34),o.qZA(),o.TgZ(84,"div",35)(85,"button",36),o._uU(86,"Submit"),o.qZA(),o.TgZ(87,"button",37),o.NdJ("click",function(){return i.onClose()}),o._uU(88,"Cancel"),o.qZA()()()()()()()}if(2&e){const r=o.MAs(10),s=o.MAs(19),a=o.MAs(25),c=o.MAs(31),h=o.MAs(37),p=o.MAs(44),v=o.MAs(50),b=o.MAs(62),D=o.MAs(69);o.xp6(20),o.Q6J("ngIf",!s.value),o.xp6(6),o.Q6J("ngIf",!a.value),o.xp6(6),o.Q6J("ngIf",!c.value),o.xp6(6),o.Q6J("ngIf",!h.value),o.xp6(1),o.Q6J("ngIf",i.postcodeNotExist),o.xp6(6),o.Q6J("ngIf",!p.value),o.xp6(6),o.Q6J("ngIf",!v.value),o.xp6(12),o.Q6J("ngForOf",i.propertyTableList),o.xp6(1),o.Q6J("ngIf",!b.value),o.xp6(8),o.Q6J("ngForOf",i.addressList),o.xp6(1),o.Q6J("ngIf",!D.value),o.xp6(12),o.Q6J("disabled",!r.valid)("ngStyle",o.VKq(13,sce,r.valid?"":"gray"))}},dependencies:[Xi,_i,Dr,qd,Xh,ef,ss,qu,Fs,Hd,el,tf,nf,ws,eu],styles:[".dropback[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf;z-index:50}.container[_ngcontent-%COMP%]{position:fixed;top:5vh;left:30vw;width:40vw;height:-moz-fit-content;height:fit-content;padding:0;border-radius:10px;z-index:100;background-color:#fff;box-shadow:0 2px 8px #00000042}.title_pg[_ngcontent-%COMP%]{height:50px;width:100%;background-color:green;border-radius:10px 10px 0 0;color:#fff;padding:10px;display:flex;justify-content:space-between}.title_pg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.input_block[_ngcontent-%COMP%]{width:100%;padding:10px}.input-group[_ngcontent-%COMP%]{margin-top:7px;margin-bottom:7px}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.ContentDetails[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;color:#a1a1a1}.btns[_ngcontent-%COMP%]{width:30vw;text-align:center;margin-left:auto;margin-right:auto}.input_block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:10px}.upperCaseName[_ngcontent-%COMP%]{text-transform:uppercase}.comboBoxList[_ngcontent-%COMP%]{border:1px solid #dadada;font-size:15px;background-color:#fff;border-radius:5px}.required-warning[_ngcontent-%COMP%]{color:red;font-size:.7rem;padding-inline:.7vw}"]}),n})();const lce=["firstname"],cce=["lastname"],uce=["preaddress"],dce=["curaddress"],hce=["prepostcode"],fce=["curpostcode"],pce=["email"],gce=["phone"],mce=["details"];function _ce(n,t){1&n&&(o.TgZ(0,"div",38)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function vce(n,t){1&n&&(o.TgZ(0,"div",38)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function yce(n,t){1&n&&(o.TgZ(0,"div",38)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function wce(n,t){1&n&&(o.TgZ(0,"div",38)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function bce(n,t){1&n&&(o.TgZ(0,"p",38),o._uU(1,"This postcode is not exist!"),o.qZA())}function Cce(n,t){1&n&&(o.TgZ(0,"div",38)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Ece(n,t){1&n&&(o.TgZ(0,"div",38)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Tce(n,t){if(1&n&&(o.TgZ(0,"option"),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij("",e.Postcode," ")}}function Dce(n,t){1&n&&(o.TgZ(0,"div",38)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Ice(n,t){if(1&n&&(o.TgZ(0,"option",28),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.selectedClient.curaddress)}}function xce(n,t){if(1&n&&(o.TgZ(0,"option"),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e)}}function Sce(n,t){1&n&&(o.TgZ(0,"div",38)(1,"p"),o._uU(2,"*Required"),o.qZA()())}const Ace=function(n){return{color:n}};let Mce=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.dataService=i,this.mapingService=r,this.dbService=s,this.close=new o.vpe,this.addressList=[],this.propertyTableList=[],this.ownerNameList=[],this.showDefault=!0,this.postcodeNotExist=!1,this.propertyTableList=this.dataService.propertyData()}ngOnInit(){this.tenant=this.selectedClient}onSubmit(e){var i=this;return(0,Te.Z)(function*(){i.postcodeNotExist=!1,void 0===(yield i.mapingService.checkPostcode(i.prepostcodeRef.nativeElement.value))?(console.log("this is undefined value"),i.prepostcodeRef.nativeElement.value="",i.postcodeNotExist=!0):(i.newtenant={id:i.selectedClient.id,firstname:i.firstnameRef.nativeElement.value.toLowerCase(),lastname:i.lastnameRef.nativeElement.value.toLowerCase(),preaddress:i.preaddressRef.nativeElement.value.toLowerCase(),prepostcode:i.prepostcodeRef.nativeElement.value.toUpperCase(),curaddress:i.curaddressRef.nativeElement.value.toLowerCase(),curpostcode:i.curpostcodeRef.nativeElement.value.toUpperCase(),email:i.emailRef.nativeElement.value.toLowerCase(),phone:i.phoneRef.nativeElement.value.toLowerCase(),detail:i.detailsRef.nativeElement.value.toLowerCase()},console.log(i.newtenant),console.log(i.tenant),i.dbService.updateData(i.tenant,i.newtenant,"tenantDb"),i.onClose())})()}onSelected(e){this.addressList=[],this.propertyTableList.forEach(i=>{i.Postcode===e&&this.addressList.push(i.Address)}),this.showDefault=!1}onClose(){this.ngOnDestroy()}ngOnDestroy(){this.elementRef.nativeElement.remove(),this.close.emit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Ev),o.Y36(rf),o.Y36(qo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-edit-tenant"]],viewQuery:function(e,i){if(1&e&&(o.Gf(lce,5),o.Gf(cce,5),o.Gf(uce,5),o.Gf(dce,5),o.Gf(hce,5),o.Gf(fce,5),o.Gf(pce,5),o.Gf(gce,5),o.Gf(mce,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.firstnameRef=r.first),o.iGM(r=o.CRH())&&(i.lastnameRef=r.first),o.iGM(r=o.CRH())&&(i.preaddressRef=r.first),o.iGM(r=o.CRH())&&(i.curaddressRef=r.first),o.iGM(r=o.CRH())&&(i.prepostcodeRef=r.first),o.iGM(r=o.CRH())&&(i.curpostcodeRef=r.first),o.iGM(r=o.CRH())&&(i.emailRef=r.first),o.iGM(r=o.CRH())&&(i.phoneRef=r.first),o.iGM(r=o.CRH())&&(i.detailsRef=r.first)}},inputs:{closeForm:"closeForm",selectedClient:"selectedClient"},outputs:{close:"close"},decls:86,vars:24,consts:[[1,"dropback",3,"click"],[1,"container"],[1,"row"],[1,"col"],[1,"title_pg"],[3,"click"],["alt","closeIcon","src","assets/images/closeIcon.png",2,"width","25px"],[3,"ngSubmit"],["f","ngForm"],[1,"input_block"],[1,"ContentDetails"],[1,"input-group"],[1,"input-group-text"],["type","text","name","firstname","ngModel","","id","firstname","pattern","[A-Za-z]{2,}","maxlength","20","required","",1,"form-control",3,"placeholder"],["firstname",""],["class","required-warning",4,"ngIf"],["type","text","name","lastname","ngModel","","id","lastname","pattern","[A-Za-z]{2,}","maxlength","20","required","",1,"form-control",3,"placeholder"],["lastname",""],["type","text","name","address","ngModel","","id","address","maxlength","50","required","",1,"form-control",3,"placeholder"],["preaddress",""],["type","text","name","postcode","ngModel","","id","postcode","pattern","[A-Za-z0-9- ]{2,}","maxlength","8","required","",1,"form-control",3,"placeholder"],["prepostcode",""],["type","email","name","email","ngModel","","id","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",1,"form-control",3,"placeholder"],["email",""],["type","text","name","phone","ngModel","","id","phone","maxlength","11","required","",1,"form-control",3,"placeholder"],["phone",""],["required","","name","curpostcode","ngModel","","id","curpostcode",1,"comboBoxList",3,"change"],["curpostcode",""],["default",""],[4,"ngFor","ngForOf"],["name","curaddress","ngModel","","id","curaddress",1,"comboBoxList"],["curaddress",""],["default","",4,"ngIf"],["type","file","placeholder","Choose file","name","upload","ngModel","","id","upload",1,"form-control"],["type","textarea","name","details","ngModel","","id","detals",1,"form-control",3,"placeholder"],["details",""],["type","submit",1,"btn","btn-outline-success",3,"disabled","ngStyle"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"required-warning"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.NdJ("click",function(){return i.onClose()}),o.qZA(),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p"),o._uU(6,"Edit tenant"),o.qZA(),o.TgZ(7,"a",5),o.NdJ("click",function(){return i.onClose()}),o._UZ(8,"img",6),o.qZA()(),o.TgZ(9,"form",7,8),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(10);return o.KtG(i.onSubmit(a))}),o.TgZ(11,"div",9)(12,"div",10)(13,"p"),o._uU(14,"Tenant details"),o.qZA()(),o.TgZ(15,"div",11)(16,"span",12),o._uU(17,"First name"),o.qZA(),o._UZ(18,"input",13,14),o.YNc(20,_ce,3,0,"div",15),o.qZA(),o.TgZ(21,"div",11)(22,"span",12),o._uU(23,"Last name"),o.qZA(),o._UZ(24,"input",16,17),o.YNc(26,vce,3,0,"div",15),o.qZA(),o.TgZ(27,"div",11)(28,"span",12),o._uU(29,"Previous Address"),o.qZA(),o._UZ(30,"input",18,19),o.YNc(32,yce,3,0,"div",15),o.qZA(),o.TgZ(33,"div",11)(34,"span",12),o._uU(35,"Previous Postcode"),o.qZA(),o._UZ(36,"input",20,21),o.YNc(38,wce,3,0,"div",15),o.qZA(),o.YNc(39,bce,2,0,"p",15),o.TgZ(40,"div",11)(41,"span",12),o._uU(42,"@"),o.qZA(),o._UZ(43,"input",22,23),o.YNc(45,Cce,3,0,"div",15),o.qZA(),o.TgZ(46,"div",11)(47,"span",12),o._uU(48,"Phone"),o.qZA(),o._UZ(49,"input",24,25),o.YNc(51,Ece,3,0,"div",15),o.qZA(),o.TgZ(52,"div",10)(53,"p"),o._uU(54,"Property rented details"),o.qZA()(),o.TgZ(55,"div")(56,"div",11)(57,"span",12),o._uU(58,"Current Postcode"),o.qZA(),o.TgZ(59,"select",26,27),o.NdJ("change",function(){o.CHM(r);const a=o.MAs(60);return o.KtG(i.onSelected(a.value))}),o.TgZ(61,"option",28),o._uU(62),o.qZA(),o.YNc(63,Tce,2,1,"option",29),o.qZA(),o.YNc(64,Dce,3,0,"div",15),o.qZA(),o.TgZ(65,"div",11)(66,"span",12),o._uU(67,"Current Address"),o.qZA(),o.TgZ(68,"select",30,31),o.YNc(70,Ice,2,1,"option",32),o.YNc(71,xce,2,1,"option",29),o.qZA(),o.YNc(72,Sce,3,0,"div",15),o.qZA()(),o.TgZ(73,"div",11)(74,"span",12),o._uU(75,"Upload"),o.qZA(),o._UZ(76,"input",33),o.qZA(),o.TgZ(77,"div",11)(78,"span",12),o._uU(79,"Details"),o.qZA(),o._UZ(80,"textarea",34,35),o.qZA(),o.TgZ(82,"button",36),o._uU(83,"Update"),o.qZA(),o.TgZ(84,"button",37),o.NdJ("click",function(){return i.onClose()}),o._uU(85,"Cancel"),o.qZA()()()()()()}if(2&e){const r=o.MAs(10),s=o.MAs(19),a=o.MAs(25),c=o.MAs(31),h=o.MAs(37),p=o.MAs(44),v=o.MAs(50),b=o.MAs(60),D=o.MAs(69);o.xp6(18),o.s9C("placeholder",i.selectedClient.firstname),o.xp6(2),o.Q6J("ngIf",!s.value),o.xp6(4),o.s9C("placeholder",i.selectedClient.lastname),o.xp6(2),o.Q6J("ngIf",!a.value),o.xp6(4),o.s9C("placeholder",i.selectedClient.preaddress),o.xp6(2),o.Q6J("ngIf",!c.value),o.xp6(4),o.s9C("placeholder",i.selectedClient.prepostcode),o.xp6(2),o.Q6J("ngIf",!h.value),o.xp6(1),o.Q6J("ngIf",i.postcodeNotExist),o.xp6(4),o.s9C("placeholder",i.selectedClient.email),o.xp6(2),o.Q6J("ngIf",!p.value),o.xp6(4),o.s9C("placeholder",i.selectedClient.phone),o.xp6(2),o.Q6J("ngIf",!v.value),o.xp6(11),o.Oqu(i.selectedClient.currentPostcode),o.xp6(1),o.Q6J("ngForOf",i.propertyTableList),o.xp6(1),o.Q6J("ngIf",!b.value),o.xp6(6),o.Q6J("ngIf",i.showDefault),o.xp6(1),o.Q6J("ngForOf",i.addressList),o.xp6(1),o.Q6J("ngIf",!D.value),o.xp6(8),o.s9C("placeholder",i.selectedClient.details),o.xp6(2),o.Q6J("disabled",!r.valid)("ngStyle",o.VKq(22,Ace,r.valid?"":"gray"))}},dependencies:[Xi,_i,Dr,qd,Xh,ef,ss,qu,Fs,Hd,el,tf,nf,ws,eu],styles:[".dropback[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf;z-index:50}.container[_ngcontent-%COMP%]{position:fixed;top:10vh;left:30vw;width:40vw;height:-moz-fit-content;height:fit-content;padding:0;border-radius:10px;z-index:100;background-color:#fff;box-shadow:0 2px 8px #00000042}.title_pg[_ngcontent-%COMP%]{height:50px;width:100%;background-color:#ffc107;border-radius:10px 10px 0 0;color:#fff;padding:10px;display:flex;justify-content:space-between}.title_pg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.input_block[_ngcontent-%COMP%]{width:100%;padding:10px}.input-group[_ngcontent-%COMP%]{margin-top:7px;margin-bottom:7px}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.ContentDetails[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;color:#a1a1a1}.input_block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:10px}.comboBoxList[_ngcontent-%COMP%]{border:1px solid #dadada;font-size:15px;background-color:#fff;border-radius:5px}.required-warning[_ngcontent-%COMP%]{color:red;font-size:.7rem;padding-inline:.7vw}"]}),n})(),Pce=(()=>{class n{constructor(e){this.elementRef=e,this.close=new o.vpe}ngOnInit(){this.onSelectedClient()}onClose(){this.ngOnDestroy()}onSelectedClient(){this.ClientDetails=this.selectedClient}ngOnDestroy(){this.elementRef.nativeElement.remove(),this.close.emit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-view-tenant"]],inputs:{closeForm:"closeForm",selectedClient:"selectedClient"},outputs:{close:"close"},decls:46,vars:9,consts:[[1,"dropback",3,"click"],[1,"container"],[1,"row"],[1,"col"],[1,"title_pg"],[3,"click"],["alt","closeIcon","src","assets/images/closeIcon.png",2,"width","25px"],[1,"content_view"],[1,"input-group-text"],[1,"ContentDetails"],["wrap","hard","readonly",""],[1,"button"],["type","button",1,"btn","btn-outline-danger",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.NdJ("click",function(){return i.onClose()}),o.qZA(),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p"),o._uU(6,"View Tenant"),o.qZA(),o.TgZ(7,"a",5),o.NdJ("click",function(){return i.onClose()}),o._UZ(8,"img",6),o.qZA()(),o.TgZ(9,"div",7)(10,"label",8),o._uU(11),o.qZA(),o._UZ(12,"br"),o.TgZ(13,"label",8),o._uU(14),o.qZA(),o._UZ(15,"br"),o.TgZ(16,"label",8),o._uU(17),o.qZA(),o._UZ(18,"hr"),o.TgZ(19,"div",9)(20,"p"),o._uU(21,"Property previously occupied details"),o.qZA()(),o.TgZ(22,"label",8),o._uU(23),o.qZA(),o._UZ(24,"br"),o.TgZ(25,"label",8),o._uU(26),o.qZA(),o._UZ(27,"hr"),o.TgZ(28,"div",9)(29,"p"),o._uU(30,"Property rented details"),o.qZA()(),o.TgZ(31,"label",8),o._uU(32),o.qZA(),o._UZ(33,"br"),o.TgZ(34,"label",8),o._uU(35),o.qZA(),o._UZ(36,"hr"),o.TgZ(37,"label",8),o._uU(38),o.qZA(),o._UZ(39,"br"),o.TgZ(40,"textarea",10),o._uU(41),o.qZA(),o._UZ(42,"br"),o.qZA(),o.TgZ(43,"div",11)(44,"button",12),o.NdJ("click",function(){return i.onClose()}),o._uU(45,"Close"),o.qZA()()()()()),2&e&&(o.xp6(11),o.hij("First name: ",i.ClientDetails.firstname,""),o.xp6(3),o.hij("Last name: ",i.ClientDetails.lastname,""),o.xp6(3),o.hij("Email: ",i.ClientDetails.email,""),o.xp6(6),o.hij("Previous Postcode: ",i.ClientDetails.prepostcode,""),o.xp6(3),o.hij("Previous Address: ",i.ClientDetails.preaddress,""),o.xp6(6),o.hij("Current Postcode: ",i.ClientDetails.curpostcode,""),o.xp6(3),o.hij("Current Address: ",i.ClientDetails.curaddress,""),o.xp6(3),o.hij("Phone: ",i.ClientDetails.phone,""),o.xp6(3),o.hij("Detail: ",i.ClientDetails.detail,""))},styles:[".dropback[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf;z-index:50}.container[_ngcontent-%COMP%]{position:fixed;top:3vh;left:30vw;width:40vw;height:-moz-fit-content;height:fit-content;padding:0;border-radius:10px;z-index:100;background-color:#fff;box-shadow:0 2px 8px #00000042}.title_pg[_ngcontent-%COMP%]{height:50px;width:100%;background-color:green;border-radius:10px 10px 0 0;color:#fff;padding:10px;display:flex;justify-content:space-between}.title_pg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.content_view[_ngcontent-%COMP%]{width:100%;padding:10px}.button[_ngcontent-%COMP%]{width:100%;margin:10px;text-align:center}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80%}.ContentDetails[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;color:#a1a1a1}textarea[_ngcontent-%COMP%]{width:100%}"]}),n})();function kce(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-add-tenant",23),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("closeForm",e.addingTenantAllowed)}}function Oce(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-view-tenant",24),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("closeForm",e.viewTenantAllowed)("selectedClient",e.selectdClient)}}function Rce(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-warning-msg",25),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("closeForm",e.deleteTenantAllowed)("selectedClient",e.selectdClient)("dbName",e.dbName)}}function Nce(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-edit-tenant",24),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("closeForm",e.editTenantAllowed)("selectedClient",e.selectdClient)}}function Lce(n,t){1&n&&(o.TgZ(0,"div"),o._UZ(1,"img",26),o.qZA())}function Fce(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"tr")(1,"td",27),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"uppercase"),o.qZA(),o.TgZ(6,"td"),o._uU(7),o.ALo(8,"uppercase"),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.ALo(11,"uppercase"),o.qZA(),o.TgZ(12,"td"),o._uU(13),o.qZA(),o.TgZ(14,"td")(15,"button",28),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.on_view(s))}),o._uU(16,"View"),o.qZA(),o.TgZ(17,"button",29),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.on_delete(s))}),o._uU(18,"Delete"),o.qZA(),o.TgZ(19,"button",30),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.on_edit(s))}),o._uU(20,"Edit"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.id),o.xp6(2),o.Oqu(o.lcZ(5,5,e.firstname)),o.xp6(3),o.Oqu(o.lcZ(8,7,e.lastname)),o.xp6(3),o.Oqu(o.lcZ(11,9,e.curpostcode)),o.xp6(3),o.Oqu(e.phone)}}const Uce=function(n,t){return[n,t,"firstname","lastname","curpostcode","phone"]};let Bce=(()=>{class n{constructor(e,i,r,s){this.dataService=e,this.router=i,this.elementRef=r,this.dbService=s,this.tenantTableList=[],this.addingTenantAllowed=!1,this.viewTenantAllowed=!1,this.deleteTenantAllowed=!1,this.editTenantAllowed=!1,this.dbName="",this.loading=!1}ngOnInit(){this.onTenantTableList()}onTenantTableList(){var e=this;return(0,Te.Z)(function*(){e.loading=!0,yield e.dbService.getData("tenantDb").then(i=>{e.tenantTableList=[],i.forEach(r=>{e.tenantTableList.push(r.data())}),e.loading=!1})})()}add_tenant(){this.addingTenantAllowed=!0}on_edit(e){this.editTenantAllowed=!0,this.selectdClient=e}on_view(e){this.viewTenantAllowed=!0,this.selectdClient=e}on_delete(e){this.deleteTenantAllowed=!0,this.selectdClient=e,this.dbName="tenantDb"}onReloadPg(){this.addingTenantAllowed=!1,this.viewTenantAllowed=!1,this.deleteTenantAllowed=!1,this.editTenantAllowed=!1,this.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ev),o.Y36(va),o.Y36(o.SBq),o.Y36(qo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-tenants"]],decls:44,vars:17,consts:[[3,"closeForm","close",4,"ngIf"],[3,"closeForm","selectedClient","close",4,"ngIf"],[3,"closeForm","selectedClient","dbName","close",4,"ngIf"],[1,"container-sm"],[1,"row"],["id","card_add_content",1,"col-6"],["id","pg_content"],["id","card"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["type","button","id","tenants_add_btn",1,"btn","btn-primary",3,"click"],["id","c3",1,"col-12"],["id","searchInput",1,"input-group","mb-3"],["type","button","id","button-addon1",1,"btn","btn-outline-secondary"],["type","text","placeholder","search ...","aria-label","Example text with button addon","aria-describedby","button-addon1",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],["id","table_scroll"],["id","pg_table",1,"table","table-success","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"closeForm","close"],[3,"closeForm","selectedClient","close"],[3,"closeForm","selectedClient","dbName","close"],["alt","spinner loading","src","assets/images/Rolling.gif",2,"width","4vw","text-align","center"],["scope","row"],["type","button","id","view_btn",1,"btn","btn-success",3,"click"],["type","button","id","delete_btn",1,"btn","btn-danger",3,"click"],["type","button","id","edit_btn",1,"btn","btn-warning",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div"),o.YNc(1,kce,1,1,"app-add-tenant",0),o.YNc(2,Oce,1,2,"app-view-tenant",1),o.YNc(3,Rce,1,3,"app-warning-msg",2),o.YNc(4,Nce,1,2,"app-edit-tenant",1),o.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),o._uU(12," Tenants "),o.qZA(),o.TgZ(13,"div",10)(14,"h5",11),o._uU(15,"Tenants Details"),o.qZA(),o.TgZ(16,"p",12),o._uU(17,"This page has data, operations and views about tenants."),o.qZA()()()(),o.TgZ(18,"button",13),o.NdJ("click",function(){return i.add_tenant()}),o._uU(19,"Add New Tenants"),o.qZA()()(),o.TgZ(20,"div",14)(21,"div",15)(22,"button",16),o._uU(23,"Search"),o.qZA(),o.TgZ(24,"input",17),o.NdJ("ngModelChange",function(s){return i.filterString=s}),o.qZA()(),o.YNc(25,Lce,2,0,"div",18),o.TgZ(26,"div",19)(27,"table",20)(28,"thead")(29,"tr")(30,"th",21),o._uU(31,"ID"),o.qZA(),o.TgZ(32,"th",21),o._uU(33,"First name"),o.qZA(),o.TgZ(34,"th",21),o._uU(35,"Last name"),o.qZA(),o.TgZ(36,"th",21),o._uU(37,"Postcode"),o.qZA(),o.TgZ(38,"th",21),o._uU(39,"Phone"),o.qZA(),o._UZ(40,"th",21),o.qZA()(),o.TgZ(41,"tbody"),o.YNc(42,Fce,21,11,"tr",22),o.ALo(43,"filter"),o.qZA()()()()()()()),2&e&&(o.xp6(1),o.Q6J("ngIf",i.addingTenantAllowed),o.xp6(1),o.Q6J("ngIf",i.viewTenantAllowed),o.xp6(1),o.Q6J("ngIf",i.deleteTenantAllowed),o.xp6(1),o.Q6J("ngIf",i.editTenantAllowed),o.xp6(20),o.Q6J("ngModel",i.filterString),o.xp6(1),o.Q6J("ngIf",i.loading),o.xp6(17),o.Q6J("ngForOf",o.G7q(43,7,o.WLB(14,Uce,i.tenantTableList,i.filterString))))},dependencies:[Xi,_i,ss,Fs,ws,ace,cD,Mce,Pce,Si,uD],styles:["#pg_content[_ngcontent-%COMP%]{height:100%}#card_add_content[_ngcontent-%COMP%]{position:relative}#map[_ngcontent-%COMP%]{border:.5px solid rgb(0,181,42);height:400px}agm-map[_ngcontent-%COMP%]{height:400px}#tenants_add_btn[_ngcontent-%COMP%]{width:100%;margin-top:30%}#pg_table[_ngcontent-%COMP%]{width:100%;max-height:300px}#searchInput[_ngcontent-%COMP%]{margin:10px auto auto}#table_scroll[_ngcontent-%COMP%]{width:100%;max-height:250px;overflow:auto;display:inline-block}thead[_ngcontent-%COMP%]{font-size:12px}tbody[_ngcontent-%COMP%]{font-size:13px}#view_btn[_ngcontent-%COMP%], #delete_btn[_ngcontent-%COMP%], #edit_btn[_ngcontent-%COMP%]{margin:auto 1%;font-size:11px}"]}),n})();const Vce=["comboBoxList"],Zce=["address"],zce=["city"],Hce=["postcode"],qce=["date"],jce=["rent"],Wce=["charge"],$ce=["details"];function Gce(n,t){if(1&n&&(o.TgZ(0,"option"),o._uU(1),o.ALo(2,"uppercase"),o.ALo(3,"uppercase"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.AsE("",o.lcZ(2,2,e.firstname)," ",o.lcZ(3,4,e.lastname),"")}}function Yce(n,t){1&n&&(o.TgZ(0,"div",39)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Kce(n,t){1&n&&(o.TgZ(0,"div"),o._UZ(1,"img",40),o.qZA())}function Qce(n,t){1&n&&(o.TgZ(0,"div",39)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Jce(n,t){1&n&&(o.TgZ(0,"div",39)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Xce(n,t){1&n&&(o.TgZ(0,"div",39)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function eue(n,t){1&n&&(o.TgZ(0,"p",39),o._uU(1,"This postcode is not exist!"),o.qZA())}function tue(n,t){1&n&&(o.TgZ(0,"div",39)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function nue(n,t){1&n&&(o.TgZ(0,"div",39)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function iue(n,t){1&n&&(o.TgZ(0,"div",39)(1,"p"),o._uU(2,"*Required"),o.qZA()())}const rue=function(n){return{color:n}};let oue=(()=>{class n{constructor(e,i,r){this.elementRef=e,this.mapingService=i,this.dbService=r,this.close=new o.vpe,this.postcodeNotExist=!1,this.loading=!1}ngOnInit(){this.landlordListData()}onSubmit(e){var i=this;return(0,Te.Z)(function*(){i.postcodeNotExist=!1,void 0===(yield i.mapingService.checkPostcode(i.postcodeRef.nativeElement.value))?(console.log("this is undefined value"),i.postcodeRef.nativeElement.value="",i.postcodeNotExist=!0):(i.property={owner:i.comboBoxListRef.nativeElement.value.toLowerCase(),address:i.addressRef.nativeElement.value.toLowerCase(),city:i.cityRef.nativeElement.value.toLowerCase(),postcode:i.postcodeRef.nativeElement.value.toUpperCase(),date:i.dateRef.nativeElement.value.toLowerCase(),rent:i.rentRef.nativeElement.value.toLowerCase(),charge:i.chargeRef.nativeElement.value.toLowerCase(),detail:i.detailsRef.nativeElement.value.toLowerCase(),image:i.filePath},i.dbService.storageData(i.filePath,i.fileUpload).then(()=>{i.dbService.addData(i.property,"propertyDb").then(s=>{}).catch(s=>{console.log(s)})}).catch(s=>{alert(s+"Image not uploaded.")}),i.onClose())})()}landlordListData(){var e=this;return(0,Te.Z)(function*(){e.loading=!0,e.landlordList=[],yield e.dbService.getData("landlordDb").then(i=>{i.forEach(r=>{e.landlordList.push(r.data())}),e.loading=!1})})()}uploadFile(e){this.fileUpload=e.target.files[0];let r=(new Date).toString();this.filePath=`estateImage/${this.postcodeRef.nativeElement.value.replace(/\s/g,"")+r.replace(/\s/g,"")}`}onClose(){this.ngOnDestroy()}ngOnDestroy(){this.close.emit(),this.elementRef.nativeElement.remove()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(rf),o.Y36(qo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-add-property"]],viewQuery:function(e,i){if(1&e&&(o.Gf(Vce,5),o.Gf(Zce,5),o.Gf(zce,5),o.Gf(Hce,5),o.Gf(qce,5),o.Gf(jce,5),o.Gf(Wce,5),o.Gf($ce,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.comboBoxListRef=r.first),o.iGM(r=o.CRH())&&(i.addressRef=r.first),o.iGM(r=o.CRH())&&(i.cityRef=r.first),o.iGM(r=o.CRH())&&(i.postcodeRef=r.first),o.iGM(r=o.CRH())&&(i.dateRef=r.first),o.iGM(r=o.CRH())&&(i.rentRef=r.first),o.iGM(r=o.CRH())&&(i.chargeRef=r.first),o.iGM(r=o.CRH())&&(i.detailsRef=r.first)}},inputs:{closeForm:"closeForm"},outputs:{close:"close"},decls:87,vars:14,consts:[[1,"dropback",3,"click"],[1,"container"],[1,"row"],[1,"col"],[1,"title_pg"],[3,"click"],["alt","closeIcon","src","assets/images/closeIcon.png",2,"width","25px"],[3,"ngSubmit"],["f","ngForm"],[1,"input_block"],[1,"ContentDetails"],[1,"ownerDiv"],[1,"input-group"],[1,"input-group-text"],["ngModel","","required","","id","propertyOwner","name","propertyOwner",1,"comboBoxList"],["comboBoxList",""],[4,"ngFor","ngForOf"],["class","required-warning",4,"ngIf"],[4,"ngIf"],["type","text","placeholder","Address","name","address","ngModel","","id","address","pattern","[A-Za-z0-9- ]{2,}","maxlength","50","required","",1,"form-control"],["address",""],["type","text","placeholder","City","name","city","ngModel","","id","city","pattern","[A-Za-z]{2,}","maxlength","50","required","",1,"form-control"],["city",""],["type","text","placeholder","Postcode","name","postcode","ngModel","","id","postcode","pattern","[A-Za-z0-9- ]{2,}","maxlength","8","required","",1,"form-control"],["postcode",""],["type","date","placeholder","date","name","date","ngModel","","id","date","required","",1,"form-control"],["date",""],[1,"input-group","mb-3"],["type","number","placeholder","Rent value","name","rent","id","rent","ngModel","","required","","aria-label","BPound amount (with dot and two decimal places)",1,"form-control"],["rent",""],["type","number","placeholder","Service charge value","name","serviceCharge","id","serviceCharge","ngModel","","required","","aria-label","BPound amount (with dot and two decimal places)",1,"form-control"],["charge",""],["type","file","placeholder","Choose file","name","upload","ngModel","","id","upload",1,"form-control",3,"change"],["type","textarea","placeholder","Other details","name","details","ngModel","","id","detals",1,"form-control"],["details",""],[1,"btns"],["type","submit","id","submitBtn",1,"btn","btn-outline-success",3,"disabled","ngStyle"],["submitBtn",""],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"required-warning"],["alt","spinner loading","src","assets/images/Rolling.gif",2,"width","3vw","text-align","center"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.NdJ("click",function(){return i.onClose()}),o.qZA(),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p"),o._uU(6,"Add Property"),o.qZA(),o.TgZ(7,"a",5),o.NdJ("click",function(){return i.onClose()}),o._UZ(8,"img",6),o.qZA()(),o.TgZ(9,"form",7,8),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(10);return o.KtG(i.onSubmit(a))}),o.TgZ(11,"div",9)(12,"div",10)(13,"p"),o._uU(14,"Property details"),o.qZA()(),o.TgZ(15,"div",11)(16,"div",12)(17,"span",13),o._uU(18,"Property Owner"),o.qZA(),o.TgZ(19,"select",14,15),o.YNc(21,Gce,4,6,"option",16),o.qZA(),o.YNc(22,Yce,3,0,"div",17),o.qZA(),o.YNc(23,Kce,2,0,"div",18),o.qZA(),o.TgZ(24,"div",12)(25,"span",13),o._uU(26,"Address"),o.qZA(),o._UZ(27,"input",19,20),o.YNc(29,Qce,3,0,"div",17),o.qZA(),o.TgZ(30,"div",12)(31,"span",13),o._uU(32,"City"),o.qZA(),o._UZ(33,"input",21,22),o.YNc(35,Jce,3,0,"div",17),o.qZA(),o.TgZ(36,"div",12)(37,"span",13),o._uU(38,"Postcode"),o.qZA(),o._UZ(39,"input",23,24),o.YNc(41,Xce,3,0,"div",17),o.qZA(),o.YNc(42,eue,2,0,"p",17),o.TgZ(43,"div",12)(44,"span",13),o._uU(45,"Date"),o.qZA(),o._UZ(46,"input",25,26),o.YNc(48,tue,3,0,"div",17),o.qZA(),o._UZ(49,"hr"),o.TgZ(50,"div",10)(51,"p"),o._uU(52,"Financial property details"),o.qZA(),o.TgZ(53,"p"),o._uU(54,"All details accourding to monthly baises"),o.qZA()(),o.TgZ(55,"div",27)(56,"span",13),o._uU(57,"Rent \xa3"),o.qZA(),o.TgZ(58,"span",13),o._uU(59,"0.00"),o.qZA(),o._UZ(60,"input",28,29),o.YNc(62,nue,3,0,"div",17),o.qZA(),o.TgZ(63,"div",27)(64,"span",13),o._uU(65,"Basic service charge \xa3"),o.qZA(),o.TgZ(66,"span",13),o._uU(67,"0.00"),o.qZA(),o._UZ(68,"input",30,31),o.YNc(70,iue,3,0,"div",17),o.qZA(),o._UZ(71,"hr"),o.TgZ(72,"div",12)(73,"span",13),o._uU(74,"Upload"),o.qZA(),o.TgZ(75,"input",32),o.NdJ("change",function(a){return i.uploadFile(a)}),o.qZA()(),o.TgZ(76,"div",12)(77,"span",13),o._uU(78,"Details"),o.qZA(),o._UZ(79,"textarea",33,34),o.qZA(),o.TgZ(81,"div",35)(82,"button",36,37),o._uU(84,"Submit"),o.qZA(),o.TgZ(85,"button",38),o.NdJ("click",function(){return i.onClose()}),o._uU(86,"Cancel"),o.qZA()()()()()()()}if(2&e){const r=o.MAs(10),s=o.MAs(20),a=o.MAs(28),c=o.MAs(34),h=o.MAs(40),p=o.MAs(61),v=o.MAs(69);o.xp6(21),o.Q6J("ngForOf",i.landlordList),o.xp6(1),o.Q6J("ngIf",!s.value),o.xp6(1),o.Q6J("ngIf",i.loading),o.xp6(6),o.Q6J("ngIf",!a.value),o.xp6(6),o.Q6J("ngIf",!c.value),o.xp6(6),o.Q6J("ngIf",!h.value),o.xp6(1),o.Q6J("ngIf",i.postcodeNotExist),o.xp6(6),o.Q6J("ngIf",!h.value),o.xp6(14),o.Q6J("ngIf",!p.value),o.xp6(8),o.Q6J("ngIf",!v.value),o.xp6(12),o.Q6J("disabled",!r.valid)("ngStyle",o.VKq(12,rue,r.valid?"":"gray"))}},dependencies:[Xi,_i,Dr,qd,Xh,ef,ss,dw,qu,Fs,Hd,el,tf,nf,ws,eu,Si],styles:[".dropback[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf;z-index:50}.container[_ngcontent-%COMP%]{position:fixed;top:5vh;left:30vw;width:40vw;height:-moz-fit-content;height:fit-content;padding:0;border-radius:10px;z-index:100;background-color:#fff;box-shadow:0 2px 8px #00000042}.title_pg[_ngcontent-%COMP%]{height:50px;width:100%;background-color:green;border-radius:10px 10px 0 0;color:#fff;padding:10px;display:flex;justify-content:space-between}.title_pg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.input_block[_ngcontent-%COMP%]{width:100%;padding:10px}.input-group[_ngcontent-%COMP%]{margin-top:7px;margin-bottom:7px}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.ContentDetails[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;color:#a1a1a1}.btns[_ngcontent-%COMP%]{width:30vw;text-align:center;margin-left:auto;margin-right:auto}.input_block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:10px}.upperCaseName[_ngcontent-%COMP%]{text-transform:uppercase}.comboBoxList[_ngcontent-%COMP%]{border:1px solid #dadada;font-size:15px;background-color:#fff;border-radius:5px}.comboBoxList.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.required-warning[_ngcontent-%COMP%]{color:red;font-size:.7rem;padding-inline:.7vw}.ownerDiv[_ngcontent-%COMP%]{display:flex}"]}),n})();const sue=["comboBoxList"],aue=["address"],lue=["city"],cue=["postcode"],uue=["date"],due=["rent"],hue=["charge"],fue=["details"];function pue(n,t){if(1&n&&(o.TgZ(0,"option"),o._uU(1),o.ALo(2,"uppercase"),o.ALo(3,"uppercase"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.AsE("",o.lcZ(2,2,e.firstname)," ",o.lcZ(3,4,e.lastname)," ")}}function gue(n,t){1&n&&(o.TgZ(0,"div",37)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function mue(n,t){1&n&&(o.TgZ(0,"div"),o._UZ(1,"img",38),o.qZA())}function _ue(n,t){1&n&&(o.TgZ(0,"div",37)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function vue(n,t){1&n&&(o.TgZ(0,"div",37)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function yue(n,t){1&n&&(o.TgZ(0,"div",37)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function wue(n,t){1&n&&(o.TgZ(0,"p",37),o._uU(1,"This postcode is not exist!"),o.qZA())}function bue(n,t){1&n&&(o.TgZ(0,"div",37)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Cue(n,t){1&n&&(o.TgZ(0,"div",37)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Eue(n,t){1&n&&(o.TgZ(0,"div",37)(1,"p"),o._uU(2,"*Required"),o.qZA()())}const Tue=function(n){return{color:n}};let Due=(()=>{class n{constructor(e,i,r){this.elementRef=e,this.mapingService=i,this.dbService=r,this.close=new o.vpe,this.ownerList=[],this.showDefault=!0,this.postcodeNotExist=!1,this.loading=!1}ngOnInit(){this.landlordListData(),this.property=this.selectedClient}onSubmit(e){var i=this;return(0,Te.Z)(function*(){i.postcodeNotExist=!1,void 0===(yield i.mapingService.checkPostcode(i.postcodeRef.nativeElement.value))?(console.log("this is undefined value"),i.postcodeRef.nativeElement.value="",i.postcodeNotExist=!0):(i.newproperty={owner:i.comboBoxListRef.nativeElement.value.toLowerCase(),address:i.addressRef.nativeElement.value.toLowerCase(),city:i.cityRef.nativeElement.value.toLowerCase(),postcode:i.postcodeRef.nativeElement.value.toUpperCase(),date:i.dateRef.nativeElement.value.toLowerCase(),rent:i.rentRef.nativeElement.value.toLowerCase(),charge:i.chargeRef.nativeElement.value.toLowerCase(),detail:i.detailsRef.nativeElement.value.toLowerCase(),image:i.filePath},console.log(i.newproperty),i.dbService.updateData(i.property,i.newproperty,"propertyDb"),i.onClose())})()}landlordListData(){var e=this;return(0,Te.Z)(function*(){e.loading=!0,yield e.dbService.getData("landlordDb").then(i=>{e.ownerList=[],i.forEach(r=>{e.ownerList.push(r.data())}),e.loading=!1})})()}uploadFile(e){const i=e.target.files[0];let r=(new Date).toString();this.filePath=`estateImage/${this.postcodeRef.nativeElement.value.replace(/\s/g,"")+r.replace(/\s/g,"")}`,this.dbService.storageData(this.filePath,i)}onClose(){this.ngOnDestroy()}ngOnDestroy(){this.close.emit(),this.elementRef.nativeElement.remove()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(rf),o.Y36(qo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-edit-porperty"]],viewQuery:function(e,i){if(1&e&&(o.Gf(sue,5),o.Gf(aue,5),o.Gf(lue,5),o.Gf(cue,5),o.Gf(uue,5),o.Gf(due,5),o.Gf(hue,5),o.Gf(fue,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.comboBoxListRef=r.first),o.iGM(r=o.CRH())&&(i.addressRef=r.first),o.iGM(r=o.CRH())&&(i.cityRef=r.first),o.iGM(r=o.CRH())&&(i.postcodeRef=r.first),o.iGM(r=o.CRH())&&(i.dateRef=r.first),o.iGM(r=o.CRH())&&(i.rentRef=r.first),o.iGM(r=o.CRH())&&(i.chargeRef=r.first),o.iGM(r=o.CRH())&&(i.detailsRef=r.first)}},inputs:{closeForm:"closeForm",selectedClient:"selectedClient"},outputs:{close:"close"},decls:89,vars:24,consts:[[1,"dropback",3,"click"],[1,"container"],[1,"row"],[1,"col"],[1,"title_pg"],[3,"click"],["alt","closeIcon","src","assets/images/closeIcon.png",2,"width","25px"],[3,"ngSubmit"],["f","ngForm"],[1,"input_block"],[1,"ContentDetails"],[1,"ownerDiv"],[1,"input-group"],[1,"input-group-text"],["required","","name","owner","id","owner","ngModel","",1,"comboBoxList"],["comboBoxList",""],[4,"ngFor","ngForOf"],["class","required-warning",4,"ngIf"],[4,"ngIf"],["type","text","name","address","ngModel","","id","address","maxlength","20","required","",1,"form-control",3,"placeholder"],["address",""],["type","text","name","city","ngModel","","id","city","pattern","[A-Za-z]{2,}","maxlength","20","required","",1,"form-control",3,"placeholder"],["city",""],["type","text","name","postcode","ngModel","","id","postcode","maxlength","7","required","",1,"form-control",3,"placeholder"],["postcode",""],["type","date","name","date","ngModel","","id","date","required","",1,"form-control",3,"placeholder"],["date",""],[1,"input-group","mb-3"],["type","number","name","rent","id","rent","ngModel","","required","","aria-label","BPound amount (with dot and two decimal places)",1,"form-control",3,"placeholder"],["rent",""],["type","number","name","serviceCharge","id","serviceCharge","ngModel","","required","","aria-label","BPound amount (with dot and two decimal places)",1,"form-control",3,"placeholder"],["charge",""],["type","file","placeholder","Choose file","name","upload","ngModel","","id","upload",1,"form-control",3,"change"],["type","textarea","name","details","ngModel","","id","detals",1,"form-control",3,"placeholder"],["details",""],["type","submit",1,"btn","btn-outline-success",3,"disabled","ngStyle"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"required-warning"],["alt","spinner loading","src","assets/images/Rolling.gif",2,"width","3vw","text-align","center"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.NdJ("click",function(){return i.onClose()}),o.qZA(),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p"),o._uU(6,"Edit property"),o.qZA(),o.TgZ(7,"a",5),o.NdJ("click",function(){return i.onClose()}),o._UZ(8,"img",6),o.qZA()(),o.TgZ(9,"form",7,8),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(10);return o.KtG(i.onSubmit(a))}),o.TgZ(11,"div",9)(12,"div",10)(13,"p"),o._uU(14,"Property details"),o.qZA()(),o.TgZ(15,"div",11)(16,"div")(17,"div",12)(18,"span",13),o._uU(19,"Owner"),o.qZA(),o.TgZ(20,"select",14,15)(22,"option"),o._uU(23),o.ALo(24,"uppercase"),o.qZA(),o.YNc(25,pue,4,6,"option",16),o.qZA(),o.YNc(26,gue,3,0,"div",17),o.qZA()(),o.YNc(27,mue,2,0,"div",18),o.qZA(),o.TgZ(28,"div",12)(29,"span",13),o._uU(30,"Address"),o.qZA(),o._UZ(31,"input",19,20),o.YNc(33,_ue,3,0,"div",17),o.qZA(),o.TgZ(34,"div",12)(35,"span",13),o._uU(36,"City"),o.qZA(),o._UZ(37,"input",21,22),o.YNc(39,vue,3,0,"div",17),o.qZA(),o.TgZ(40,"div",12)(41,"span",13),o._uU(42,"Postcode"),o.qZA(),o._UZ(43,"input",23,24),o.YNc(45,yue,3,0,"div",17),o.qZA(),o.YNc(46,wue,2,0,"p",17),o.TgZ(47,"div",12)(48,"span",13),o._uU(49,"Date"),o.qZA(),o._UZ(50,"input",25,26),o.YNc(52,bue,3,0,"div",17),o.qZA(),o._UZ(53,"hr"),o.TgZ(54,"div",10)(55,"p"),o._uU(56,"Financial property details"),o.qZA(),o.TgZ(57,"p"),o._uU(58,"All details accourding to monthly baises"),o.qZA()(),o.TgZ(59,"div",27)(60,"span",13),o._uU(61,"Rent \xa3"),o.qZA(),o.TgZ(62,"span",13),o._uU(63,"0.00"),o.qZA(),o._UZ(64,"input",28,29),o.YNc(66,Cue,3,0,"div",17),o.qZA(),o.TgZ(67,"div",27)(68,"span",13),o._uU(69,"Basic service charge \xa3"),o.qZA(),o.TgZ(70,"span",13),o._uU(71,"0.00"),o.qZA(),o._UZ(72,"input",30,31),o.YNc(74,Eue,3,0,"div",17),o.qZA(),o._UZ(75,"hr"),o.TgZ(76,"div",12)(77,"span",13),o._uU(78,"Upload"),o.qZA(),o.TgZ(79,"input",32),o.NdJ("change",function(a){return i.uploadFile(a)}),o.qZA()(),o.TgZ(80,"div",12)(81,"span",13),o._uU(82,"Details"),o.qZA(),o._UZ(83,"textarea",33,34),o.qZA(),o.TgZ(85,"button",35),o._uU(86,"Update"),o.qZA(),o.TgZ(87,"button",36),o.NdJ("click",function(){return i.onClose()}),o._uU(88,"Cancel"),o.qZA()()()()()()}if(2&e){const r=o.MAs(10),s=o.MAs(21),a=o.MAs(32),c=o.MAs(38),h=o.MAs(44),p=o.MAs(65),v=o.MAs(73);o.xp6(23),o.Oqu(o.lcZ(24,20,i.selectedClient.owner)),o.xp6(2),o.Q6J("ngForOf",i.ownerList),o.xp6(1),o.Q6J("ngIf",!s.value),o.xp6(1),o.Q6J("ngIf",i.loading),o.xp6(4),o.s9C("placeholder",i.selectedClient.address),o.xp6(2),o.Q6J("ngIf",!a.value),o.xp6(4),o.s9C("placeholder",i.selectedClient.city),o.xp6(2),o.Q6J("ngIf",!c.value),o.xp6(4),o.s9C("placeholder",i.selectedClient.postcode),o.xp6(2),o.Q6J("ngIf",!h.value),o.xp6(1),o.Q6J("ngIf",i.postcodeNotExist),o.xp6(4),o.s9C("placeholder",i.selectedClient.date),o.xp6(2),o.Q6J("ngIf",!h.value),o.xp6(12),o.s9C("placeholder",i.selectedClient.rent),o.xp6(2),o.Q6J("ngIf",!p.value),o.xp6(6),o.s9C("placeholder",i.selectedClient.charge),o.xp6(2),o.Q6J("ngIf",!v.value),o.xp6(9),o.s9C("placeholder",i.selectedClient.detail),o.xp6(2),o.Q6J("disabled",!r.valid)("ngStyle",o.VKq(22,Tue,r.valid?"":"gray"))}},dependencies:[Xi,_i,Dr,qd,Xh,ef,ss,dw,qu,Fs,Hd,el,tf,nf,ws,eu,Si],styles:[".dropback[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf;z-index:50}.container[_ngcontent-%COMP%]{position:fixed;top:3vh;left:30vw;width:40vw;height:-moz-fit-content;height:fit-content;padding:0;border-radius:10px;z-index:100;background-color:#fff;box-shadow:0 2px 8px #00000042}.title_pg[_ngcontent-%COMP%]{height:50px;width:100%;background-color:#ffc107;border-radius:10px 10px 0 0;color:#fff;padding:10px;display:flex;justify-content:space-between}.title_pg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.input_block[_ngcontent-%COMP%]{width:100%;padding:10px}.input-group[_ngcontent-%COMP%]{margin-top:7px;margin-bottom:7px}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.ContentDetails[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;color:#a1a1a1}.input_block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:10px}.comboBoxList[_ngcontent-%COMP%]{border:1px solid #dadada;font-size:15px;background-color:#fff;border-radius:5px}.required-warning[_ngcontent-%COMP%]{color:red;font-size:.7rem;padding-inline:.7vw}.ownerDiv[_ngcontent-%COMP%]{display:flex}"]}),n})(),Iue=(()=>{class n{constructor(e,i){this.elementRef=e,this.mapServcie=i,this.close=new o.vpe}ngOnInit(){this.onSelectedClient(),this.mapServcie.initMap(this.selectedClient.postcode)}onSelectedClient(){this.ClientDetails=this.selectedClient}onClose(){this.ngOnDestroy()}ngOnDestroy(){this.close.emit(),this.elementRef.nativeElement.remove()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(rf))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-view-property"]],inputs:{closeForm:"closeForm",selectedClient:"selectedClient"},outputs:{close:"close"},decls:50,vars:12,consts:[[1,"dropback",3,"click"],[1,"container"],[1,"row"],[1,"col"],[1,"title_pg"],[3,"click"],["alt","closeIcon","src","assets/images/closeIcon.png",2,"width","25px"],[1,"content_data"],[1,"content_view"],[1,"ContentDetails"],[1,"input-group-text"],["wrap","hard","readonly",""],[1,"content_map"],["id","map","markers","markers","center","osloCenter",1,"col-6","col-sm-6"],["id","image","alt","prooperty image",3,"src"],[1,"button"],["type","button",1,"btn","btn-outline-danger",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.NdJ("click",function(){return i.onClose()}),o.qZA(),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p"),o._uU(6,"View Property"),o.qZA(),o.TgZ(7,"a",5),o.NdJ("click",function(){return i.onClose()}),o._UZ(8,"img",6),o.qZA()(),o.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"p"),o._uU(13,"Property details"),o.qZA()(),o.TgZ(14,"label",10),o._uU(15),o.ALo(16,"uppercase"),o.qZA(),o._UZ(17,"br"),o.TgZ(18,"label",10),o._uU(19),o.qZA(),o._UZ(20,"br"),o.TgZ(21,"label",10),o._uU(22),o.qZA(),o._UZ(23,"br"),o.TgZ(24,"label",10),o._uU(25),o.ALo(26,"uppercase"),o.qZA(),o._UZ(27,"hr"),o.TgZ(28,"div",9)(29,"p"),o._uU(30,"Financial details"),o.qZA()(),o.TgZ(31,"label",10),o._uU(32),o.qZA(),o._UZ(33,"br"),o.TgZ(34,"label",10),o._uU(35),o.qZA(),o._UZ(36,"hr"),o.TgZ(37,"div",9)(38,"p"),o._uU(39,"Detail"),o.qZA()(),o.TgZ(40,"textarea",11),o._uU(41),o.qZA(),o._UZ(42,"br"),o.qZA(),o.TgZ(43,"div",12),o._UZ(44,"div",13),o.qZA(),o.TgZ(45,"div"),o._UZ(46,"img",14),o.qZA()(),o.TgZ(47,"div",15)(48,"button",16),o.NdJ("click",function(){return i.onClose()}),o._uU(49,"Close"),o.qZA()()()()()),2&e&&(o.xp6(15),o.hij("Owner: ",o.lcZ(16,8,i.ClientDetails.owner),""),o.xp6(4),o.hij("Address: ",i.ClientDetails.address,""),o.xp6(3),o.hij("City: ",i.ClientDetails.city,""),o.xp6(3),o.hij("Postcode: ",o.lcZ(26,10,i.ClientDetails.postcode),""),o.xp6(7),o.hij("Rent: \xa3",i.ClientDetails.rent,""),o.xp6(3),o.hij("Service Charge: \xa3",i.ClientDetails.charge,""),o.xp6(6),o.Oqu(i.ClientDetails.detail),o.xp6(5),o.s9C("src",i.ClientDetails.image,o.LSH))},dependencies:[Si],styles:[".dropback[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf;z-index:50}.container[_ngcontent-%COMP%]{position:fixed;top:3vh;left:15vw;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;padding:0;border-radius:10px;z-index:100;background-color:#fff;box-shadow:0 2px 8px #00000042}.title_pg[_ngcontent-%COMP%]{height:50px;width:100%;background-color:green;border-radius:10px 10px 0 0;color:#fff;padding:10px;display:flex;justify-content:space-between}.title_pg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.content_view[_ngcontent-%COMP%]{width:100%;padding:10px}.button[_ngcontent-%COMP%]{width:100%;margin:10px;text-align:center}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80%}.ContentDetails[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;color:#a1a1a1}textarea[_ngcontent-%COMP%]{width:100%}.content_data[_ngcontent-%COMP%]{display:flex}#map[_ngcontent-%COMP%], #image[_ngcontent-%COMP%]{border:.5px solid rgb(0,181,42);width:25vw;height:50vh}"]}),n})();function xue(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-add-property",25),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("closeForm",e.addingPropertyAllowed)}}function Sue(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-view-property",26),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("closeForm",e.viewPropertyAllowed)("selectedClient",e.selectdClient)}}function Aue(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-warning-msg",27),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("closeForm",e.deletePropertyAllowed)("selectedClient",e.selectdClient)("dbName",e.dbName)}}function Mue(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-edit-porperty",26),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("closeForm",e.editPropertyAllowed)("selectedClient",e.selectdClient)}}function Pue(n,t){1&n&&(o.TgZ(0,"div"),o._UZ(1,"img",28),o.qZA())}function kue(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"tr")(1,"td",29),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"uppercase"),o.qZA(),o.TgZ(6,"td"),o._uU(7),o.ALo(8,"uppercase"),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.ALo(11,"uppercase"),o.qZA(),o.TgZ(12,"td"),o._uU(13),o.qZA(),o.TgZ(14,"td"),o._uU(15),o.qZA(),o.TgZ(16,"td")(17,"button",30),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.on_view(s))}),o._uU(18,"View"),o.qZA(),o.TgZ(19,"button",31),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.on_delete(s))}),o._uU(20,"Delete"),o.qZA(),o.TgZ(21,"button",32),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.on_edit(s))}),o._uU(22,"Edit"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.id),o.xp6(2),o.Oqu(o.lcZ(5,6,e.owner)),o.xp6(3),o.Oqu(o.lcZ(8,8,e.address)),o.xp6(3),o.Oqu(o.lcZ(11,10,e.postcode)),o.xp6(3),o.Oqu(e.date),o.xp6(2),o.hij("\xa3",e.rent,"")}}const Oue=function(n,t){return[n,t,"firstname","lastname","postcode","phone","owner","address"]};let Rue=(()=>{class n{constructor(e,i,r){this.elementRef=e,this.mapService=i,this.dbService=r,this.propertyTableList=[],this.deletePropertyList=[],this.addingPropertyAllowed=!1,this.viewPropertyAllowed=!1,this.deletePropertyAllowed=!1,this.editPropertyAllowed=!1,this.dbName="",this.loading=!1,this.onLandlordTableList()}ngOnInit(){}onLandlordTableList(){var e=this;return(0,Te.Z)(function*(){e.loading=!0,e.propertyTableList=[],yield e.dbService.getData("propertyDb").then(i=>{i.forEach(r=>{e.deletePropertyList.push(r.data()),e.dbService.getStorageData(r.data().image).then(s=>{let a=r.data();a.image=s.toString(),e.propertyTableList.push(a)}).catch(s=>console.log(s))}),e.mapService.initMainMap(),e.loading=!1})})()}add_property(){this.addingPropertyAllowed=!0}on_edit(e){this.editPropertyAllowed=!0,this.selectdClient=e}on_view(e){this.viewPropertyAllowed=!0,this.selectdClient=e,this.mapService.initMap(this.selectdClient.Postcode)}on_delete(e){this.deletePropertyAllowed=!0,this.deletePropertyList.forEach(i=>{i.postcode===e.postcode&&i.id===e.id&&i.landlordId===e.landlordId&&(this.selectdClient=i)}),this.dbName="propertyDb"}onReloadPg(){this.ngOnInit(),this.addingPropertyAllowed=!1,this.viewPropertyAllowed=!1,this.deletePropertyAllowed=!1,this.editPropertyAllowed=!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(rf),o.Y36(qo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-properties"]],decls:48,vars:19,consts:[[3,"closeForm","close",4,"ngIf"],[3,"closeForm","selectedClient","close",4,"ngIf"],[3,"closeForm","selectedClient","dbName","close",4,"ngIf"],[1,"container-sm"],[1,"row"],["id","card_add_content",1,"col-6"],["id","pg_content"],["id","card"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["type","button","id","properties_add_btn",1,"btn","btn-primary",3,"click"],["id","map","markers","markers","center","osloCenter",1,"col-6","col-sm-6"],["id","c3",1,"col-12"],["id","searchInput",1,"input-group","mb-3"],["type","button","id","button-addon1",1,"btn","btn-outline-secondary"],["type","text","placeholder","search ...","aria-label","Example text with button addon","aria-describedby","button-addon1",1,"form-control",3,"ngModel","ngModelChange"],["src","assets/images/locationIcon.gif"],[4,"ngIf"],["id","table_scroll"],["id","pg_table",1,"table","table-success","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"closeForm","close"],[3,"closeForm","selectedClient","close"],[3,"closeForm","selectedClient","dbName","close"],["alt","spinner loading","src","assets/images/Rolling.gif",2,"width","4vw","text-align","center"],["scope","row"],["type","button","id","view_btn",1,"btn","btn-success",3,"click"],["type","button","id","delete_btn",1,"btn","btn-danger",3,"click"],["type","button","id","edit_btn",1,"btn","btn-warning",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div"),o.YNc(1,xue,1,1,"app-add-property",0),o.YNc(2,Sue,1,2,"app-view-property",1),o.YNc(3,Aue,1,3,"app-warning-msg",2),o.YNc(4,Mue,1,2,"app-edit-porperty",1),o.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),o._uU(12," Properties "),o.qZA(),o.TgZ(13,"div",10)(14,"h5",11),o._uU(15,"Properties Details"),o.qZA(),o.TgZ(16,"p",12),o._uU(17,"This page has data, operations and views about properties."),o.qZA()()()(),o.TgZ(18,"button",13),o.NdJ("click",function(){return i.add_property()}),o._uU(19,"Add New Property"),o.qZA()()(),o._UZ(20,"div",14),o.TgZ(21,"div",15)(22,"div",16)(23,"button",17),o._uU(24,"Search"),o.qZA(),o.TgZ(25,"input",18),o.NdJ("ngModelChange",function(s){return i.filterString=s}),o.qZA()(),o._UZ(26,"img",19),o.YNc(27,Pue,2,0,"div",20),o.TgZ(28,"div",21)(29,"table",22)(30,"thead")(31,"tr")(32,"th",23),o._uU(33,"ID"),o.qZA(),o.TgZ(34,"th",23),o._uU(35,"Owner"),o.qZA(),o.TgZ(36,"th",23),o._uU(37,"Address"),o.qZA(),o.TgZ(38,"th",23),o._uU(39,"Postcode"),o.qZA(),o.TgZ(40,"th",23),o._uU(41,"Date"),o.qZA(),o.TgZ(42,"th",23),o._uU(43,"Rent"),o.qZA(),o._UZ(44,"th",23),o.qZA()(),o.TgZ(45,"tbody"),o.YNc(46,kue,23,12,"tr",24),o.ALo(47,"filter"),o.qZA()()()()()()()),2&e&&(o.xp6(1),o.Q6J("ngIf",i.addingPropertyAllowed),o.xp6(1),o.Q6J("ngIf",i.viewPropertyAllowed),o.xp6(1),o.Q6J("ngIf",i.deletePropertyAllowed),o.xp6(1),o.Q6J("ngIf",i.editPropertyAllowed),o.xp6(21),o.Q6J("ngModel",i.filterString),o.xp6(2),o.Q6J("ngIf",i.loading),o.xp6(19),o.Q6J("ngForOf",o.G7q(47,7,o.WLB(16,Oue,i.propertyTableList,i.filterString))))},dependencies:[Xi,_i,ss,Fs,ws,oue,cD,Due,Iue,Si,uD],styles:["#pg_content[_ngcontent-%COMP%]{height:100%}#card_add_content[_ngcontent-%COMP%]{position:relative}#map[_ngcontent-%COMP%]{border:.5px solid rgb(0,181,42);height:400px}#properties_add_btn[_ngcontent-%COMP%]{width:100%;margin-top:30%}#pg_table[_ngcontent-%COMP%]{width:100%;max-height:300px}#searchInput[_ngcontent-%COMP%]{margin:10px auto auto}#table_scroll[_ngcontent-%COMP%]{width:100%;max-height:250px;overflow:auto;display:inline-block}thead[_ngcontent-%COMP%]{font-size:12px}tbody[_ngcontent-%COMP%]{font-size:13px}#view_btn[_ngcontent-%COMP%], #delete_btn[_ngcontent-%COMP%], #edit_btn[_ngcontent-%COMP%]{margin:auto 1%;font-size:11px}#map[_ngcontent-%COMP%]{height:300px;z-index:0}"]}),n})();const Nue=["name"],Lue=["sector"],Fue=["services"],Uue=["address"],Bue=["postcode"],Vue=["email"],Zue=["phone"],zue=["details"];function Hue(n,t){1&n&&(o.TgZ(0,"div",34)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function que(n,t){1&n&&(o.TgZ(0,"div",34)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function jue(n,t){1&n&&(o.TgZ(0,"div",34)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Wue(n,t){1&n&&(o.TgZ(0,"div",34)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function $ue(n,t){1&n&&(o.TgZ(0,"div",34)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Gue(n,t){1&n&&(o.TgZ(0,"div",34)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Yue(n,t){1&n&&(o.TgZ(0,"div",34)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Kue(n,t){1&n&&(o.TgZ(0,"p",34),o._uU(1,"This postcode is not exist!"),o.qZA())}const Que=function(n){return{color:n}};let Jue=(()=>{class n{constructor(e,i,r){this.elementRef=e,this.mapingService=i,this.dbService=r,this.close=new o.vpe,this.postcodeNotExist=!1}ngOnInit(){}onSubmit(e){var i=this;return(0,Te.Z)(function*(){i.postcodeNotExist=!1,void 0===(yield i.mapingService.checkPostcode(i.postcodeRef.nativeElement.value))?(console.log("this is undefined value"),i.postcodeRef.nativeElement.value="",i.postcodeNotExist=!0):(i.other={name:i.nameRef.nativeElement.value.toLowerCase(),sector:i.sectorRef.nativeElement.value.toLowerCase(),services:i.servicesRef.nativeElement.value.toLowerCase(),address:i.addressRef.nativeElement.value.toLowerCase(),postcode:i.postcodeRef.nativeElement.value.toUpperCase(),email:i.emailRef.nativeElement.value.toLowerCase(),phone:i.phoneRef.nativeElement.value.toLowerCase(),detail:i.detailsRef.nativeElement.value.toLowerCase()},i.dbService.addData(i.other,"otherDb").then(s=>{console.log(s)}).catch(s=>{console.log(s)}),i.onClose())})()}onClose(){this.ngOnDestroy()}ngOnDestroy(){this.elementRef.nativeElement.remove(),this.close.emit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(rf),o.Y36(qo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-add-other"]],viewQuery:function(e,i){if(1&e&&(o.Gf(Nue,5),o.Gf(Lue,5),o.Gf(Fue,5),o.Gf(Uue,5),o.Gf(Bue,5),o.Gf(Vue,5),o.Gf(Zue,5),o.Gf(zue,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.nameRef=r.first),o.iGM(r=o.CRH())&&(i.sectorRef=r.first),o.iGM(r=o.CRH())&&(i.servicesRef=r.first),o.iGM(r=o.CRH())&&(i.addressRef=r.first),o.iGM(r=o.CRH())&&(i.postcodeRef=r.first),o.iGM(r=o.CRH())&&(i.emailRef=r.first),o.iGM(r=o.CRH())&&(i.phoneRef=r.first),o.iGM(r=o.CRH())&&(i.detailsRef=r.first)}},inputs:{closeForm:"closeForm"},outputs:{close:"close"},decls:72,vars:12,consts:[[1,"dropback",3,"click"],[1,"container"],[1,"row"],[1,"col"],[1,"title_pg"],[3,"click"],["alt","closeIcon","src","assets/images/closeIcon.png",2,"width","25px"],[3,"ngSubmit"],["f","ngForm"],[1,"input_block"],[1,"ContentDetails"],[1,"input-group"],[1,"input-group-text"],["type","text","placeholder","name","name","name","ngModel","","id","name","maxlength","150","required","",1,"form-control"],["name",""],["class","required-warning",4,"ngIf"],["type","text","placeholder","sector","name","sector","ngModel","","id","sector","pattern","[A-Za-z]{2,}","maxlength","20","required","",1,"form-control"],["sector",""],["type","text","placeholder","services","name","services","ngModel","","id","services","maxlength","150","required","",1,"form-control"],["services",""],["type","text","placeholder","Phone","name","phone","ngModel","","id","phone","maxlength","11","required","",1,"form-control"],["phone",""],["type","email","placeholder","Email","name","email","ngModel","","id","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$","required","",1,"form-control"],["email",""],["type","text","placeholder","Address","name","address","ngModel","","id","address","pattern","[A-Za-z0-9\\w!@#$%?=*&.- ]{2,}","maxlength","50","required","",1,"form-control"],["address",""],["type","text","placeholder","Postcode","name","postcode","ngModel","","id","postcode","pattern","[A-Za-z0-9- ]{2,}","maxlength","8","required","",1,"form-control"],["postcode",""],["type","file","placeholder","Choose file","name","upload","ngModel","","id","upload",1,"form-control"],["type","textarea","placeholder","Other details","name","details","ngModel","","id","detals",1,"form-control"],["details",""],[1,"btns"],["type","submit",1,"btn","btn-outline-success",3,"disabled","ngStyle"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"required-warning"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.NdJ("click",function(){return i.onClose()}),o.qZA(),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p"),o._uU(6,"Add Other"),o.qZA(),o.TgZ(7,"a",5),o.NdJ("click",function(){return i.onClose()}),o._UZ(8,"img",6),o.qZA()(),o.TgZ(9,"form",7,8),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(10);return o.KtG(i.onSubmit(a))}),o.TgZ(11,"div",9)(12,"div",10)(13,"p"),o._uU(14,"Other details"),o.qZA()(),o.TgZ(15,"div",11)(16,"span",12),o._uU(17,"Name"),o.qZA(),o._UZ(18,"input",13,14),o.YNc(20,Hue,3,0,"div",15),o.qZA(),o.TgZ(21,"div",11)(22,"span",12),o._uU(23,"Sector"),o.qZA(),o._UZ(24,"input",16,17),o.YNc(26,que,3,0,"div",15),o.qZA(),o.TgZ(27,"div",11)(28,"span",12),o._uU(29,"Services"),o.qZA(),o._UZ(30,"input",18,19),o.YNc(32,jue,3,0,"div",15),o.qZA(),o.TgZ(33,"div",11)(34,"span",12),o._uU(35,"Phone"),o.qZA(),o._UZ(36,"input",20,21),o.YNc(38,Wue,3,0,"div",15),o.qZA(),o.TgZ(39,"div",11)(40,"span",12),o._uU(41,"@"),o.qZA(),o._UZ(42,"input",22,23),o.YNc(44,$ue,3,0,"div",15),o.qZA(),o.TgZ(45,"div",11)(46,"span",12),o._uU(47,"Address"),o.qZA(),o._UZ(48,"input",24,25),o.YNc(50,Gue,3,0,"div",15),o.qZA(),o.TgZ(51,"div",11)(52,"span",12),o._uU(53,"Postcode"),o.qZA(),o._UZ(54,"input",26,27),o.YNc(56,Yue,3,0,"div",15),o.qZA(),o.YNc(57,Kue,2,0,"p",15),o.TgZ(58,"div",11)(59,"span",12),o._uU(60,"Upload"),o.qZA(),o._UZ(61,"input",28),o.qZA(),o.TgZ(62,"div",11)(63,"span",12),o._uU(64,"Details"),o.qZA(),o._UZ(65,"textarea",29,30),o.qZA(),o.TgZ(67,"div",31)(68,"button",32),o._uU(69,"Submit"),o.qZA(),o.TgZ(70,"button",33),o.NdJ("click",function(){return i.onClose()}),o._uU(71,"Cancel"),o.qZA()()()()()()()}if(2&e){const r=o.MAs(10),s=o.MAs(19),a=o.MAs(25),c=o.MAs(31),h=o.MAs(37),p=o.MAs(43),v=o.MAs(49),b=o.MAs(55);o.xp6(20),o.Q6J("ngIf",!s.value),o.xp6(6),o.Q6J("ngIf",!a.value),o.xp6(6),o.Q6J("ngIf",!c.value),o.xp6(6),o.Q6J("ngIf",!h.value),o.xp6(6),o.Q6J("ngIf",!p.value),o.xp6(6),o.Q6J("ngIf",!v.value),o.xp6(6),o.Q6J("ngIf",!b.value),o.xp6(1),o.Q6J("ngIf",i.postcodeNotExist),o.xp6(11),o.Q6J("disabled",!r.valid)("ngStyle",o.VKq(10,Que,r.valid?"":"gray"))}},dependencies:[_i,Dr,qd,ss,Fs,Hd,el,tf,nf,ws,eu],styles:[".dropback[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf;z-index:50}.container[_ngcontent-%COMP%]{position:fixed;top:5vh;left:30vw;width:40vw;height:-moz-fit-content;height:fit-content;padding:0;border-radius:10px;z-index:100;background-color:#fff;box-shadow:0 2px 8px #00000042}.title_pg[_ngcontent-%COMP%]{height:50px;width:100%;background-color:green;border-radius:10px 10px 0 0;color:#fff;padding:10px;display:flex;justify-content:space-between}.title_pg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.input_block[_ngcontent-%COMP%]{width:100%;padding:10px}.input-group[_ngcontent-%COMP%]{margin-top:7px;margin-bottom:7px}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.ContentDetails[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;color:#a1a1a1}.btns[_ngcontent-%COMP%]{width:30vw;text-align:center;margin-left:auto;margin-right:auto}.input_block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:10px}.required-warning[_ngcontent-%COMP%]{color:red;font-size:.7rem;padding-inline:.7vw}"]}),n})();const Xue=["name"],ede=["sector"],tde=["services"],nde=["address"],ide=["postcode"],rde=["email"],ode=["phone"],sde=["details"];function ade(n,t){1&n&&(o.TgZ(0,"div",32)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function lde(n,t){1&n&&(o.TgZ(0,"div",32)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function cde(n,t){1&n&&(o.TgZ(0,"div",32)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function ude(n,t){1&n&&(o.TgZ(0,"div",32)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function dde(n,t){1&n&&(o.TgZ(0,"div",32)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function hde(n,t){1&n&&(o.TgZ(0,"div",32)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function fde(n,t){1&n&&(o.TgZ(0,"div",32)(1,"p"),o._uU(2,"*Required"),o.qZA()())}const pde=function(n){return{color:n}};let gde=(()=>{class n{constructor(e,i,r){this.elementRef=e,this.mapingService=i,this.dbService=r,this.close=new o.vpe,this.postcodeNotExist=!1}ngOnInit(){this.other=this.selectedClient}onSubmit(e){var i=this;return(0,Te.Z)(function*(){i.postcodeNotExist=!1,void 0===(yield i.mapingService.checkPostcode(i.postcodeRef.nativeElement.value))?(console.log("this is undefined value"),i.postcodeRef.nativeElement.value="",i.postcodeNotExist=!0):(i.newother={name:i.nameRef.nativeElement.value.toLowerCase(),sector:i.sectorRef.nativeElement.value.toLowerCase(),services:i.servicesRef.nativeElement.value.toLowerCase(),address:i.addressRef.nativeElement.value.toLowerCase(),postcode:i.postcodeRef.nativeElement.value.toUpperCase(),email:i.emailRef.nativeElement.value.toLowerCase(),phone:i.phoneRef.nativeElement.value.toLowerCase(),detail:i.detailsRef.nativeElement.value.toLowerCase()},console.log(i.newother),console.log(i.other),i.dbService.updateData(i.other,i.newother,"otherDb"),i.onClose())})()}onClose(){this.ngOnDestroy()}ngOnDestroy(){this.elementRef.nativeElement.remove(),this.close.emit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(rf),o.Y36(qo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-edit-other"]],viewQuery:function(e,i){if(1&e&&(o.Gf(Xue,5),o.Gf(ede,5),o.Gf(tde,5),o.Gf(nde,5),o.Gf(ide,5),o.Gf(rde,5),o.Gf(ode,5),o.Gf(sde,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.nameRef=r.first),o.iGM(r=o.CRH())&&(i.sectorRef=r.first),o.iGM(r=o.CRH())&&(i.servicesRef=r.first),o.iGM(r=o.CRH())&&(i.addressRef=r.first),o.iGM(r=o.CRH())&&(i.postcodeRef=r.first),o.iGM(r=o.CRH())&&(i.emailRef=r.first),o.iGM(r=o.CRH())&&(i.phoneRef=r.first),o.iGM(r=o.CRH())&&(i.detailsRef=r.first)}},inputs:{closeForm:"closeForm",selectedClient:"selectedClient"},outputs:{close:"close"},decls:67,vars:19,consts:[[1,"dropback",3,"click"],[1,"container"],[1,"row"],[1,"col"],[1,"title_pg"],[3,"click"],["alt","closeIcon","src","assets/images/closeIcon.png",2,"width","25px"],[3,"ngSubmit"],["f","ngForm"],[1,"input_block"],[1,"input-group"],[1,"input-group-text"],["type","text","name","name","ngModel","","id","name","maxlength","150","required","",1,"form-control",3,"placeholder"],["name",""],["class","required-warning",4,"ngIf"],["type","text","name","sector","ngModel","","id","sector","maxlength","150","required","",1,"form-control",3,"placeholder"],["sector",""],["type","text","name","services","ngModel","","id","services","maxlength","150","required","",1,"form-control",3,"placeholder"],["services",""],["type","text","name","phone","ngModel","","id","phone","maxlength","11","required","",1,"form-control",3,"placeholder"],["phone",""],["type","email","name","email","ngModel","","id","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",1,"form-control",3,"placeholder"],["email",""],["type","text","name","address","ngModel","","id","address","pattern","[A-Za-z0-9\\w!@#$%?=*&.- ]{2,}","maxlength","50","required","",1,"form-control",3,"placeholder"],["address",""],["type","text","name","postcode","ngModel","","id","postcode","pattern","[A-Za-z0-9- ]{2,}","maxlength","8","required","",1,"form-control",3,"placeholder"],["postcode",""],["type","file","placeholder","Choose file","name","upload","ngModel","","id","upload",1,"form-control"],["type","textarea","name","details","ngModel","","id","detals",1,"form-control",3,"placeholder"],["details",""],["type","submit",1,"btn","btn-outline-success",3,"disabled","ngStyle"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"required-warning"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.NdJ("click",function(){return i.onClose()}),o.qZA(),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p"),o._uU(6,"Edit others"),o.qZA(),o.TgZ(7,"a",5),o.NdJ("click",function(){return i.onClose()}),o._UZ(8,"img",6),o.qZA()(),o.TgZ(9,"form",7,8),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(10);return o.KtG(i.onSubmit(a))}),o.TgZ(11,"div",9)(12,"div",10)(13,"span",11),o._uU(14,"Name"),o.qZA(),o._UZ(15,"input",12,13),o.YNc(17,ade,3,0,"div",14),o.qZA(),o.TgZ(18,"div",10)(19,"span",11),o._uU(20,"Sector"),o.qZA(),o._UZ(21,"input",15,16),o.YNc(23,lde,3,0,"div",14),o.qZA(),o.TgZ(24,"div",10)(25,"span",11),o._uU(26,"Services"),o.qZA(),o._UZ(27,"input",17,18),o.YNc(29,cde,3,0,"div",14),o.qZA(),o.TgZ(30,"div",10)(31,"span",11),o._uU(32,"Phone"),o.qZA(),o._UZ(33,"input",19,20),o.YNc(35,ude,3,0,"div",14),o.qZA(),o.TgZ(36,"div",10)(37,"span",11),o._uU(38,"@"),o.qZA(),o._UZ(39,"input",21,22),o.YNc(41,dde,3,0,"div",14),o.qZA(),o.TgZ(42,"div",10)(43,"span",11),o._uU(44,"Address"),o.qZA(),o._UZ(45,"input",23,24),o.YNc(47,hde,3,0,"div",14),o.qZA(),o.TgZ(48,"div",10)(49,"span",11),o._uU(50,"Postcode"),o.qZA(),o._UZ(51,"input",25,26),o.YNc(53,fde,3,0,"div",14),o.qZA(),o.TgZ(54,"div",10)(55,"span",11),o._uU(56,"Upload"),o.qZA(),o._UZ(57,"input",27),o.qZA(),o.TgZ(58,"div",10)(59,"span",11),o._uU(60,"Details"),o.qZA(),o._UZ(61,"textarea",28,29),o.qZA(),o.TgZ(63,"button",30),o._uU(64,"Update"),o.qZA(),o.TgZ(65,"button",31),o.NdJ("click",function(){return i.onClose()}),o._uU(66,"Cancel"),o.qZA()()()()()()}if(2&e){const r=o.MAs(10),s=o.MAs(16),a=o.MAs(22),c=o.MAs(28),h=o.MAs(34),p=o.MAs(40),v=o.MAs(46),b=o.MAs(52);o.xp6(15),o.s9C("placeholder",i.selectedClient.name),o.xp6(2),o.Q6J("ngIf",!s.value),o.xp6(4),o.s9C("placeholder",i.selectedClient.sector),o.xp6(2),o.Q6J("ngIf",!a.value),o.xp6(4),o.s9C("placeholder",i.selectedClient.services),o.xp6(2),o.Q6J("ngIf",!c.value),o.xp6(4),o.s9C("placeholder",i.selectedClient.phone),o.xp6(2),o.Q6J("ngIf",!h.value),o.xp6(4),o.s9C("placeholder",i.selectedClient.email),o.xp6(2),o.Q6J("ngIf",!p.value),o.xp6(4),o.s9C("placeholder",i.selectedClient.address),o.xp6(2),o.Q6J("ngIf",!v.value),o.xp6(4),o.s9C("placeholder",i.selectedClient.postcode),o.xp6(2),o.Q6J("ngIf",!b.value),o.xp6(8),o.s9C("placeholder",i.selectedClient.details),o.xp6(2),o.Q6J("disabled",!r.valid)("ngStyle",o.VKq(17,pde,r.valid?"":"gray"))}},dependencies:[_i,Dr,qd,ss,Fs,Hd,el,tf,nf,ws,eu],styles:[".dropback[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf;z-index:50}.container[_ngcontent-%COMP%]{position:fixed;top:10vh;left:30vw;width:40vw;height:-moz-fit-content;height:fit-content;padding:0;border-radius:10px;z-index:100;background-color:#fff;box-shadow:0 2px 8px #00000042}.title_pg[_ngcontent-%COMP%]{height:50px;width:100%;background-color:#ffc107;border-radius:10px 10px 0 0;color:#fff;padding:10px;display:flex;justify-content:space-between}.title_pg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.input_block[_ngcontent-%COMP%]{width:100%;padding:10px}.input-group[_ngcontent-%COMP%]{margin-top:7px;margin-bottom:7px}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.input_block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:10px}.required-warning[_ngcontent-%COMP%]{color:red;font-size:.7rem;padding-inline:.7vw}"]}),n})(),mde=(()=>{class n{constructor(e){this.elementRef=e,this.close=new o.vpe}ngOnInit(){this.onSelectedClient()}onClose(){this.ngOnDestroy()}onSelectedClient(){this.ClientDetails=this.selectedClient}ngOnDestroy(){this.elementRef.nativeElement.remove(),this.close.emit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-view-other"]],inputs:{closeForm:"closeForm",selectedClient:"selectedClient"},outputs:{close:"close"},decls:38,vars:8,consts:[[1,"dropback",3,"click"],[1,"container"],[1,"row"],[1,"col"],[1,"title_pg"],[3,"click"],["alt","closeIcon","src","assets/images/closeIcon.png",2,"width","25px"],[1,"content_view"],[1,"input-group-text"],["wrap","hard","readonly",""],[1,"button"],["type","button",1,"btn","btn-outline-danger",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.NdJ("click",function(){return i.onClose()}),o.qZA(),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p"),o._uU(6,"View Other"),o.qZA(),o.TgZ(7,"a",5),o.NdJ("click",function(){return i.onClose()}),o._UZ(8,"img",6),o.qZA()(),o.TgZ(9,"div",7)(10,"label",8),o._uU(11),o.qZA(),o._UZ(12,"br"),o.TgZ(13,"label",8),o._uU(14),o.qZA(),o._UZ(15,"br"),o.TgZ(16,"label",8),o._uU(17),o.qZA(),o._UZ(18,"br"),o.TgZ(19,"label",8),o._uU(20),o.qZA(),o._UZ(21,"br"),o.TgZ(22,"label",8),o._uU(23),o.qZA(),o._UZ(24,"br"),o.TgZ(25,"label",8),o._uU(26),o.qZA(),o._UZ(27,"br"),o.TgZ(28,"label",8),o._uU(29),o.qZA(),o._UZ(30,"br")(31,"hr"),o.TgZ(32,"textarea",9),o._uU(33),o.qZA(),o._UZ(34,"br"),o.qZA(),o.TgZ(35,"div",10)(36,"button",11),o.NdJ("click",function(){return i.onClose()}),o._uU(37,"Close"),o.qZA()()()()()),2&e&&(o.xp6(11),o.hij("Name: ",i.ClientDetails.name,""),o.xp6(3),o.hij("Sector: ",i.ClientDetails.sector,""),o.xp6(3),o.hij("Services: ",i.ClientDetails.services,""),o.xp6(3),o.hij("Phone: ",i.ClientDetails.phone,""),o.xp6(3),o.hij("Email: ",i.ClientDetails.email,""),o.xp6(3),o.hij("Address: ",i.ClientDetails.address,""),o.xp6(3),o.hij("Postcode: ",i.ClientDetails.postcode,""),o.xp6(4),o.hij("Detail: ",i.ClientDetails.Details,""))},styles:[".dropback[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf;z-index:50}.container[_ngcontent-%COMP%]{position:fixed;top:3vh;left:30vw;width:40vw;height:-moz-fit-content;height:fit-content;padding:0;border-radius:10px;z-index:100;background-color:#fff;box-shadow:0 2px 8px #00000042}.title_pg[_ngcontent-%COMP%]{height:50px;width:100%;background-color:green;border-radius:10px 10px 0 0;color:#fff;padding:10px;display:flex;justify-content:space-between}.title_pg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.content_view[_ngcontent-%COMP%]{width:100%;padding:10px}.button[_ngcontent-%COMP%]{width:100%;margin:10px;text-align:center}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80%}textarea[_ngcontent-%COMP%]{width:100%}"]}),n})(),_de=(()=>{class n{transform(e,i){return e.length>i?e.substring(0,i)+" ...":e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"shorten",type:n,pure:!0}),n})();function vde(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-add-other",23),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("closeForm",e.addingOtherAllowed)}}function yde(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-view-other",24),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("closeForm",e.viewOtherAllowed)("selectedClient",e.selectdClient)}}function wde(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-warning-msg",25),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("closeForm",e.deleteOtherAllowed)("selectedClient",e.selectdClient)("dbName",e.dbName)}}function bde(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-edit-other",24),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("closeForm",e.editOtherAllowed)("selectedClient",e.selectdClient)}}function Cde(n,t){1&n&&(o.TgZ(0,"div"),o._UZ(1,"img",26),o.qZA())}function Ede(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"tr")(1,"td",27),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"upperFirst"),o.qZA(),o.TgZ(6,"td"),o._uU(7),o.ALo(8,"upperFirst"),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.ALo(11,"shorten"),o.qZA(),o.TgZ(12,"td"),o._uU(13),o.qZA(),o.TgZ(14,"td")(15,"button",28),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.on_view(s))}),o._uU(16,"View"),o.qZA(),o.TgZ(17,"button",29),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.on_delete(s))}),o._uU(18,"Delete"),o.qZA(),o.TgZ(19,"button",30),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.on_edit(s))}),o._uU(20,"Edit"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.id),o.xp6(2),o.Oqu(o.lcZ(5,5,e.name)),o.xp6(3),o.Oqu(o.lcZ(8,7,e.sector)),o.xp6(3),o.Oqu(o.xi3(11,9,e.services,10)),o.xp6(3),o.Oqu(e.phone)}}const Tde=function(n,t){return[n,t,"name","sector","services","phone"]};let Dde=(()=>{class n{constructor(e,i){this.elementRef=e,this.dbService=i,this.otherTableList=[],this.addingOtherAllowed=!1,this.viewOtherAllowed=!1,this.deleteOtherAllowed=!1,this.editOtherAllowed=!1,this.dbName="",this.loading=!1}ngOnInit(){this.onOtherTableList()}onOtherTableList(){var e=this;return(0,Te.Z)(function*(){e.loading=!0,yield e.dbService.getData("otherDb").then(i=>{e.otherTableList=[],i.forEach(r=>{e.otherTableList.push(r.data())}),e.loading=!1})})()}add_other(){this.addingOtherAllowed=!0}on_edit(e){this.editOtherAllowed=!0,this.selectdClient=e}on_view(e){this.viewOtherAllowed=!0,this.selectdClient=e}on_delete(e){this.deleteOtherAllowed=!0,this.selectdClient=e,this.dbName="otherDb"}onReloadPg(){this.addingOtherAllowed=!1,this.viewOtherAllowed=!1,this.deleteOtherAllowed=!1,this.editOtherAllowed=!1,this.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(qo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-others"]],decls:44,vars:17,consts:[[3,"closeForm","close",4,"ngIf"],[3,"closeForm","selectedClient","close",4,"ngIf"],[3,"closeForm","selectedClient","dbName","close",4,"ngIf"],[1,"container-sm"],[1,"row"],["id","card_add_content",1,"col-6"],["id","pg_content"],["id","card"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["type","button","id","landlords_add_btn",1,"btn","btn-primary",3,"click"],["id","c3",1,"col-12"],["id","searchInput",1,"input-group","mb-3"],["type","button","id","button-addon1",1,"btn","btn-outline-secondary"],["type","text","placeholder","search ...","aria-label","Example text with button addon","aria-describedby","button-addon1",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],["id","table_scroll"],["id","pg_table",1,"table","table-success","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"closeForm","close"],[3,"closeForm","selectedClient","close"],[3,"closeForm","selectedClient","dbName","close"],["alt","spinner loading","src","assets/images/Rolling.gif",2,"width","4vw","text-align","center"],["scope","row"],["type","button","id","view_btn",1,"btn","btn-success",3,"click"],["type","button","id","delete_btn",1,"btn","btn-danger",3,"click"],["type","button","id","edit_btn",1,"btn","btn-warning",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div"),o.YNc(1,vde,1,1,"app-add-other",0),o.YNc(2,yde,1,2,"app-view-other",1),o.YNc(3,wde,1,3,"app-warning-msg",2),o.YNc(4,bde,1,2,"app-edit-other",1),o.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),o._uU(12," Others "),o.qZA(),o.TgZ(13,"div",10)(14,"h5",11),o._uU(15,"Others Details"),o.qZA(),o.TgZ(16,"p",12),o._uU(17,"This page has data, operations and views about others."),o.qZA()()()(),o.TgZ(18,"button",13),o.NdJ("click",function(){return i.add_other()}),o._uU(19,"Add New Other"),o.qZA()()(),o.TgZ(20,"div",14)(21,"div",15)(22,"button",16),o._uU(23,"Search"),o.qZA(),o.TgZ(24,"input",17),o.NdJ("ngModelChange",function(s){return i.filterString=s}),o.qZA()(),o.YNc(25,Cde,2,0,"div",18),o.TgZ(26,"div",19)(27,"table",20)(28,"thead")(29,"tr")(30,"th",21),o._uU(31,"ID"),o.qZA(),o.TgZ(32,"th",21),o._uU(33,"Name"),o.qZA(),o.TgZ(34,"th",21),o._uU(35,"Sector"),o.qZA(),o.TgZ(36,"th",21),o._uU(37,"Services"),o.qZA(),o.TgZ(38,"th",21),o._uU(39,"Phone"),o.qZA(),o._UZ(40,"th",21),o.qZA()(),o.TgZ(41,"tbody"),o.YNc(42,Ede,21,12,"tr",22),o.ALo(43,"filter"),o.qZA()()()()()()()),2&e&&(o.xp6(1),o.Q6J("ngIf",i.addingOtherAllowed),o.xp6(1),o.Q6J("ngIf",i.viewOtherAllowed),o.xp6(1),o.Q6J("ngIf",i.deleteOtherAllowed),o.xp6(1),o.Q6J("ngIf",i.editOtherAllowed),o.xp6(20),o.Q6J("ngModel",i.filterString),o.xp6(1),o.Q6J("ngIf",i.loading),o.xp6(17),o.Q6J("ngForOf",o.G7q(43,7,o.WLB(14,Tde,i.otherTableList,i.filterString))))},dependencies:[Xi,_i,ss,Fs,ws,Jue,cD,gde,mde,uD,_de,yp],styles:["#pg_content[_ngcontent-%COMP%]{height:100%}#card_add_content[_ngcontent-%COMP%]{position:relative}#map[_ngcontent-%COMP%]{border:.5px solid rgb(0,181,42);height:400px}agm-map[_ngcontent-%COMP%]{height:400px}#landlords_add_btn[_ngcontent-%COMP%]{width:100%;margin-top:30%}#pg_table[_ngcontent-%COMP%]{width:100%;max-height:300px}#searchInput[_ngcontent-%COMP%]{margin:10px auto auto}#table_scroll[_ngcontent-%COMP%]{width:100%;max-height:250px;overflow:auto;display:inline-block}thead[_ngcontent-%COMP%]{font-size:12px}tbody[_ngcontent-%COMP%]{font-size:13px}#view_btn[_ngcontent-%COMP%], #delete_btn[_ngcontent-%COMP%], #edit_btn[_ngcontent-%COMP%]{margin:auto 1%;font-size:11px}"]}),n})(),Tv=(()=>{class n{transform(e){return new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP",minimumFractionDigits:2}).format(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"currancy",type:n,pure:!0}),n})();const Ide=["position"],xde=["date"],Sde=["name"],Ade=["nameTenant"],Mde=["nameOther"],Pde=["nameLandlord"],kde=["about"],Ode=["totalAmount"],Rde=["typeOfPayment"];function Nde(n,t){1&n&&(o.TgZ(0,"div",44)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Lde(n,t){1&n&&(o.TgZ(0,"div",44)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Fde(n,t){if(1&n&&(o.TgZ(0,"option"),o._uU(1),o.ALo(2,"upperFirst"),o.ALo(3,"upperFirst"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.AsE("",o.lcZ(2,2,e.firstname)," ",o.lcZ(3,4,e.lastname),"")}}function Ude(n,t){if(1&n&&(o.TgZ(0,"select",46,47),o.YNc(2,Fde,4,6,"option",41),o.qZA()),2&n){const e=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",e.landlordList)}}function Bde(n,t){if(1&n&&(o.TgZ(0,"option"),o._uU(1),o.ALo(2,"upperFirst"),o.ALo(3,"upperFirst"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.AsE("",o.lcZ(2,2,e.firstname)," ",o.lcZ(3,4,e.lastname),"")}}function Vde(n,t){if(1&n&&(o.TgZ(0,"select",46,48),o.YNc(2,Bde,4,6,"option",41),o.qZA()),2&n){const e=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",e.tenantList)}}function Zde(n,t){if(1&n&&(o.TgZ(0,"option"),o._uU(1),o.ALo(2,"upperFirst"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,e.name))}}function zde(n,t){if(1&n&&(o.TgZ(0,"select",46,49),o.YNc(2,Zde,3,3,"option",41),o.qZA()),2&n){const e=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",e.otherList)}}function Hde(n,t){if(1&n&&(o.TgZ(0,"div",12)(1,"span",13),o._uU(2,"Name"),o.qZA(),o.YNc(3,Ude,3,1,"select",45),o.YNc(4,Vde,3,1,"select",45),o.YNc(5,zde,3,1,"select",45),o.qZA()),2&n){o.oxw();const e=o.MAs(20);o.xp6(3),o.Q6J("ngIf","Landlord"===e.value),o.xp6(1),o.Q6J("ngIf","Tenant"===e.value),o.xp6(1),o.Q6J("ngIf","Other"===e.value)}}function qde(n,t){1&n&&(o.TgZ(0,"div"),o._UZ(1,"img",50),o.qZA())}function jde(n,t){1&n&&(o.TgZ(0,"div",44)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Wde(n,t){if(1&n&&(o.TgZ(0,"div",12)(1,"span",13),o._uU(2,"Name"),o.qZA(),o._UZ(3,"input",51,52),o.YNc(5,jde,3,0,"div",17),o.qZA()),2&n){const e=o.MAs(4);o.xp6(5),o.Q6J("ngIf",!e.value)}}function $de(n,t){1&n&&(o.TgZ(0,"div",44)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Gde(n,t){1&n&&(o.TgZ(0,"div",44)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Yde(n,t){1&n&&(o.TgZ(0,"div",44)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Kde(n,t){1&n&&(o.TgZ(0,"div",44)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Qde(n,t){1&n&&(o.TgZ(0,"div",44)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Jde(n,t){if(1&n&&(o.TgZ(0,"tr")(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.ALo(7,"currancy"),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.typeOfTransaction),o.xp6(2),o.Oqu(e.description),o.xp6(2),o.Oqu(o.lcZ(7,3,e.amount))}}const Xde=function(n){return{color:n}};let ehe=(()=>{class n{constructor(e,i,r){this.elementRef=e,this.dataService=i,this.dbService=r,this.close=new o.vpe,this.transactionList=[],this.propertyTableList=[],this.landlordList=[],this.tenantList=[],this.otherList=[],this.addTransaction=!1,this.totalAmountValue=0,this.invoiceNo="",this.loading=!1}ngOnInit(){this.getLandlord(),this.getTenant(),this.getOther()}onAddTransaction(){}onSubmit(e){this.generateInvoiceNo(),this.money={position:this.positionRef.nativeElement.value.toLowerCase(),date:this.dateRef.nativeElement.value.toLowerCase(),name:e.value.name.toLowerCase(),about:this.aboutRef.nativeElement.value.toLowerCase(),totalamount:this.totalamountRef.nativeElement.value.toUpperCase(),typeofpayment:this.typeofpaymentRef.nativeElement.value.toLowerCase(),invoiceno:this.invoiceNo,trans:this.transactionList},this.dbService.addData(this.money,"moneyDb").then(i=>{}).catch(i=>{console.log(i)}),this.onClose()}onSubmitTransaction(e){let i=e.value;"Pay"===i.typeOfTransaction&&(i.amount=-1*i.amount),this.transactionList.push(i);let r=i.amount;if("Pay"===i.typeOfTransaction)this.totalAmountValue=(this.totalAmountValue+r).toFixed(2);else{let s=parseInt(this.totalAmountValue)+r;this.totalAmountValue=s}e.reset()}generateInvoiceNo(){let e=new Date;this.invoiceNo=e.getSeconds()+e.getMinutes()+e.getFullYear()+e.getFullYear()+"CP"}getLandlord(){var e=this;return(0,Te.Z)(function*(){e.loading=!0,yield e.dbService.getData("landlordDb").then(i=>{e.landlordList=[],i.forEach(r=>{e.landlordList.push(r.data())}),e.loading=!1})})()}getTenant(){var e=this;return(0,Te.Z)(function*(){e.loading=!0,yield e.dbService.getData("tenantDb").then(i=>{e.tenantList=[],i.forEach(r=>{e.tenantList.push(r.data())}),e.loading=!1})})()}getOther(){var e=this;return(0,Te.Z)(function*(){e.loading=!0,yield e.dbService.getData("otherDb").then(i=>{e.otherList=[],i.forEach(r=>{e.otherList.push(r.data())}),e.loading=!1})})()}onClose(){this.ngOnDestroy()}ngOnDestroy(){this.elementRef.nativeElement.remove(),this.close.emit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Ev),o.Y36(qo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-add-voucher"]],viewQuery:function(e,i){if(1&e&&(o.Gf(Ide,7),o.Gf(xde,7),o.Gf(Sde,7),o.Gf(Ade,7),o.Gf(Mde,7),o.Gf(Pde,7),o.Gf(kde,7),o.Gf(Ode,7),o.Gf(Rde,7)),2&e){let r;o.iGM(r=o.CRH())&&(i.positionRef=r.first),o.iGM(r=o.CRH())&&(i.dateRef=r.first),o.iGM(r=o.CRH())&&(i.nameRef=r.first),o.iGM(r=o.CRH())&&(i.nametenantRef=r.first),o.iGM(r=o.CRH())&&(i.nameotherRef=r.first),o.iGM(r=o.CRH())&&(i.namelandlordRef=r.first),o.iGM(r=o.CRH())&&(i.aboutRef=r.first),o.iGM(r=o.CRH())&&(i.totalamountRef=r.first),o.iGM(r=o.CRH())&&(i.typeofpaymentRef=r.first)}},inputs:{closeForm:"closeForm"},outputs:{close:"close"},decls:125,vars:17,consts:[[1,"dropback",3,"click"],[1,"container"],[1,"row"],[1,"col"],[1,"title_pg"],[3,"click"],["alt","closeIcon","src","assets/images/closeIcon.png",2,"width","25px"],[3,"ngSubmit"],["f","ngForm"],[1,"input_block"],[1,"ContentDetails"],[1,"v-line-1"],[1,"input-group"],[1,"input-group-text"],["aria-label","Default select example","name","position","id","position","ngModel","","required","",1,"form-select"],["position",""],["default",""],["class","required-warning",4,"ngIf"],["type","date","placeholder","Date","name","date","ngModel","","id","date","required","",1,"form-control"],["date",""],["class","input-group",4,"ngIf"],[4,"ngIf"],["aria-label","Default select example","name","about","id","about","ngModel","","required","",1,"form-select"],["about",""],["type","number","aria-label","Default select example","name","totalAmount","id","totalAmount","ngModel","","readonly","",1,"form-control",3,"value"],["totalAmount",""],["aria-label","Default select example","type","text","name","typeOfPayment","id","typeOfPayment","ngModel","","required","",1,"form-select"],["typeOfPayment",""],["t","ngForm"],[1,"btns"],["id","addTransactionbtn",1,"btn","btn-outline-primary",3,"disabled","click"],["aria-label","Default select example","name","typeOfTransaction","id","typeOfTransaction","ngModel","","required","",1,"form-select"],["typeOfTransaction",""],["type","text","placeholder","Description","name","description","ngModel","","id","description","required","",1,"form-control"],["description",""],["type","number","placeholder","Amount","name","amount","ngModel","","id","amount","required","",1,"form-control"],["amount",""],["id","table_scroll"],[1,"table"],["scope","col"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-outline-success",3,"disabled","ngStyle","click"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"required-warning"],["class","form-select","aria-label","Default select example","name","name","id","name","ngModel","","required","",4,"ngIf"],["aria-label","Default select example","name","name","id","name","ngModel","","required","",1,"form-select"],["nameLandlord",""],["nameTenant",""],["nameOther",""],["alt","spinner loading","src","assets/images/Rolling.gif",2,"width","3vw","text-align","center"],["type","text","placeholder","Name","name","name","ngModel","","id","name","required","",1,"form-control"],["name",""]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.NdJ("click",function(){return i.onClose()}),o.qZA(),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p"),o._uU(6,"Add voucher"),o.qZA(),o.TgZ(7,"a",5),o.NdJ("click",function(){return i.onClose()}),o._UZ(8,"img",6),o.qZA()(),o.TgZ(9,"form",7,8),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(10);return o.KtG(i.onSubmit(a))}),o.TgZ(11,"div",9)(12,"div",10)(13,"p"),o._uU(14,"Voucher details"),o.qZA()(),o.TgZ(15,"div",11)(16,"div",12)(17,"span",13),o._uU(18,"To"),o.qZA(),o.TgZ(19,"select",14,15),o._UZ(21,"option",16),o.TgZ(22,"option"),o._uU(23,"Landlord"),o.qZA(),o.TgZ(24,"option"),o._uU(25,"Other"),o.qZA(),o.TgZ(26,"option"),o._uU(27,"Tenant"),o.qZA()(),o.YNc(28,Nde,3,0,"div",17),o.qZA(),o.TgZ(29,"div",12)(30,"span",13),o._uU(31,"Date"),o.qZA(),o._UZ(32,"input",18,19),o.YNc(34,Lde,3,0,"div",17),o.qZA()(),o.TgZ(35,"div",11),o.YNc(36,Hde,6,3,"div",20),o.YNc(37,qde,2,0,"div",21),o.YNc(38,Wde,6,1,"div",20),o.TgZ(39,"div",12)(40,"span",13),o._uU(41,"About"),o.qZA(),o.TgZ(42,"select",22,23)(44,"option"),o._uU(45,"Adjustment"),o.qZA(),o.TgZ(46,"option"),o._uU(47,"Receive Rent"),o.qZA(),o.TgZ(48,"option"),o._uU(49,"Pay Rent"),o.qZA(),o.TgZ(50,"option"),o._uU(51,"Services"),o.qZA(),o.TgZ(52,"option"),o._uU(53,"Other"),o.qZA()(),o.YNc(54,$de,3,0,"div",17),o.qZA()(),o.TgZ(55,"div",11)(56,"div",12)(57,"span",13),o._uU(58,"Total amount \xa3"),o.qZA(),o.TgZ(59,"span",13),o._uU(60,"0.00"),o.qZA(),o._UZ(61,"input",24,25),o.qZA(),o.TgZ(63,"div",12)(64,"span",13),o._uU(65,"Type of payment"),o.qZA(),o.TgZ(66,"select",26,27)(68,"option"),o._uU(69,"Cash"),o.qZA(),o.TgZ(70,"option"),o._uU(71,"Bank"),o.qZA()(),o.YNc(72,Gde,3,0,"div",17),o.qZA()(),o.TgZ(73,"div"),o._UZ(74,"hr"),o.TgZ(75,"div",10)(76,"p"),o._uU(77,"Transactions"),o.qZA()(),o.TgZ(78,"form",7,28),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(79);return o.KtG(i.onSubmitTransaction(a))}),o.TgZ(80,"div",29)(81,"button",30),o.NdJ("click",function(){return i.onAddTransaction()}),o._uU(82,"Add transaction"),o.qZA()(),o.TgZ(83,"div",11)(84,"div",12)(85,"span",13),o._uU(86,"Type"),o.qZA(),o.TgZ(87,"select",31,32)(89,"option"),o._uU(90,"Pay"),o.qZA(),o.TgZ(91,"option"),o._uU(92,"Receive"),o.qZA()(),o.YNc(93,Yde,3,0,"div",17),o.qZA(),o.TgZ(94,"div",12)(95,"span",13),o._uU(96,"Description"),o.qZA(),o._UZ(97,"input",33,34),o.YNc(99,Kde,3,0,"div",17),o.qZA(),o.TgZ(100,"div",12)(101,"span",13),o._uU(102,"Amount"),o.qZA(),o._UZ(103,"input",35,36),o.YNc(105,Qde,3,0,"div",17),o.qZA()()()(),o._UZ(106,"hr"),o.TgZ(107,"div",37)(108,"table",38)(109,"thead")(110,"tr")(111,"th",39),o._uU(112,"Type of transaction"),o.qZA(),o.TgZ(113,"th",39),o._uU(114,"Description"),o.qZA(),o.TgZ(115,"th",39),o._uU(116,"Amount \xa3"),o.qZA()()(),o.TgZ(117,"tbody",40),o.YNc(118,Jde,8,5,"tr",41),o.qZA()()(),o._UZ(119,"hr"),o.TgZ(120,"div",29)(121,"button",42),o.NdJ("click",function(){o.CHM(r);const a=o.MAs(10);return o.KtG(i.onSubmit(a))}),o._uU(122,"Submit"),o.qZA(),o.TgZ(123,"button",43),o.NdJ("click",function(){return i.onClose()}),o._uU(124,"Cancel"),o.qZA()()()()()()()}if(2&e){const r=o.MAs(10),s=o.MAs(20),a=o.MAs(33),c=o.MAs(43),h=o.MAs(67),p=o.MAs(79),v=o.MAs(88),b=o.MAs(98),D=o.MAs(104);o.xp6(28),o.Q6J("ngIf",!s.value),o.xp6(6),o.Q6J("ngIf",!a.value),o.xp6(2),o.Q6J("ngIf",""!=s.value),o.xp6(1),o.Q6J("ngIf",i.loading),o.xp6(1),o.Q6J("ngIf",""==s.value),o.xp6(16),o.Q6J("ngIf",!c.value),o.xp6(7),o.s9C("value",i.totalAmountValue),o.xp6(11),o.Q6J("ngIf",!h.value),o.xp6(9),o.Q6J("disabled",!p.valid),o.xp6(12),o.Q6J("ngIf",!v.value),o.xp6(6),o.Q6J("ngIf",!b.value),o.xp6(6),o.Q6J("ngIf",!D.value),o.xp6(13),o.Q6J("ngForOf",i.transactionList),o.xp6(3),o.Q6J("disabled",!r.valid)("ngStyle",o.VKq(15,Xde,r.valid?"":"gray"))}},dependencies:[Xi,_i,Dr,qd,Xh,ef,ss,dw,qu,Fs,Hd,el,ws,eu,Tv,yp],styles:[".dropback[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf;z-index:50}.container[_ngcontent-%COMP%]{position:fixed;top:5vh;left:17vw;width:70vw;height:-moz-fit-content;height:fit-content;padding:0;border-radius:10px;z-index:100;background-color:#fff;box-shadow:0 2px 8px #00000042}.title_pg[_ngcontent-%COMP%]{height:50px;width:100%;background-color:green;border-radius:10px 10px 0 0;color:#fff;padding:10px;display:flex;justify-content:space-between}.title_pg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.input_block[_ngcontent-%COMP%]{width:100%;padding:10px}.input-group[_ngcontent-%COMP%]{margin-top:7px;margin-bottom:7px;margin-left:3vw}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.ContentDetails[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;color:#a1a1a1}.btns[_ngcontent-%COMP%]{width:30vw;text-align:center;margin-left:auto;margin-right:auto}.input_block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:10px}.upperCaseName[_ngcontent-%COMP%]{text-transform:uppercase}.comboBoxList[_ngcontent-%COMP%]{border:1px solid #dadada;font-size:15px;background-color:#fff;border-radius:5px}.required-warning[_ngcontent-%COMP%]{color:red;font-size:.7rem;padding-inline:.7vw}.v-line-1[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:0rem;height:3 vh}.v-line-1[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{align-items:center}#addTransactionbtn[_ngcontent-%COMP%]{width:15vw;margin-bottom:1rem}.table[_ngcontent-%COMP%]{font-size:.9rem;width:50vw}#table_scroll[_ngcontent-%COMP%]{width:100%;max-height:200px;overflow:auto;display:flex;justify-content:center}"]}),n})();function the(n,t){1&n&&(o.TgZ(0,"div"),o._UZ(1,"img",22),o.qZA())}function nhe(n,t){if(1&n&&(o.TgZ(0,"td"),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.hij("( ",e.amount," )")}}function ihe(n,t){if(1&n&&(o.TgZ(0,"td"),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.Oqu(e.amount)}}function rhe(n,t){if(1&n&&(o.TgZ(0,"tr")(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.YNc(5,nhe,2,1,"td",10),o.YNc(6,ihe,2,1,"td",10),o.qZA()),2&n){const e=t.$implicit,i=t.index;o.xp6(2),o.Oqu(i+1),o.xp6(2),o.Oqu(e.description),o.xp6(1),o.Q6J("ngIf","Pay"==e.typeOfTransaction),o.xp6(1),o.Q6J("ngIf","Receive"==e.typeOfTransaction)}}let ohe=(()=>{class n{constructor(e){this.elementRef=e,this.close=new o.vpe,this.totalAmount=0}ngOnInit(){this.ClientDetails=this.selectedClient}onPrint(e){let i=document.getElementById(e).innerHTML;document.body.innerHTML=i,window.print()}onClose(){this.ngOnDestroy()}ngOnDestroy(){this.elementRef.nativeElement.remove(),this.close.emit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-view-money"]],inputs:{closeForm:"closeForm",selectedClient:"selectedClient"},outputs:{close:"close"},decls:66,vars:16,consts:[[1,"dropback",3,"click"],[1,"container"],[1,"row"],[1,"col"],[1,"title_pg"],[3,"click"],["alt","closeIcon","src","assets/images/closeIcon.png",2,"width","25px"],["id","InvoicePrint"],[1,"invoice-logo"],[1,"invoice-title"],[4,"ngIf"],[1,"invoice-title-info"],["date",""],[1,"invoice-company-address"],[1,"content_view"],[2,"width","10%"],[2,"width","30%"],[4,"ngFor","ngForOf"],[1,"totalTable"],[1,"button"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"],["alt","spinner loading","src","assets/images/Rolling.gif",2,"width","3vw","text-align","center"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0),o.NdJ("click",function(){return i.onClose()}),o.qZA(),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p"),o._uU(6,"View Invoice"),o.qZA(),o.TgZ(7,"a",5),o.NdJ("click",function(){return i.onClose()}),o._UZ(8,"img",6),o.qZA()(),o.TgZ(9,"div",7)(10,"div",8)(11,"p"),o._uU(12,"Company Name"),o.qZA()(),o.TgZ(13,"div",9)(14,"p"),o._uU(15,"INVOICE"),o.qZA()(),o.YNc(16,the,2,0,"div",10),o.TgZ(17,"div",11)(18,"p",null,12),o._uU(20),o.ALo(21,"date"),o.qZA(),o.TgZ(22,"p"),o._uU(23),o.qZA()(),o.TgZ(24,"div",11)(25,"p"),o._uU(26),o.ALo(27,"upperFirst"),o.qZA(),o.TgZ(28,"p"),o._uU(29),o.ALo(30,"upperFirst"),o.qZA()(),o.TgZ(31,"div",13),o._UZ(32,"hr"),o.TgZ(33,"span"),o._uU(34,"From: Company Name"),o.qZA(),o._UZ(35,"br"),o.TgZ(36,"span"),o._uU(37,"Address: Street Name,"),o.qZA(),o._UZ(38,"br"),o.TgZ(39,"span"),o._uU(40,"Postcode: B00 0XX"),o.qZA()(),o.TgZ(41,"div",14)(42,"table")(43,"tr")(44,"th",15),o._uU(45,"Item"),o.qZA(),o.TgZ(46,"th"),o._uU(47,"Description"),o.qZA(),o.TgZ(48,"th",16),o._uU(49,"\xa3Amount"),o.qZA()(),o.YNc(50,rhe,7,4,"tr",17),o.TgZ(51,"tr",18),o._UZ(52,"td"),o.TgZ(53,"td"),o._uU(54,"Total amount"),o.qZA(),o.TgZ(55,"td"),o._uU(56),o.ALo(57,"currancy"),o.qZA()()()(),o.TgZ(58,"div",14)(59,"p"),o._uU(60),o.qZA()()(),o.TgZ(61,"div",19)(62,"button",20),o.NdJ("click",function(){return i.onPrint("InvoicePrint")}),o._uU(63,"Print"),o.qZA(),o.TgZ(64,"button",21),o.NdJ("click",function(){return i.onClose()}),o._uU(65,"Close"),o.qZA()()()()()),2&e){const r=o.MAs(19);o.xp6(16),o.Q6J("ngIf",null==r||void 0),o.xp6(4),o.hij("Date: ",o.lcZ(21,8,i.ClientDetails.date),""),o.xp6(3),o.hij("Invoice No: ",i.ClientDetails.invoiceno,""),o.xp6(3),o.hij("To : ",o.lcZ(27,10,i.ClientDetails.name),""),o.xp6(3),o.Oqu(o.lcZ(30,12,i.ClientDetails.position)),o.xp6(21),o.Q6J("ngForOf",i.ClientDetails.trans),o.xp6(6),o.Oqu(o.lcZ(57,14,i.ClientDetails.totalamount)),o.xp6(4),o.hij("Description: ",i.ClientDetails.about,"")}},dependencies:[Xi,_i,Yr,Tv,yp],styles:[".dropback[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf;z-index:50}.container[_ngcontent-%COMP%]{position:fixed;top:.9vh;left:30vw;width:40vw;height:-moz-fit-content;height:fit-content;padding:0;border-radius:10px;z-index:100;background-color:#fff;box-shadow:0 2px 8px #00000042;font-size:.8rem}.title_pg[_ngcontent-%COMP%]{height:50px;width:100%;background-color:green;border-radius:10px 10px 0 0;color:#fff;padding:10px;display:flex;justify-content:space-between}.title_pg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.content_view[_ngcontent-%COMP%]{width:100%;padding:10px}.content_view[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:100%;border:solid 1px black}.content_view[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-right:solid 1px black}.totalTable[_ngcontent-%COMP%]{border-top:solid 1px black}.button[_ngcontent-%COMP%]{width:100%;margin:10px;text-align:center}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:.7rem;width:80%}textarea[_ngcontent-%COMP%]{width:100%}.invoice-logo[_ngcontent-%COMP%]{margin:auto;height:4vh;display:flex;text-align:center}.invoice-logo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.1rem auto}.invoice-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;text-decoration:underline;font-weight:700}.invoice-title-info[_ngcontent-%COMP%]{margin:auto .75rem;display:flex;justify-content:space-between}.invoice-company-address[_ngcontent-%COMP%]{margin:auto .75rem}"]}),n})();const she=["amount"],ahe=["description"],lhe=["typeOfTransaction"],che=["about"];function uhe(n,t){1&n&&(o.TgZ(0,"div",45)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function dhe(n,t){if(1&n&&(o.TgZ(0,"option"),o._uU(1),o.ALo(2,"uppercase"),o.ALo(3,"uppercase"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.AsE("",o.lcZ(2,2,e.firstName)," ",o.lcZ(3,4,e.lastName),"")}}function hhe(n,t){if(1&n&&(o.TgZ(0,"select",47,48),o.YNc(2,dhe,4,6,"option",42),o.qZA()),2&n){const e=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",e.landlordList)}}function fhe(n,t){if(1&n&&(o.TgZ(0,"option"),o._uU(1),o.ALo(2,"uppercase"),o.ALo(3,"uppercase"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.AsE("",o.lcZ(2,2,e.firstName)," ",o.lcZ(3,4,e.lastName),"")}}function phe(n,t){if(1&n&&(o.TgZ(0,"select",47,49),o.YNc(2,fhe,4,6,"option",42),o.qZA()),2&n){const e=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",e.tenantsList)}}function ghe(n,t){if(1&n&&(o.TgZ(0,"option"),o._uU(1),o.ALo(2,"uppercase"),o.ALo(3,"uppercase"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.AsE("",o.lcZ(2,2,e.firstName)," ",o.lcZ(3,4,e.lastName),"")}}function mhe(n,t){if(1&n&&(o.TgZ(0,"select",47,50),o.YNc(2,ghe,4,6,"option",42),o.qZA()),2&n){const e=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",e.otherList)}}function _he(n,t){if(1&n&&(o.TgZ(0,"div",12)(1,"span",13),o._uU(2,"Name"),o.qZA(),o.YNc(3,hhe,3,1,"select",46),o.YNc(4,phe,3,1,"select",46),o.YNc(5,mhe,3,1,"select",46),o.qZA()),2&n){o.oxw();const e=o.MAs(20);o.xp6(3),o.Q6J("ngIf","Landlord"===e.value),o.xp6(1),o.Q6J("ngIf","Tenant"===e.value),o.xp6(1),o.Q6J("ngIf","Other"===e.value)}}function vhe(n,t){1&n&&(o.TgZ(0,"div",45)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function yhe(n,t){if(1&n&&(o.TgZ(0,"div",12)(1,"span",13),o._uU(2,"Name"),o.qZA(),o._UZ(3,"input",51,52),o.YNc(5,vhe,3,0,"div",19),o.qZA()),2&n){const e=o.MAs(4),i=o.oxw();o.xp6(3),o.s9C("defaultValue",i.selectedClient.name),o.xp6(2),o.Q6J("ngIf",!e.value)}}function whe(n,t){1&n&&(o.TgZ(0,"div",45)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function bhe(n,t){1&n&&(o.TgZ(0,"div",45)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Che(n,t){1&n&&(o.TgZ(0,"div",45)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Ehe(n,t){1&n&&(o.TgZ(0,"div",45)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function The(n,t){1&n&&(o.TgZ(0,"div",45)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Dhe(n,t){if(1&n&&(o.TgZ(0,"tr")(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.ALo(7,"currancy"),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.typeOfTransaction),o.xp6(2),o.Oqu(e.description),o.xp6(2),o.Oqu(o.lcZ(7,3,e.amount))}}const Ihe=function(n){return{color:n}};let xhe=(()=>{class n{constructor(e,i,r){this.elementRef=e,this.dataService=i,this.dbService=r,this.close=new o.vpe,this.transactionList=[],this.propertyTableList=[],this.landlordList=[],this.tenantsList=[],this.otherList=[],this.addressList=[],this.addTransaction=!1,this.totalAmountValue=0,this.invoiceNo="",this.propertyTableList=this.dataService.moneyData(),this.landlordList=this.dataService.landlordData(),this.tenantsList=this.dataService.tenantData()}ngOnInit(){}onSubmit(e){console.log(e.valid),this.onClose()}onAddTransaction(){}onSubmitTransaction(e){this.transactionList.push(e.value);let i=e.value.amount;if("Pay"===e.value.typeOfTransaction)this.totalAmountValue=(this.totalAmountValue-i).toFixed(2);else{let r=parseInt(this.totalAmountValue)+i;this.totalAmountValue=r}e.reset()}onClose(){this.ngOnDestroy()}ngOnDestroy(){this.elementRef.nativeElement.remove(),this.close.emit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Ev),o.Y36(qo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-edit-voucher"]],viewQuery:function(e,i){if(1&e&&(o.Gf(she,7),o.Gf(ahe,7),o.Gf(lhe,7),o.Gf(che,7)),2&e){let r;o.iGM(r=o.CRH())&&(i.transactionAmount=r.first),o.iGM(r=o.CRH())&&(i.transactionDescription=r.first),o.iGM(r=o.CRH())&&(i.transactionType=r.first),o.iGM(r=o.CRH())&&(i.aboutRef=r.first)}},inputs:{closeForm:"closeForm",selectedClient:"selectedClient"},outputs:{close:"close"},decls:134,vars:25,consts:[[1,"dropback",3,"click"],[1,"container"],[1,"row"],[1,"col"],[1,"title_pg"],[3,"click"],["alt","closeIcon","src","assets/images/closeIcon.png",2,"width","25px"],[1,"input_block"],[3,"ngSubmit"],["f","ngForm"],[1,"ContentDetails"],[1,"v-line-1"],[1,"input-group"],[1,"input-group-text"],["aria-label","Default select example","name","position","id","position","ngModel","",1,"form-select"],["position",""],["selected","","hidden","hidden","value",""],["type","date","name","date","ngModel","","id","date","required","",1,"form-control",3,"value"],["date",""],["class","required-warning",4,"ngIf"],["class","input-group",4,"ngIf"],["aria-label","Default select example","name","about","id","about","ngModel","","required","",1,"form-select"],["about",""],["defaultabout",""],["type","number","aria-label","Default select example","name","totalAmount","id","totalAmount","ngModel","","readonly","",1,"form-control",3,"value"],["totalAmount",""],["aria-label","Default select example","type","text","name","typeOfPayment","id","typeOfPayment","ngModel","","required","",1,"form-select"],["typeOfPayment",""],["defaultypeOfPayment",""],["t","ngForm"],[1,"btns"],["id","addTransactionbtn",1,"btn","btn-outline-primary",3,"disabled","click"],["aria-label","Default select example","name","typeOfTransaction","id","typeOfTransaction","ngModel","","required","",1,"form-select"],["typeOfTransaction",""],["type","text","placeholder","Description","name","description","ngModel","","id","description","required","",1,"form-control"],["description",""],["type","number","placeholder","Amount","name","amount","ngModel","","id","amount","required","",1,"form-control"],["amount",""],["id","table_scroll"],[1,"table"],["scope","col"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-outline-success",3,"disabled","ngStyle"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"required-warning"],["class","form-select","aria-label","Default select example","name","name","id","name","ngModel","","required","",4,"ngIf"],["aria-label","Default select example","name","name","id","name","ngModel","","required","",1,"form-select"],["nameLandlord",""],["nameTenant",""],["nameOther",""],["type","text","name","name","id","name","ngModel","","required","",1,"form-control",3,"defaultValue"],["name",""]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.NdJ("click",function(){return i.onClose()}),o.qZA(),o.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p"),o._uU(6,"Edit Invoice"),o.qZA(),o.TgZ(7,"a",5),o.NdJ("click",function(){return i.onClose()}),o._UZ(8,"img",6),o.qZA()(),o.TgZ(9,"div",7)(10,"form",8,9),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(11);return o.KtG(i.onSubmit(a))}),o.TgZ(12,"div",10)(13,"p"),o._uU(14,"Invoice details"),o.qZA()(),o.TgZ(15,"div",11)(16,"div",12)(17,"span",13),o._uU(18,"To"),o.qZA(),o.TgZ(19,"select",14,15)(21,"option",16),o._uU(22),o.ALo(23,"upperFirst"),o.qZA(),o._UZ(24,"option"),o.TgZ(25,"option"),o._uU(26,"Landlord"),o.qZA(),o.TgZ(27,"option"),o._uU(28,"Other"),o.qZA(),o.TgZ(29,"option"),o._uU(30,"Tenant"),o.qZA()()(),o.TgZ(31,"div",12)(32,"span",13),o._uU(33,"Date"),o.qZA(),o._UZ(34,"input",17,18),o.YNc(36,uhe,3,0,"div",19),o.qZA()(),o.TgZ(37,"div",11),o.YNc(38,_he,6,3,"div",20),o.YNc(39,yhe,6,2,"div",20),o.TgZ(40,"div",12)(41,"span",13),o._uU(42,"About"),o.qZA(),o.TgZ(43,"select",21,22)(45,"option",16,23),o._uU(47),o.ALo(48,"upperFirst"),o.qZA(),o.TgZ(49,"option"),o._uU(50,"Adjustment"),o.qZA(),o.TgZ(51,"option"),o._uU(52,"Receive Rent"),o.qZA(),o.TgZ(53,"option"),o._uU(54,"Pay Rent"),o.qZA(),o.TgZ(55,"option"),o._uU(56,"Services"),o.qZA(),o.TgZ(57,"option"),o._uU(58,"Other"),o.qZA()(),o.YNc(59,whe,3,0,"div",19),o.qZA()(),o.TgZ(60,"div",11)(61,"div",12)(62,"span",13),o._uU(63,"Total amount \xa3"),o.qZA(),o.TgZ(64,"span",13),o._uU(65,"0.00"),o.qZA(),o._UZ(66,"input",24,25),o.qZA(),o.TgZ(68,"div",12)(69,"span",13),o._uU(70,"Type of payment"),o.qZA(),o.TgZ(71,"select",26,27)(73,"option",16,28),o._uU(75),o.ALo(76,"upperFirst"),o.qZA(),o.TgZ(77,"option"),o._uU(78,"Cash"),o.qZA(),o.TgZ(79,"option"),o._uU(80,"Bank"),o.qZA()(),o.YNc(81,bhe,3,0,"div",19),o.qZA()(),o.TgZ(82,"div"),o._UZ(83,"hr"),o.TgZ(84,"div",10)(85,"p"),o._uU(86,"Transactions"),o.qZA()(),o.TgZ(87,"form",8,29),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(88);return o.KtG(i.onSubmitTransaction(a))}),o.TgZ(89,"div",30)(90,"button",31),o.NdJ("click",function(){return i.onAddTransaction()}),o._uU(91,"Add transaction"),o.qZA()(),o.TgZ(92,"div",11)(93,"div",12)(94,"span",13),o._uU(95,"Type"),o.qZA(),o.TgZ(96,"select",32,33)(98,"option"),o._uU(99,"Pay"),o.qZA(),o.TgZ(100,"option"),o._uU(101,"Receive"),o.qZA()(),o.YNc(102,Che,3,0,"div",19),o.qZA(),o.TgZ(103,"div",12)(104,"span",13),o._uU(105,"Description"),o.qZA(),o._UZ(106,"input",34,35),o.YNc(108,Ehe,3,0,"div",19),o.qZA(),o.TgZ(109,"div",12)(110,"span",13),o._uU(111,"Amount"),o.qZA(),o._UZ(112,"input",36,37),o.YNc(114,The,3,0,"div",19),o.qZA()()()(),o._UZ(115,"hr"),o.TgZ(116,"div",38)(117,"table",39)(118,"thead")(119,"tr")(120,"th",40),o._uU(121,"Type of transaction"),o.qZA(),o.TgZ(122,"th",40),o._uU(123,"Description"),o.qZA(),o.TgZ(124,"th",40),o._uU(125,"Amount \xa3"),o.qZA()()(),o.TgZ(126,"tbody",41),o.YNc(127,Dhe,8,5,"tr",42),o.qZA()()(),o._UZ(128,"hr"),o.TgZ(129,"div",30)(130,"button",43),o._uU(131,"Update"),o.qZA(),o.TgZ(132,"button",44),o.NdJ("click",function(){return i.onClose()}),o._uU(133,"Cancel"),o.qZA()()()()()()()}if(2&e){const r=o.MAs(11),s=o.MAs(20),a=o.MAs(35),c=o.MAs(44),h=o.MAs(46),p=o.MAs(72),v=o.MAs(74),b=o.MAs(88),D=o.MAs(97),P=o.MAs(107),R=o.MAs(113);o.xp6(22),o.Oqu(o.lcZ(23,17,i.selectedClient.position)),o.xp6(12),o.s9C("value",i.selectedClient.date),o.xp6(2),o.Q6J("ngIf",!a.value),o.xp6(2),o.Q6J("ngIf",""!=s.value),o.xp6(1),o.Q6J("ngIf",!s.value),o.xp6(8),o.Oqu(o.lcZ(48,19,i.selectedClient.about)),o.xp6(12),o.Q6J("ngIf",!c.value&&h.value),o.xp6(7),o.s9C("value",i.totalAmountValue),o.xp6(9),o.Oqu(o.lcZ(76,21,i.selectedClient.typeofpayment)),o.xp6(6),o.Q6J("ngIf",!p.value&&v.value),o.xp6(9),o.Q6J("disabled",!b.valid),o.xp6(12),o.Q6J("ngIf",!D.value),o.xp6(6),o.Q6J("ngIf",!P.value),o.xp6(6),o.Q6J("ngIf",!R.value),o.xp6(13),o.Q6J("ngForOf",i.selectedClient.trans),o.xp6(3),o.Q6J("disabled",!r.valid)("ngStyle",o.VKq(23,Ihe,r.valid?"":"gray"))}},dependencies:[Xi,_i,Dr,qd,Xh,ef,ss,dw,qu,Fs,Hd,el,ws,eu,Si,Tv,yp],styles:[".dropback[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf;z-index:50}.container[_ngcontent-%COMP%]{position:fixed;top:5vh;left:17vw;width:70vw;height:-moz-fit-content;height:fit-content;padding:0;border-radius:10px;z-index:100;background-color:#fff;box-shadow:0 2px 8px #00000042}.title_pg[_ngcontent-%COMP%]{height:50px;width:100%;background-color:#ffc107;border-radius:10px 10px 0 0;color:#fff;padding:10px;display:flex;justify-content:space-between}.title_pg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.input_block[_ngcontent-%COMP%]{width:100%;padding:10px}.input-group[_ngcontent-%COMP%]{margin-top:7px;margin-bottom:7px;margin-left:3vw}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.ContentDetails[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;color:#a1a1a1}.input_block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:10px}.comboBoxList[_ngcontent-%COMP%]{border:1px solid #dadada;font-size:15px;background-color:#fff;border-radius:5px}.required-warning[_ngcontent-%COMP%]{color:red;font-size:.7rem;padding-inline:.7vw}.v-line-1[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:0rem;height:3 vh}"]}),n})();cm.register(...fW);let She=(()=>{class n{constructor(e){this.chartService=e,this.date=(new Date).getFullYear()}ngOnInit(){this.chart_2()}chart_2(){var e=this;return(0,Te.Z)(function*(){let i={1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[],11:[],12:[]},r=[0,0,0,0,0,0,0,0,0,0,0,0],s=[0,0,0,0,0,0,0,0,0,0,0,0],a=[0,0,0,0,0,0,0,0,0,0,0,0];e.chartService.onGetMoneyData().then(c=>{c.forEach(h=>{let p=new Date(h.date);if(e.date==p.getFullYear())switch(p.getMonth()+1){case 1:i[1].push(h),r[0]+=parseInt(h.totalamount),h.trans.forEach(ue=>{ue.amount<=0?s[0]+=ue.amount:a[0]+=ue.amount});break;case 2:i[2].push(h),r[1]+=parseInt(h.totalamount),h.trans.forEach(ue=>{ue.amount<=0?s[1]+=ue.amount:a[1]+=ue.amount});break;case 3:i[3].push(h),r[2]+=parseInt(h.totalamount),h.trans.forEach(ue=>{ue.amount<=0?s[2]+=ue.amount:a[2]+=ue.amount});break;case 4:i[4].push(h),r[3]+=parseInt(h.totalamount),h.trans.forEach(ue=>{ue.amount<=0?s[3]+=ue.amount:a[3]+=ue.amount});break;case 5:i[5].push(h),r[4]+=parseInt(h.totalamount),h.trans.forEach(ue=>{ue.amount<=0?s[4]+=ue.amount:a[4]+=ue.amount});break;case 6:i[6].push(h),r[5]+=parseInt(h.totalamount),h.trans.forEach(ue=>{ue.amount<=0?s[5]+=ue.amount:a[5]+=ue.amount});break;case 7:i[7].push(h),r[6]+=parseInt(h.totalamount),h.trans.forEach(ue=>{ue.amount<=0?s[6]+=ue.amount:a[6]+=ue.amount});break;case 8:i[8].push(h),r[7]+=parseInt(h.totalamount),h.trans.forEach(ue=>{ue.amount<=0?s[7]+=ue.amount:a[7]+=ue.amount});break;case 9:i[9].push(h),r[8]+=parseInt(h.totalamount),h.trans.forEach(ue=>{ue.amount<=0?s[8]+=ue.amount:a[8]+=ue.amount});break;case 10:i[10].push(h),r[9]+=parseInt(h.totalamount),h.trans.forEach(ue=>{ue.amount<=0?s[9]+=ue.amount:a[9]+=ue.amount});break;case 11:i[11].push(h),r[10]+=parseInt(h.totalamount),h.trans.forEach(ue=>{ue.amount<=0?s[10]+=ue.amount:a[10]+=ue.amount});break;case 12:i[12].push(h),r[11]+=parseInt(h.totalamount),h.trans.forEach(ue=>{ue.amount<=0?s[11]+=ue.amount:a[11]+=ue.amount})}}),new cm("LineChart",{type:"line",data:{labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"Income",data:r,backgroundColor:"blue"},{label:"Payment",data:s,backgroundColor:"red"},{label:"Receive",data:a,backgroundColor:"limegreen"}]},options:{aspectRatio:1.75}})})})()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fU))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-chart-money"]],decls:2,vars:0,consts:[["id","divLineChart"],["id","LineChart"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"canvas",1),o.qZA())},styles:["#divLineChart[_ngcontent-%COMP%]{display:block;width:35vw;height:100%;text-align:center;padding-left:5rem}#LineChart[_ngcontent-%COMP%]{display:block;width:60vw;height:300px}@media only screen and (max-width: 1500px){#divLineChart[_ngcontent-%COMP%]{width:50vw}}@media only screen and (max-width: 900px){#divLineChart[_ngcontent-%COMP%]{display:none}}"]}),n})();function Ahe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-add-voucher",24),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("closeForm",e.addingVoucherAllowed)}}function Mhe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-view-money",25),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("closeForm",e.viewVoucherAllowed)("selectedClient",e.selectdClient)}}function Phe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-warning-msg",26),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("closeForm",e.deleteVoucherAllowed)("selectedClient",e.selectdClient)("dbName",e.dbName)}}function khe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-edit-voucher",25),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("closeForm",e.editVoucherAllowed)("selectedClient",e.selectdClient)}}function Ohe(n,t){1&n&&(o.TgZ(0,"div"),o._UZ(1,"img",27),o.qZA())}function Rhe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"tr")(1,"td",28),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"upperFirst"),o.qZA(),o.TgZ(6,"td"),o._uU(7),o.ALo(8,"upperFirst"),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o._uU(12),o.ALo(13,"upperFirst"),o.qZA(),o.TgZ(14,"td"),o._uU(15),o.ALo(16,"upperFirst"),o.qZA(),o.TgZ(17,"td"),o._uU(18),o.ALo(19,"currancy"),o.qZA(),o.TgZ(20,"td")(21,"button",29),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.on_view(s))}),o._uU(22,"View"),o.qZA(),o.TgZ(23,"button",30),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.on_delete(s))}),o._uU(24,"Delete"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.id),o.xp6(2),o.Oqu(o.lcZ(5,7,e.name)),o.xp6(3),o.Oqu(o.lcZ(8,9,e.position)),o.xp6(3),o.Oqu(e.date),o.xp6(2),o.Oqu(o.lcZ(13,11,e.about)),o.xp6(3),o.Oqu(o.lcZ(16,13,e.typeofpayment)),o.xp6(3),o.Oqu(o.lcZ(19,15,e.totalamount))}}const Nhe=function(n,t){return[n,t,"name","position","date","about","typeofpayment"]};let Lhe=(()=>{class n{constructor(e,i,r){this.dataService=e,this.elementRef=i,this.dbService=r,this.moneyTableList=[],this.addingVoucherAllowed=!1,this.viewVoucherAllowed=!1,this.deleteVoucherAllowed=!1,this.editVoucherAllowed=!1,this.dbName="",this.loading=!1}ngOnInit(){this.onMoneyTableList(),this.dbService.addFieldData()}onMoneyTableList(){var e=this;return(0,Te.Z)(function*(){e.moneyTableList=e.dataService.moneyData(),e.loading=!0,yield e.dbService.getData("moneyDb").then(i=>{e.moneyTableList=[],i.forEach(r=>{e.moneyTableList.push(r.data())}),e.loading=!1})})()}add_landlord(){this.addingVoucherAllowed=!0}on_edit(e){this.editVoucherAllowed=!0,this.selectdClient=e}on_view(e){this.viewVoucherAllowed=!0,this.selectdClient=e}on_delete(e){this.deleteVoucherAllowed=!0,this.selectdClient=e,this.dbName="moneyDb"}onReloadPg(){this.addingVoucherAllowed=!1,this.viewVoucherAllowed=!1,this.deleteVoucherAllowed=!1,this.editVoucherAllowed=!1,this.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ev),o.Y36(o.SBq),o.Y36(qo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-money"]],inputs:{selectedClient:"selectedClient"},decls:50,vars:18,consts:[[3,"closeForm","close",4,"ngIf"],[3,"closeForm","selectedClient","close",4,"ngIf"],[3,"closeForm","selectedClient","dbName","close",4,"ngIf"],[1,"container-sm"],[1,"row"],["id","card_add_content",1,"col-6"],["id","pg_content"],["id","card"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["type","button","id","landlords_add_btn",1,"btn","btn-primary",3,"click"],["id","chart"],["id","c3",1,"col-12"],["id","searchInput",1,"input-group","mb-3"],["type","button","id","button-addon1",1,"btn","btn-outline-secondary"],["type","text","placeholder","search ...","aria-label","Example text with button addon","aria-describedby","button-addon1",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],["id","table_scroll"],["id","pg_table",1,"table","table-success","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"closeForm","close"],[3,"closeForm","selectedClient","close"],[3,"closeForm","selectedClient","dbName","close"],["alt","spinner loading","src","assets/images/Rolling.gif",2,"width","4vw","text-align","center"],["scope","row"],["type","button","id","view_btn",1,"btn","btn-success",3,"click"],["type","button","id","delete_btn",1,"btn","btn-danger",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div"),o.YNc(1,Ahe,1,1,"app-add-voucher",0),o.YNc(2,Mhe,1,2,"app-view-money",1),o.YNc(3,Phe,1,3,"app-warning-msg",2),o.YNc(4,khe,1,2,"app-edit-voucher",1),o.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),o._uU(12," Money "),o.qZA(),o.TgZ(13,"div",10)(14,"h5",11),o._uU(15,"Money Details"),o.qZA(),o.TgZ(16,"p",12),o._uU(17,"This page has data, operations and views about money."),o.qZA()()()(),o.TgZ(18,"button",13),o.NdJ("click",function(){return i.add_landlord()}),o._uU(19,"Add New Voucher"),o.qZA()(),o.TgZ(20,"div",14),o._UZ(21,"app-chart-money"),o.qZA()(),o.TgZ(22,"div",15)(23,"div",16)(24,"button",17),o._uU(25,"Search"),o.qZA(),o.TgZ(26,"input",18),o.NdJ("ngModelChange",function(s){return i.filterString=s}),o.qZA()(),o.YNc(27,Ohe,2,0,"div",19),o.TgZ(28,"div",20)(29,"table",21)(30,"thead")(31,"tr")(32,"th",22),o._uU(33,"ID"),o.qZA(),o.TgZ(34,"th",22),o._uU(35,"Name"),o.qZA(),o.TgZ(36,"th",22),o._uU(37,"Position"),o.qZA(),o.TgZ(38,"th",22),o._uU(39,"Date"),o.qZA(),o.TgZ(40,"th",22),o._uU(41,"About"),o.qZA(),o.TgZ(42,"th",22),o._uU(43,"Payment Type"),o.qZA(),o.TgZ(44,"th",22),o._uU(45,"Total Amount"),o.qZA(),o._UZ(46,"th",22),o.qZA()(),o.TgZ(47,"tbody"),o.YNc(48,Rhe,25,17,"tr",23),o.ALo(49,"filter"),o.qZA()()()()()()()),2&e&&(o.xp6(1),o.Q6J("ngIf",i.addingVoucherAllowed),o.xp6(1),o.Q6J("ngIf",i.viewVoucherAllowed),o.xp6(1),o.Q6J("ngIf",i.deleteVoucherAllowed),o.xp6(1),o.Q6J("ngIf",i.editVoucherAllowed),o.xp6(22),o.Q6J("ngModel",i.filterString),o.xp6(1),o.Q6J("ngIf",i.loading),o.xp6(21),o.Q6J("ngForOf",o.G7q(49,7,o.WLB(15,Nhe,i.moneyTableList,i.filterString))))},dependencies:[Xi,_i,ss,Fs,ws,cD,ehe,ohe,xhe,She,uD,Tv,yp],styles:["#pg_content[_ngcontent-%COMP%]{height:100%;width:500px}#card_add_content[_ngcontent-%COMP%]{width:100%;position:relative;display:flex}#map[_ngcontent-%COMP%]{border:.5px solid rgb(0,181,42);height:400px}agm-map[_ngcontent-%COMP%]{height:400px}#landlords_add_btn[_ngcontent-%COMP%]{width:100%;margin-top:30%}#pg_table[_ngcontent-%COMP%]{width:100%;max-height:300px}#searchInput[_ngcontent-%COMP%]{margin:10px auto auto}#table_scroll[_ngcontent-%COMP%]{width:100%;max-height:250px;overflow:auto;display:inline-block}thead[_ngcontent-%COMP%]{font-size:12px}tbody[_ngcontent-%COMP%]{font-size:13px}#view_btn[_ngcontent-%COMP%], #delete_btn[_ngcontent-%COMP%], #edit_btn[_ngcontent-%COMP%]{margin:auto 1%;font-size:11px}"]}),n})(),PU=(()=>{class n{transform(e,i,r,s){if(null==i||null==r||null==s)return e;let a=[];i=i.toLowerCase();for(let c of e){let h=this.getDate(r),p=this.getDate(s),b=this.getDate(c.date);("* all clients"===i&&b<=p&&b>=h||c.name===i&&b<=p&&b>=h)&&a.push(c)}return a}getDate(e){return Date.parse(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"filterFRPipe",type:n,pure:!0}),n})(),kU=(()=>{class n{transform(e,i,r,s,a){let c=0;if(null==r||null==s||null==a)return c;r=r.toLowerCase();for(let h of i){let p=this.getDate(s),v=this.getDate(a),D=this.getDate(h.date);("* all clients"===r&&D<=v&&D>=p||h.name===r&&D<=v&&D>=p)&&(c+=parseInt(h.totalamount,10))}return c}getDate(e){return Date.parse(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"filterTFRPipe",type:n,pure:!0}),n})();function Fhe(n,t){1&n&&(o.TgZ(0,"div",33)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Uhe(n,t){1&n&&(o.TgZ(0,"div",33)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Bhe(n,t){if(1&n&&(o.TgZ(0,"option"),o._uU(1),o.ALo(2,"upperFirst"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,e))}}function Vhe(n,t){1&n&&(o.TgZ(0,"div",33)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Zhe(n,t){if(1&n&&(o.TgZ(0,"div")(1,"p"),o._uU(2),o._UZ(3,"span",41),o._uU(4),o._UZ(5,"span",41),o._uU(6),o.ALo(7,"currancy"),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.hij("Type: ",e.typeOfTransaction," "),o.xp6(2),o.hij(" Description: ",e.description," "),o.xp6(2),o.hij(" Amount: ",o.lcZ(7,3,e.amount),"")}}function zhe(n,t){if(1&n&&(o.TgZ(0,"div",34)(1,"table")(2,"tr")(3,"th",35),o._uU(4,"Id"),o.qZA(),o.TgZ(5,"th",36),o._uU(6,"Invoice No."),o.qZA(),o.TgZ(7,"th",36),o._uU(8,"Date"),o.qZA(),o.TgZ(9,"th",37),o._uU(10,"To"),o.qZA(),o.TgZ(11,"th",36),o._uU(12,"About"),o.qZA(),o.TgZ(13,"th"),o._uU(14,"Payment type"),o.qZA()(),o.TgZ(15,"tr",38)(16,"td"),o._uU(17),o.qZA(),o.TgZ(18,"td"),o._uU(19),o.qZA(),o.TgZ(20,"td"),o._uU(21),o.qZA(),o.TgZ(22,"td"),o._uU(23),o.qZA(),o.TgZ(24,"td"),o._uU(25),o.qZA(),o.TgZ(26,"td"),o._uU(27),o.qZA()()(),o.TgZ(28,"p",39),o._uU(29,"Transaction"),o.qZA(),o.YNc(30,Zhe,8,5,"div",21),o._UZ(31,"hr"),o.TgZ(32,"p",40),o._uU(33," Total amount: "),o.TgZ(34,"span"),o._uU(35),o.ALo(36,"currancy"),o.qZA()()()),2&n){const e=t.$implicit;o.xp6(17),o.Oqu(e.id),o.xp6(2),o.Oqu(e.invoiceno),o.xp6(2),o.Oqu(e.date),o.xp6(2),o.Oqu(e.name),o.xp6(2),o.Oqu(e.about),o.xp6(2),o.Oqu(e.typeofpayment),o.xp6(3),o.Q6J("ngForOf",e.trans),o.xp6(5),o.Oqu(o.lcZ(36,8,e.totalamount))}}const Hhe=function(n,t,e,i){return[0,n,t,e,i]};function qhe(n,t){if(1&n&&(o.TgZ(0,"p",42),o._uU(1),o.ALo(2,"currancy"),o.ALo(3,"filterTFRPipe"),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("Total amount in the report: ",o.lcZ(2,1,o.G7q(3,3,o.l5B(9,Hhe,e.landlordData,e.name,e.fromDATE,e.toDATE))),"")}}let jhe=(()=>{class n{constructor(e,i){this.elementRef=e,this.dbService=i,this.close=new o.vpe,this.landlordData=[],this.ReportTotalAmont=0,this.loading=!1,this.landlordList=[]}ngOnInit(){this.getLandlord()}onPrint(e){let i=document.getElementById(e).innerHTML;document.body.innerHTML=i,window.print()}resetReport(){this.fromDATE=null,this.toDATE=null,this.name=null}getLandlord(){var e=this;return(0,Te.Z)(function*(){e.loading=!0,e.landlordData=[],yield e.dbService.getData("moneyDb").then(i=>{i.forEach(r=>{if("landlord"===r.data().position){if(e.landlordData.push(r.data()),e.landlordList.includes(r.data().name))return;e.landlordList.push(r.data().name)}})})})()}onClose(){this.ngOnDestroy()}ngOnDestroy(){this.elementRef.nativeElement.remove(),this.close.emit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(qo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-frlandlord"]],inputs:{closeForm:"closeForm"},outputs:{close:"close"},decls:64,vars:20,consts:[[1,"dropback",3,"click"],[1,"container"],[1,"row"],[1,"col"],[1,"title_pg"],[3,"click"],["alt","closeIcon","src","assets/images/closeIcon.png",2,"width","25px"],["id","ReportPrint"],[1,"filter"],[1,"report_filter"],[1,"v-line-2"],[1,"input-group"],[1,"input-group-text"],["type","date","placeholder","Date","name","fromDate","id","fromDate","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["fromDate",""],["class","required-warning",4,"ngIf"],["type","date","placeholder","Date","name","toDate","id","toDate","required","",1,"form-control",3,"ngModel","min","disabled","ngModelChange"],["toDate",""],[1,"v-line-1"],["aria-label","Default select example","name","name","id","name",1,"form-select",3,"ngModel","ngModelChange"],["nameLandlord",""],[4,"ngFor","ngForOf"],[1,"button"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"],["id","scroll-report",1,"scroll-report"],[1,"report-logo"],["orf",""],[1,"report-title"],[1,"report-company-address"],["class","content_view",4,"ngFor","ngForOf"],["class","reportTotalAmount",4,"ngIf"],[1,"required-warning"],[1,"content_view"],[2,"width","10%"],[2,"width","15%"],[2,"width","20%"],[1,"totalTable"],[1,"transactionTitle"],[1,"totalAmountTitle"],[2,"margin-left","8rem"],[1,"reportTotalAmount"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div")(1,"div",0),o.NdJ("click",function(){return i.onClose()}),o.qZA(),o.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"p"),o._uU(7,"FINANCIAL REPORT FOR LANDLORD"),o.qZA(),o.TgZ(8,"a",5),o.NdJ("click",function(){return i.onClose()}),o._UZ(9,"img",6),o.qZA()(),o.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"span",12),o._uU(16,"From Date"),o.qZA(),o.TgZ(17,"input",13,14),o.NdJ("ngModelChange",function(s){return i.fromDATE=s}),o.qZA(),o.YNc(19,Fhe,3,0,"div",15),o.qZA(),o.TgZ(20,"div",11)(21,"span",12),o._uU(22,"To Date"),o.qZA(),o.TgZ(23,"input",16,17),o.NdJ("ngModelChange",function(s){return i.toDATE=s}),o.qZA(),o.YNc(25,Uhe,3,0,"div",15),o.qZA()(),o.TgZ(26,"div",18)(27,"div",11)(28,"span",12),o._uU(29,"Landlord name"),o.qZA(),o.TgZ(30,"select",19,20),o.NdJ("ngModelChange",function(s){return i.name=s}),o.TgZ(32,"option"),o._uU(33,"* All Clients"),o.qZA(),o.YNc(34,Bhe,3,3,"option",21),o.qZA()(),o.YNc(35,Vhe,3,0,"div",15),o.qZA(),o.TgZ(36,"div",22)(37,"button",23),o.NdJ("click",function(){return i.onPrint("scroll-report")}),o._uU(38,"Print"),o.qZA(),o.TgZ(39,"button",24),o.NdJ("click",function(){return i.resetReport()}),o._uU(40,"Reset"),o.qZA(),o.TgZ(41,"button",25),o.NdJ("click",function(){return i.onClose()}),o._uU(42,"Close"),o.qZA()()(),o.TgZ(43,"div",26)(44,"div",27)(45,"p",null,28),o._uU(47,"Company Name"),o.qZA()(),o.TgZ(48,"div",29)(49,"p"),o._uU(50,"FINANCIAL REPORT FOR LANDLORD"),o.qZA()(),o.TgZ(51,"div",30)(52,"div",18)(53,"p"),o._uU(54),o.qZA(),o.TgZ(55,"p"),o._uU(56),o.qZA(),o.TgZ(57,"span"),o._uU(58),o.qZA()()(),o.YNc(59,zhe,37,10,"div",31),o.ALo(60,"filterFRPipe"),o._UZ(61,"hr"),o.YNc(62,qhe,4,14,"p",32),o._UZ(63,"hr"),o.qZA()()()()()()()),2&e){const r=o.MAs(18),s=o.MAs(24),a=o.MAs(31);o.xp6(17),o.Q6J("ngModel",i.fromDATE)("disabled",i.fromDATE),o.xp6(2),o.Q6J("ngIf",!r.value),o.xp6(4),o.s9C("min",i.fromDATE),o.Q6J("ngModel",i.toDATE)("disabled",!i.fromDATE),o.xp6(2),o.Q6J("ngIf",!s.value),o.xp6(5),o.Q6J("ngModel",i.name),o.xp6(4),o.Q6J("ngForOf",i.landlordList),o.xp6(1),o.Q6J("ngIf",!a.value),o.xp6(19),o.hij("From Date:",i.fromDATE,""),o.xp6(2),o.hij("To Date: ",i.toDATE,""),o.xp6(2),o.hij("To:",i.name,""),o.xp6(1),o.Q6J("ngForOf",o.gM2(60,15,i.landlordData,i.name,i.fromDATE,i.toDATE)),o.xp6(3),o.Q6J("ngIf",void 0!==i.name)}},dependencies:[Xi,_i,Xh,ef,ss,qu,Fs,el,ws,Tv,PU,kU,yp],styles:[".dropback[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf;z-index:50}.container[_ngcontent-%COMP%]{position:fixed;top:.9vh;left:14vw;width:70vw;overflow:scroll;height:90%;padding:0;border-radius:10px;z-index:100;background-color:#fff;box-shadow:0 2px 8px #00000042;font-size:.8rem}.title_pg[_ngcontent-%COMP%]{height:50px;width:100%;background-color:green;border-radius:10px 10px 0 0;color:#fff;padding:10px;display:flex;justify-content:space-between}.title_pg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.content_view[_ngcontent-%COMP%]{width:100%;padding:10px}.content_view[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:100%;border:solid 1px black}.button[_ngcontent-%COMP%]{width:100%;margin:10px;text-align:center}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:.7rem;width:80%}textarea[_ngcontent-%COMP%]{width:100%}.report-logo[_ngcontent-%COMP%]{margin:auto;height:4vh;display:flex;text-align:center}.report-logo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.1rem auto}.report-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;text-decoration:underline;font-weight:700}.scroll-report[_ngcontent-%COMP%]   .report-title-info[_ngcontent-%COMP%]{margin:auto .75rem;display:flex;justify-content:space-between}.report-company-address[_ngcontent-%COMP%]{margin:auto .75rem}.required-warning[_ngcontent-%COMP%]{color:red;font-size:.7rem;padding-inline:.7vw}.filter[_ngcontent-%COMP%]{display:grid;grid-template-columns:35% auto}.report_filter[_ngcontent-%COMP%]{width:100%;margin:0rem;border-right:solid .1rem gray}.v-line-1[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:.7rem auto;padding:0rem;height:3 vh}.v-line-1[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{align-items:center;margin:auto .7rem}.input-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{align-items:center}.v-line-2[_ngcontent-%COMP%]{display:block;margin:.7rem .5rem;padding:0rem;height:3 vh}.v-line-2[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin-top:.5rem}.v-line-1[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:.9vw}.reportTotalAmount[_ngcontent-%COMP%]{text-align:center;font-weight:700}.transactionTitle[_ngcontent-%COMP%]{margin:.2rem;background-color:#dcdcdc}.totalAmountTitle[_ngcontent-%COMP%]{margin-left:70%;text-decoration:underline}@media only screen and (max-width: 1600px){.filter[_ngcontent-%COMP%]{font-size:.6rem}.v-line-2[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .v-line-2[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .v-line-1[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .v-line-1[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px}.container[_ngcontent-%COMP%]{width:100%;left:5vw}}@media only screen and (max-width: 1500px){.v-line-1[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin:.2rem}}"]}),n})();function Whe(n,t){1&n&&(o.TgZ(0,"div",33)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function $he(n,t){1&n&&(o.TgZ(0,"div",33)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Ghe(n,t){if(1&n&&(o.TgZ(0,"option"),o._uU(1),o.ALo(2,"upperFirst"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,e))}}function Yhe(n,t){1&n&&(o.TgZ(0,"div",33)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function Khe(n,t){if(1&n&&(o.TgZ(0,"div")(1,"p"),o._uU(2),o._UZ(3,"span",41),o._uU(4),o._UZ(5,"span",41),o._uU(6),o.ALo(7,"currancy"),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.hij("Type: ",e.typeOfTransaction," "),o.xp6(2),o.hij(" Description: ",e.description," "),o.xp6(2),o.hij(" Amount: ",o.lcZ(7,3,e.amount),"")}}function Qhe(n,t){if(1&n&&(o.TgZ(0,"div",34)(1,"table")(2,"tr")(3,"th",35),o._uU(4,"Id"),o.qZA(),o.TgZ(5,"th",36),o._uU(6,"Invoice No."),o.qZA(),o.TgZ(7,"th",36),o._uU(8,"Date"),o.qZA(),o.TgZ(9,"th",37),o._uU(10,"To"),o.qZA(),o.TgZ(11,"th",36),o._uU(12,"About"),o.qZA(),o.TgZ(13,"th"),o._uU(14,"Payment type"),o.qZA()(),o.TgZ(15,"tr",38)(16,"td"),o._uU(17),o.qZA(),o.TgZ(18,"td"),o._uU(19),o.qZA(),o.TgZ(20,"td"),o._uU(21),o.qZA(),o.TgZ(22,"td"),o._uU(23),o.ALo(24,"upperFirst"),o.qZA(),o.TgZ(25,"td"),o._uU(26),o.qZA(),o.TgZ(27,"td"),o._uU(28),o.qZA()()(),o.TgZ(29,"p",39),o._uU(30,"Transaction"),o.qZA(),o.YNc(31,Khe,8,5,"div",21),o._UZ(32,"hr"),o.TgZ(33,"p",40),o._uU(34," Total amount: "),o.TgZ(35,"span"),o._uU(36),o.ALo(37,"currancy"),o.qZA()()()),2&n){const e=t.$implicit;o.xp6(17),o.Oqu(e.id),o.xp6(2),o.Oqu(e.invoiceno),o.xp6(2),o.Oqu(e.date),o.xp6(2),o.Oqu(o.lcZ(24,8,e.name)),o.xp6(3),o.Oqu(e.about),o.xp6(2),o.Oqu(e.typeofpayment),o.xp6(3),o.Q6J("ngForOf",e.trans),o.xp6(5),o.Oqu(o.lcZ(37,10,e.totalamount))}}const Jhe=function(n,t,e,i){return[0,n,t,e,i]};function Xhe(n,t){if(1&n&&(o.TgZ(0,"p",42),o._uU(1),o.ALo(2,"currancy"),o.ALo(3,"filterTFRPipe"),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("Total amount in the report: ",o.lcZ(2,1,o.G7q(3,3,o.l5B(9,Jhe,e.tenantData,e.name,e.fromDATE,e.toDATE))),"")}}let efe=(()=>{class n{constructor(e,i){this.elementRef=e,this.dbService=i,this.close=new o.vpe,this.tenantData=[],this.ReportTotalAmont=0,this.loading=!1,this.tenantList=[]}ngOnInit(){this.getTenant()}onPrint(e){let i=document.getElementById(e).innerHTML;document.body.innerHTML=i,window.print()}resetReport(){this.fromDATE=null,this.toDATE=null,this.name=null}getTenant(){var e=this;return(0,Te.Z)(function*(){e.loading=!0,e.tenantData=[],yield e.dbService.getData("moneyDb").then(i=>{i.forEach(r=>{if("tenant"===r.data().position){if(e.tenantData.push(r.data()),e.tenantList.includes(r.data().name))return;e.tenantList.push(r.data().name)}})})})()}onClose(){this.ngOnDestroy()}ngOnDestroy(){this.elementRef.nativeElement.remove(),this.close.emit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(qo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-frtenant"]],inputs:{closeForm:"closeForm"},outputs:{close:"close"},decls:64,vars:20,consts:[[1,"dropback",3,"click"],[1,"container"],[1,"row"],[1,"col"],[1,"title_pg"],[3,"click"],["alt","closeIcon","src","assets/images/closeIcon.png",2,"width","25px"],["id","ReportPrint"],[1,"filter"],[1,"report_filter"],[1,"v-line-2"],[1,"input-group"],[1,"input-group-text"],["type","date","placeholder","Date","name","fromDate","id","fromDate","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["fromDate",""],["class","required-warning",4,"ngIf"],["type","date","placeholder","Date","name","toDate","id","toDate","required","",1,"form-control",3,"ngModel","min","disabled","ngModelChange"],["toDate",""],[1,"v-line-1"],["aria-label","Default select example","name","name","id","name",1,"form-select",3,"ngModel","ngModelChange"],["nameLandlord",""],[4,"ngFor","ngForOf"],[1,"button"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"],["id","scroll-report",1,"scroll-report"],[1,"report-logo"],["orf",""],[1,"report-title"],[1,"report-company-address"],["class","content_view",4,"ngFor","ngForOf"],["class","reportTotalAmount",4,"ngIf"],[1,"required-warning"],[1,"content_view"],[2,"width","10%"],[2,"width","15%"],[2,"width","20%"],[1,"totalTable"],[1,"transactionTitle"],[1,"totalAmountTitle"],[2,"margin-left","8rem"],[1,"reportTotalAmount"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div")(1,"div",0),o.NdJ("click",function(){return i.onClose()}),o.qZA(),o.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"p"),o._uU(7,"FINANCIAL REPORT FOR TENANT"),o.qZA(),o.TgZ(8,"a",5),o.NdJ("click",function(){return i.onClose()}),o._UZ(9,"img",6),o.qZA()(),o.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"span",12),o._uU(16,"From Date"),o.qZA(),o.TgZ(17,"input",13,14),o.NdJ("ngModelChange",function(s){return i.fromDATE=s}),o.qZA(),o.YNc(19,Whe,3,0,"div",15),o.qZA(),o.TgZ(20,"div",11)(21,"span",12),o._uU(22,"To Date"),o.qZA(),o.TgZ(23,"input",16,17),o.NdJ("ngModelChange",function(s){return i.toDATE=s}),o.qZA(),o.YNc(25,$he,3,0,"div",15),o.qZA()(),o.TgZ(26,"div",18)(27,"div",11)(28,"span",12),o._uU(29,"Tenant name"),o.qZA(),o.TgZ(30,"select",19,20),o.NdJ("ngModelChange",function(s){return i.name=s}),o.TgZ(32,"option"),o._uU(33,"* All Clients"),o.qZA(),o.YNc(34,Ghe,3,3,"option",21),o.qZA()(),o.YNc(35,Yhe,3,0,"div",15),o.qZA(),o.TgZ(36,"div",22)(37,"button",23),o.NdJ("click",function(){return i.onPrint("scroll-report")}),o._uU(38,"Print"),o.qZA(),o.TgZ(39,"button",24),o.NdJ("click",function(){return i.resetReport()}),o._uU(40,"Reset"),o.qZA(),o.TgZ(41,"button",25),o.NdJ("click",function(){return i.onClose()}),o._uU(42,"Close"),o.qZA()()(),o.TgZ(43,"div",26)(44,"div",27)(45,"p",null,28),o._uU(47,"Company Name"),o.qZA()(),o.TgZ(48,"div",29)(49,"p"),o._uU(50,"FINANCIAL REPORT FOR TENANT"),o.qZA()(),o.TgZ(51,"div",30)(52,"div",18)(53,"p"),o._uU(54),o.qZA(),o.TgZ(55,"p"),o._uU(56),o.qZA(),o.TgZ(57,"span"),o._uU(58),o.qZA()()(),o.YNc(59,Qhe,38,12,"div",31),o.ALo(60,"filterFRPipe"),o._UZ(61,"hr"),o.YNc(62,Xhe,4,14,"p",32),o._UZ(63,"hr"),o.qZA()()()()()()()),2&e){const r=o.MAs(18),s=o.MAs(24),a=o.MAs(31);o.xp6(17),o.Q6J("ngModel",i.fromDATE)("disabled",i.fromDATE),o.xp6(2),o.Q6J("ngIf",!r.value),o.xp6(4),o.s9C("min",i.fromDATE),o.Q6J("ngModel",i.toDATE)("disabled",!i.fromDATE),o.xp6(2),o.Q6J("ngIf",!s.value),o.xp6(5),o.Q6J("ngModel",i.name),o.xp6(4),o.Q6J("ngForOf",i.tenantList),o.xp6(1),o.Q6J("ngIf",!a.value),o.xp6(19),o.hij("From Date:",i.fromDATE,""),o.xp6(2),o.hij("To Date: ",i.toDATE,""),o.xp6(2),o.hij("To:",i.name,""),o.xp6(1),o.Q6J("ngForOf",o.gM2(60,15,i.tenantData,i.name,i.fromDATE,i.toDATE)),o.xp6(3),o.Q6J("ngIf",void 0!==i.name)}},dependencies:[Xi,_i,Xh,ef,ss,qu,Fs,el,ws,Tv,PU,kU,yp],styles:[".dropback[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf;z-index:50}.container[_ngcontent-%COMP%]{position:fixed;top:.9vh;left:14vw;width:70vw;overflow:scroll;height:90%;padding:0;border-radius:10px;z-index:100;background-color:#fff;box-shadow:0 2px 8px #00000042;font-size:.8rem}.title_pg[_ngcontent-%COMP%]{height:50px;width:100%;background-color:green;border-radius:10px 10px 0 0;color:#fff;padding:10px;display:flex;justify-content:space-between}.title_pg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.content_view[_ngcontent-%COMP%]{width:100%;padding:10px}.content_view[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:100%;border:solid 1px black}.button[_ngcontent-%COMP%]{width:100%;margin:10px;text-align:center}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:.7rem;width:80%}textarea[_ngcontent-%COMP%]{width:100%}.report-logo[_ngcontent-%COMP%]{margin:auto;height:4vh;display:flex;text-align:center}.report-logo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.1rem auto}.report-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;text-decoration:underline;font-weight:700}.scroll-report[_ngcontent-%COMP%]   .report-title-info[_ngcontent-%COMP%]{margin:auto .75rem;display:flex;justify-content:space-between}.report-company-address[_ngcontent-%COMP%]{margin:auto .75rem}.required-warning[_ngcontent-%COMP%]{color:red;font-size:.7rem;padding-inline:.7vw}.filter[_ngcontent-%COMP%]{display:grid;grid-template-columns:35% auto}.report_filter[_ngcontent-%COMP%]{width:100%;margin:0rem;border-right:solid .1rem gray}.v-line-1[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:.7rem auto;padding:0rem;height:3 vh}.v-line-1[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{align-items:center;margin:auto .7rem}.input-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{align-items:center}.v-line-2[_ngcontent-%COMP%]{display:block;margin:.7rem .5rem;padding:0rem;height:3 vh}.v-line-2[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin-top:.5rem}.v-line-1[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:.9vw}.reportTotalAmount[_ngcontent-%COMP%]{text-align:center;font-weight:700}.transactionTitle[_ngcontent-%COMP%]{margin:.2rem;background-color:#dcdcdc}.totalAmountTitle[_ngcontent-%COMP%]{margin-left:70%;text-decoration:underline}@media only screen and (max-width: 1600px){.filter[_ngcontent-%COMP%]{font-size:.6rem}.v-line-2[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .v-line-2[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .v-line-1[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .v-line-1[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px}.container[_ngcontent-%COMP%]{width:100%;left:5vw}}@media only screen and (max-width: 1500px){.v-line-1[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin:.2rem}}"]}),n})();function tfe(n,t){1&n&&(o.TgZ(0,"div",33)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function nfe(n,t){1&n&&(o.TgZ(0,"div",33)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function ife(n,t){if(1&n&&(o.TgZ(0,"option"),o._uU(1),o.ALo(2,"upperFirst"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,e))}}function rfe(n,t){1&n&&(o.TgZ(0,"div",33)(1,"p"),o._uU(2,"*Required"),o.qZA()())}function ofe(n,t){if(1&n&&(o.TgZ(0,"div")(1,"p"),o._uU(2),o._UZ(3,"span",41),o._uU(4),o._UZ(5,"span",41),o._uU(6),o.ALo(7,"currancy"),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.hij("Type: ",e.typeOfTransaction," "),o.xp6(2),o.hij(" Description: ",e.description," "),o.xp6(2),o.hij(" Amount: ",o.lcZ(7,3,e.amount),"")}}function sfe(n,t){if(1&n&&(o.TgZ(0,"div",34)(1,"table")(2,"tr")(3,"th",35),o._uU(4,"Id"),o.qZA(),o.TgZ(5,"th",36),o._uU(6,"Invoice No."),o.qZA(),o.TgZ(7,"th",36),o._uU(8,"Date"),o.qZA(),o.TgZ(9,"th",37),o._uU(10,"To"),o.qZA(),o.TgZ(11,"th",36),o._uU(12,"About"),o.qZA(),o.TgZ(13,"th"),o._uU(14,"Payment type"),o.qZA()(),o.TgZ(15,"tr",38)(16,"td"),o._uU(17),o.qZA(),o.TgZ(18,"td"),o._uU(19),o.qZA(),o.TgZ(20,"td"),o._uU(21),o.qZA(),o.TgZ(22,"td"),o._uU(23),o.qZA(),o.TgZ(24,"td"),o._uU(25),o.qZA(),o.TgZ(26,"td"),o._uU(27),o.qZA()()(),o.TgZ(28,"p",39),o._uU(29,"Transaction"),o.qZA(),o.YNc(30,ofe,8,5,"div",21),o._UZ(31,"hr"),o.TgZ(32,"p",40),o._uU(33," Total amount: "),o.TgZ(34,"span"),o._uU(35),o.ALo(36,"currancy"),o.qZA()()()),2&n){const e=t.$implicit;o.xp6(17),o.Oqu(e.id),o.xp6(2),o.Oqu(e.invoiceno),o.xp6(2),o.Oqu(e.date),o.xp6(2),o.Oqu(e.name),o.xp6(2),o.Oqu(e.about),o.xp6(2),o.Oqu(e.typeofpayment),o.xp6(3),o.Q6J("ngForOf",e.trans),o.xp6(5),o.Oqu(o.lcZ(36,8,e.totalamount))}}const afe=function(n,t,e,i){return[0,n,t,e,i]};function lfe(n,t){if(1&n&&(o.TgZ(0,"p",42),o._uU(1),o.ALo(2,"currancy"),o.ALo(3,"filterTFRPipe"),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("Total amount in the report: ",o.lcZ(2,1,o.G7q(3,3,o.l5B(9,afe,e.otherData,e.name,e.fromDATE,e.toDATE))),"")}}let cfe=(()=>{class n{constructor(e,i){this.elementRef=e,this.dbService=i,this.close=new o.vpe,this.otherData=[],this.ReportTotalAmont=0,this.loading=!1,this.otherList=[]}ngOnInit(){this.getOther()}onPrint(e){let i=document.getElementById(e).innerHTML;document.body.innerHTML=i,window.print()}resetReport(){this.fromDATE=null,this.toDATE=null,this.name=null}getOther(){var e=this;return(0,Te.Z)(function*(){e.loading=!0,e.otherData=[],yield e.dbService.getData("moneyDb").then(i=>{i.forEach(r=>{if("other"===r.data().position){if(e.otherData.push(r.data()),e.otherList.includes(r.data().name))return;e.otherList.push(r.data().name)}})})})()}onClose(){this.ngOnDestroy()}ngOnDestroy(){this.elementRef.nativeElement.remove(),this.close.emit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(qo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-frother"]],inputs:{closeForm:"closeForm"},outputs:{close:"close"},decls:64,vars:20,consts:[[1,"dropback",3,"click"],[1,"container"],[1,"row"],[1,"col"],[1,"title_pg"],[3,"click"],["alt","closeIcon","src","assets/images/closeIcon.png",2,"width","25px"],["id","ReportPrint"],[1,"filter"],[1,"report_filter"],[1,"v-line-2"],[1,"input-group"],[1,"input-group-text"],["type","date","placeholder","Date","name","fromDate","id","fromDate","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["fromDate",""],["class","required-warning",4,"ngIf"],["type","date","placeholder","Date","name","toDate","id","toDate","required","",1,"form-control",3,"ngModel","min","disabled","ngModelChange"],["toDate",""],[1,"v-line-1"],["aria-label","Default select example","name","name","id","name",1,"form-select",3,"ngModel","ngModelChange"],["nameOther",""],[4,"ngFor","ngForOf"],[1,"button"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"],["id","scroll-report",1,"scroll-report"],[1,"report-logo"],["orf",""],[1,"report-title"],[1,"report-company-address"],["class","content_view",4,"ngFor","ngForOf"],["class","reportTotalAmount",4,"ngIf"],[1,"required-warning"],[1,"content_view"],[2,"width","10%"],[2,"width","15%"],[2,"width","20%"],[1,"totalTable"],[1,"transactionTitle"],[1,"totalAmountTitle"],[2,"margin-left","8rem"],[1,"reportTotalAmount"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div")(1,"div",0),o.NdJ("click",function(){return i.onClose()}),o.qZA(),o.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"p"),o._uU(7,"FINANCIAL REPORT FOR OTHER"),o.qZA(),o.TgZ(8,"a",5),o.NdJ("click",function(){return i.onClose()}),o._UZ(9,"img",6),o.qZA()(),o.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"span",12),o._uU(16,"From Date"),o.qZA(),o.TgZ(17,"input",13,14),o.NdJ("ngModelChange",function(s){return i.fromDATE=s}),o.qZA(),o.YNc(19,tfe,3,0,"div",15),o.qZA(),o.TgZ(20,"div",11)(21,"span",12),o._uU(22,"To Date"),o.qZA(),o.TgZ(23,"input",16,17),o.NdJ("ngModelChange",function(s){return i.toDATE=s}),o.qZA(),o.YNc(25,nfe,3,0,"div",15),o.qZA()(),o.TgZ(26,"div",18)(27,"div",11)(28,"span",12),o._uU(29,"Other name"),o.qZA(),o.TgZ(30,"select",19,20),o.NdJ("ngModelChange",function(s){return i.name=s}),o.TgZ(32,"option"),o._uU(33,"* All Clients"),o.qZA(),o.YNc(34,ife,3,3,"option",21),o.qZA()(),o.YNc(35,rfe,3,0,"div",15),o.qZA(),o.TgZ(36,"div",22)(37,"button",23),o.NdJ("click",function(){return i.onPrint("scroll-report")}),o._uU(38,"Print"),o.qZA(),o.TgZ(39,"button",24),o.NdJ("click",function(){return i.resetReport()}),o._uU(40,"Reset"),o.qZA(),o.TgZ(41,"button",25),o.NdJ("click",function(){return i.onClose()}),o._uU(42,"Close"),o.qZA()()(),o.TgZ(43,"div",26)(44,"div",27)(45,"p",null,28),o._uU(47,"Company Name"),o.qZA()(),o.TgZ(48,"div",29)(49,"p"),o._uU(50,"FINANCIAL REPORT FOR OTHER"),o.qZA()(),o.TgZ(51,"div",30)(52,"div",18)(53,"p"),o._uU(54),o.qZA(),o.TgZ(55,"p"),o._uU(56),o.qZA(),o.TgZ(57,"span"),o._uU(58),o.qZA()()(),o.YNc(59,sfe,37,10,"div",31),o.ALo(60,"filterFRPipe"),o._UZ(61,"hr"),o.YNc(62,lfe,4,14,"p",32),o._UZ(63,"hr"),o.qZA()()()()()()()),2&e){const r=o.MAs(18),s=o.MAs(24),a=o.MAs(31);o.xp6(17),o.Q6J("ngModel",i.fromDATE)("disabled",i.fromDATE),o.xp6(2),o.Q6J("ngIf",!r.value),o.xp6(4),o.s9C("min",i.fromDATE),o.Q6J("ngModel",i.toDATE)("disabled",!i.fromDATE),o.xp6(2),o.Q6J("ngIf",!s.value),o.xp6(5),o.Q6J("ngModel",i.name),o.xp6(4),o.Q6J("ngForOf",i.otherList),o.xp6(1),o.Q6J("ngIf",!a.value),o.xp6(19),o.hij("From Date:",i.fromDATE,""),o.xp6(2),o.hij("To Date: ",i.toDATE,""),o.xp6(2),o.hij("To:",i.name,""),o.xp6(1),o.Q6J("ngForOf",o.gM2(60,15,i.otherData,i.name,i.fromDATE,i.toDATE)),o.xp6(3),o.Q6J("ngIf",void 0!==i.name)}},dependencies:[Xi,_i,Xh,ef,ss,qu,Fs,el,ws,Tv,PU,kU,yp],styles:[".dropback[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000bf;z-index:50}.container[_ngcontent-%COMP%]{position:fixed;top:.9vh;left:14vw;width:70vw;overflow:scroll;height:90%;padding:0;border-radius:10px;z-index:100;background-color:#fff;box-shadow:0 2px 8px #00000042;font-size:.8rem}.title_pg[_ngcontent-%COMP%]{height:50px;width:100%;background-color:green;border-radius:10px 10px 0 0;color:#fff;padding:10px;display:flex;justify-content:space-between}.title_pg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.content_view[_ngcontent-%COMP%]{width:100%;padding:10px}.content_view[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:100%;border:solid 1px black}.button[_ngcontent-%COMP%]{width:100%;margin:10px;text-align:center}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:.7rem;width:80%}textarea[_ngcontent-%COMP%]{width:100%}.report-logo[_ngcontent-%COMP%]{margin:auto;height:4vh;display:flex;text-align:center}.report-logo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.1rem auto}.report-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;text-decoration:underline;font-weight:700}.scroll-report[_ngcontent-%COMP%]   .report-title-info[_ngcontent-%COMP%]{margin:auto .75rem;display:flex;justify-content:space-between}.report-company-address[_ngcontent-%COMP%]{margin:auto .75rem}.required-warning[_ngcontent-%COMP%]{color:red;font-size:.7rem;padding-inline:.7vw}.filter[_ngcontent-%COMP%]{display:grid;grid-template-columns:35% auto}.report_filter[_ngcontent-%COMP%]{width:100%;margin:0rem;border-right:solid .1rem gray}.v-line-1[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:.7rem auto;padding:0rem;height:3 vh}.v-line-1[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{align-items:center;margin:auto .7rem}.input-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{align-items:center}.v-line-2[_ngcontent-%COMP%]{display:block;margin:.7rem .5rem;padding:0rem;height:3 vh}.v-line-2[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin-top:.5rem}.v-line-1[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:.9vw}.reportTotalAmount[_ngcontent-%COMP%]{text-align:center;font-weight:700}.transactionTitle[_ngcontent-%COMP%]{margin:.2rem;background-color:#dcdcdc}.totalAmountTitle[_ngcontent-%COMP%]{margin-left:70%;text-decoration:underline}@media only screen and (max-width: 1600px){.filter[_ngcontent-%COMP%]{font-size:.6rem}.v-line-2[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .v-line-2[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .v-line-1[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .v-line-1[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px}.container[_ngcontent-%COMP%]{width:100%;left:5vw}}@media only screen and (max-width: 1500px){.v-line-1[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin:.2rem}}"]}),n})();function ufe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-frlandlord",17),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}}function dfe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-frtenant",17),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}}function hfe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-frother",17),o.NdJ("close",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onReloadPg())}),o.qZA()}}function ffe(n,t){1&n&&(o.TgZ(0,"p"),o._uU(1,"A report display presenting a list of landlords organized by either name, date, or property postcode. "),o.qZA())}function pfe(n,t){1&n&&(o.TgZ(0,"p"),o._uU(1,"A report showcasing financial transactions with landlords, organized based on their name, date, or property postcode. "),o.qZA())}function gfe(n,t){1&n&&(o.TgZ(0,"p"),o._uU(1,"A report display presenting a list of tenants organized by either name, date, or property postcode. "),o.qZA())}function mfe(n,t){1&n&&(o.TgZ(0,"p"),o._uU(1,"A report showcasing financial transactions with tenants, organized based on their name, date, or property postcode. "),o.qZA())}function _fe(n,t){1&n&&(o.TgZ(0,"p"),o._uU(1,"A report showcasing financial transactions with others, organized based on their name, date. "),o.qZA())}function vfe(n,t){1&n&&(o.TgZ(0,"p"),o._uU(1,"A report presenting a list of properties categorized by owner name or property postcode. "),o.qZA())}function yfe(n,t){1&n&&(o.TgZ(0,"p"),o._uU(1,"A report displaying the financial status of properties based on owner name or property postcode. "),o.qZA())}function wfe(n,t){1&n&&(o.TgZ(0,"p"),o._uU(1,"This report presents the income statement of the company based on a specific time period."),o.qZA())}function bfe(n,t){1&n&&(o.TgZ(0,"p"),o._uU(1,"This report presents the expenses statement of the company based on a specific time period."),o.qZA())}let Cfe=(()=>{class n{constructor(){this.landlordListDetail=!1,this.landlordFinanceDetail=!1,this.tenantListDetail=!1,this.tenantFinanceDetail=!1,this.propertyListDetail=!1,this.propertyDetail=!1,this.incomeStatement=!1,this.expensesStatement=!1,this.otherFinanceDetail=!1,this.frlandlordAllow=!1,this.frtenantAllow=!1,this.frotherAllow=!1}ngOnInit(){}leaveLandlordList(){this.landlordListDetail=!1}overLandlordList(){this.landlordListDetail=!0}leaveFinanceLandlord(){this.landlordFinanceDetail=!1}overFinanceLandlord(){this.landlordFinanceDetail=!0}leaveFinanceTenant(){this.tenantFinanceDetail=!1}overFinanceTenant(){this.tenantFinanceDetail=!0}leaveTenantList(){this.tenantFinanceDetail=!1}overTenantList(){this.tenantFinanceDetail=!0}leaveFinanceOther(){this.otherFinanceDetail=!1}overFinanceOther(){this.otherFinanceDetail=!0}leavePropertyStatus(){this.propertyDetail=!1}overPropertyStatus(){this.propertyDetail=!0}leavePropertyList(){this.propertyListDetail=!1}overPropertyList(){this.propertyListDetail=!0}leaveIncomeStatement(){this.incomeStatement=!1}overIncomeStatement(){this.incomeStatement=!0}leaveExpensesStatement(){this.expensesStatement=!1}overExpensesStatement(){this.expensesStatement=!0}openFrlandlord(){this.frlandlordAllow=!0}openFrtenant(){this.frtenantAllow=!0}openFrother(){this.frotherAllow=!0}onReloadPg(){this.frlandlordAllow=!1,this.frtenantAllow=!1,this.frotherAllow=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-reports"]],decls:53,vars:12,consts:[[3,"close",4,"ngIf"],[1,"container-sm"],[1,"row"],["id","card_add_content",1,"col-6"],["id","card"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"report-pg"],[1,"reports-list"],[1,"btn","btn-outline-success",3,"mouseover","mouseleave","click"],[1,"btn","btn-outline-success",3,"mouseover","mouseleave"],[1,"report-detail"],[1,"content-detail"],[4,"ngIf"],[3,"close"]],template:function(e,i){1&e&&(o.YNc(0,ufe,1,0,"app-frlandlord",0),o.YNc(1,dfe,1,0,"app-frtenant",0),o.YNc(2,hfe,1,0,"app-frother",0),o.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),o._uU(9," Reports "),o.qZA(),o.TgZ(10,"div",7)(11,"h5",8),o._uU(12,"Reports Details"),o.qZA(),o.TgZ(13,"p",9),o._uU(14,"This page has number of reports"),o.qZA()()(),o.TgZ(15,"div",10)(16,"div",11),o._UZ(17,"hr"),o.TgZ(18,"button",12),o.NdJ("mouseover",function(){return i.overFinanceLandlord()})("mouseleave",function(){return i.leaveFinanceLandlord()})("click",function(){return i.openFrlandlord()}),o._uU(19,"Finance Report - landlord"),o.qZA(),o.TgZ(20,"button",13),o.NdJ("mouseover",function(){return i.overLandlordList()})("mouseleave",function(){return i.leaveLandlordList()}),o._uU(21,"Landlord List"),o.qZA(),o._UZ(22,"hr"),o.TgZ(23,"button",12),o.NdJ("mouseover",function(){return i.overFinanceTenant()})("mouseleave",function(){return i.leaveFinanceTenant()})("click",function(){return i.openFrtenant()}),o._uU(24,"Finance Report - tenant"),o.qZA(),o.TgZ(25,"button",13),o.NdJ("mouseover",function(){return i.overTenantList()})("mouseleave",function(){return i.leaveTenantList()}),o._uU(26,"Tenant List"),o.qZA(),o._UZ(27,"hr"),o.TgZ(28,"button",12),o.NdJ("mouseover",function(){return i.overFinanceOther()})("mouseleave",function(){return i.leaveFinanceOther()})("click",function(){return i.openFrother()}),o._uU(29,"Finance Report - Other"),o.qZA(),o._UZ(30,"hr"),o.TgZ(31,"button",13),o.NdJ("mouseover",function(){return i.overPropertyStatus()})("mouseleave",function(){return i.leavePropertyStatus()}),o._uU(32,"Property Status"),o.qZA(),o.TgZ(33,"button",13),o.NdJ("mouseover",function(){return i.overPropertyList()})("mouseleave",function(){return i.leavePropertyList()}),o._uU(34,"Property List"),o.qZA(),o._UZ(35,"hr"),o.TgZ(36,"button",13),o.NdJ("mouseover",function(){return i.overIncomeStatement()})("mouseleave",function(){return i.leaveIncomeStatement()}),o._uU(37,"Income Statement"),o.qZA(),o.TgZ(38,"button",13),o.NdJ("mouseover",function(){return i.overExpensesStatement()})("mouseleave",function(){return i.leaveExpensesStatement()}),o._uU(39,"Other Expenses"),o.qZA()(),o.TgZ(40,"div",14)(41,"div",15)(42,"h5"),o._uU(43,"Report About: "),o.qZA(),o.YNc(44,ffe,2,0,"p",16),o.YNc(45,pfe,2,0,"p",16),o.YNc(46,gfe,2,0,"p",16),o.YNc(47,mfe,2,0,"p",16),o.YNc(48,_fe,2,0,"p",16),o.YNc(49,vfe,2,0,"p",16),o.YNc(50,yfe,2,0,"p",16),o.YNc(51,wfe,2,0,"p",16),o.YNc(52,bfe,2,0,"p",16),o.qZA()()()()()()()),2&e&&(o.Q6J("ngIf",i.frlandlordAllow),o.xp6(1),o.Q6J("ngIf",i.frtenantAllow),o.xp6(1),o.Q6J("ngIf",i.frotherAllow),o.xp6(42),o.Q6J("ngIf",i.landlordListDetail),o.xp6(1),o.Q6J("ngIf",i.landlordFinanceDetail),o.xp6(1),o.Q6J("ngIf",i.tenantListDetail),o.xp6(1),o.Q6J("ngIf",i.tenantFinanceDetail),o.xp6(1),o.Q6J("ngIf",i.otherFinanceDetail),o.xp6(1),o.Q6J("ngIf",i.propertyListDetail),o.xp6(1),o.Q6J("ngIf",i.propertyDetail),o.xp6(1),o.Q6J("ngIf",i.incomeStatement),o.xp6(1),o.Q6J("ngIf",i.expensesStatement))},dependencies:[_i,jhe,efe,cfe],styles:[".report-pg[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:200%}.reports-list[_ngcontent-%COMP%]{display:block;width:100%;text-align:center}.reports-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:.8rem .2rem;width:100%}.report-detail[_ngcontent-%COMP%]{width:100%}.content-detail[_ngcontent-%COMP%]{margin:4rem 4rem 3rem}.content-detail[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{text-decoration:underline}"]}),n})(),Efe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-profile"]],decls:2,vars:0,template:function(e,i){1&e&&(o.TgZ(0,"p"),o._uU(1,"profile works!"),o.qZA())}}),n})(),Tfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-auth"]],decls:2,vars:0,template:function(e,i){1&e&&(o.TgZ(0,"p"),o._uU(1,"auth works!"),o.qZA())}}),n})();const Dfe=["year"],Ife=["lineChart"],xfe=["divLineChartCanvas"];cm.register(...fW);const Sfe=[{path:"",component:pW},{path:"home",component:pW},{path:"landlords",component:Ble},{path:"tenants",component:Bce},{path:"properties",component:Rue},{path:"others",component:Dde},{path:"money",component:Lhe},{path:"reports",component:Cfe},{path:"charts",component:(()=>{class n{constructor(e){this.chartService=e,this.landlordCounts=0,this.date=(new Date).getFullYear()}ngOnInit(){this.chart_1(),this.chart_2()}chart_1(){var e=this;return(0,Te.Z)(function*(){let i=0,r=0,s=0,a=0;yield e.chartService.onGetCountTableList("landlordDb").then(c=>{i=c}),yield e.chartService.onGetCountTableList("tenantDb").then(c=>{r=c}),yield e.chartService.onGetCountTableList("otherDb").then(c=>{s=c}),yield e.chartService.onGetCountTableList("propertyDb").then(c=>{a=c}),new cm("myChart",{type:"bar",data:{labels:[`${i} Landlords`,`${r} Tenants`,`${s} Others`,`${a} Properties`],datasets:[{label:"Company Estate Agent",data:[i,r,s,a],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})})()}chart_2(e){var i=this;return(0,Te.Z)(function*(){let r={1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[],11:[],12:[]},s=[0,0,0,0,0,0,0,0,0,0,0,0],a=[0,0,0,0,0,0,0,0,0,0,0,0],c=[0,0,0,0,0,0,0,0,0,0,0,0];i.chartService.onGetMoneyData().then(h=>{h.forEach(p=>{let v=new Date(p.date);if(e){if(e==v.getFullYear())switch(v.getMonth()+1){case 1:r[1].push(p),s[0]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[0]+=pe.amount:c[0]+=pe.amount});break;case 2:r[2].push(p),s[1]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[1]+=pe.amount:c[1]+=pe.amount});break;case 3:r[3].push(p),s[2]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[2]+=pe.amount:c[2]+=pe.amount});break;case 4:r[4].push(p),s[3]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[3]+=pe.amount:c[3]+=pe.amount});break;case 5:r[5].push(p),s[4]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[4]+=pe.amount:c[4]+=pe.amount});break;case 6:r[6].push(p),s[5]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[5]+=pe.amount:c[5]+=pe.amount});break;case 7:r[7].push(p),s[6]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[6]+=pe.amount:c[6]+=pe.amount});break;case 8:r[8].push(p),s[7]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[7]+=pe.amount:c[7]+=pe.amount});break;case 9:r[9].push(p),s[8]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[8]+=pe.amount:c[8]+=pe.amount});break;case 10:r[10].push(p),s[9]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[9]+=pe.amount:c[9]+=pe.amount});break;case 11:r[11].push(p),s[10]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[10]+=pe.amount:c[10]+=pe.amount});break;case 12:r[12].push(p),s[11]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[11]+=pe.amount:c[11]+=pe.amount})}}else if(i.date==v.getFullYear())switch(v.getMonth()+1){case 1:r[1].push(p),s[0]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[0]+=pe.amount:c[0]+=pe.amount});break;case 2:r[2].push(p),s[1]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[1]+=pe.amount:c[1]+=pe.amount});break;case 3:r[3].push(p),s[2]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[2]+=pe.amount:c[2]+=pe.amount});break;case 4:r[4].push(p),s[3]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[3]+=pe.amount:c[3]+=pe.amount});break;case 5:r[5].push(p),s[4]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[4]+=pe.amount:c[4]+=pe.amount});break;case 6:r[6].push(p),s[5]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[5]+=pe.amount:c[5]+=pe.amount});break;case 7:r[7].push(p),s[6]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[6]+=pe.amount:c[6]+=pe.amount});break;case 8:r[8].push(p),s[7]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[7]+=pe.amount:c[7]+=pe.amount});break;case 9:r[9].push(p),s[8]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[8]+=pe.amount:c[8]+=pe.amount});break;case 10:r[10].push(p),s[9]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[9]+=pe.amount:c[9]+=pe.amount});break;case 11:r[11].push(p),s[10]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[10]+=pe.amount:c[10]+=pe.amount});break;case 12:r[12].push(p),s[11]+=parseInt(p.totalamount),p.trans.forEach(pe=>{pe.amount<=0?a[11]+=pe.amount:c[11]+=pe.amount})}}),new cm("LineChart",{type:"line",data:{labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"Income",data:s,backgroundColor:"blue"},{label:"Payment",data:a,backgroundColor:"red"},{label:"Receive",data:c,backgroundColor:"limegreen"}]},options:{aspectRatio:1.75}})})})()}chart_3(){var e=this;return(0,Te.Z)(function*(){let i={1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[],11:[],12:[]},r=[0,0,0,0,0,0,0,0,0,0,0,0];e.chartService.onGetMoneyData().then(s=>{s.forEach(a=>{switch(new Date(a.date).getMonth()+1){case 1:i[1].push(a),r[0]+=parseInt(a.totalamount);break;case 2:i[2].push(a),r[1]+=parseInt(a.totalamount);break;case 3:i[3].push(a),r[2]+=parseInt(a.totalamount);break;case 4:i[4].push(a),r[3]+=parseInt(a.totalamount);break;case 5:i[5].push(a),r[4]+=parseInt(a.totalamount);break;case 6:i[6].push(a),r[5]+=parseInt(a.totalamount);break;case 7:i[7].push(a),r[6]+=parseInt(a.totalamount);break;case 8:i[8].push(a),r[7]+=parseInt(a.totalamount);break;case 9:i[9].push(a),r[8]+=parseInt(a.totalamount);break;case 10:i[10].push(a),r[9]+=parseInt(a.totalamount);break;case 11:i[11].push(a),r[10]+=parseInt(a.totalamount);break;case 12:i[12].push(a),r[11]+=parseInt(a.totalamount)}}),new cm("LineChart_1",{type:"line",data:{labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"Income",data:r,backgroundColor:"blue"}]},options:{aspectRatio:1.75}})})})()}onChart_2(){this.divLineChartCanvas.nativeElement.innerHTML="<canvas id='LineChart' #lineChart></canvas>",this.chart_2(this.inputYear.nativeElement.value)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fU))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-charts"]],viewQuery:function(e,i){if(1&e&&(o.Gf(Dfe,7),o.Gf(Ife,7),o.Gf(xfe,7)),2&e){let r;o.iGM(r=o.CRH())&&(i.inputYear=r.first),o.iGM(r=o.CRH())&&(i.lineChart=r.first),o.iGM(r=o.CRH())&&(i.divLineChartCanvas=r.first)}},decls:12,vars:0,consts:[["id","divChart"],["id","myChart"],["id","divLineChart"],["divLineChart",""],["divLineChartCanvas",""],["id","LineChart"],["lineChart",""],["type","text","id","year","pattern","[0-9]","maxlength","4","minlength","4","placeholder","Please enter selected year.",1,"form-control"],["year",""],["id","lineChartBtn",1,"btn","btn-outline-success",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"canvas",1),o.qZA(),o.TgZ(2,"div",2,3)(4,"div",null,4),o._UZ(6,"canvas",5,6),o.qZA(),o._UZ(8,"input",7,8),o.TgZ(10,"button",9),o.NdJ("click",function(){return i.onChart_2()}),o._uU(11,"Choose Year"),o.qZA()())},styles:["#divChart[_ngcontent-%COMP%]{display:block;width:400px;height:400px}#divLineChart[_ngcontent-%COMP%]{display:block;width:1000px;height:400px}#divLineChart[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:block;width:1000px;height:300px}#year[_ngcontent-%COMP%], #lineChartBtn[_ngcontent-%COMP%]{width:20vw}"]}),n})()},{path:"setting",component:(()=>{class n{constructor(e){this.http=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(OT))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-setting"]],decls:2,vars:0,consts:[["href","https://www.zoopla.co.uk/","target","_blank"],["src","https://www.zoopla.co.uk/static/images/mashery/powered-by-zoopla-150x73.png","width","150","height","73","title","Property information powered by Zoopla","alt","Property information powered by Zoopla","border","0"]],template:function(e,i){1&e&&(o.TgZ(0,"a",0),o._UZ(1,"img",1),o.qZA())}}),n})()},{path:"profile",component:Efe},{path:"auth",component:Tfe},{path:"not-found",component:Qse},{path:"**",redirectTo:"/not-found"}];let Afe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Wv.forRoot(Sfe),Wv]}),n})();class g${}class Mfe{}const bp="*";function m$(n,t=null){return{type:4,styles:t,timings:n}}function _$(n,t=null){return{type:2,steps:n,options:t}}function DM(n){return{type:6,styles:n,offset:null}}function v$(n,t,e){return{type:0,name:n,styles:t,options:e}}function y$(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function w$(n){Promise.resolve().then(n)}class dD{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){w$(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class b${constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?w$(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,c)=>Math.max(a,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const OU="!";function C$(n){return new o.vHH(3e3,!1)}function hpe(){return typeof window<"u"&&typeof window.document<"u"}function RU(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function pm(n){switch(n.length){case 0:return new dD;case 1:return n[0];default:return new b$(n)}}function E$(n,t,e,i,r=new Map,s=new Map){const a=[],c=[];let h=-1,p=null;if(i.forEach(v=>{const b=v.get("offset"),D=b==h,P=D&&p||new Map;v.forEach((R,F)=>{let V=F,Q=R;if("offset"!==F)switch(V=t.normalizePropertyName(V,a),Q){case OU:Q=r.get(F);break;case bp:Q=s.get(F);break;default:Q=t.normalizeStyleValue(F,V,Q,a)}P.set(V,Q)}),D||c.push(P),p=P,h=b}),a.length)throw function epe(n){return new o.vHH(3502,!1)}();return c}function NU(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&LU(e,"start",n)));break;case"done":n.onDone(()=>i(e&&LU(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&LU(e,"destroy",n)))}}function LU(n,t,e){const s=FU(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(s._data=a),s}function FU(n,t,e,i,r="",s=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function tu(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function T$(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let UU=(n,t)=>!1,D$=(n,t,e)=>[],I$=null;function BU(n){const t=n.parentNode||n.host;return t===I$?null:t}(RU()||typeof Element<"u")&&(hpe()?(I$=(()=>document.documentElement)(),UU=(n,t)=>{for(;t;){if(t===n)return!0;t=BU(t)}return!1}):UU=(n,t)=>n.contains(t),D$=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Dv=null,x$=!1;const S$=UU,A$=D$;let M$=(()=>{class n{validateStyleProperty(e){return function ppe(n){Dv||(Dv=function gpe(){return typeof document<"u"?document.body:null}()||{},x$=!!Dv.style&&"WebkitAppearance"in Dv.style);let t=!0;return Dv.style&&!function fpe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Dv.style,!t&&x$&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Dv.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return S$(e,i)}getParentElement(e){return BU(e)}query(e,i,r){return A$(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,a,c=[],h){return new dD(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),VU=(()=>{class n{}return n.NOOP=new M$,n})();const mpe=1e3,ZU="ng-enter",IM="ng-leave",xM="ng-trigger",SM=".ng-trigger",k$="ng-animating",zU=".ng-animating";function Cp(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:HU(parseFloat(t[1]),t[2])}function HU(n,t){return"s"===t?n*mpe:n}function AM(n,t,e){return n.hasOwnProperty("duration")?n:function vpe(n,t,e){let r,s=0,a="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return t.push(C$()),{duration:0,delay:0,easing:""};r=HU(parseFloat(c[1]),c[2]);const h=c[3];null!=h&&(s=HU(parseFloat(h),c[4]));const p=c[5];p&&(a=p)}else r=n;if(!e){let c=!1,h=t.length;r<0&&(t.push(function kfe(){return new o.vHH(3100,!1)}()),c=!0),s<0&&(t.push(function Ofe(){return new o.vHH(3101,!1)}()),c=!0),c&&t.splice(h,0,C$())}return{duration:r,delay:s,easing:a}}(n,t,e)}function hD(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function O$(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function gm(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function N$(n,t,e){return e?t+":"+e+";":""}function L$(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=N$(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=N$(0,Cpe(e),n.style[e]));n.setAttribute("style",t)}function sf(n,t,e){n.style&&(t.forEach((i,r)=>{const s=jU(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),RU()&&L$(n))}function Iv(n,t){n.style&&(t.forEach((e,i)=>{const r=jU(i);n.style[r]=""}),RU()&&L$(n))}function fD(n){return Array.isArray(n)?1==n.length?n[0]:_$(n):n}const qU=new RegExp("{{\\s*(.+?)\\s*}}","g");function F$(n){let t=[];if("string"==typeof n){let e;for(;e=qU.exec(n);)t.push(e[1]);qU.lastIndex=0}return t}function pD(n,t,e){const i=n.toString(),r=i.replace(qU,(s,a)=>{let c=t[a];return null==c&&(e.push(function Nfe(n){return new o.vHH(3003,!1)}()),c=""),c.toString()});return r==i?n:r}function MM(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const bpe=/-+([a-z0-9])/g;function jU(n){return n.replace(bpe,(...t)=>t[1].toUpperCase())}function Cpe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function nu(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Lfe(n){return new o.vHH(3004,!1)}()}}function U$(n,t){return window.getComputedStyle(n)[t]}const OM="*";function Spe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Ape(n,t,e){if(":"==n[0]){const h=function Mpe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Kfe(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof h)return void t.push(h);n=h}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Yfe(n){return new o.vHH(3015,!1)}()),t;const r=i[1],s=i[2],a=i[3];t.push(B$(r,a));"<"==s[0]&&!(r==OM&&a==OM)&&t.push(B$(a,r))}(i,e,t)):e.push(n),e}const RM=new Set(["true","1"]),NM=new Set(["false","0"]);function B$(n,t){const e=RM.has(n)||NM.has(n),i=RM.has(t)||NM.has(t);return(r,s)=>{let a=n==OM||n==r,c=t==OM||t==s;return!a&&e&&"boolean"==typeof r&&(a=r?RM.has(n):NM.has(n)),!c&&i&&"boolean"==typeof s&&(c=s?RM.has(t):NM.has(t)),a&&c}}const Ppe=new RegExp("s*:selfs*,?","g");function WU(n,t,e,i){return new kpe(n).build(t,e,i)}class kpe{constructor(t){this._driver=t}build(t,e,i){const r=new Npe(e);return this._resetContextStyleTimingState(r),nu(this,fD(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function Ufe(){return new o.vHH(3006,!1)}()),t.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),0==c.type){const h=c,p=h.name;p.toString().split(/\s*,\s*/).forEach(v=>{h.name=v,s.push(this.visitState(h,e))}),h.name=p}else if(1==c.type){const h=this.visitTransition(c,e);i+=h.queryCount,r+=h.depCount,a.push(h)}else e.errors.push(function Bfe(){return new o.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(c=>{c instanceof Map&&c.forEach(h=>{F$(h).forEach(p=>{a.hasOwnProperty(p)||s.add(p)})})}),s.size&&(MM(s.values()),e.errors.push(function Vfe(n,t){return new o.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=nu(this,fD(t.animation),e);return{type:1,matchers:Spe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:xv(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>nu(this,i,e)),options:xv(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(a=>{e.currentTime=i;const c=nu(this,a,e);return r=Math.max(r,e.currentTime),c});return e.currentTime=r,{type:3,steps:s,options:xv(t.options)}}visitAnimate(t,e){const i=function Fpe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return $U(AM(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=$U(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=AM(e,t);return $U(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:DM({});if(5==s.type)r=this.visitKeyframes(s,e);else{let a=t.styles,c=!1;if(!a){c=!0;const p={};i.easing&&(p.easing=i.easing),a=DM(p)}e.currentTime+=i.duration+i.delay;const h=this.visitStyle(a,e);h.isEmptyStep=c,r=h}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let c of r)"string"==typeof c?c===bp?i.push(c):e.errors.push(new o.vHH(3002,!1)):i.push(O$(c));let s=!1,a=null;return i.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(a=c.get("easing"),c.delete("easing")),!s))for(let h of c.values())if(h.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,h)=>{const p=e.collectedStyles.get(e.currentQuerySelector),v=p.get(h);let b=!0;v&&(s!=r&&s>=v.startTime&&r<=v.endTime&&(e.errors.push(function zfe(n,t,e,i,r){return new o.vHH(3010,!1)}()),b=!1),s=v.startTime),b&&p.set(h,{startTime:s,endTime:r}),e.options&&function wpe(n,t,e){const i=t.params||{},r=F$(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function Rfe(n){return new o.vHH(3001,!1)}())})}(c,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Hfe(){return new o.vHH(3011,!1)}()),i;let s=0;const a=[];let c=!1,h=!1,p=0;const v=t.steps.map(Q=>{const ee=this._makeStyleAst(Q,e);let re=null!=ee.offset?ee.offset:function Lpe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(ee.styles),de=0;return null!=re&&(s++,de=ee.offset=re),h=h||de<0||de>1,c=c||de<p,p=de,a.push(de),ee});h&&e.errors.push(function qfe(){return new o.vHH(3012,!1)}()),c&&e.errors.push(function jfe(){return new o.vHH(3200,!1)}());const b=t.steps.length;let D=0;s>0&&s<b?e.errors.push(function Wfe(){return new o.vHH(3202,!1)}()):0==s&&(D=1/(b-1));const P=b-1,R=e.currentTime,F=e.currentAnimateTimings,V=F.duration;return v.forEach((Q,ee)=>{const re=D>0?ee==P?1:D*ee:a[ee],de=re*V;e.currentTime=R+F.delay+de,F.duration=de,this._validateStyleAst(Q,e),Q.offset=re,i.styles.push(Q)}),i}visitReference(t,e){return{type:8,animation:nu(this,fD(t.animation),e),options:xv(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:xv(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:xv(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,a]=function Ope(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Ppe,"")),n=n.replace(/@\*/g,SM).replace(/@\w+/g,e=>SM+"-"+e.slice(1)).replace(/:animating/g,zU),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,tu(e.collectedStyles,e.currentQuerySelector,new Map);const c=nu(this,fD(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:c,originalSelector:t.selector,options:xv(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function $fe(){return new o.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:AM(t.timings,e.errors,!0);return{type:12,animation:nu(this,fD(t.animation),e),timings:i,options:null}}}class Npe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xv(n){return n?(n=hD(n)).params&&(n.params=function Rpe(n){return n?hD(n):null}(n.params)):n={},n}function $U(n,t,e){return{duration:n,delay:t,easing:e}}function GU(n,t,e,i,r,s,a=null,c=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:c}}class LM{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Vpe=new RegExp(":enter","g"),zpe=new RegExp(":leave","g");function YU(n,t,e,i,r,s=new Map,a=new Map,c,h,p=[]){return(new Hpe).buildKeyframes(n,t,e,i,r,s,a,c,h,p)}class Hpe{buildKeyframes(t,e,i,r,s,a,c,h,p,v=[]){p=p||new LM;const b=new KU(t,e,p,r,s,v,[]);b.options=h;const D=h.delay?Cp(h.delay):0;b.currentTimeline.delayNextStep(D),b.currentTimeline.setStyles([a],null,b.errors,h),nu(this,i,b);const P=b.timelines.filter(R=>R.containsAnimation());if(P.length&&c.size){let R;for(let F=P.length-1;F>=0;F--){const V=P[F];if(V.element===e){R=V;break}}R&&!R.allowOnlyTimelineStyles()&&R.setStyles([c],null,b.errors,h)}return P.length?P.map(R=>R.buildKeyframes()):[GU(e,[],[],[],0,D,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const a="number"==typeof s?s:Cp(pD(s,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const a=null!=i.duration?Cp(i.duration):null,c=null!=i.delay?Cp(i.delay):null;return 0!==a&&t.forEach(h=>{const p=e.appendInstructionToTimeline(h,a,c);s=Math.max(s,p.duration+p.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),nu(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=FM);const a=Cp(s.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>nu(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Cp(t.options.delay):0;t.steps.forEach(a=>{const c=e.createSubContext(t.options);s&&c.delayNextStep(s),nu(this,a,c),r=Math.max(r,c.currentTimeline.currentTime),i.push(c.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return AM(e.params?pD(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,c=e.createSubContext().currentTimeline;c.easing=i.easing,t.styles.forEach(h=>{c.forwardTime((h.offset||0)*s),c.setStyles(h.styles,h.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Cp(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=FM);let a=i;const c=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=c.length;let h=null;c.forEach((p,v)=>{e.currentQueryIndex=v;const b=e.createSubContext(t.options,p);s&&b.delayNextStep(s),p===e.element&&(h=b.currentTimeline),nu(this,t.animation,b),b.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,b.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),h&&(e.currentTimeline.mergeTimelineCollectedStyles(h),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),c=a*(e.currentQueryTotal-1);let h=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":h=c-h;break;case"full":h=i.currentStaggerTime}const v=e.currentTimeline;h&&v.delayNextStep(h);const b=v.currentTime;nu(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-b+(r.startTime-i.currentTimeline.startTime)}}const FM={};class KU{constructor(t,e,i,r,s,a,c,h){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=FM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new UM(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Cp(i.duration)),null!=i.delay&&(r.delay=Cp(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(c=>{(!e||!a.hasOwnProperty(c))&&(a[c]=pD(s[c],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new KU(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=FM,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new qpe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,a){let c=[];if(r&&c.push(this.element),t.length>0){t=(t=t.replace(Vpe,"."+this._enterClassName)).replace(zpe,"."+this._leaveClassName);let p=this._driver.query(this.element,t,1!=i);0!==i&&(p=i<0?p.slice(p.length+i,p.length):p.slice(0,i)),c.push(...p)}return!s&&0==c.length&&a.push(function Gfe(n){return new o.vHH(3014,!1)}()),c}}class UM{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new UM(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||bp),this._currentKeyframe.set(e,bp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},a=function jpe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,bp)}else gm(r,e)}),e}(t,this._globalTimelineStyles);for(let[c,h]of a){const p=pD(h,s,i);this._pendingStyles.set(c,p),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??bp),this._updateStyle(c,p)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((c,h)=>{const p=gm(c,new Map,this._backFill);p.forEach((v,b)=>{v===OU?t.add(b):v===bp&&e.add(b)}),i||p.set("offset",h/this.duration),r.push(p)});const s=t.size?MM(t.values()):[],a=e.size?MM(e.values()):[];if(i){const c=r[0],h=new Map(c);c.set("offset",0),h.set("offset",1),r=[c,h]}return GU(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class qpe extends UM{constructor(t,e,i,r,s,a,c=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=c,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=i+e,c=e/a,h=gm(t[0]);h.set("offset",0),s.push(h);const p=gm(t[0]);p.set("offset",z$(c)),s.push(p);const v=t.length-1;for(let b=1;b<=v;b++){let D=gm(t[b]);const P=D.get("offset");D.set("offset",z$((e+P*i)/a)),s.push(D)}i=a,e=0,r="",t=s}return GU(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function z$(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class QU{}const Wpe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $pe extends QU{normalizePropertyName(t,e){return jU(t)}normalizeStyleValue(t,e,i,r){let s="";const a=i.toString().trim();if(Wpe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const c=i.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&r.push(function Ffe(n,t){return new o.vHH(3005,!1)}())}return a+s}}function H$(n,t,e,i,r,s,a,c,h,p,v,b,D){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:a,timelines:c,queriedElements:h,preStyleProps:p,postStyleProps:v,totalTime:b,errors:D}}const JU={};class q${constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Gpe(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,a,c,h,p,v){const b=[],D=this.ast.options&&this.ast.options.params||JU,R=this.buildStyles(i,c&&c.params||JU,b),F=h&&h.params||JU,V=this.buildStyles(r,F,b),Q=new Set,ee=new Map,re=new Map,de="void"===r,_e={params:Ype(F,D),delay:this.ast.options?.delay},ue=v?[]:YU(t,e,this.ast.animation,s,a,R,V,_e,p,b);let pe=0;if(ue.forEach(et=>{pe=Math.max(et.duration+et.delay,pe)}),b.length)return H$(e,this._triggerName,i,r,de,R,V,[],[],ee,re,pe,b);ue.forEach(et=>{const bt=et.element,at=tu(ee,bt,new Set);et.preStyleProps.forEach(En=>at.add(En));const ot=tu(re,bt,new Set);et.postStyleProps.forEach(En=>ot.add(En)),bt!==e&&Q.add(bt)});const Le=MM(Q.values());return H$(e,this._triggerName,i,r,de,R,V,ue,Le,ee,re,pe)}}function Ype(n,t){const e=hD(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Kpe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=hD(this.defaultParams);return Object.keys(t).forEach(s=>{const a=t[s];null!==a&&(r[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{a&&(a=pD(a,r,e));const h=this.normalizer.normalizePropertyName(c,e);a=this.normalizer.normalizeStyleValue(c,h,a,e),i.set(c,a)})}),i}}class Jpe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Kpe(r.style,r.options&&r.options.params||{},i))}),j$(this.states,"true","1"),j$(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new q$(t,r,this.states))}),this.fallbackTransition=function Xpe(n,t,e){return new q$(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,c)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function j$(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const ege=new LM;class tge{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],r=[],s=WU(this._driver,e,i,r);if(i.length)throw function tpe(n){return new o.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=E$(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let a;const c=new Map;if(s?(a=YU(this._driver,e,s,ZU,IM,new Map,new Map,i,ege,r),a.forEach(v=>{const b=tu(c,v.element,new Map);v.postStyleProps.forEach(D=>b.set(D,null))})):(r.push(function npe(){return new o.vHH(3300,!1)}()),a=[]),r.length)throw function ipe(n){return new o.vHH(3504,!1)}();c.forEach((v,b)=>{v.forEach((D,P)=>{v.set(P,this._driver.computeStyle(b,P,bp))})});const p=pm(a.map(v=>{const b=c.get(v.element);return this._buildPlayer(v,new Map,b)}));return this._playersById.set(t,p),p.onDestroy(()=>this.destroy(t)),this.players.push(p),p}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function rpe(n){return new o.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=FU(e,"","","");return NU(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const W$="ng-animate-queued",XU="ng-animate-disabled",sge=[],$$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},age={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ju="__ng_removed";class e3{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function dge(n){return n??null}(i?t.value:t),i){const s=hD(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const gD="void",t3=new e3(gD);class lge{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Wu(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function ope(n,t){return new o.vHH(3302,!1)}();if(null==i||0==i.length)throw function spe(n){return new o.vHH(3303,!1)}();if(!function hge(n){return"start"==n||"done"==n}(i))throw function ape(n,t){return new o.vHH(3400,!1)}();const s=tu(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};s.push(a);const c=tu(this._engine.statesByElement,t,new Map);return c.has(e)||(Wu(t,xM),Wu(t,xM+"-"+e),c.set(e,t3)),()=>{this._engine.afterFlush(()=>{const h=s.indexOf(a);h>=0&&s.splice(h,1),this._triggers.has(e)||c.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function lpe(n){return new o.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),a=new n3(this.id,e,t);let c=this._engine.statesByElement.get(t);c||(Wu(t,xM),Wu(t,xM+"-"+e),this._engine.statesByElement.set(t,c=new Map));let h=c.get(e);const p=new e3(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&p.absorbOptions(h.options),c.set(e,p),h||(h=t3),p.value!==gD&&h.value===p.value){if(!function gge(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(h.params,p.params)){const F=[],V=s.matchStyles(h.value,h.params,F),Q=s.matchStyles(p.value,p.params,F);F.length?this._engine.reportError(F):this._engine.afterFlush(()=>{Iv(t,V),sf(t,Q)})}return}const D=tu(this._engine.playersByElement,t,[]);D.forEach(F=>{F.namespaceId==this.id&&F.triggerName==e&&F.queued&&F.destroy()});let P=s.matchTransition(h.value,p.value,t,p.params),R=!1;if(!P){if(!r)return;P=s.fallbackTransition,R=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:P,fromState:h,toState:p,player:a,isFallbackTransition:R}),R||(Wu(t,W$),a.onStart(()=>{hw(t,W$)})),a.onDone(()=>{let F=this.players.indexOf(a);F>=0&&this.players.splice(F,1);const V=this._engine.playersByElement.get(t);if(V){let Q=V.indexOf(a);Q>=0&&V.splice(Q,1)}}),this.players.push(a),D.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,SM,!0);i.forEach(r=>{if(r[ju])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),a=new Map;if(s){const c=[];if(s.forEach((h,p)=>{if(a.set(p,h.value),this._triggers.has(p)){const v=this.trigger(t,p,gD,r);v&&c.push(v)}}),c.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&pm(c).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const h=this._triggers.get(a).fallbackTransition,p=i.get(a)||t3,v=new e3(gD),b=new n3(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:h,fromState:p,toState:v,player:b,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[ju];(!s||s===$$)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Wu(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(c=>{if(c.name==i.triggerName){const h=FU(s,i.triggerName,i.fromState.value,i.toState.value);h._data=t,NU(i.player,c.phase,h,c.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class cge{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new lge(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,c=this.driver.getParentElement(e);for(;c;){const h=r.get(c);if(h){const p=i.indexOf(h);i.splice(p+1,0,t),a=!0;break}c=this.driver.getParentElement(c)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(BM(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!BM(e))return;const s=e[ju];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Wu(t,XU)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),hw(t,XU))}removeNode(t,e,i,r){if(BM(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[ju]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return BM(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,SM,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,zU,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return pm(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ju];if(e&&e.setForRemoval){if(t[ju]=$$,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(XU)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Wu(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?pm(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function cpe(n){return new o.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new LM,r=[],s=new Map,a=[],c=new Map,h=new Map,p=new Map,v=new Set;this.disabledNodes.forEach(Ct=>{v.add(Ct);const At=this.driver.query(Ct,".ng-animate-queued",!0);for(let nn=0;nn<At.length;nn++)v.add(At[nn])});const b=this.bodyNode,D=Array.from(this.statesByElement.keys()),P=K$(D,this.collectedEnterElements),R=new Map;let F=0;P.forEach((Ct,At)=>{const nn=ZU+F++;R.set(At,nn),Ct.forEach($t=>Wu($t,nn))});const V=[],Q=new Set,ee=new Set;for(let Ct=0;Ct<this.collectedLeaveElements.length;Ct++){const At=this.collectedLeaveElements[Ct],nn=At[ju];nn&&nn.setForRemoval&&(V.push(At),Q.add(At),nn.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach($t=>Q.add($t)):ee.add(At))}const re=new Map,de=K$(D,Array.from(Q));de.forEach((Ct,At)=>{const nn=IM+F++;re.set(At,nn),Ct.forEach($t=>Wu($t,nn))}),t.push(()=>{P.forEach((Ct,At)=>{const nn=R.get(At);Ct.forEach($t=>hw($t,nn))}),de.forEach((Ct,At)=>{const nn=re.get(At);Ct.forEach($t=>hw($t,nn))}),V.forEach(Ct=>{this.processLeaveNode(Ct)})});const _e=[],ue=[];for(let Ct=this._namespaceList.length-1;Ct>=0;Ct--)this._namespaceList[Ct].drainQueuedTransitions(e).forEach(nn=>{const $t=nn.player,Ni=nn.element;if(_e.push($t),this.collectedEnterElements.length){const as=Ni[ju];if(as&&as.setForMove){if(as.previousTriggersValues&&as.previousTriggersValues.has(nn.triggerName)){const Nl=as.previousTriggersValues.get(nn.triggerName),Ma=this.statesByElement.get(nn.element);if(Ma&&Ma.has(nn.triggerName)){const vw=Ma.get(nn.triggerName);vw.value=Nl,Ma.set(nn.triggerName,vw)}}return void $t.destroy()}}const nr=!b||!this.driver.containsElement(b,Ni),Hr=re.get(Ni),sa=R.get(Ni),ki=this._buildInstruction(nn,i,sa,Hr,nr);if(ki.errors&&ki.errors.length)return void ue.push(ki);if(nr)return $t.onStart(()=>Iv(Ni,ki.fromStyles)),$t.onDestroy(()=>sf(Ni,ki.toStyles)),void r.push($t);if(nn.isFallbackTransition)return $t.onStart(()=>Iv(Ni,ki.fromStyles)),$t.onDestroy(()=>sf(Ni,ki.toStyles)),void r.push($t);const Aa=[];ki.timelines.forEach(as=>{as.stretchStartingKeyframe=!0,this.disabledNodes.has(as.element)||Aa.push(as)}),ki.timelines=Aa,i.append(Ni,ki.timelines),a.push({instruction:ki,player:$t,element:Ni}),ki.queriedElements.forEach(as=>tu(c,as,[]).push($t)),ki.preStyleProps.forEach((as,Nl)=>{if(as.size){let Ma=h.get(Nl);Ma||h.set(Nl,Ma=new Set),as.forEach((vw,yw)=>Ma.add(yw))}}),ki.postStyleProps.forEach((as,Nl)=>{let Ma=p.get(Nl);Ma||p.set(Nl,Ma=new Set),as.forEach((vw,yw)=>Ma.add(yw))})});if(ue.length){const Ct=[];ue.forEach(At=>{Ct.push(function upe(n,t){return new o.vHH(3505,!1)}())}),_e.forEach(At=>At.destroy()),this.reportError(Ct)}const pe=new Map,Le=new Map;a.forEach(Ct=>{const At=Ct.element;i.has(At)&&(Le.set(At,At),this._beforeAnimationBuild(Ct.player.namespaceId,Ct.instruction,pe))}),r.forEach(Ct=>{const At=Ct.element;this._getPreviousPlayers(At,!1,Ct.namespaceId,Ct.triggerName,null).forEach($t=>{tu(pe,At,[]).push($t),$t.destroy()})});const et=V.filter(Ct=>J$(Ct,h,p)),bt=new Map;Y$(bt,this.driver,ee,p,bp).forEach(Ct=>{J$(Ct,h,p)&&et.push(Ct)});const ot=new Map;P.forEach((Ct,At)=>{Y$(ot,this.driver,new Set(Ct),h,OU)}),et.forEach(Ct=>{const At=bt.get(Ct),nn=ot.get(Ct);bt.set(Ct,new Map([...Array.from(At?.entries()??[]),...Array.from(nn?.entries()??[])]))});const En=[],Jn=[],wi={};a.forEach(Ct=>{const{element:At,player:nn,instruction:$t}=Ct;if(i.has(At)){if(v.has(At))return nn.onDestroy(()=>sf(At,$t.toStyles)),nn.disabled=!0,nn.overrideTotalTime($t.totalTime),void r.push(nn);let Ni=wi;if(Le.size>1){let Hr=At;const sa=[];for(;Hr=Hr.parentNode;){const ki=Le.get(Hr);if(ki){Ni=ki;break}sa.push(Hr)}sa.forEach(ki=>Le.set(ki,Ni))}const nr=this._buildAnimation(nn.namespaceId,$t,pe,s,ot,bt);if(nn.setRealPlayer(nr),Ni===wi)En.push(nn);else{const Hr=this.playersByElement.get(Ni);Hr&&Hr.length&&(nn.parentPlayer=pm(Hr)),r.push(nn)}}else Iv(At,$t.fromStyles),nn.onDestroy(()=>sf(At,$t.toStyles)),Jn.push(nn),v.has(At)&&r.push(nn)}),Jn.forEach(Ct=>{const At=s.get(Ct.element);if(At&&At.length){const nn=pm(At);Ct.setRealPlayer(nn)}}),r.forEach(Ct=>{Ct.parentPlayer?Ct.syncPlayerEvents(Ct.parentPlayer):Ct.destroy()});for(let Ct=0;Ct<V.length;Ct++){const At=V[Ct],nn=At[ju];if(hw(At,IM),nn&&nn.hasAnimation)continue;let $t=[];if(c.size){let nr=c.get(At);nr&&nr.length&&$t.push(...nr);let Hr=this.driver.query(At,zU,!0);for(let sa=0;sa<Hr.length;sa++){let ki=c.get(Hr[sa]);ki&&ki.length&&$t.push(...ki)}}const Ni=$t.filter(nr=>!nr.destroyed);Ni.length?fge(this,At,Ni):this.processLeaveNode(At)}return V.length=0,En.forEach(Ct=>{this.players.push(Ct),Ct.onDone(()=>{Ct.destroy();const At=this.players.indexOf(Ct);this.players.splice(At,1)}),Ct.play()}),En}elementContainsData(t,e){let i=!1;const r=e[ju];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let a=[];if(e){const c=this.playersByQueriedElement.get(t);c&&(a=c)}else{const c=this.playersByElement.get(t);if(c){const h=!s||s==gD;c.forEach(p=>{p.queued||!h&&p.triggerName!=r||a.push(p)})}}return(i||r)&&(a=a.filter(c=>!(i&&i!=c.namespaceId||r&&r!=c.triggerName))),a}_beforeAnimationBuild(t,e,i){const s=e.element,a=e.isRemovalTransition?void 0:t,c=e.isRemovalTransition?void 0:e.triggerName;for(const h of e.timelines){const p=h.element,v=p!==s,b=tu(i,p,[]);this._getPreviousPlayers(p,v,a,c,e.toState).forEach(P=>{const R=P.getRealPlayer();R.beforeDestroy&&R.beforeDestroy(),P.destroy(),b.push(P)})}Iv(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,a){const c=e.triggerName,h=e.element,p=[],v=new Set,b=new Set,D=e.timelines.map(R=>{const F=R.element;v.add(F);const V=F[ju];if(V&&V.removedBeforeQueried)return new dD(R.duration,R.delay);const Q=F!==h,ee=function pge(n){const t=[];return Q$(n,t),t}((i.get(F)||sge).map(pe=>pe.getRealPlayer())).filter(pe=>!!pe.element&&pe.element===F),re=s.get(F),de=a.get(F),_e=E$(0,this._normalizer,0,R.keyframes,re,de),ue=this._buildPlayer(R,_e,ee);if(R.subTimeline&&r&&b.add(F),Q){const pe=new n3(t,c,F);pe.setRealPlayer(ue),p.push(pe)}return ue});p.forEach(R=>{tu(this.playersByQueriedElement,R.element,[]).push(R),R.onDone(()=>function uge(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,R.element,R))}),v.forEach(R=>Wu(R,k$));const P=pm(D);return P.onDestroy(()=>{v.forEach(R=>hw(R,k$)),sf(h,e.toStyles)}),b.forEach(R=>{tu(r,R,[]).push(P)}),P}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new dD(t.duration,t.delay)}}class n3{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new dD,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>NU(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){tu(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function BM(n){return n&&1===n.nodeType}function G$(n,t){const e=n.style.display;return n.style.display=t??"none",e}function Y$(n,t,e,i,r){const s=[];e.forEach(h=>s.push(G$(h)));const a=[];i.forEach((h,p)=>{const v=new Map;h.forEach(b=>{const D=t.computeStyle(p,b,r);v.set(b,D),(!D||0==D.length)&&(p[ju]=age,a.push(p))}),n.set(p,v)});let c=0;return e.forEach(h=>G$(h,s[c++])),a}function K$(n,t){const e=new Map;if(n.forEach(c=>e.set(c,[])),0==t.length)return e;const i=1,r=new Set(t),s=new Map;function a(c){if(!c)return i;let h=s.get(c);if(h)return h;const p=c.parentNode;return h=e.has(p)?p:r.has(p)?i:a(p),s.set(c,h),h}return t.forEach(c=>{const h=a(c);h!==i&&e.get(h).push(c)}),e}function Wu(n,t){n.classList?.add(t)}function hw(n,t){n.classList?.remove(t)}function fge(n,t,e){pm(e).onDone(()=>n.processLeaveNode(t))}function Q$(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof b$?Q$(i.players,t):t.push(i)}}function J$(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class VM{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new cge(t,e,i),this._timelineEngine=new tge(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const a=t+"-"+r;let c=this._triggerCache[a];if(!c){const h=[],p=[],v=WU(this._driver,s,h,p);if(h.length)throw function Xfe(n,t){return new o.vHH(3404,!1)}();c=function Qpe(n,t,e){return new Jpe(n,t,e)}(r,v,this._normalizer),this._triggerCache[a]=c}this._transitionEngine.registerTrigger(e,r,c)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,a]=T$(i);this._timelineEngine.command(s,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[a,c]=T$(i);return this._timelineEngine.listen(a,e,c,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _ge=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&sf(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(sf(this._element,this._initialStyles),this._endStyles&&(sf(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Iv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Iv(this._element,this._endStyles),this._endStyles=null),sf(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function i3(n){let t=null;return n.forEach((e,i)=>{(function vge(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class X${constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:U$(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class yge{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return S$(t,e)}getParentElement(t){return BU(t)}query(t,e,i){return A$(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,a=[]){const h={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(h.easing=s);const p=new Map,v=a.filter(P=>P instanceof X$);(function Epe(n,t){return 0===n||0===t})(i,r)&&v.forEach(P=>{P.currentSnapshot.forEach((R,F)=>p.set(F,R))});let b=function ype(n){return n.length?n[0]instanceof Map?n:n.map(t=>O$(t)):[]}(e).map(P=>gm(P));b=function Tpe(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,a)=>{i.has(a)||r.push(a),i.set(a,s)}),r.length)for(let s=1;s<t.length;s++){let a=t[s];r.forEach(c=>a.set(c,U$(n,c)))}}return t}(t,b,p);const D=function mge(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=i3(t[0]),t.length>1&&(i=i3(t[t.length-1]))):t instanceof Map&&(e=i3(t)),e||i?new _ge(n,e,i):null}(t,b);return new X$(t,b,h,D)}}let wge=(()=>{class n extends g${constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?_$(e):e;return eG(this._renderer,null,i,"register",[r]),new bge(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(Ee))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class bge extends Mfe{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Cge(this._id,t,e||{},this._renderer)}}class Cge{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return eG(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function eG(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const tG="@.disabled";let Ege=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const c=a?.parentNode(s);c&&a.removeChild(c,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let v=this._rendererCache.get(s);return v||(v=new nG("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,v)),v}const a=i.id,c=i.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);const h=v=>{Array.isArray(v)?v.forEach(h):this.engine.registerTrigger(a,c,e,v.name,v)};return i.data.animation.forEach(h),new Tge(this,c,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,c]=s;a(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(VM),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class nG{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==tG?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Tge extends nG{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==tG?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Dge(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function Ige(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,c=>{this.factory.scheduleListenerCallback(c._data||-1,i,c)})}return this.delegate.listen(t,e,i)}}let xge=(()=>{class n extends VM{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ee),o.LFG(VU),o.LFG(QU),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const iG=[{provide:g$,useClass:wge},{provide:QU,useFactory:function Sge(){return new $pe}},{provide:VM,useClass:xge},{provide:o.FYo,useFactory:function Age(n,t,e){return new Ege(n,t,e)},deps:[ke,VM,o.R0b]}],r3=[{provide:VU,useFactory:()=>new yge},{provide:o.QbO,useValue:"BrowserAnimations"},...iG],rG=[{provide:VU,useClass:M$},{provide:o.QbO,useValue:"NoopAnimations"},...iG];let Mge=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?rG:r3}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:r3,imports:[Mc]}),n})();var o3=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],fw={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var t=new Date(n.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},s3={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var t=n%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1};const a3=s3;var _c=function(n,t){return void 0===t&&(t=2),("000"+n).slice(-1*t)},$u=function(n){return!0===n?1:0};function oG(n,t){var e;return function(){var i=this,r=arguments;clearTimeout(e),e=setTimeout(function(){return n.apply(i,r)},t)}}var l3=function(n){return n instanceof Array?n:[n]};function Rl(n,t,e){if(!0===e)return n.classList.add(t);n.classList.remove(t)}function tr(n,t,e){var i=window.document.createElement(n);return e=e||"",i.className=t=t||"",void 0!==e&&(i.textContent=e),i}function zM(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function sG(n,t){return t(n)?n:n.parentNode?sG(n.parentNode,t):void 0}function HM(n,t){var e=tr("div","numInputWrapper"),i=tr("input","numInput "+n),r=tr("span","arrowUp"),s=tr("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==t)for(var a in t)i.setAttribute(a,t[a]);return e.appendChild(i),e.appendChild(r),e.appendChild(s),e}function iu(n){try{return"function"==typeof n.composedPath?n.composedPath()[0]:n.target}catch{return n.target}}var c3=function(){},qM=function(n,t,e){return e.months[t?"shorthand":"longhand"][n]},Pge={D:c3,F:function(n,t,e){n.setMonth(e.months.longhand.indexOf(t))},G:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},H:function(n,t){n.setHours(parseFloat(t))},J:function(n,t){n.setDate(parseFloat(t))},K:function(n,t,e){n.setHours(n.getHours()%12+12*$u(new RegExp(e.amPM[1],"i").test(t)))},M:function(n,t,e){n.setMonth(e.months.shorthand.indexOf(t))},S:function(n,t){n.setSeconds(parseFloat(t))},U:function(n,t){return new Date(1e3*parseFloat(t))},W:function(n,t,e){var i=parseInt(t),r=new Date(n.getFullYear(),0,2+7*(i-1),0,0,0,0);return r.setDate(r.getDate()-r.getDay()+e.firstDayOfWeek),r},Y:function(n,t){n.setFullYear(parseFloat(t))},Z:function(n,t){return new Date(t)},d:function(n,t){n.setDate(parseFloat(t))},h:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},i:function(n,t){n.setMinutes(parseFloat(t))},j:function(n,t){n.setDate(parseFloat(t))},l:c3,m:function(n,t){n.setMonth(parseFloat(t)-1)},n:function(n,t){n.setMonth(parseFloat(t)-1)},s:function(n,t){n.setSeconds(parseFloat(t))},u:function(n,t){return new Date(parseFloat(t))},w:c3,y:function(n,t){n.setFullYear(2e3+parseFloat(t))}},Sv={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},mD={Z:function(n){return n.toISOString()},D:function(n,t,e){return t.weekdays.shorthand[mD.w(n,t,e)]},F:function(n,t,e){return qM(mD.n(n,t,e)-1,!1,t)},G:function(n,t,e){return _c(mD.h(n,t,e))},H:function(n){return _c(n.getHours())},J:function(n,t){return void 0!==t.ordinal?n.getDate()+t.ordinal(n.getDate()):n.getDate()},K:function(n,t){return t.amPM[$u(n.getHours()>11)]},M:function(n,t){return qM(n.getMonth(),!0,t)},S:function(n){return _c(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,t,e){return e.getWeek(n)},Y:function(n){return _c(n.getFullYear(),4)},d:function(n){return _c(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return _c(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,t){return t.weekdays.longhand[n.getDay()]},m:function(n){return _c(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},aG=function(n){var t=n.config,e=void 0===t?fw:t,i=n.l10n,r=void 0===i?s3:i,s=n.isMobile,a=void 0!==s&&s;return function(c,h,p){var v=p||r;return void 0===e.formatDate||a?h.split("").map(function(b,D,P){return mD[b]&&"\\"!==P[D-1]?mD[b](c,v,e):"\\"!==b?b:""}).join(""):e.formatDate(c,h,v)}},u3=function(n){var t=n.config,e=void 0===t?fw:t,i=n.l10n,r=void 0===i?s3:i;return function(s,a,c,h){if(0===s||s){var v,p=h||r,b=s;if(s instanceof Date)v=new Date(s.getTime());else if("string"!=typeof s&&void 0!==s.toFixed)v=new Date(s);else if("string"==typeof s){var D=a||(e||fw).dateFormat,P=String(s).trim();if("today"===P)v=new Date,c=!0;else if(e&&e.parseDate)v=e.parseDate(s,D);else if(/Z$/.test(P)||/GMT$/.test(P))v=new Date(s);else{for(var R=void 0,F=[],V=0,Q=0,ee="";V<D.length;V++){var re=D[V],de="\\"===re;if(Sv[re]&&"\\"!==D[V-1]&&!de){ee+=Sv[re];var ue=new RegExp(ee).exec(s);ue&&(R=!0)&&F["Y"!==re?"push":"unshift"]({fn:Pge[re],val:ue[++Q]})}else de||(ee+=".")}v=e&&e.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),F.forEach(function(pe){return v=(0,pe.fn)(v,pe.val,p)||v}),v=R?v:void 0}}return v instanceof Date&&!isNaN(v.getTime())?(!0===c&&v.setHours(0,0,0,0),v):void e.errorHandler(new Error("Invalid date provided: "+b))}}};function ru(n,t,e){return void 0===e&&(e=!0),!1!==e?new Date(n.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):n.getTime()-t.getTime()}var kge=function(n,t,e){return n>Math.min(t,e)&&n<Math.max(t,e)},d3=function(n,t,e){return 3600*n+60*t+e},Oge=function(n){var t=Math.floor(n/3600),e=(n-3600*t)/60;return[t,e,n-3600*t-60*e]},Rge={DAY:864e5};function h3(n){var t=n.defaultHour,e=n.defaultMinute,i=n.defaultSeconds;if(void 0!==n.minDate){var r=n.minDate.getHours(),s=n.minDate.getMinutes(),a=n.minDate.getSeconds();t<r&&(t=r),t===r&&e<s&&(e=s),t===r&&e===s&&i<a&&(i=n.minDate.getSeconds())}if(void 0!==n.maxDate){var c=n.maxDate.getHours(),h=n.maxDate.getMinutes();(t=Math.min(t,c))===c&&(e=Math.min(h,e)),t===c&&e===h&&(i=n.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:i}}z(8323);var tl=function(){return tl=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},tl.apply(this,arguments)},lG=function(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;var i=Array(n),r=0;for(t=0;t<e;t++)for(var s=arguments[t],a=0,c=s.length;a<c;a++,r++)i[r]=s[a];return i},Nge=300;function Lge(n,t){var e={config:tl(tl({},fw),bs.defaultConfig),l10n:a3};function s(){var J;return(null===(J=e.calendarContainer)||void 0===J?void 0:J.getRootNode()).activeElement||document.activeElement}function a(J){return J.bind(e)}function c(){var J=e.config;!1===J.weekNumbers&&1===J.showMonths||!0!==J.noCalendar&&window.requestAnimationFrame(function(){if(void 0!==e.calendarContainer&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),void 0!==e.daysContainer){var ie=(e.days.offsetWidth+1)*J.showMonths;e.daysContainer.style.width=ie+"px",e.calendarContainer.style.width=ie+(void 0!==e.weekWrapper?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function h(J){if(0===e.selectedDates.length){var ie=void 0===e.config.minDate||ru(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),xe=h3(e.config);ie.setHours(xe.hours,xe.minutes,xe.seconds,ie.getMilliseconds()),e.selectedDates=[ie],e.latestSelectedDateObj=ie}void 0!==J&&"blur"!==J.type&&function gve(J){J.preventDefault();var ie="keydown"===J.type,xe=iu(J),Ge=xe;void 0!==e.amPM&&xe===e.amPM&&(e.amPM.textContent=e.l10n.amPM[$u(e.amPM.textContent===e.l10n.amPM[0])]);var xt=parseFloat(Ge.getAttribute("min")),Gt=parseFloat(Ge.getAttribute("max")),di=parseFloat(Ge.getAttribute("step")),mn=parseInt(Ge.value,10),un=mn+di*(J.delta||(ie?38===J.which?1:-1:0));if(typeof Ge.value<"u"&&2===Ge.value.length){var Gn=Ge===e.hourElement,Pr=Ge===e.minuteElement;un<xt?(un=Gt+un+$u(!Gn)+($u(Gn)&&$u(!e.amPM)),Pr&&de(void 0,-1,e.hourElement)):un>Gt&&(un=Ge===e.hourElement?un-Gt-$u(!e.amPM):xt,Pr&&de(void 0,1,e.hourElement)),e.amPM&&Gn&&(1===di?un+mn===23:Math.abs(un-mn)>di)&&(e.amPM.textContent=e.l10n.amPM[$u(e.amPM.textContent===e.l10n.amPM[0])]),Ge.value=_c(un)}}(J);var Ge=e._input.value;b(),Ep(),e._input.value!==Ge&&e._debouncedChange()}function b(){if(void 0!==e.hourElement&&void 0!==e.minuteElement){var J=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,ie=(parseInt(e.minuteElement.value,10)||0)%60,xe=void 0!==e.secondElement?(parseInt(e.secondElement.value,10)||0)%60:0;void 0!==e.amPM&&(J=function p(J,ie){return J%12+12*$u(ie===e.l10n.amPM[1])}(J,e.amPM.textContent));var Ge=void 0!==e.config.minTime||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&0===ru(e.latestSelectedDateObj,e.config.minDate,!0),xt=void 0!==e.config.maxTime||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&0===ru(e.latestSelectedDateObj,e.config.maxDate,!0);if(void 0!==e.config.maxTime&&void 0!==e.config.minTime&&e.config.minTime>e.config.maxTime){var Gt=d3(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),di=d3(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),mn=d3(J,ie,xe);if(mn>di&&mn<Gt){var bi=Oge(Gt);J=bi[0],ie=bi[1],xe=bi[2]}}else{if(xt){var un=void 0!==e.config.maxTime?e.config.maxTime:e.config.maxDate;(J=Math.min(J,un.getHours()))===un.getHours()&&(ie=Math.min(ie,un.getMinutes())),ie===un.getMinutes()&&(xe=Math.min(xe,un.getSeconds()))}if(Ge){var Gn=void 0!==e.config.minTime?e.config.minTime:e.config.minDate;(J=Math.max(J,Gn.getHours()))===Gn.getHours()&&ie<Gn.getMinutes()&&(ie=Gn.getMinutes()),ie===Gn.getMinutes()&&(xe=Math.max(xe,Gn.getSeconds()))}}P(J,ie,xe)}}function D(J){var ie=J||e.latestSelectedDateObj;ie&&ie instanceof Date&&P(ie.getHours(),ie.getMinutes(),ie.getSeconds())}function P(J,ie,xe){void 0!==e.latestSelectedDateObj&&e.latestSelectedDateObj.setHours(J%24,ie,xe||0,0),e.hourElement&&e.minuteElement&&!e.isMobile&&(e.hourElement.value=_c(e.config.time_24hr?J:(12+J)%12+12*$u(J%12==0)),e.minuteElement.value=_c(ie),void 0!==e.amPM&&(e.amPM.textContent=e.l10n.amPM[$u(J>=12)]),void 0!==e.secondElement&&(e.secondElement.value=_c(xe)))}function R(J){var ie=iu(J),xe=parseInt(ie.value)+(J.delta||0);(xe/1e3>1||"Enter"===J.key&&!/[^\d]/.test(xe.toString()))&&as(xe)}function F(J,ie,xe,Ge){return ie instanceof Array?ie.forEach(function(xt){return F(J,xt,xe,Ge)}):J instanceof Array?J.forEach(function(xt){return F(xt,ie,xe,Ge)}):(J.addEventListener(ie,xe,Ge),void e._handlers.push({remove:function(){return J.removeEventListener(ie,xe,Ge)}}))}function V(){Oo("onChange")}function ee(J,ie){var xe=void 0!==J?e.parseDate(J):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),Ge=e.currentYear,xt=e.currentMonth;try{void 0!==xe&&(e.currentYear=xe.getFullYear(),e.currentMonth=xe.getMonth())}catch(Gt){Gt.message="Invalid date supplied: "+xe,e.config.errorHandler(Gt)}ie&&e.currentYear!==Ge&&(Oo("onYearChange"),En()),ie&&(e.currentYear!==Ge||e.currentMonth!==xt)&&Oo("onMonthChange"),e.redraw()}function re(J){var ie=iu(J);~ie.className.indexOf("arrow")&&de(J,ie.classList.contains("arrowUp")?1:-1)}function de(J,ie,xe){var Ge=J&&iu(J),xt=xe||Ge&&Ge.parentNode&&Ge.parentNode.firstChild,Gt=M3("increment");Gt.delta=ie,xt&&xt.dispatchEvent(Gt)}function ue(J,ie,xe,Ge){var xt=Nl(ie,!0),Gt=tr("span",J,ie.getDate().toString());return Gt.dateObj=ie,Gt.$i=Ge,Gt.setAttribute("aria-label",e.formatDate(ie,e.config.ariaDateFormat)),-1===J.indexOf("hidden")&&0===ru(ie,e.now)&&(e.todayDateElem=Gt,Gt.classList.add("today"),Gt.setAttribute("aria-current","date")),xt?(Gt.tabIndex=-1,P3(ie)&&(Gt.classList.add("selected"),e.selectedDateElem=Gt,"range"===e.config.mode&&(Rl(Gt,"startRange",e.selectedDates[0]&&0===ru(ie,e.selectedDates[0],!0)),Rl(Gt,"endRange",e.selectedDates[1]&&0===ru(ie,e.selectedDates[1],!0)),"nextMonthDay"===J&&Gt.classList.add("inRange")))):Gt.classList.add("flatpickr-disabled"),"range"===e.config.mode&&function fve(J){return!("range"!==e.config.mode||e.selectedDates.length<2)&&ru(J,e.selectedDates[0])>=0&&ru(J,e.selectedDates[1])<=0}(ie)&&!P3(ie)&&Gt.classList.add("inRange"),e.weekNumbers&&1===e.config.showMonths&&"prevMonthDay"!==J&&Ge%7==6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(ie)+"</span>"),Oo("onDayCreate",Gt),Gt}function pe(J){J.focus(),"range"===e.config.mode&&XM(J)}function Le(J){for(var xe=J>0?e.config.showMonths:-1,Ge=J>0?0:e.config.showMonths-1;Ge!=xe;Ge+=J)for(var xt=e.daysContainer.children[Ge],di=J>0?xt.children.length:-1,mn=J>0?0:xt.children.length-1;mn!=di;mn+=J){var bi=xt.children[mn];if(-1===bi.className.indexOf("hidden")&&Nl(bi.dateObj))return bi}}function bt(J,ie){var xe=s(),Ge=Ma(xe||document.body),xt=void 0!==J?J:Ge?xe:void 0!==e.selectedDateElem&&Ma(e.selectedDateElem)?e.selectedDateElem:void 0!==e.todayDateElem&&Ma(e.todayDateElem)?e.todayDateElem:Le(ie>0?1:-1);void 0===xt?e._input.focus():Ge?function et(J,ie){for(var xe=-1===J.className.indexOf("Month")?J.dateObj.getMonth():e.currentMonth,Ge=ie>0?e.config.showMonths:-1,xt=ie>0?1:-1,Gt=xe-e.currentMonth;Gt!=Ge;Gt+=xt)for(var di=e.daysContainer.children[Gt],bi=di.children.length,un=xe-e.currentMonth===Gt?J.$i+ie:ie<0?di.children.length-1:0;un>=0&&un<bi&&un!=(ie>0?bi:-1);un+=xt){var Gn=di.children[un];if(-1===Gn.className.indexOf("hidden")&&Nl(Gn.dateObj)&&Math.abs(J.$i-un)>=Math.abs(ie))return pe(Gn)}e.changeMonth(xt),bt(Le(xt),0)}(xt,ie):pe(xt)}function at(J,ie){for(var xe=(new Date(J,ie,1).getDay()-e.l10n.firstDayOfWeek+7)%7,Ge=e.utils.getDaysInMonth((ie-1+12)%12,J),xt=e.utils.getDaysInMonth(ie,J),Gt=window.document.createDocumentFragment(),di=e.config.showMonths>1,mn=di?"prevMonthDay hidden":"prevMonthDay",bi=di?"nextMonthDay hidden":"nextMonthDay",un=Ge+1-xe,Gn=0;un<=Ge;un++,Gn++)Gt.appendChild(ue("flatpickr-day "+mn,new Date(J,ie-1,un),0,Gn));for(un=1;un<=xt;un++,Gn++)Gt.appendChild(ue("flatpickr-day",new Date(J,ie,un),0,Gn));for(var Pr=xt+1;Pr<=42-xe&&(1===e.config.showMonths||Gn%7!=0);Pr++,Gn++)Gt.appendChild(ue("flatpickr-day "+bi,new Date(J,ie+1,Pr%xt),0,Gn));var af=tr("div","dayContainer");return af.appendChild(Gt),af}function ot(){if(void 0!==e.daysContainer){zM(e.daysContainer),e.weekNumbers&&zM(e.weekNumbers);for(var J=document.createDocumentFragment(),ie=0;ie<e.config.showMonths;ie++){var xe=new Date(e.currentYear,e.currentMonth,1);xe.setMonth(e.currentMonth+ie),J.appendChild(at(xe.getFullYear(),xe.getMonth()))}e.daysContainer.appendChild(J),e.days=e.daysContainer.firstChild,"range"===e.config.mode&&1===e.selectedDates.length&&XM()}}function En(){if(!(e.config.showMonths>1||"dropdown"!==e.config.monthSelectorType)){e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var ie=0;ie<12;ie++)if(Ge=ie,!(void 0!==e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&Ge<e.config.minDate.getMonth()||void 0!==e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()&&Ge>e.config.maxDate.getMonth())){var xe=tr("option","flatpickr-monthDropdown-month");xe.value=new Date(e.currentYear,ie).getMonth().toString(),xe.textContent=qM(ie,e.config.shorthandCurrentMonth,e.l10n),xe.tabIndex=-1,e.currentMonth===ie&&(xe.selected=!0),e.monthsDropdownContainer.appendChild(xe)}}var Ge}function Jn(){var xe,J=tr("div","flatpickr-month"),ie=window.document.createDocumentFragment();e.config.showMonths>1||"static"===e.config.monthSelectorType?xe=tr("span","cur-month"):(e.monthsDropdownContainer=tr("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),F(e.monthsDropdownContainer,"change",function(di){var mn=iu(di),bi=parseInt(mn.value,10);e.changeMonth(bi-e.currentMonth),Oo("onMonthChange")}),En(),xe=e.monthsDropdownContainer);var Ge=HM("cur-year",{tabindex:"-1"}),xt=Ge.getElementsByTagName("input")[0];xt.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&xt.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(xt.setAttribute("max",e.config.maxDate.getFullYear().toString()),xt.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var Gt=tr("div","flatpickr-current-month");return Gt.appendChild(xe),Gt.appendChild(Ge),ie.appendChild(Gt),J.appendChild(ie),{container:J,yearElement:xt,monthElement:xe}}function wi(){zM(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var J=e.config.showMonths;J--;){var ie=Jn();e.yearElements.push(ie.yearElement),e.monthElements.push(ie.monthElement),e.monthNav.appendChild(ie.container)}e.monthNav.appendChild(e.nextMonthNav)}function nn(){e.weekdayContainer?zM(e.weekdayContainer):e.weekdayContainer=tr("div","flatpickr-weekdays");for(var J=e.config.showMonths;J--;){var ie=tr("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(ie)}return $t(),e.weekdayContainer}function $t(){if(e.weekdayContainer){var J=e.l10n.firstDayOfWeek,ie=lG(e.l10n.weekdays.shorthand);J>0&&J<ie.length&&(ie=lG(ie.splice(J,ie.length),ie.splice(0,J)));for(var xe=e.config.showMonths;xe--;)e.weekdayContainer.children[xe].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+ie.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function nr(J,ie){void 0===ie&&(ie=!0);var xe=ie?J:J-e.currentMonth;xe<0&&!0===e._hidePrevMonthArrow||xe>0&&!0===e._hideNextMonthArrow||(e.currentMonth+=xe,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,Oo("onYearChange"),En()),ot(),Oo("onMonthChange"),nP())}function Aa(J){return e.calendarContainer.contains(J)}function ou(J){if(e.isOpen&&!e.config.inline){var ie=iu(J),xe=Aa(ie),xt=!(ie===e.input||ie===e.altInput||e.element.contains(ie)||J.path&&J.path.indexOf&&(~J.path.indexOf(e.input)||~J.path.indexOf(e.altInput))||xe||Aa(J.relatedTarget)),Gt=!e.config.ignoredFocusElements.some(function(di){return di.contains(ie)});xt&&Gt&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),void 0!==e.timeContainer&&void 0!==e.minuteElement&&void 0!==e.hourElement&&""!==e.input.value&&void 0!==e.input.value&&h(),e.close(),e.config&&"range"===e.config.mode&&1===e.selectedDates.length&&e.clear(!1))}}function as(J){if(!(!J||e.config.minDate&&J<e.config.minDate.getFullYear()||e.config.maxDate&&J>e.config.maxDate.getFullYear())){var xe=e.currentYear!==J;e.currentYear=J||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),xe&&(e.redraw(),Oo("onYearChange"),En())}}function Nl(J,ie){var xe;void 0===ie&&(ie=!0);var Ge=e.parseDate(J,void 0,ie);if(e.config.minDate&&Ge&&ru(Ge,e.config.minDate,void 0!==ie?ie:!e.minDateHasTime)<0||e.config.maxDate&&Ge&&ru(Ge,e.config.maxDate,void 0!==ie?ie:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&0===e.config.disable.length)return!0;if(void 0===Ge)return!1;for(var xt=!!e.config.enable,Gt=null!==(xe=e.config.enable)&&void 0!==xe?xe:e.config.disable,di=0,mn=void 0;di<Gt.length;di++){if("function"==typeof(mn=Gt[di])&&mn(Ge))return xt;if(mn instanceof Date&&void 0!==Ge&&mn.getTime()===Ge.getTime())return xt;if("string"==typeof mn){var bi=e.parseDate(mn,void 0,!0);return bi&&bi.getTime()===Ge.getTime()?xt:!xt}if("object"==typeof mn&&void 0!==Ge&&mn.from&&mn.to&&Ge.getTime()>=mn.from.getTime()&&Ge.getTime()<=mn.to.getTime())return xt}return!xt}function Ma(J){return void 0!==e.daysContainer&&-1===J.className.indexOf("hidden")&&-1===J.className.indexOf("flatpickr-disabled")&&e.daysContainer.contains(J)}function vw(J){var ie=J.target===e._input,xe=e._input.value.trimEnd()!==k3();ie&&xe&&(!J.relatedTarget||!Aa(J.relatedTarget))&&e.setDate(e._input.value,!0,J.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function yw(J){var ie=iu(J),xe=e.config.wrap?n.contains(ie):ie===e._input,Ge=e.config.allowInput,xt=e.isOpen&&(!Ge||!xe),Gt=e.config.inline&&xe&&!Ge;if(13===J.keyCode&&xe){if(Ge)return e.setDate(e._input.value,!0,ie===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),ie.blur();e.open()}else if(Aa(ie)||xt||Gt){var di=!!e.timeContainer&&e.timeContainer.contains(ie);switch(J.keyCode){case 13:di?(J.preventDefault(),h(),A3()):YG(J);break;case 27:J.preventDefault(),A3();break;case 8:case 46:xe&&!e.config.allowInput&&(J.preventDefault(),e.clear());break;case 37:case 39:if(di||xe)e.hourElement&&e.hourElement.focus();else{J.preventDefault();var mn=s();if(void 0!==e.daysContainer&&(!1===Ge||mn&&Ma(mn))){var bi=39===J.keyCode?1:-1;J.ctrlKey?(J.stopPropagation(),nr(bi),bt(Le(1),0)):bt(void 0,bi)}}break;case 38:case 40:J.preventDefault();var un=40===J.keyCode?1:-1;e.daysContainer&&void 0!==ie.$i||ie===e.input||ie===e.altInput?J.ctrlKey?(J.stopPropagation(),as(e.currentYear-un),bt(Le(1),0)):di||bt(void 0,7*un):ie===e.currentYearElement?as(e.currentYear-un):e.config.enableTime&&(!di&&e.hourElement&&e.hourElement.focus(),h(J),e._debouncedChange());break;case 9:if(di){var Gn=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(su){return su}),Pr=Gn.indexOf(ie);if(-1!==Pr){var af=Gn[Pr+(J.shiftKey?-1:1)];J.preventDefault(),(af||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(ie)&&J.shiftKey&&(J.preventDefault(),e._input.focus())}}if(void 0!==e.amPM&&ie===e.amPM)switch(J.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],b(),Ep();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],b(),Ep()}(xe||Aa(ie))&&Oo("onKeyDown",J)}function XM(J,ie){if(void 0===ie&&(ie="flatpickr-day"),1===e.selectedDates.length&&(!J||J.classList.contains(ie)&&!J.classList.contains("flatpickr-disabled"))){for(var xe=J?J.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),Ge=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),xt=Math.min(xe,e.selectedDates[0].getTime()),Gt=Math.max(xe,e.selectedDates[0].getTime()),di=!1,mn=0,bi=0,un=xt;un<Gt;un+=Rge.DAY)Nl(new Date(un),!0)||(di=di||un>xt&&un<Gt,un<Ge&&(!mn||un>mn)?mn=un:un>Ge&&(!bi||un<bi)&&(bi=un));Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+ie)).forEach(function(Pr){var su=Pr.dateObj.getTime(),ID=mn>0&&su<mn||bi>0&&su>bi;if(ID)return Pr.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach(function(ww){Pr.classList.remove(ww)});di&&!ID||(["startRange","inRange","endRange","notAllowed"].forEach(function(ww){Pr.classList.remove(ww)}),void 0!==J&&(J.classList.add(xe<=e.selectedDates[0].getTime()?"startRange":"endRange"),Ge<xe&&su===Ge?Pr.classList.add("startRange"):Ge>xe&&su===Ge&&Pr.classList.add("endRange"),su>=mn&&(0===bi||su<=bi)&&kge(su,Ge,xe)&&Pr.classList.add("inRange")))})}}function nve(){e.isOpen&&!e.config.static&&!e.config.inline&&eP()}function jG(J){return function(ie){var xe=e.config["_"+J+"Date"]=e.parseDate(ie,e.config.dateFormat),Ge=e.config["_"+("min"===J?"max":"min")+"Date"];void 0!==xe&&(e["min"===J?"minDateHasTime":"maxDateHasTime"]=xe.getHours()>0||xe.getMinutes()>0||xe.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(xt){return Nl(xt)}),!e.selectedDates.length&&"min"===J&&D(xe),Ep()),e.daysContainer&&(GG(),void 0!==xe?e.currentYearElement[J]=xe.getFullYear().toString():e.currentYearElement.removeAttribute(J),e.currentYearElement.disabled=!!Ge&&void 0!==xe&&Ge.getFullYear()===xe.getFullYear())}}function WG(){return e.config.wrap?n.querySelector("[data-input]"):n}function $G(){"object"!=typeof e.config.locale&&typeof bs.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=tl(tl({},bs.l10ns.default),"object"==typeof e.config.locale?e.config.locale:"default"!==e.config.locale?bs.l10ns[e.config.locale]:void 0),Sv.D="("+e.l10n.weekdays.shorthand.join("|")+")",Sv.l="("+e.l10n.weekdays.longhand.join("|")+")",Sv.M="("+e.l10n.months.shorthand.join("|")+")",Sv.F="("+e.l10n.months.longhand.join("|")+")",Sv.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")",void 0===tl(tl({},t),JSON.parse(JSON.stringify(n.dataset||{}))).time_24hr&&void 0===bs.defaultConfig.time_24hr&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=aG(e),e.parseDate=u3({config:e.config,l10n:e.l10n})}function eP(J){if("function"!=typeof e.config.position){if(void 0!==e.calendarContainer){Oo("onPreCalendarPosition");var ie=J||e._positionElement,xe=Array.prototype.reduce.call(e.calendarContainer.children,function(Eve,Tve){return Eve+Tve.offsetHeight},0),Ge=e.calendarContainer.offsetWidth,xt=e.config.position.split(" "),Gt=xt[0],di=xt.length>1?xt[1]:null,mn=ie.getBoundingClientRect(),bi=window.innerHeight-mn.bottom,un="above"===Gt||"below"!==Gt&&bi<xe&&mn.top>xe,Gn=window.pageYOffset+mn.top+(un?-xe-2:ie.offsetHeight+2);if(Rl(e.calendarContainer,"arrowTop",!un),Rl(e.calendarContainer,"arrowBottom",un),!e.config.inline){var Pr=window.pageXOffset+mn.left,af=!1,su=!1;"center"===di?(Pr-=(Ge-mn.width)/2,af=!0):"right"===di&&(Pr-=Ge-mn.width,su=!0),Rl(e.calendarContainer,"arrowLeft",!af&&!su),Rl(e.calendarContainer,"arrowCenter",af),Rl(e.calendarContainer,"arrowRight",su);var ID=window.document.body.offsetWidth-(window.pageXOffset+mn.right),ww=Pr+Ge>window.document.body.offsetWidth,mve=ID+Ge>window.document.body.offsetWidth;if(Rl(e.calendarContainer,"rightMost",ww),!e.config.static)if(e.calendarContainer.style.top=Gn+"px",ww)if(mve){var O3=function ove(){for(var J=null,ie=0;ie<document.styleSheets.length;ie++){var xe=document.styleSheets[ie];if(xe.cssRules){J=xe;break}}return J??function sve(){var J=document.createElement("style");return document.head.appendChild(J),J.sheet}()}();if(void 0===O3)return;var _ve=window.document.body.offsetWidth,vve=Math.max(0,_ve/2-Ge/2),bve=O3.cssRules.length,Cve="{left:"+mn.left+"px;right:auto;}";Rl(e.calendarContainer,"rightMost",!1),Rl(e.calendarContainer,"centerMost",!0),O3.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+Cve,bve),e.calendarContainer.style.left=vve+"px",e.calendarContainer.style.right="auto"}else e.calendarContainer.style.left="auto",e.calendarContainer.style.right=ID+"px";else e.calendarContainer.style.left=Pr+"px",e.calendarContainer.style.right="auto"}}}else e.config.position(e,J)}function GG(){e.config.noCalendar||e.isMobile||(En(),nP(),ot())}function A3(){e._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(e.close,0):e.close()}function YG(J){J.preventDefault(),J.stopPropagation();var xe=sG(iu(J),function(Gn){return Gn.classList&&Gn.classList.contains("flatpickr-day")&&!Gn.classList.contains("flatpickr-disabled")&&!Gn.classList.contains("notAllowed")});if(void 0!==xe){var Ge=xe,xt=e.latestSelectedDateObj=new Date(Ge.dateObj.getTime()),Gt=(xt.getMonth()<e.currentMonth||xt.getMonth()>e.currentMonth+e.config.showMonths-1)&&"range"!==e.config.mode;if(e.selectedDateElem=Ge,"single"===e.config.mode)e.selectedDates=[xt];else if("multiple"===e.config.mode){var di=P3(xt);di?e.selectedDates.splice(parseInt(di),1):e.selectedDates.push(xt)}else"range"===e.config.mode&&(2===e.selectedDates.length&&e.clear(!1,!1),e.latestSelectedDateObj=xt,e.selectedDates.push(xt),0!==ru(xt,e.selectedDates[0],!0)&&e.selectedDates.sort(function(Gn,Pr){return Gn.getTime()-Pr.getTime()}));if(b(),Gt){var mn=e.currentYear!==xt.getFullYear();e.currentYear=xt.getFullYear(),e.currentMonth=xt.getMonth(),mn&&(Oo("onYearChange"),En()),Oo("onMonthChange")}nP(),ot(),Ep(),Gt||"range"===e.config.mode||1!==e.config.showMonths?void 0!==e.selectedDateElem&&void 0===e.hourElement&&e.selectedDateElem&&e.selectedDateElem.focus():pe(Ge),void 0!==e.hourElement&&void 0!==e.hourElement&&e.hourElement.focus(),e.config.closeOnSelect&&("single"===e.config.mode&&!e.config.enableTime||"range"===e.config.mode&&2===e.selectedDates.length&&!e.config.enableTime)&&A3(),V()}}e.parseDate=u3({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=F,e._setHoursFromDate=D,e._positionCalendar=eP,e.changeMonth=nr,e.changeYear=as,e.clear=function Hr(J,ie){if(void 0===J&&(J=!0),void 0===ie&&(ie=!0),e.input.value="",void 0!==e.altInput&&(e.altInput.value=""),void 0!==e.mobileInput&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,!0===ie&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),!0===e.config.enableTime){var xe=h3(e.config);P(xe.hours,xe.minutes,xe.seconds)}e.redraw(),J&&Oo("onChange")},e.close=function sa(){e.isOpen=!1,e.isMobile||(void 0!==e.calendarContainer&&e.calendarContainer.classList.remove("open"),void 0!==e._input&&e._input.classList.remove("active")),Oo("onClose")},e.onMouseOver=XM,e._createElement=tr,e.createDay=ue,e.destroy=function ki(){void 0!==e.config&&Oo("onDestroy");for(var J=e._handlers.length;J--;)e._handlers[J].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var ie=e.calendarContainer.parentNode;if(ie.lastChild&&ie.removeChild(ie.lastChild),ie.parentNode){for(;ie.firstChild;)ie.parentNode.insertBefore(ie.firstChild,ie);ie.parentNode.removeChild(ie)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(xe){try{delete e[xe]}catch{}})},e.isEnabled=Nl,e.jumpToDate=ee,e.updateValue=Ep,e.open=function ive(J,ie){if(void 0===ie&&(ie=e._positionElement),!0===e.isMobile){if(J){J.preventDefault();var xe=iu(J);xe&&xe.blur()}return void 0!==e.mobileInput&&(e.mobileInput.focus(),e.mobileInput.click()),void Oo("onOpen")}if(!e._input.disabled&&!e.config.inline){var Ge=e.isOpen;e.isOpen=!0,Ge||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),Oo("onOpen"),eP(ie)),!0===e.config.enableTime&&!0===e.config.noCalendar&&!1===e.config.allowInput&&(void 0===J||!e.timeContainer.contains(J.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}},e.redraw=GG,e.set=function ave(J,ie){if(null!==J&&"object"==typeof J)for(var xe in Object.assign(e.config,J),J)void 0!==tP[xe]&&tP[xe].forEach(function(Ge){return Ge()});else e.config[J]=ie,void 0!==tP[J]?tP[J].forEach(function(Ge){return Ge()}):o3.indexOf(J)>-1&&(e.config[J]=l3(ie));e.redraw(),Ep(!0)},e.setDate=function lve(J,ie,xe){if(void 0===ie&&(ie=!1),void 0===xe&&(xe=e.config.dateFormat),0!==J&&!J||J instanceof Array&&0===J.length)return e.clear(ie);KG(J,xe),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),ee(void 0,ie),D(),0===e.selectedDates.length&&e.clear(!1),Ep(ie),ie&&Oo("onChange")},e.toggle=function hve(J){if(!0===e.isOpen)return e.close();e.open(J)};var tP={locale:[$G,$t],showMonths:[wi,c,nn],minDate:[ee],maxDate:[ee],positionElement:[JG],clickOpens:[function(){!0===e.config.clickOpens?(F(e._input,"focus",e.open),F(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function KG(J,ie){var xe=[];if(J instanceof Array)xe=J.map(function(Ge){return e.parseDate(Ge,ie)});else if(J instanceof Date||"number"==typeof J)xe=[e.parseDate(J,ie)];else if("string"==typeof J)switch(e.config.mode){case"single":case"time":xe=[e.parseDate(J,ie)];break;case"multiple":xe=J.split(e.config.conjunction).map(function(Ge){return e.parseDate(Ge,ie)});break;case"range":xe=J.split(e.l10n.rangeSeparator).map(function(Ge){return e.parseDate(Ge,ie)})}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(J)));e.selectedDates=e.config.allowInvalidPreload?xe:xe.filter(function(Ge){return Ge instanceof Date&&Nl(Ge,!1)}),"range"===e.config.mode&&e.selectedDates.sort(function(Ge,xt){return Ge.getTime()-xt.getTime()})}function QG(J){return J.slice().map(function(ie){return"string"==typeof ie||"number"==typeof ie||ie instanceof Date?e.parseDate(ie,void 0,!0):ie&&"object"==typeof ie&&ie.from&&ie.to?{from:e.parseDate(ie.from,void 0),to:e.parseDate(ie.to,void 0)}:ie}).filter(function(ie){return ie})}function JG(){e._positionElement=e.config.positionElement||e._input}function Oo(J,ie){if(void 0!==e.config){var xe=e.config[J];if(void 0!==xe&&xe.length>0)for(var Ge=0;xe[Ge]&&Ge<xe.length;Ge++)xe[Ge](e.selectedDates,e.input.value,e,ie);"onChange"===J&&(e.input.dispatchEvent(M3("change")),e.input.dispatchEvent(M3("input")))}}function M3(J){var ie=document.createEvent("Event");return ie.initEvent(J,!0,!0),ie}function P3(J){for(var ie=0;ie<e.selectedDates.length;ie++){var xe=e.selectedDates[ie];if(xe instanceof Date&&0===ru(xe,J))return""+ie}return!1}function nP(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(J,ie){var xe=new Date(e.currentYear,e.currentMonth,1);xe.setMonth(e.currentMonth+ie),e.config.showMonths>1||"static"===e.config.monthSelectorType?e.monthElements[ie].textContent=qM(xe.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=xe.getMonth().toString(),J.value=xe.getFullYear().toString()}),e._hidePrevMonthArrow=void 0!==e.config.minDate&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=void 0!==e.config.maxDate&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function k3(J){var ie=J||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(xe){return e.formatDate(xe,ie)}).filter(function(xe,Ge,xt){return"range"!==e.config.mode||e.config.enableTime||xt.indexOf(xe)===Ge}).join("range"!==e.config.mode?e.config.conjunction:e.l10n.rangeSeparator)}function Ep(J){void 0===J&&(J=!0),void 0!==e.mobileInput&&e.mobileFormatStr&&(e.mobileInput.value=void 0!==e.latestSelectedDateObj?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=k3(e.config.dateFormat),void 0!==e.altInput&&(e.altInput.value=k3(e.config.altFormat)),!1!==J&&Oo("onValueUpdate")}function pve(J){var ie=iu(J),xe=e.prevMonthNav.contains(ie),Ge=e.nextMonthNav.contains(ie);xe||Ge?nr(xe?-1:1):e.yearElements.indexOf(ie)>=0?ie.select():ie.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):ie.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}return function r(){e.element=e.input=n,e.isOpen=!1,function rve(){var J=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],ie=tl(tl({},JSON.parse(JSON.stringify(n.dataset||{}))),t),xe={};e.config.parseDate=ie.parseDate,e.config.formatDate=ie.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(Gn){e.config._enable=QG(Gn)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(Gn){e.config._disable=QG(Gn)}});var Ge="time"===ie.mode;ie.dateFormat||!ie.enableTime&&!Ge||(xe.dateFormat=ie.noCalendar||Ge?"H:i"+(ie.enableSeconds?":S":""):(bs.defaultConfig.dateFormat||fw.dateFormat)+" H:i"+(ie.enableSeconds?":S":"")),ie.altInput&&(ie.enableTime||Ge)&&!ie.altFormat&&(xe.altFormat=ie.noCalendar||Ge?"h:i"+(ie.enableSeconds?":S K":" K"):(bs.defaultConfig.altFormat||fw.altFormat)+" h:i"+(ie.enableSeconds?":S":"")+" K"),Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:jG("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:jG("max")});var di=function(Gn){return function(Pr){e.config["min"===Gn?"_minTime":"_maxTime"]=e.parseDate(Pr,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:di("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:di("max")}),"time"===ie.mode&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,xe,ie);for(var mn=0;mn<J.length;mn++)e.config[J[mn]]=!0===e.config[J[mn]]||"true"===e.config[J[mn]];for(o3.filter(function(Gn){return void 0!==e.config[Gn]}).forEach(function(Gn){e.config[Gn]=l3(e.config[Gn]||[]).map(a)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&"single"===e.config.mode&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),mn=0;mn<e.config.plugins.length;mn++){var bi=e.config.plugins[mn](e)||{};for(var un in bi)o3.indexOf(un)>-1?e.config[un]=l3(bi[un]).map(a).concat(e.config[un]):typeof ie[un]>"u"&&(e.config[un]=bi[un])}ie.altInputClass||(e.config.altInputClass=WG().className+" "+e.config.altInputClass),Oo("onParseConfig")}(),$G(),function uve(){e.input=WG(),e.input?(e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=tr(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),JG()):e.config.errorHandler(new Error("Invalid input element specified"))}(),function cve(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var J=e.config.defaultDate||("INPUT"!==e.input.nodeName&&"TEXTAREA"!==e.input.nodeName||!e.input.placeholder||e.input.value!==e.input.placeholder?e.input.value:null);J&&KG(J,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),void 0!==e.config.minTime&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),void 0!==e.config.maxTime&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}(),function i(){e.utils={getDaysInMonth:function(J,ie){return void 0===J&&(J=e.currentMonth),void 0===ie&&(ie=e.currentYear),1===J&&(ie%4==0&&ie%100!=0||ie%400==0)?29:e.l10n.daysInMonth[J]}}}(),e.isMobile||function _e(){var J=window.document.createDocumentFragment();if(e.calendarContainer=tr("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(J.appendChild(function Ct(){return e.monthNav=tr("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=tr("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=tr("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,wi(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(J){e.__hidePrevMonthArrow!==J&&(Rl(e.prevMonthNav,"flatpickr-disabled",J),e.__hidePrevMonthArrow=J)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(J){e.__hideNextMonthArrow!==J&&(Rl(e.nextMonthNav,"flatpickr-disabled",J),e.__hideNextMonthArrow=J)}}),e.currentYearElement=e.yearElements[0],nP(),e.monthNav}()),e.innerContainer=tr("div","flatpickr-innerContainer"),e.config.weekNumbers){var ie=function Ni(){e.calendarContainer.classList.add("hasWeeks");var J=tr("div","flatpickr-weekwrapper");J.appendChild(tr("span","flatpickr-weekday",e.l10n.weekAbbreviation));var ie=tr("div","flatpickr-weeks");return J.appendChild(ie),{weekWrapper:J,weekNumbers:ie}}(),xe=ie.weekWrapper,Ge=ie.weekNumbers;e.innerContainer.appendChild(xe),e.weekNumbers=Ge,e.weekWrapper=xe}e.rContainer=tr("div","flatpickr-rContainer"),e.rContainer.appendChild(nn()),e.daysContainer||(e.daysContainer=tr("div","flatpickr-days"),e.daysContainer.tabIndex=-1),ot(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),J.appendChild(e.innerContainer)}e.config.enableTime&&J.appendChild(function At(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var J=h3(e.config);e.timeContainer=tr("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var ie=tr("span","flatpickr-time-separator",":"),xe=HM("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=xe.getElementsByTagName("input")[0];var Ge=HM("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=Ge.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=_c(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?J.hours:function v(J){switch(J%24){case 0:case 12:return 12;default:return J%12}}(J.hours)),e.minuteElement.value=_c(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():J.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(xe),e.timeContainer.appendChild(ie),e.timeContainer.appendChild(Ge),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var xt=HM("flatpickr-second");e.secondElement=xt.getElementsByTagName("input")[0],e.secondElement.value=_c(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():J.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(tr("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(xt)}return e.config.time_24hr||(e.amPM=tr("span","flatpickr-am-pm",e.l10n.amPM[$u((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}()),Rl(e.calendarContainer,"rangeMode","range"===e.config.mode),Rl(e.calendarContainer,"animate",!0===e.config.animate),Rl(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(J);var xt=void 0!==e.config.appendTo&&void 0!==e.config.appendTo.nodeType;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!xt&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):void 0!==e.config.appendTo&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var Gt=tr("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(Gt,e.element),Gt.appendChild(e.element),e.altInput&&Gt.appendChild(e.altInput),Gt.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(void 0!==e.config.appendTo?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}(),function Q(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(xe){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+xe+"]"),function(Ge){return F(Ge,"click",e[xe])})}),e.isMobile)!function dve(){var J=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=tr("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=J,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr="datetime-local"===J?"Y-m-d\\TH:i:S":"date"===J?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",void 0!==e.altInput&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}F(e.mobileInput,"change",function(ie){e.setDate(iu(ie).value,!1,e.mobileFormatStr),Oo("onChange"),Oo("onClose")})}();else{var J=oG(nve,50);if(e._debouncedChange=oG(V,Nge),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&F(e.daysContainer,"mouseover",function(xe){"range"===e.config.mode&&XM(iu(xe))}),F(e._input,"keydown",yw),void 0!==e.calendarContainer&&F(e.calendarContainer,"keydown",yw),!e.config.inline&&!e.config.static&&F(window,"resize",J),void 0!==window.ontouchstart?F(window.document,"touchstart",ou):F(window.document,"mousedown",ou),F(window.document,"focus",ou,{capture:!0}),!0===e.config.clickOpens&&(F(e._input,"focus",e.open),F(e._input,"click",e.open)),void 0!==e.daysContainer&&(F(e.monthNav,"click",pve),F(e.monthNav,["keyup","increment"],R),F(e.daysContainer,"click",YG)),void 0!==e.timeContainer&&void 0!==e.minuteElement&&void 0!==e.hourElement){F(e.timeContainer,["increment"],h),F(e.timeContainer,"blur",h,{capture:!0}),F(e.timeContainer,"click",re),F([e.hourElement,e.minuteElement],["focus","click"],function(xe){return iu(xe).select()}),void 0!==e.secondElement&&F(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),void 0!==e.amPM&&F(e.amPM,"click",function(xe){h(xe)})}e.config.allowInput&&F(e._input,"blur",vw)}}(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&D(e.config.noCalendar?e.latestSelectedDateObj:void 0),Ep(!1)),c();var J=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&J&&eP(),Oo("onReady")}(),e}function pw(n,t){for(var e=Array.prototype.slice.call(n).filter(function(a){return a instanceof HTMLElement}),i=[],r=0;r<e.length;r++){var s=e[r];try{if(null!==s.getAttribute("data-fp-omit"))continue;void 0!==s._flatpickr&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=Lge(s,t||{}),i.push(s._flatpickr)}catch(a){console.error(a)}}return 1===i.length?i[0]:i}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return pw(this,n)},HTMLElement.prototype.flatpickr=function(n){return pw([this],n)});var bs=function(n,t){return"string"==typeof n?pw(window.document.querySelectorAll(n),t):n instanceof Node?pw([n],t):pw(n,t)};bs.defaultConfig={},bs.l10ns={en:tl({},a3),default:tl({},a3)},bs.localize=function(n){bs.l10ns.default=tl(tl({},bs.l10ns.default),n)},bs.setDefaults=function(n){bs.defaultConfig=tl(tl({},bs.defaultConfig),n)},bs.parseDate=u3({}),bs.formatDate=aG({}),bs.compareDates=ru,typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return pw(this,n)}),Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof n?parseInt(n,10):n))},typeof window<"u"&&(window.flatpickr=bs);const Fge=bs;let f3=(()=>{class n{constructor(){this.altFormat="F j, Y",this.altInput=!1,this.altInputClass="",this.allowInput=!1,this.allowInvalidPreload=!1,this.appendTo=void 0,this.ariaDateFormat="F j, Y",this.clickOpens=!0,this.dateFormat="Y-m-d",this.defaultHour=12,this.defaultMinute=0,this.defaultSeconds=0,this.disable=[],this.disableMobile=!1,this.enableTime=!1,this.enableSeconds=!1,this.formatDate=void 0,this.hourIncrement=1,this.inline=!1,this.maxDate=void 0,this.minDate=void 0,this.maxTime=void 0,this.minTime=void 0,this.minuteIncrement=5,this.mode="single",this.nextArrow=">",this.noCalendar=!1,this.now=new Date,this.prevArrow="<",this.shorthandCurrentMonth=!1,this.static=!1,this.time24hr=!1,this.utc=!1,this.weekNumbers=!1,this.wrap=!1,this.plugins=[],this.locale="default",this.convertModelValue=!1,this.showMonths=1,this.monthSelectorType="static",this.ignoredFocusElements=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Uge={provide:zd,useExisting:(0,o.Gpc)(()=>Bge),multi:!0};let Bge=(()=>{class n{constructor(e,i,r){this.elm=e,this.defaults=i,this.renderer=r,this.options={},this.ignoredFocusElements=[],this.flatpickrReady=new o.vpe,this.flatpickrChange=new o.vpe,this.flatpickrValueUpdate=new o.vpe,this.flatpickrOpen=new o.vpe,this.flatpickrClose=new o.vpe,this.flatpickrMonthChange=new o.vpe,this.flatpickrYearChange=new o.vpe,this.flatpickrDayCreate=new o.vpe,this.isDisabled=!1,this.onChangeFn=()=>{},this.onTouchedFn=()=>{}}ngAfterViewInit(){const e={altFormat:this.altFormat,altInput:this.altInput,altInputClass:this.altInputClass,allowInput:this.allowInput,allowInvalidPreload:this.allowInvalidPreload,appendTo:this.appendTo,ariaDateFormat:this.ariaDateFormat,clickOpens:this.clickOpens,dateFormat:this.dateFormat,defaultHour:this.defaultHour,defaultMinute:this.defaultMinute,defaultSeconds:this.defaultSeconds,disable:this.disable,disableMobile:this.disableMobile,enable:this.enable,enableTime:this.enableTime,enableSeconds:this.enableSeconds,formatDate:this.formatDate,hourIncrement:this.hourIncrement,defaultDate:this.initialValue,inline:this.inline,maxDate:this.maxDate,minDate:this.minDate,maxTime:this.maxTime,minTime:this.minTime,minuteIncrement:this.minuteIncrement,mode:this.mode,nextArrow:this.nextArrow,noCalendar:this.noCalendar,now:this.now,parseDate:this.parseDate,prevArrow:this.prevArrow,shorthandCurrentMonth:this.shorthandCurrentMonth,showMonths:this.showMonths,monthSelectorType:this.monthSelectorType,static:this.static,time24hr:this.time24hr,weekNumbers:this.weekNumbers,getWeek:this.getWeek,wrap:this.wrap,plugins:this.plugins,locale:this.locale,ignoredFocusElements:this.ignoredFocusElements,onChange:(i,r,s)=>{this.flatpickrChange.emit({selectedDates:i,dateString:r,instance:s})},onOpen:(i,r,s)=>{this.flatpickrOpen.emit({selectedDates:i,dateString:r,instance:s})},onClose:(i,r,s)=>{this.flatpickrClose.emit({selectedDates:i,dateString:r,instance:s})},onMonthChange:(i,r,s)=>{this.flatpickrMonthChange.emit({selectedDates:i,dateString:r,instance:s})},onYearChange:(i,r,s)=>{this.flatpickrYearChange.emit({selectedDates:i,dateString:r,instance:s})},onReady:(i,r,s)=>{this.flatpickrReady.emit({selectedDates:i,dateString:r,instance:s})},onValueUpdate:(i,r,s)=>{this.flatpickrValueUpdate.emit({selectedDates:i,dateString:r,instance:s})},onDayCreate:(i,r,s,a)=>{this.flatpickrDayCreate.emit({selectedDates:i,dateString:r,instance:s,dayElement:a})}};Object.keys(e).forEach(i=>{typeof e[i]>"u"&&(e[i]=typeof this.options[i]<"u"?this.options[i]:this.defaults[i])}),e.time_24hr=e.time24hr,e.altInputClass=(e.altInputClass||"")+" "+this.elm.nativeElement.className,e.enable||delete e.enable,this.instance=Fge(this.elm.nativeElement,e),this.setDisabledState(this.isDisabled)}ngOnChanges(e){this.instance&&Object.keys(e).forEach(i=>{this.instance.set(i,this[i])})}ngOnDestroy(){this.instance&&this.instance.destroy()}writeValue(e){let i=e;this.convertModelValue&&"range"===this.mode&&e&&(i=[e.from,e.to]),this.instance?this.instance.setDate(i):this.initialValue=i}registerOnChange(e){this.onChangeFn=e}registerOnTouched(e){this.onTouchedFn=e}setDisabledState(e){this.isDisabled=e,this.instance&&(this.isDisabled?this.renderer.setProperty(this.instance._input,"disabled","disabled"):this.renderer.removeAttribute(this.instance._input,"disabled"))}inputChanged(){const e=this.elm.nativeElement.value;if(this.convertModelValue&&"string"==typeof e)switch(this.mode){case"multiple":const i=e.split("; ").map(a=>this.instance.parseDate(a,this.instance.config.dateFormat,!this.instance.config.enableTime));this.onChangeFn(i);break;case"range":const[r,s]=e.split(this.instance.l10n.rangeSeparator).map(a=>this.instance.parseDate(a,this.instance.config.dateFormat,!this.instance.config.enableTime));this.onChangeFn({from:r,to:s});break;default:this.onChangeFn(this.instance.parseDate(e,this.instance.config.dateFormat,!this.instance.config.enableTime))}else this.onChangeFn(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(f3),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","mwlFlatpickr",""]],hostBindings:function(e,i){1&e&&o.NdJ("blur",function(){return i.onTouchedFn()})("input",function(){return i.inputChanged()})},inputs:{options:"options",altFormat:"altFormat",altInput:"altInput",altInputClass:"altInputClass",allowInput:"allowInput",allowInvalidPreload:"allowInvalidPreload",appendTo:"appendTo",ariaDateFormat:"ariaDateFormat",clickOpens:"clickOpens",dateFormat:"dateFormat",defaultHour:"defaultHour",defaultMinute:"defaultMinute",defaultSeconds:"defaultSeconds",disable:"disable",disableMobile:"disableMobile",enable:"enable",enableTime:"enableTime",enableSeconds:"enableSeconds",formatDate:"formatDate",hourIncrement:"hourIncrement",inline:"inline",maxDate:"maxDate",minDate:"minDate",maxTime:"maxTime",minTime:"minTime",minuteIncrement:"minuteIncrement",mode:"mode",nextArrow:"nextArrow",noCalendar:"noCalendar",now:"now",parseDate:"parseDate",prevArrow:"prevArrow",shorthandCurrentMonth:"shorthandCurrentMonth",showMonths:"showMonths",static:"static",time24hr:"time24hr",weekNumbers:"weekNumbers",getWeek:"getWeek",wrap:"wrap",plugins:"plugins",locale:"locale",convertModelValue:"convertModelValue",monthSelectorType:"monthSelectorType",ignoredFocusElements:"ignoredFocusElements"},outputs:{flatpickrReady:"flatpickrReady",flatpickrChange:"flatpickrChange",flatpickrValueUpdate:"flatpickrValueUpdate",flatpickrOpen:"flatpickrOpen",flatpickrClose:"flatpickrClose",flatpickrMonthChange:"flatpickrMonthChange",flatpickrYearChange:"flatpickrYearChange",flatpickrDayCreate:"flatpickrDayCreate"},exportAs:["mwlFlatpickr"],features:[o._Bn([Uge]),o.TTD]}),n})();const cG=new o.OlP("flatpickr defaults");function Vge(n){const t=new f3;return Object.assign(t,n),t}let Zge=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[{provide:cG,useValue:e},{provide:f3,useFactory:Vge,deps:[cG]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var zge=function(){function n(){}return n.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},n.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},n.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},n.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},n.prototype.position=function(t,e){void 0===e&&(e=!0);var i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i={top:(i=t.getBoundingClientRect()).top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{var s=this.offsetParent(t);i=this.offset(t,!1),s!==document.documentElement&&(r=this.offset(s,!1)),r.top+=s.clientTop,r.left+=s.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},n.prototype.offset=function(t,e){void 0===e&&(e=!0);var i=t.getBoundingClientRect(),r_top=window.pageYOffset-document.documentElement.clientTop,r_left=window.pageXOffset-document.documentElement.clientLeft,s={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s},n.prototype.positionElements=function(t,e,i,r){var s=i.split("-"),a=s[0],c=void 0===a?"top":a,h=s[1],p=void 0===h?"center":h,v=r?this.offset(t,!1):this.position(t,!1),b=this.getAllStyles(e),D=parseFloat(b.marginTop),P=parseFloat(b.marginBottom),R=parseFloat(b.marginLeft),F=parseFloat(b.marginRight),V=0,Q=0;switch(c){case"top":V=v.top-(e.offsetHeight+D+P);break;case"bottom":V=v.top+v.height;break;case"left":Q=v.left-(e.offsetWidth+R+F);break;case"right":Q=v.left+v.width}switch(p){case"top":V=v.top;break;case"bottom":V=v.top+v.height-e.offsetHeight;break;case"left":Q=v.left;break;case"right":Q=v.left+v.width-e.offsetWidth;break;case"center":"top"===c||"bottom"===c?Q=v.left+v.width/2-e.offsetWidth/2:V=v.top+v.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(Q)+"px, "+Math.round(V)+"px)";var ee=e.getBoundingClientRect(),re=document.documentElement,de=window.innerHeight||re.clientHeight,_e=window.innerWidth||re.clientWidth;return ee.left>=0&&ee.top>=0&&ee.right<=_e&&ee.bottom<=de},n}();new zge;var jd=function(){return jd=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},jd.apply(this,arguments)},p3=function(n,t,e){if(e||2===arguments.length)for(var s,i=0,r=t.length;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return n.concat(s||Array.prototype.slice.call(t))},_D=(()=>(function(n){n[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY"}(_D||(_D={})),_D))(),qge=[_D.SUNDAY,_D.SATURDAY],g3=7,m3=24,jM=60,mm=86400;function dG(n,t){var e=t.startDate,r=t.excluded,s=t.precision;if(r.length<1)return 0;for(var c=n.getDay,h=n.addDays,p=(0,n.addSeconds)(e,t.seconds-1),v=c(e),b=c(p),D=0,P=e,R=function(){var F=c(P);r.some(function(V){return V===F})&&(D+=function jge(n,t){var i=t.day,s=t.dayEnd,a=t.startDate,c=t.endDate,h=n.differenceInSeconds,v=n.startOfDay;if("minutes"===t.precision){if(i===t.dayStart)return h((0,n.endOfDay)(a),a)+1;if(i===s)return h(c,v(c))+1}return mm}(n,{dayStart:v,dayEnd:b,day:F,precision:s,startDate:e,endDate:p})),P=h(P,1)};P<p;)R();return D}function vD(n,t){var i=t.periodStart,r=t.periodEnd;return t.events.filter(function(s){return function Gge(n,t){var e=t.event,i=t.periodStart,r=t.periodEnd,s=n.isSameSecond,a=e.start,c=e.end||e.start;return!!(a>i&&a<r||c>i&&c<r||a<i&&c>r||s(a,i)||s(a,r)||s(c,i)||s(c,r))}(n,{event:s,periodStart:i,periodEnd:r})})}function hG(n,t){var e=t.date,i=t.weekendDays,r=void 0===i?qge:i,a=n.isSameDay,c=n.getDay,h=(0,n.startOfDay)(new Date),p=c(e);return{date:e,day:p,isPast:e<h,isToday:a(e,h),isFuture:e>h,isWeekend:r.indexOf(p)>-1}}function _3(n,t){for(var r=t.excluded,s=void 0===r?[]:r,a=t.weekendDays,c=t.viewStart,h=void 0===c?n.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):c,p=t.viewEnd,v=void 0===p?n.addDays(h,g3):p,b=n.addDays,D=n.getDay,P=[],R=h;R<v;)s.some(function(F){return D(R)===F})||P.push(hG(n,{date:R,weekendDays:a})),R=b(R,1);return P}function Kge(n,t){var e=t.events,i=void 0===e?[]:e,r=t.excluded,s=void 0===r?[]:r,a=t.precision,c=void 0===a?"days":a,h=t.absolutePositionedEvents,p=void 0!==h&&h,v=t.viewStart,b=t.viewEnd;v=n.startOfDay(v),b=n.endOfDay(b);var D=n.differenceInSeconds,P=n.differenceInDays,R=function Yge(n,t){for(var i=t.date2,r=t.excluded,s=t.date1,a=0;s<i;)-1===r.indexOf(n.getDay(s))&&a++,s=n.addDays(s,1);return a}(n,{date1:v,date2:b,excluded:s}),F=P(b,v)+1,V=i.filter(function(re){return re.allDay}).map(function(re){var de=function $ge(n,t){var e=t.event,i=t.startOfWeek,r=t.excluded,s=t.precision,a=n.differenceInDays,c=n.startOfDay,h=n.differenceInSeconds;if(e.start<i)return 0;var p=0;switch(s){case"days":p=a(c(e.start),i)*mm;break;case"minutes":p=h(e.start,i)}return p-=dG(n,{startDate:i,seconds:p,excluded:r,precision:s}),Math.abs(p/mm)}(n,{event:re,startOfWeek:v,excluded:s,precision:c}),_e=function Wge(n,t){var e=t.event,i=t.offset,s=t.excluded,a=t.precision,c=t.totalDaysInView,p=n.differenceInSeconds,v=n.addDays,b=n.endOfDay,D=n.differenceInDays,P=mm,R=(0,n.max)([e.start,t.startOfWeekDate]);e.end&&(P="minutes"===a?p(e.end,R):D(v(b(e.end),1),R)*mm);var F=i*mm,Q=c*mm;return F+P>Q&&(P=Q-F),(P-=dG(n,{startDate:R,seconds:P,excluded:s,precision:a}))/mm}(n,{event:re,offset:de,startOfWeekDate:v,excluded:s,precision:c,totalDaysInView:F});return{event:re,offset:de,span:_e}}).filter(function(re){return re.offset<R}).filter(function(re){return re.span>0}).map(function(re){return{event:re.event,offset:re.offset,span:re.span,startsBeforeWeek:re.event.start<v,endsAfterWeek:(re.event.end||re.event.start)>b}}).sort(function(re,de){var _e=D(re.event.start,de.event.start);return 0===_e?D(de.event.end||de.event.start,re.event.end||re.event.start):_e}),Q=[],ee=[];return V.forEach(function(re,de){if(-1===ee.indexOf(re)){ee.push(re);var _e=re.span+re.offset,ue=V.slice(de+1).filter(function(et){if(et.offset>=_e&&_e+et.span<=F&&-1===ee.indexOf(et)){var bt=et.offset-_e;return p||(et.offset=bt),_e+=et.span+bt,ee.push(et),!0}}),pe=p3([re],ue,!0),Le=pe.filter(function(et){return et.event.id}).map(function(et){return et.event.id}).join("-");Q.push(jd({row:pe},Le?{id:Le}:{}))}}),Q}function Qge(n,t){var e=t.events,i=t.viewDate,r=t.hourSegments,s=t.hourDuration,a=t.dayStart,c=t.dayEnd,h=t.weekStartsOn,p=t.excluded,v=t.weekendDays,b=t.segmentHeight,D=t.viewStart,P=t.viewEnd,R=t.minimumEventHeight,F=function tme(n,t){var e=t.viewDate,i=t.hourSegments,r=t.hourDuration,s=t.dayStart,a=t.dayEnd,c=n.setMinutes,h=n.setHours,p=n.startOfDay,v=n.startOfMinute,b=n.endOfDay,D=n.addMinutes,P=n.addDays,R=[],F=c(h(p(e),$M(s.hour)),GM(s.minute)),V=c(h(v(b(e)),$M(a.hour)),GM(a.minute)),Q=(r||jM)/i,ee=p(e),re=b(e),de=function(bt){return bt};n.getTimezoneOffset(ee)!==n.getTimezoneOffset(re)&&(ee=P(ee,1),F=P(F,1),V=P(V,1),de=function(bt){return P(bt,-1)});for(var _e=r?60*m3/r:jM,ue=0;ue<_e;ue++){for(var pe=[],Le=0;Le<i;Le++){var et=D(D(F,ue*(r||jM)),Le*Q);et>=F&&et<V&&pe.push({date:de(et),displayDate:et,isStart:0===Le})}pe.length>0&&R.push({segments:pe})}return R}(n,{viewDate:i,hourSegments:r,hourDuration:s,dayStart:a,dayEnd:c}),V=_3(n,{viewDate:i,weekStartsOn:h,excluded:p,weekendDays:v,viewStart:D,viewEnd:P}),Q=n.setHours,ee=n.setMinutes,re=n.getHours,de=n.getMinutes;return V.map(function(_e){var ue=function eme(n,t){var e=t.events,i=t.viewDate,r=t.hourSegments,s=t.dayStart,a=t.dayEnd,c=t.eventWidth,h=t.segmentHeight,p=t.hourDuration,v=t.minimumEventHeight,b=n.setMinutes,D=n.setHours,P=n.startOfDay,R=n.startOfMinute,F=n.endOfDay,V=n.differenceInMinutes,Q=b(D(P(i),$M(s.hour)),GM(s.minute)),ee=b(D(R(F(i)),$M(a.hour)),GM(a.minute));ee.setSeconds(59,999);var re=[],de=vD(n,{events:e.filter(function(Le){return!Le.allDay}),periodStart:Q,periodEnd:ee}),_e=de.sort(function(Le,et){return Le.start.valueOf()-et.start.valueOf()}).map(function(Le){var et=Le.start,bt=Le.end||et,at=et<Q,ot=bt>ee,En=r*h/(p||jM),Jn=0;if(et>Q){var wi=n.getTimezoneOffset(et),At=n.getTimezoneOffset(Q)-wi;Jn+=V(et,Q)+At}Jn*=En,Jn=Math.floor(Jn);var nn=at?Q:et,$t=ot?ee:bt,Ni=n.getTimezoneOffset(nn)-n.getTimezoneOffset($t),nr=V($t,nn)+Ni;Le.end?nr*=En:nr=h,v&&nr<v&&(nr=v),nr=Math.floor(nr);for(var sa=WM(re,Jn,Jn+nr),ki=0;sa.some(function(ou){return ou.left===ki});)ki+=c;var Aa={event:Le,height:nr,width:c,top:Jn,left:ki,startsBeforeDay:at,endsAfterDay:ot};return re.push(Aa),Aa}),ue=Math.max.apply(Math,_e.map(function(Le){return Le.left+Le.width})),pe=vD(n,{events:e.filter(function(Le){return Le.allDay}),periodStart:P(Q),periodEnd:F(ee)});return{events:_e,width:ue,allDayEvents:pe,period:{events:de,start:Q,end:ee}}}(n,{events:e,viewDate:_e.date,hourSegments:r,dayStart:a,dayEnd:c,segmentHeight:b,eventWidth:1,hourDuration:s,minimumEventHeight:R}),pe=F.map(function(bt){var at=bt.segments.map(function(ot){var En=ee(Q(_e.date,re(ot.date)),de(ot.date));return jd(jd({},ot),{date:En})});return jd(jd({},bt),{segments:at})});function Le(bt,at){var ot=Math.max.apply(Math,at.map(function(Jn){return Jn.left+1})),En=bt.filter(function(Jn){return Jn.left>=ot}).filter(function(Jn){return WM(at,Jn.top,Jn.top+Jn.height).length>0});return En.length>0?Le(bt,En):ot}var et=ue.events.map(function(bt){var ot=100/Le(ue.events,WM(ue.events,bt.top,bt.top+bt.height));return jd(jd({},bt),{left:bt.left*ot,width:ot})});return{hours:pe,date:_e.date,events:et.map(function(bt){var at=WM(et.filter(function(ot){return ot.left>bt.left}),bt.top,bt.top+bt.height);return at.length>0?jd(jd({},bt),{width:Math.min.apply(Math,at.map(function(ot){return ot.left}))-bt.left}):bt})}})}function WM(n,t,e){return n.filter(function(i){var r=i.top,s=i.top+i.height;return t<s&&s<e||t<r&&r<e||r<=t&&e<=s})}function $M(n){return Math.max(Math.min(23,n),0)}function GM(n){return Math.max(Math.min(59,n),0)}"function"==typeof Symbol&&Symbol;var wD=["webkit","moz","ms","o"];(function(){if(typeof window>"u")return function(){};for(var n=0,t=wD.length;n<t&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[wD[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(i){var r=(new Date).getTime(),s=Math.max(0,16-r-e),a=window.setTimeout(function(){return i(r+s)},s);return e=r+s,a}}window.requestAnimationFrame.bind(window)})(),function(){if(typeof window>"u")return function(){};for(var n=0,t=wD.length;n<t&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[wD[n]+"CancelAnimationFrame"]||window[wD[n]+"CancelRequestAnimationFrame"];window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();let YM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator),Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});let bG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),DG=(()=>{class n{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:i}){return e.badgeTotal>0?`\n        ${Zn(e.date,"EEEE MMMM d",i)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${Zn(e.date,"EEEE MMMM d",i)}`}openDayEventsLandmark({date:e,locale:i}){return`\n      Beginning of expanded view for ${Zn(e,"EEEE MMMM dd",i)}\n    `}openDayEventsAlert({date:e,locale:i}){return`${Zn(e,"EEEE MMMM dd",i)} expanded`}eventDescription({event:e,locale:i}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:i});const r=`\n      ${Zn(e.start,"EEEE MMMM dd",i)},\n      ${e.title}, from ${Zn(e.start,"hh:mm a",i)}\n    `;return e.end?r+` to ${Zn(e.end,"hh:mm a",i)}`:r}allDayEventDescription({event:e,locale:i}){const r=`\n      ${e.title}, event spans multiple days:\n      start time ${Zn(e.start,"MMMM dd hh:mm a",i)}\n    `;return e.end?r+`, stop time ${Zn(e.end,"MMMM d hh:mm a",i)}`:r+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Qo))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class IG{month(t,e){return t.title}monthTooltip(t,e){return t.title}week(t,e){return t.title}weekTooltip(t,e){return t.title}day(t,e){return t.title}dayTooltip(t,e){return t.title}}class D3{}let o_e=(()=>{class n{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:i}){return Zn(e,"EEEE",i)}monthViewDayNumber({date:e,locale:i}){return Zn(e,"d",i)}monthViewTitle({date:e,locale:i}){return Zn(e,"LLLL y",i)}weekViewColumnHeader({date:e,locale:i}){return Zn(e,"EEEE",i)}weekViewColumnSubHeader({date:e,locale:i}){return Zn(e,"MMM d",i)}weekViewTitle({date:e,locale:i,weekStartsOn:r,excludeDays:s,daysInWeek:a}){const{viewStart:c,viewEnd:h}=function i_e(n,t,e,i=[],r){let s=r?n.startOfDay(t):n.startOfWeek(t,{weekStartsOn:e});const a=n.endOfWeek(t,{weekStartsOn:e});for(;i.indexOf(n.getDay(s))>-1&&s<a;)s=n.addDays(s,1);if(r){const c=n.endOfDay(function n_e(n,t,e,i){let r=0,s=0;const a=e<0?n.subDays:n.addDays;let c=t;for(;s<=Math.abs(e);){c=a(t,r);const h=n.getDay(c);-1===i.indexOf(h)&&s++,r++}return c}(n,s,r-1,i));return{viewStart:s,viewEnd:c}}{let c=a;for(;i.indexOf(n.getDay(c))>-1&&c>s;)c=n.subDays(c,1);return{viewStart:s,viewEnd:c}}}(this.dateAdapter,e,r,s,a),p=(v,b)=>Zn(v,"MMM d"+(b?", yyyy":""),i);return`${p(c,c.getUTCFullYear()!==h.getUTCFullYear())} - ${p(h,!0)}`}weekViewHour({date:e,locale:i}){return Zn(e,"h a",i)}dayViewHour({date:e,locale:i}){return Zn(e,"h a",i)}dayViewTitle({date:e,locale:i}){return Zn(e,"EEEE, MMMM d, y",i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(D3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),SG=(()=>{class n extends o_e{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),AG=(()=>{class n{constructor(e){this.dateAdapter=e}getMonthView(e){return function Xge(n,t){var e=t.events,i=void 0===e?[]:e,r=t.viewDate,s=t.weekStartsOn,a=t.excluded,c=void 0===a?[]:a,h=t.viewStart,p=void 0===h?n.startOfMonth(r):h,v=t.viewEnd,b=void 0===v?n.endOfMonth(r):v,D=t.weekendDays;i||(i=[]);for(var et,R=n.endOfWeek,F=n.differenceInDays,V=n.startOfDay,Q=n.addHours,ee=n.endOfDay,re=n.isSameMonth,de=n.getDay,_e=(0,n.startOfWeek)(p,{weekStartsOn:s}),ue=R(b,{weekStartsOn:s}),pe=vD(n,{events:i,periodStart:_e,periodEnd:ue}),Le=[],bt=function(nn){var $t;if(et?($t=V(Q(et,m3)),et.getTime()===$t.getTime()&&($t=V(Q(et,m3+1))),et=$t):$t=et=_e,!c.some(function(Hr){return de($t)===Hr})){var Ni=hG(n,{date:$t,weekendDays:D}),nr=vD(n,{events:pe,periodStart:V($t),periodEnd:ee($t)});Ni.inMonth=re($t,r),Ni.events=nr,Ni.badgeTotal=nr.length,Le.push(Ni)}},at=0;at<F(ue,_e)+1;at++)bt();var ot=[],En=g3-c.length;if(En<g3)for(at=0;at<Le.length;at+=En){var Jn=Le.slice(at,at+En);Jn.some(function($t){return p<=$t.date&&$t.date<b})&&(ot=p3(p3([],ot,!0),Jn,!0))}else ot=Le;var Ct=Math.floor(ot.length/En),At=[];for(at=0;at<Ct;at++)At.push(at*En);return{rowOffsets:At,totalDaysVisibleInWeek:En,days:ot,period:{start:ot[0].date,end:ee(ot[ot.length-1].date),events:pe}}}(this.dateAdapter,e)}getWeekViewHeader(e){return _3(this.dateAdapter,e)}getWeekView(e){return function Jge(n,t){var e=t.events,i=void 0===e?[]:e,r=t.viewDate,s=t.weekStartsOn,a=t.excluded,c=void 0===a?[]:a,h=t.precision,p=void 0===h?"days":h,v=t.absolutePositionedEvents,b=void 0!==v&&v,D=t.hourSegments,P=t.hourDuration,R=t.dayStart,F=t.dayEnd,V=t.weekendDays,Q=t.segmentHeight,ee=t.minimumEventHeight,re=t.viewStart,de=void 0===re?n.startOfWeek(r,{weekStartsOn:s}):re,_e=t.viewEnd,ue=void 0===_e?n.endOfWeek(r,{weekStartsOn:s}):_e;i||(i=[]);var Le=n.endOfDay,et=vD(n,{events:i,periodStart:de=(0,n.startOfDay)(de),periodEnd:ue=Le(ue)}),bt=_3(n,{viewDate:r,weekStartsOn:s,excluded:c,weekendDays:V,viewStart:de,viewEnd:ue});return{allDayEventRows:Kge(n,{events:et,excluded:c,precision:p,absolutePositionedEvents:b,viewStart:de,viewEnd:ue}),period:{events:et,start:bt[0].date,end:Le(bt[bt.length-1].date)},hourColumns:Qge(n,{events:i,viewDate:r,hourSegments:D,hourDuration:P,dayStart:R,dayEnd:F,weekStartsOn:s,excluded:c,weekendDays:V,segmentHeight:Q,viewStart:de,viewEnd:ue,minimumEventHeight:ee})}}(this.dateAdapter,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(D3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();new o.OlP("Moment");let TD=(()=>{class n{static forRoot(e,i={}){return{ngModule:n,providers:[e,i.eventTitleFormatter||IG,i.dateFormatter||SG,i.utils||AG,i.a11y||DG]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Qo],imports:[Ds]}),n})();v$("void",DM({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),v$("*",DM({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),y$("* => void",m$("150ms ease-out")),y$("void => *",m$("150ms ease-in"));let MG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Ds,YM,TD,YM]}),n})(),I3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Ds,bG,YM,TD,bG,YM]}),n})(),PG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Ds,TD,I3]}),n})(),s_e=(()=>{class n{static forRoot(e,i={}){return{ngModule:n,providers:[e,i.eventTitleFormatter||IG,i.dateFormatter||SG,i.utils||AG,i.a11y||DG]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[TD,MG,I3,PG,TD,MG,I3,PG]}),n})();var kG=z(7582);function Sa(n){if(null===n||!0===n||!1===n)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function QM(n){return QM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QM(n)}function ei(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function $i(n){ei(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||"object"===QM(n)&&"[object Date]"===t?new Date(n.getTime()):"number"==typeof n||"[object Number]"===t?new Date(n):(("string"==typeof n||"[object String]"===t)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function x3(n,t){ei(2,arguments);var e=$i(n),i=Sa(t);return isNaN(i)?new Date(NaN):(i&&e.setDate(e.getDate()+i),e)}function S3(n,t){ei(2,arguments);var e=$i(n).getTime(),i=Sa(t);return new Date(e+i)}var a_e=36e5;function l_e(n,t){return ei(2,arguments),S3(n,Sa(t)*a_e)}var c_e=6e4;function u_e(n,t){return ei(2,arguments),S3(n,Sa(t)*c_e)}function d_e(n,t){return ei(2,arguments),S3(n,1e3*Sa(t))}function OG(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}function DD(n){ei(1,arguments);var t=$i(n);return t.setHours(0,0,0,0),t}var h_e=864e5;function RG(n,t){var e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function p_e(n,t){ei(2,arguments);var e=$i(n),i=$i(t),r=RG(e,i),s=Math.abs(function f_e(n,t){ei(2,arguments);var e=DD(n),i=DD(t),r=e.getTime()-OG(e),s=i.getTime()-OG(i);return Math.round((r-s)/h_e)}(e,i));e.setDate(e.getDate()-r*s);var c=r*(s-Number(RG(e,i)===-r));return 0===c?0:c}Math.pow(10,8);var __e=6e4;function LG(n,t){return ei(2,arguments),$i(n).getTime()-$i(t).getTime()}var FG={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},b_e="trunc";function UG(n){return n?FG[n]:FG[b_e]}function C_e(n,t,e){ei(2,arguments);var i=LG(n,t)/__e;return UG(e?.roundingMethod)(i)}function E_e(n,t,e){ei(2,arguments);var i=LG(n,t)/1e3;return UG(e?.roundingMethod)(i)}function T_e(n){ei(1,arguments);var t=$i(n);return t.setHours(23,59,59,999),t}function D_e(n){ei(1,arguments);var t=$i(n),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}var BG={};function VG(){return BG}function I_e(n,t){var e,i,r,s,a,c,h,p;ei(1,arguments);var v=VG(),b=Sa(null!==(e=null!==(i=null!==(r=null!==(s=t?.weekStartsOn)&&void 0!==s?s:null==t||null===(a=t.locale)||void 0===a||null===(c=a.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:v.weekStartsOn)&&void 0!==i?i:null===(h=v.locale)||void 0===h||null===(p=h.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==e?e:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var D=$i(n),P=D.getDay(),R=6+(P<b?-7:0)-(P-b);return D.setDate(D.getDate()+R),D.setHours(23,59,59,999),D}function x_e(n){return ei(1,arguments),$i(n).getDay()}function S_e(n){return ei(1,arguments),$i(n).getMonth()}function A_e(n,t){ei(2,arguments);var e=DD(n),i=DD(t);return e.getTime()===i.getTime()}function M_e(n,t){ei(2,arguments);var e=$i(n),i=$i(t);return e.getFullYear()===i.getFullYear()&&e.getMonth()===i.getMonth()}function ZG(n){ei(1,arguments);var t=$i(n);return t.setMilliseconds(0),t}function P_e(n,t){ei(2,arguments);var e=ZG(n),i=ZG(t);return e.getTime()===i.getTime()}function k_e(n){var t,e;if(ei(1,arguments),n&&"function"==typeof n.forEach)t=n;else{if("object"!==QM(n)||null===n)return new Date(NaN);t=Array.prototype.slice.call(n)}return t.forEach(function(i){var r=$i(i);(void 0===e||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function O_e(n,t){ei(2,arguments);var e=$i(n),i=Sa(t);return e.setHours(i),e}function R_e(n,t){ei(2,arguments);var e=$i(n),i=Sa(t);return e.setMinutes(i),e}function N_e(n){ei(1,arguments);var t=$i(n);return t.setSeconds(0,0),t}function L_e(n){ei(1,arguments);var t=$i(n);return t.setDate(1),t.setHours(0,0,0,0),t}function zG(n,t){var e,i,r,s,a,c,h,p;ei(1,arguments);var v=VG(),b=Sa(null!==(e=null!==(i=null!==(r=null!==(s=t?.weekStartsOn)&&void 0!==s?s:null==t||null===(a=t.locale)||void 0===a||null===(c=a.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:v.weekStartsOn)&&void 0!==i?i:null===(h=v.locale)||void 0===h||null===(p=h.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==e?e:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var D=$i(n),P=D.getDay(),R=(P<b?7:0)+P-b;return D.setDate(D.getDate()-R),D.setHours(0,0,0,0),D}function F_e(n){return ei(1,arguments),$i(n).getHours()}function U_e(n){return ei(1,arguments),$i(n).getMinutes()}function B_e(n){return new Date(n).getTimezoneOffset()}function HG(n,t){return ei(2,arguments),x3(n,7*Sa(t))}function qG(n,t){ei(2,arguments);var e=$i(n),i=Sa(t);if(isNaN(i))return new Date(NaN);if(!i)return e;var r=e.getDate(),s=new Date(e.getTime());return s.setMonth(e.getMonth()+i+1,0),r>=s.getDate()?s:(e.setFullYear(s.getFullYear(),s.getMonth(),r),e)}function Z_e(n,t){return ei(2,arguments),x3(n,-Sa(t))}function z_e(n,t){return ei(2,arguments),HG(n,-Sa(t))}function H_e(n,t){return ei(2,arguments),qG(n,-Sa(t))}function JM(n){return ei(1,arguments),zG(n,{weekStartsOn:1})}var W_e=6048e5;function $_e(n){ei(1,arguments);var t=$i(n),e=JM(t).getTime()-function j_e(n){ei(1,arguments);var t=function q_e(n){ei(1,arguments);var t=$i(n),e=t.getFullYear(),i=new Date(0);i.setFullYear(e+1,0,4),i.setHours(0,0,0,0);var r=JM(i),s=new Date(0);s.setFullYear(e,0,4),s.setHours(0,0,0,0);var a=JM(s);return t.getTime()>=r.getTime()?e+1:t.getTime()>=a.getTime()?e:e-1}(n),e=new Date(0);return e.setFullYear(t,0,4),e.setHours(0,0,0,0),JM(e)}(t).getTime();return Math.round(e/W_e)+1}function G_e(n,t){ei(2,arguments);var e=$i(n),i=Sa(t);return e.setDate(i),e}function K_e(n,t){ei(2,arguments);var e=$i(n),i=Sa(t),r=e.getFullYear(),s=e.getDate(),a=new Date(0);a.setFullYear(r,i,15),a.setHours(0,0,0,0);var c=function Y_e(n){ei(1,arguments);var t=$i(n),e=t.getFullYear(),i=t.getMonth(),r=new Date(0);return r.setFullYear(e,i+1,0),r.setHours(0,0,0,0),r.getDate()}(a);return e.setMonth(i,Math.min(s,c)),e}function Q_e(n,t){ei(2,arguments);var e=$i(n),i=Sa(t);return isNaN(e.getTime())?new Date(NaN):(e.setFullYear(i),e)}function J_e(n){return ei(1,arguments),$i(n).getDate()}function X_e(n){return ei(1,arguments),$i(n).getFullYear()}function eve(){return(0,kG.pi)((0,kG.pi)({},function V_e(){return{addDays:x3,addHours:l_e,addMinutes:u_e,addSeconds:d_e,differenceInDays:p_e,differenceInMinutes:C_e,differenceInSeconds:E_e,endOfDay:T_e,endOfMonth:D_e,endOfWeek:I_e,getDay:x_e,getMonth:S_e,isSameDay:A_e,isSameMonth:M_e,isSameSecond:P_e,max:k_e,setHours:O_e,setMinutes:R_e,startOfDay:DD,startOfMinute:N_e,startOfMonth:L_e,startOfWeek:zG,getHours:F_e,getMinutes:U_e,getTimezoneOffset:B_e}}()),{addWeeks:HG,addMonths:qG,subDays:Z_e,subWeeks:z_e,subMonths:H_e,getISOWeek:$_e,setDate:G_e,setMonth:K_e,setYear:Q_e,getDate:J_e,getYear:X_e})}let tve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[kte]}),n.\u0275inj=o.cJS({imports:[Ds,Kae,Zge,Mc,Mte,Afe,Wv,Mge,Ste,Bo.hO.initializeApp(kq_firebase),Zee,ote,SC,SK(()=>AK()),Mb(()=>Ob(kq_firebase)),s_e.forRoot({provide:D3,useFactory:eve}),Nf.forRoot({apiKey:"AIzaSyBWDl4DyscEGeARJgm1MQmaxCj0WwB_cYM"})]}),n})();lh().bootstrapModule(tve).catch(n=>console.error(n))},8323:()=>{"use strict";"function"!=typeof Object.assign&&(Object.assign=function(Yt){for(var Xe=[],z=1;z<arguments.length;z++)Xe[z-1]=arguments[z];if(!Yt)throw TypeError("Cannot convert undefined or null to object");for(var o=function(Oe){Oe&&Object.keys(Oe).forEach(function(Ee){return Yt[Ee]=Oe[Ee]})},te=0,W=Xe;te<W.length;te++)o(W[te]);return Yt})},8407:function(Yt,Xe){!function(z){"use strict";function te(f){var m,E,M,N;for(E=1,M=arguments.length;E<M;E++)for(m in N=arguments[E])f[m]=N[m];return f}var W=Object.create||function(){function f(){}return function(m){return f.prototype=m,new f}}();function Ce(f,m){var E=Array.prototype.slice;if(f.bind)return f.bind.apply(f,E.call(arguments,1));var M=E.call(arguments,2);return function(){return f.apply(m,M.length?M.concat(E.call(arguments)):arguments)}}var Oe=0;function Ee(f){return"_leaflet_id"in f||(f._leaflet_id=++Oe),f._leaflet_id}function $e(f,m,E){var M,N,H,ce;return ce=function(){M=!1,N&&(H.apply(E,N),N=!1)},H=function(){M?N=arguments:(f.apply(E,arguments),setTimeout(ce,m),M=!0)},H}function je(f,m,E){var M=m[1],N=m[0],H=M-N;return f===M&&E?f:((f-N)%H+H)%H+N}function Ne(){return!1}function he(f,m){if(!1===m)return f;var E=Math.pow(10,void 0===m?6:m);return Math.round(f*E)/E}function fe(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}function be(f){return fe(f).split(/\s+/)}function tt(f,m){for(var E in Object.prototype.hasOwnProperty.call(f,"options")||(f.options=f.options?W(f.options):{}),m)f.options[E]=m[E];return f.options}function it(f,m,E){var M=[];for(var N in f)M.push(encodeURIComponent(E?N.toUpperCase():N)+"="+encodeURIComponent(f[N]));return(m&&-1!==m.indexOf("?")?"&":"?")+M.join("&")}var Tt=/\{ *([\w_ -]+) *\}/g;function Vt(f,m){return f.replace(Tt,function(E,M){var N=m[M];if(void 0===N)throw new Error("No value provided for variable "+E);return"function"==typeof N&&(N=N(m)),N})}var Be=Array.isArray||function(f){return"[object Array]"===Object.prototype.toString.call(f)};function st(f,m){for(var E=0;E<f.length;E++)if(f[E]===m)return E;return-1}var dt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function mt(f){return window["webkit"+f]||window["moz"+f]||window["ms"+f]}var nt=0;function Qe(f){var m=+new Date,E=Math.max(0,16-(m-nt));return nt=m+E,window.setTimeout(f,E)}var lt=window.requestAnimationFrame||mt("RequestAnimationFrame")||Qe,vt=window.cancelAnimationFrame||mt("CancelAnimationFrame")||mt("CancelRequestAnimationFrame")||function(f){window.clearTimeout(f)};function rt(f,m,E){if(!E||lt!==Qe)return lt.call(window,Ce(f,m));f.call(m)}function Ae(f){f&&vt.call(window,f)}var Lt={__proto__:null,extend:te,create:W,bind:Ce,get lastId(){return Oe},stamp:Ee,throttle:$e,wrapNum:je,falseFn:Ne,formatNum:he,trim:fe,splitWords:be,setOptions:tt,getParamString:it,template:Vt,isArray:Be,indexOf:st,emptyImageUrl:dt,requestFn:lt,cancelFn:vt,requestAnimFrame:rt,cancelAnimFrame:Ae};function tn(){}tn.extend=function(f){var m=function(){tt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=m.__super__=this.prototype,M=W(E);for(var N in M.constructor=m,m.prototype=M,this)Object.prototype.hasOwnProperty.call(this,N)&&"prototype"!==N&&"__super__"!==N&&(m[N]=this[N]);return f.statics&&te(m,f.statics),f.includes&&(function Zt(f){if(!(typeof L>"u")&&L&&L.Mixin){f=Be(f)?f:[f];for(var m=0;m<f.length;m++)f[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(f.includes),te.apply(null,[M].concat(f.includes))),te(M,f),delete M.statics,delete M.includes,M.options&&(M.options=E.options?W(E.options):{},te(M.options,f.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var H=0,ce=M._initHooks.length;H<ce;H++)M._initHooks[H].call(this)}},m},tn.include=function(f){var m=this.prototype.options;return te(this.prototype,f),f.options&&(this.prototype.options=m,this.mergeOptions(f.options)),this},tn.mergeOptions=function(f){return te(this.prototype.options,f),this},tn.addInitHook=function(f){var m=Array.prototype.slice.call(arguments,1),E="function"==typeof f?f:function(){this[f].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};var dn={on:function(f,m,E){if("object"==typeof f)for(var M in f)this._on(M,f[M],m);else for(var N=0,H=(f=be(f)).length;N<H;N++)this._on(f[N],m,E);return this},off:function(f,m,E){if(arguments.length)if("object"==typeof f)for(var M in f)this._off(M,f[M],m);else{f=be(f);for(var N=1===arguments.length,H=0,ce=f.length;H<ce;H++)N?this._off(f[H]):this._off(f[H],m,E)}else delete this._events;return this},_on:function(f,m,E,M){if("function"==typeof m){if(!1===this._listens(f,m,E)){E===this&&(E=void 0);var N={fn:m,ctx:E};M&&(N.once=!0),this._events=this._events||{},this._events[f]=this._events[f]||[],this._events[f].push(N)}}else console.warn("wrong listener type: "+typeof m)},_off:function(f,m,E){var M,N,H;if(this._events&&(M=this._events[f])){if(1===arguments.length){if(this._firingCount)for(N=0,H=M.length;N<H;N++)M[N].fn=Ne;return void delete this._events[f]}if("function"!=typeof m)return void console.warn("wrong listener type: "+typeof m);var ce=this._listens(f,m,E);!1!==ce&&(this._firingCount&&(M[ce].fn=Ne,this._events[f]=M=M.slice()),M.splice(ce,1))}},fire:function(f,m,E){if(!this.listens(f,E))return this;var M=te({},m,{type:f,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var N=this._events[f];if(N){this._firingCount=this._firingCount+1||1;for(var H=0,ce=N.length;H<ce;H++){var Se=N[H],ke=Se.fn;Se.once&&this.off(f,ke,Se.ctx),ke.call(Se.ctx||this,M)}this._firingCount--}}return E&&this._propagateEvent(M),this},listens:function(f,m,E,M){"string"!=typeof f&&console.warn('"string" type argument expected');var N=m;"function"!=typeof m&&(M=!!m,N=void 0,E=void 0);var H=this._events&&this._events[f];if(H&&H.length&&!1!==this._listens(f,N,E))return!0;if(M)for(var ce in this._eventParents)if(this._eventParents[ce].listens(f,m,E,M))return!0;return!1},_listens:function(f,m,E){if(!this._events)return!1;var M=this._events[f]||[];if(!m)return!!M.length;E===this&&(E=void 0);for(var N=0,H=M.length;N<H;N++)if(M[N].fn===m&&M[N].ctx===E)return N;return!1},once:function(f,m,E){if("object"==typeof f)for(var M in f)this._on(M,f[M],m,!0);else for(var N=0,H=(f=be(f)).length;N<H;N++)this._on(f[N],m,E,!0);return this},addEventParent:function(f){return this._eventParents=this._eventParents||{},this._eventParents[Ee(f)]=f,this},removeEventParent:function(f){return this._eventParents&&delete this._eventParents[Ee(f)],this},_propagateEvent:function(f){for(var m in this._eventParents)this._eventParents[m].fire(f.type,te({layer:f.target,propagatedFrom:f.target},f),!0)}};dn.addEventListener=dn.on,dn.removeEventListener=dn.clearAllEventListeners=dn.off,dn.addOneTimeEventListener=dn.once,dn.fireEvent=dn.fire,dn.hasEventListeners=dn.listens;var zt=tn.extend(dn);function Cn(f,m,E){this.x=E?Math.round(f):f,this.y=E?Math.round(m):m}var Fe=Math.trunc||function(f){return f>0?Math.floor(f):Math.ceil(f)};function Ie(f,m,E){return f instanceof Cn?f:Be(f)?new Cn(f[0],f[1]):null==f?f:"object"==typeof f&&"x"in f&&"y"in f?new Cn(f.x,f.y):new Cn(f,m,E)}function ze(f,m){if(f)for(var E=m?[f,m]:f,M=0,N=E.length;M<N;M++)this.extend(E[M])}function Ke(f,m){return!f||f instanceof ze?f:new ze(f,m)}function pt(f,m){if(f)for(var E=m?[f,m]:f,M=0,N=E.length;M<N;M++)this.extend(E[M])}function Je(f,m){return f instanceof pt?f:new pt(f,m)}function We(f,m,E){if(isNaN(f)||isNaN(m))throw new Error("Invalid LatLng object: ("+f+", "+m+")");this.lat=+f,this.lng=+m,void 0!==E&&(this.alt=+E)}function gt(f,m,E){return f instanceof We?f:Be(f)&&"object"!=typeof f[0]?3===f.length?new We(f[0],f[1],f[2]):2===f.length?new We(f[0],f[1]):null:null==f?f:"object"==typeof f&&"lat"in f?new We(f.lat,"lng"in f?f.lng:f.lon,f.alt):void 0===m?null:new We(f,m,E)}Cn.prototype={clone:function(){return new Cn(this.x,this.y)},add:function(f){return this.clone()._add(Ie(f))},_add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.clone()._subtract(Ie(f))},_subtract:function(f){return this.x-=f.x,this.y-=f.y,this},divideBy:function(f){return this.clone()._divideBy(f)},_divideBy:function(f){return this.x/=f,this.y/=f,this},multiplyBy:function(f){return this.clone()._multiplyBy(f)},_multiplyBy:function(f){return this.x*=f,this.y*=f,this},scaleBy:function(f){return new Cn(this.x*f.x,this.y*f.y)},unscaleBy:function(f){return new Cn(this.x/f.x,this.y/f.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Fe(this.x),this.y=Fe(this.y),this},distanceTo:function(f){var m=(f=Ie(f)).x-this.x,E=f.y-this.y;return Math.sqrt(m*m+E*E)},equals:function(f){return(f=Ie(f)).x===this.x&&f.y===this.y},contains:function(f){return f=Ie(f),Math.abs(f.x)<=Math.abs(this.x)&&Math.abs(f.y)<=Math.abs(this.y)},toString:function(){return"Point("+he(this.x)+", "+he(this.y)+")"}},ze.prototype={extend:function(f){var m,E;if(!f)return this;if(f instanceof Cn||"number"==typeof f[0]||"x"in f)m=E=Ie(f);else if(E=(f=Ke(f)).max,!(m=f.min)||!E)return this;return this.min||this.max?(this.min.x=Math.min(m.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(m.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)):(this.min=m.clone(),this.max=E.clone()),this},getCenter:function(f){return Ie((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,f)},getBottomLeft:function(){return Ie(this.min.x,this.max.y)},getTopRight:function(){return Ie(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(f){var m,E;return(f="number"==typeof f[0]||f instanceof Cn?Ie(f):Ke(f))instanceof ze?(m=f.min,E=f.max):m=E=f,m.x>=this.min.x&&E.x<=this.max.x&&m.y>=this.min.y&&E.y<=this.max.y},intersects:function(f){f=Ke(f);var m=this.min,E=this.max,M=f.min,N=f.max;return N.x>=m.x&&M.x<=E.x&&N.y>=m.y&&M.y<=E.y},overlaps:function(f){f=Ke(f);var m=this.min,E=this.max,M=f.min,N=f.max;return N.x>m.x&&M.x<E.x&&N.y>m.y&&M.y<E.y},isValid:function(){return!(!this.min||!this.max)},pad:function(f){var m=this.min,E=this.max,M=Math.abs(m.x-E.x)*f,N=Math.abs(m.y-E.y)*f;return Ke(Ie(m.x-M,m.y-N),Ie(E.x+M,E.y+N))},equals:function(f){return!!f&&(f=Ke(f),this.min.equals(f.getTopLeft())&&this.max.equals(f.getBottomRight()))}},pt.prototype={extend:function(f){var M,N,m=this._southWest,E=this._northEast;if(f instanceof We)M=f,N=f;else{if(!(f instanceof pt))return f?this.extend(gt(f)||Je(f)):this;if(N=f._northEast,!(M=f._southWest)||!N)return this}return m||E?(m.lat=Math.min(M.lat,m.lat),m.lng=Math.min(M.lng,m.lng),E.lat=Math.max(N.lat,E.lat),E.lng=Math.max(N.lng,E.lng)):(this._southWest=new We(M.lat,M.lng),this._northEast=new We(N.lat,N.lng)),this},pad:function(f){var m=this._southWest,E=this._northEast,M=Math.abs(m.lat-E.lat)*f,N=Math.abs(m.lng-E.lng)*f;return new pt(new We(m.lat-M,m.lng-N),new We(E.lat+M,E.lng+N))},getCenter:function(){return new We((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new We(this.getNorth(),this.getWest())},getSouthEast:function(){return new We(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(f){f="number"==typeof f[0]||f instanceof We||"lat"in f?gt(f):Je(f);var M,N,m=this._southWest,E=this._northEast;return f instanceof pt?(M=f.getSouthWest(),N=f.getNorthEast()):M=N=f,M.lat>=m.lat&&N.lat<=E.lat&&M.lng>=m.lng&&N.lng<=E.lng},intersects:function(f){f=Je(f);var m=this._southWest,E=this._northEast,M=f.getSouthWest(),N=f.getNorthEast();return N.lat>=m.lat&&M.lat<=E.lat&&N.lng>=m.lng&&M.lng<=E.lng},overlaps:function(f){f=Je(f);var m=this._southWest,E=this._northEast,M=f.getSouthWest(),N=f.getNorthEast();return N.lat>m.lat&&M.lat<E.lat&&N.lng>m.lng&&M.lng<E.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(f,m){return!!f&&(f=Je(f),this._southWest.equals(f.getSouthWest(),m)&&this._northEast.equals(f.getNorthEast(),m))},isValid:function(){return!(!this._southWest||!this._northEast)}},We.prototype={equals:function(f,m){return!!f&&(f=gt(f),Math.max(Math.abs(this.lat-f.lat),Math.abs(this.lng-f.lng))<=(void 0===m?1e-9:m))},toString:function(f){return"LatLng("+he(this.lat,f)+", "+he(this.lng,f)+")"},distanceTo:function(f){return Pt.distance(this,gt(f))},wrap:function(){return Pt.wrapLatLng(this)},toBounds:function(f){var m=180*f/40075017,E=m/Math.cos(Math.PI/180*this.lat);return Je([this.lat-m,this.lng-E],[this.lat+m,this.lng+E])},clone:function(){return new We(this.lat,this.lng,this.alt)}};var f,ci={latLngToPoint:function(f,m){var E=this.projection.project(f),M=this.scale(m);return this.transformation._transform(E,M)},pointToLatLng:function(f,m){var E=this.scale(m),M=this.transformation.untransform(f,E);return this.projection.unproject(M)},project:function(f){return this.projection.project(f)},unproject:function(f){return this.projection.unproject(f)},scale:function(f){return 256*Math.pow(2,f)},zoom:function(f){return Math.log(f/256)/Math.LN2},getProjectedBounds:function(f){if(this.infinite)return null;var m=this.projection.bounds,E=this.scale(f);return new ze(this.transformation.transform(m.min,E),this.transformation.transform(m.max,E))},infinite:!1,wrapLatLng:function(f){var m=this.wrapLng?je(f.lng,this.wrapLng,!0):f.lng;return new We(this.wrapLat?je(f.lat,this.wrapLat,!0):f.lat,m,f.alt)},wrapLatLngBounds:function(f){var m=f.getCenter(),E=this.wrapLatLng(m),M=m.lat-E.lat,N=m.lng-E.lng;if(0===M&&0===N)return f;var H=f.getSouthWest(),ce=f.getNorthEast();return new pt(new We(H.lat-M,H.lng-N),new We(ce.lat-M,ce.lng-N))}},Pt=te({},ci,{wrapLng:[-180,180],R:6371e3,distance:function(f,m){var E=Math.PI/180,M=f.lat*E,N=m.lat*E,H=Math.sin((m.lat-f.lat)*E/2),ce=Math.sin((m.lng-f.lng)*E/2),Se=H*H+Math.cos(M)*Math.cos(N)*ce*ce,ke=2*Math.atan2(Math.sqrt(Se),Math.sqrt(1-Se));return this.R*ke}}),Vn={R:6378137,MAX_LATITUDE:85.0511287798,project:function(f){var m=Math.PI/180,E=this.MAX_LATITUDE,M=Math.max(Math.min(E,f.lat),-E),N=Math.sin(M*m);return new Cn(this.R*f.lng*m,this.R*Math.log((1+N)/(1-N))/2)},unproject:function(f){var m=180/Math.PI;return new We((2*Math.atan(Math.exp(f.y/this.R))-Math.PI/2)*m,f.x*m/this.R)},bounds:(f=6378137*Math.PI,new ze([-f,-f],[f,f]))};function ri(f,m,E,M){if(Be(f))return this._a=f[0],this._b=f[1],this._c=f[2],void(this._d=f[3]);this._a=f,this._b=m,this._c=E,this._d=M}function mi(f,m,E,M){return new ri(f,m,E,M)}ri.prototype={transform:function(f,m){return this._transform(f.clone(),m)},_transform:function(f,m){return f.x=(m=m||1)*(this._a*f.x+this._b),f.y=m*(this._c*f.y+this._d),f},untransform:function(f,m){return new Cn((f.x/(m=m||1)-this._b)/this._a,(f.y/m-this._d)/this._c)}};var kr=te({},Pt,{code:"EPSG:3857",projection:Vn,transformation:function(){var f=.5/(Math.PI*Vn.R);return mi(f,.5,-f,.5)}()}),ar=te({},kr,{code:"EPSG:900913"});function Or(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function ir(f,m){var M,N,H,ce,Se,ke,E="";for(M=0,H=f.length;M<H;M++){for(N=0,ce=(Se=f[M]).length;N<ce;N++)E+=(N?"L":"M")+(ke=Se[N]).x+" "+ke.y;E+=m?De.svg?"z":"x":""}return E||"M0 0"}var oo=document.documentElement.style,Co="ActiveXObject"in window,nl=Co&&!document.addEventListener,Gi="msLaunchUri"in navigator&&!("documentMode"in document),jt=ge("webkit"),Yi=ge("android"),Cs=ge("android 2")||ge("android 3"),lr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),so=Yi&&ge("Google")&&lr<537&&!("AudioNode"in window),qr=!!window.opera,ti=!Gi&&ge("chrome"),Ln=ge("gecko")&&!jt&&!qr&&!Co,Wt=!ti&&ge("safari"),In=ge("phantom"),Zn="OTransition"in oo,jr=0===navigator.platform.indexOf("Win"),zi=Co&&"transition"in oo,Wr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Cs,Ki="MozPerspective"in oo,Cr=!window.L_DISABLE_3D&&(zi||Wr||Ki)&&!Zn&&!In,kn=typeof orientation<"u"||ge("mobile"),Go=kn&&jt,zn=kn&&Wr,Eo=!window.PointerEvent&&window.MSPointerEvent,Rn=!(!window.PointerEvent&&!Eo),rr="ontouchstart"in window||!!window.TouchEvent,Qi=!window.L_NO_TOUCH&&(rr||Rn),$r=kn&&qr,cr=kn&&Ln,To=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ao=function(){var f=!1;try{var m=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("testPassiveEventSupport",Ne,m),window.removeEventListener("testPassiveEventSupport",Ne,m)}catch{}return f}(),Do=!!document.createElement("canvas").getContext,le=!(!document.createElementNS||!Or("svg").createSVGRect),oe=!!le&&function(){var f=document.createElement("div");return f.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(f.firstChild&&f.firstChild.namespaceURI)}(),G=!le&&function(){try{var f=document.createElement("div");f.innerHTML='<v:shape adj="1"/>';var m=f.firstChild;return m.style.behavior="url(#default#VML)",m&&"object"==typeof m.adj}catch{return!1}}();function ge(f){return navigator.userAgent.toLowerCase().indexOf(f)>=0}var De={ie:Co,ielt9:nl,edge:Gi,webkit:jt,android:Yi,android23:Cs,androidStock:so,opera:qr,chrome:ti,gecko:Ln,safari:Wt,phantom:In,opera12:Zn,win:jr,ie3d:zi,webkit3d:Wr,gecko3d:Ki,any3d:Cr,mobile:kn,mobileWebkit:Go,mobileWebkit3d:zn,msPointer:Eo,pointer:Rn,touch:Qi,touchNative:rr,mobileOpera:$r,mobileGecko:cr,retina:To,passiveEvents:ao,canvas:Do,svg:le,vml:G,inlineSvg:oe,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},kt=De.msPointer?"MSPointerDown":"pointerdown",pn=De.msPointer?"MSPointerMove":"pointermove",cn=De.msPointer?"MSPointerUp":"pointerup",Fn=De.msPointer?"MSPointerCancel":"pointercancel",_n={touchstart:kt,touchmove:pn,touchend:cn,touchcancel:Fn},xi={touchstart:function on(f,m){m.MSPOINTER_TYPE_TOUCH&&m.pointerType===m.MSPOINTER_TYPE_TOUCH&&co(m),Nn(f,m)},touchmove:Nn,touchend:Nn,touchcancel:Nn},Tn={},Er=!1;function aa(f,m,E){return"touchstart"===m&&function wn(){Er||(document.addEventListener(kt,Me,!0),document.addEventListener(pn,ht,!0),document.addEventListener(cn,Kt,!0),document.addEventListener(Fn,Kt,!0),Er=!0)}(),xi[m]?(E=xi[m].bind(this,E),f.addEventListener(_n[m],E,!1),E):(console.warn("wrong event specified:",m),Ne)}function Me(f){Tn[f.pointerId]=f}function ht(f){Tn[f.pointerId]&&(Tn[f.pointerId]=f)}function Kt(f){delete Tn[f.pointerId]}function Nn(f,m){if(m.pointerType!==(m.MSPOINTER_TYPE_MOUSE||"mouse")){for(var E in m.touches=[],Tn)m.touches.push(Tn[E]);m.changedTouches=[m],f(m)}}var Xn=200;var Es,Gr,Dr,Fl,il,Ll=Pa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),vc=Pa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),la="webkitTransition"===vc||"OTransition"===vc?vc+"End":"transitionend";function Tr(f){return"string"==typeof f?document.getElementById(f):f}function It(f,m){var E=f.style[m]||f.currentStyle&&f.currentStyle[m];if((!E||"auto"===E)&&document.defaultView){var M=document.defaultView.getComputedStyle(f,null);E=M?M[m]:null}return"auto"===E?null:E}function Ot(f,m,E){var M=document.createElement(f);return M.className=m||"",E&&E.appendChild(M),M}function Sn(f){var m=f.parentNode;m&&m.removeChild(f)}function oi(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function Yo(f){var m=f.parentNode;m&&m.lastChild!==f&&m.appendChild(f)}function Ji(f){var m=f.parentNode;m&&m.firstChild!==f&&m.insertBefore(f,m.firstChild)}function Xi(f,m){if(void 0!==f.classList)return f.classList.contains(m);var E=On(f);return E.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(E)}function Qt(f,m){if(void 0!==f.classList)for(var E=be(m),M=0,N=E.length;M<N;M++)f.classList.add(E[M]);else if(!Xi(f,m)){var H=On(f);_i(f,(H?H+" ":"")+m)}}function Li(f,m){void 0!==f.classList?f.classList.remove(m):_i(f,fe((" "+On(f)+" ").replace(" "+m+" "," ")))}function _i(f,m){void 0===f.className.baseVal?f.className=m:f.className.baseVal=m}function On(f){return f.correspondingElement&&(f=f.correspondingElement),void 0===f.className.baseVal?f.className:f.className.baseVal}function Io(f,m){"opacity"in f.style?f.style.opacity=m:"filter"in f.style&&function ls(f,m){var E=!1,M="DXImageTransform.Microsoft.Alpha";try{E=f.filters.item(M)}catch{if(1===m)return}m=Math.round(100*m),E?(E.Enabled=100!==m,E.Opacity=m):f.style.filter+=" progid:"+M+"(opacity="+m+")"}(f,m)}function Pa(f){for(var m=document.documentElement.style,E=0;E<f.length;E++)if(f[E]in m)return f[E];return!1}function Ro(f,m,E){var M=m||new Cn(0,0);f.style[Ll]=(De.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(E?" scale("+E+")":"")}function Yn(f,m){f._leaflet_pos=m,De.any3d?Ro(f,m):(f.style.left=m.x+"px",f.style.top=m.y+"px")}function Ko(f){return f._leaflet_pos||new Cn(0,0)}if("onselectstart"in document)Es=function(){an(window,"selectstart",co)},Gr=function(){hi(window,"selectstart",co)};else{var mr=Pa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Es=function(){if(mr){var f=document.documentElement.style;Dr=f[mr],f[mr]="none"}},Gr=function(){mr&&(document.documentElement.style[mr]=Dr,Dr=void 0)}}function Ci(){an(window,"dragstart",co)}function No(){hi(window,"dragstart",co)}function ka(f){for(;-1===f.tabIndex;)f=f.parentNode;f.style&&(Ts(),Fl=f,il=f.style.outlineStyle,f.style.outlineStyle="none",an(window,"keydown",Ts))}function Ts(){Fl&&(Fl.style.outlineStyle=il,Fl=void 0,il=void 0,hi(window,"keydown",Ts))}function Oa(f){do{f=f.parentNode}while(!(f.offsetWidth&&f.offsetHeight||f===document.body));return f}function Ir(f){var m=f.getBoundingClientRect();return{x:m.width/f.offsetWidth||1,y:m.height/f.offsetHeight||1,boundingClientRect:m}}var Wd={__proto__:null,TRANSFORM:Ll,TRANSITION:vc,TRANSITION_END:la,get:Tr,getStyle:It,create:Ot,remove:Sn,empty:oi,toFront:Yo,toBack:Ji,hasClass:Xi,addClass:Qt,removeClass:Li,setClass:_i,getClass:On,setOpacity:Io,testProp:Pa,setTransform:Ro,setPosition:Yn,getPosition:Ko,get disableTextSelection(){return Es},get enableTextSelection(){return Gr},disableImageDrag:Ci,enableImageDrag:No,preventOutline:ka,restoreOutline:Ts,getSizedParentNode:Oa,getScale:Ir};function an(f,m,E,M){if(m&&"object"==typeof m)for(var N in m)Yr(f,N,m[N],E);else for(var H=0,ce=(m=be(m)).length;H<ce;H++)Yr(f,m[H],E,M);return this}var Si="_leaflet_events";function hi(f,m,E,M){if(1===arguments.length)yc(f),delete f[Si];else if(m&&"object"==typeof m)for(var N in m)Us(f,N,m[N],E);else if(m=be(m),2===arguments.length)yc(f,function(Se){return-1!==st(m,Se)});else for(var H=0,ce=m.length;H<ce;H++)Us(f,m[H],E,M);return this}function yc(f,m){for(var E in f[Si]){var M=E.split(/\d/)[0];(!m||m(M))&&Us(f,M,null,null,E)}}var rl={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Yr(f,m,E,M){var N=m+Ee(E)+(M?"_"+Ee(M):"");if(f[Si]&&f[Si][N])return this;var H=function(Se){return E.call(M||f,Se||window.event)},ce=H;!De.touchNative&&De.pointer&&0===m.indexOf("touch")?H=aa(f,m,H):De.touch&&"dblclick"===m?H=function lo(f,m){f.addEventListener("dblclick",m);var M,E=0;function N(H){if(1===H.detail){if("mouse"!==H.pointerType&&(!H.sourceCapabilities||H.sourceCapabilities.firesTouchEvents)){var ce=Gd(H);if(!ce.some(function(ke){return ke instanceof HTMLLabelElement&&ke.attributes.for})||ce.some(function(ke){return ke instanceof HTMLInputElement||ke instanceof HTMLSelectElement})){var Se=Date.now();Se-E<=Xn?2==++M&&m(function fi(f){var E,M,m={};for(M in f)m[M]=(E=f[M])&&E.bind?E.bind(f):E;return f=m,m.type="dblclick",m.detail=2,m.isTrusted=!1,m._simulated=!0,m}(H)):M=1,E=Se}}}else M=H.detail}return f.addEventListener("click",N),{dblclick:m,simDblclick:N}}(f,H):"addEventListener"in f?"touchstart"===m||"touchmove"===m||"wheel"===m||"mousewheel"===m?f.addEventListener(rl[m]||m,H,!!De.passiveEvents&&{passive:!1}):"mouseenter"===m||"mouseleave"===m?f.addEventListener(rl[m],H=function(Se){Se=Se||window.event,au(f,Se)&&ce(Se)},!1):f.addEventListener(m,ce,!1):f.attachEvent("on"+m,H),f[Si]=f[Si]||{},f[Si][N]=H}function Us(f,m,E,M,N){N=N||m+Ee(E)+(M?"_"+Ee(M):"");var H=f[Si]&&f[Si][N];if(!H)return this;!De.touchNative&&De.pointer&&0===m.indexOf("touch")?function He(f,m,E){_n[m]?f.removeEventListener(_n[m],E,!1):console.warn("wrong event specified:",m)}(f,m,H):De.touch&&"dblclick"===m?function Rr(f,m){f.removeEventListener("dblclick",m.dblclick),f.removeEventListener("click",m.simDblclick)}(f,H):"removeEventListener"in f?f.removeEventListener(rl[m]||m,H,!1):f.detachEvent("on"+m,H),f[Si][N]=null}function Qo(f){return f.stopPropagation?f.stopPropagation():f.originalEvent?f.originalEvent._stopped=!0:f.cancelBubble=!0,this}function $d(f){return Yr(f,"wheel",Qo),this}function Lo(f){return an(f,"mousedown touchstart dblclick contextmenu",Qo),f._leaflet_disable_click=!0,this}function co(f){return f.preventDefault?f.preventDefault():f.returnValue=!1,this}function Ra(f){return co(f),Qo(f),this}function Gd(f){if(f.composedPath)return f.composedPath();for(var m=[],E=f.target;E;)m.push(E),E=E.parentNode;return m}function Gu(f,m){if(!m)return new Cn(f.clientX,f.clientY);var E=Ir(m),M=E.boundingClientRect;return new Cn((f.clientX-M.left)/E.x-m.clientLeft,(f.clientY-M.top)/E.y-m.clientTop)}var Tp=De.linux&&De.chrome?window.devicePixelRatio:De.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Yu(f){return De.edge?f.wheelDeltaY/2:f.deltaY&&0===f.deltaMode?-f.deltaY/Tp:f.deltaY&&1===f.deltaMode?20*-f.deltaY:f.deltaY&&2===f.deltaMode?60*-f.deltaY:f.deltaX||f.deltaZ?0:f.wheelDelta?(f.wheelDeltaY||f.wheelDelta)/2:f.detail&&Math.abs(f.detail)<32765?20*-f.detail:f.detail?f.detail/-32765*60:0}function au(f,m){var E=m.relatedTarget;if(!E)return!0;try{for(;E&&E!==f;)E=E.parentNode}catch{return!1}return E!==f}var Yd={__proto__:null,on:an,off:hi,stopPropagation:Qo,disableScrollPropagation:$d,disableClickPropagation:Lo,preventDefault:co,stop:Ra,getPropagationPath:Gd,getMousePosition:Gu,getWheelDelta:Yu,isExternalTarget:au,addListener:an,removeListener:hi},Kd=zt.extend({run:function(f,m,E,M){this.stop(),this._el=f,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=Ko(f),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=rt(this._animate,this),this._step()},_step:function(f){var m=+new Date-this._startTime,E=1e3*this._duration;m<E?this._runFrame(this._easeOut(m/E),f):(this._runFrame(1),this._complete())},_runFrame:function(f,m){var E=this._startPos.add(this._offset.multiplyBy(f));m&&E._round(),Yn(this._el,E),this.fire("step")},_complete:function(){Ae(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(f){return 1-Math.pow(1-f,this._easeOutPower)}}),Un=zt.extend({options:{crs:kr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(f,m){m=tt(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(f),this._initLayout(),this._onResize=Ce(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),void 0!==m.zoom&&(this._zoom=this._limitZoom(m.zoom)),m.center&&void 0!==m.zoom&&this.setView(gt(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=vc&&De.any3d&&!De.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),an(this._proxy,la,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(f,m,E){return m=void 0===m?this._zoom:this._limitZoom(m),f=this._limitCenter(gt(f),m,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&!0!==E&&(void 0!==E.animate&&(E.zoom=te({animate:E.animate},E.zoom),E.pan=te({animate:E.animate,duration:E.duration},E.pan)),this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(f,m,E.zoom):this._tryAnimatedPan(f,E.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(f,m,E.pan&&E.pan.noMoveStart),this)},setZoom:function(f,m){return this._loaded?this.setView(this.getCenter(),f,{zoom:m}):(this._zoom=f,this)},zoomIn:function(f,m){return this.setZoom(this._zoom+(f=f||(De.any3d?this.options.zoomDelta:1)),m)},zoomOut:function(f,m){return this.setZoom(this._zoom-(f=f||(De.any3d?this.options.zoomDelta:1)),m)},setZoomAround:function(f,m,E){var M=this.getZoomScale(m),N=this.getSize().divideBy(2),ce=(f instanceof Cn?f:this.latLngToContainerPoint(f)).subtract(N).multiplyBy(1-1/M),Se=this.containerPointToLatLng(N.add(ce));return this.setView(Se,m,{zoom:E})},_getBoundsCenterZoom:function(f,m){m=m||{},f=f.getBounds?f.getBounds():Je(f);var E=Ie(m.paddingTopLeft||m.padding||[0,0]),M=Ie(m.paddingBottomRight||m.padding||[0,0]),N=this.getBoundsZoom(f,!1,E.add(M));if((N="number"==typeof m.maxZoom?Math.min(m.maxZoom,N):N)===1/0)return{center:f.getCenter(),zoom:N};var H=M.subtract(E).divideBy(2),ce=this.project(f.getSouthWest(),N),Se=this.project(f.getNorthEast(),N);return{center:this.unproject(ce.add(Se).divideBy(2).add(H),N),zoom:N}},fitBounds:function(f,m){if(!(f=Je(f)).isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(f,m);return this.setView(E.center,E.zoom,m)},fitWorld:function(f){return this.fitBounds([[-90,-180],[90,180]],f)},panTo:function(f,m){return this.setView(f,this._zoom,{pan:m})},panBy:function(f,m){if(m=m||{},!(f=Ie(f).round()).x&&!f.y)return this.fire("moveend");if(!0!==m.animate&&!this.getSize().contains(f))return this._resetView(this.unproject(this.project(this.getCenter()).add(f)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Kd,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),!1!==m.animate){Qt(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(f).round();this._panAnim.run(this._mapPane,E,m.duration||.25,m.easeLinearity)}else this._rawPanBy(f),this.fire("move").fire("moveend");return this},flyTo:function(f,m,E){if(!1===(E=E||{}).animate||!De.any3d)return this.setView(f,m,E);this._stop();var M=this.project(this.getCenter()),N=this.project(f),H=this.getSize(),ce=this._zoom;f=gt(f),m=void 0===m?ce:m;var Se=Math.max(H.x,H.y),ke=Se*this.getZoomScale(ce,m),ct=N.distanceTo(M)||1,Rt=1.42,sn=Rt*Rt;function jn(Ai){var $s=(ke*ke-Se*Se+(Ai?-1:1)*sn*sn*ct*ct)/(2*(Ai?ke:Se)*sn*ct),lh=Math.sqrt($s*$s+1)-$s;return lh<1e-9?-18:Math.log(lh)}function ni(Ai){return(Math.exp(Ai)-Math.exp(-Ai))/2}function Bi(Ai){return(Math.exp(Ai)+Math.exp(-Ai))/2}var Ao=jn(0);function sh(Ai){return Se*(Bi(Ao)*function So(Ai){return ni(Ai)/Bi(Ai)}(Ao+Rt*Ai)-ni(Ao))/sn}var Sr=Date.now(),vl=(jn(1)-Ao)/Rt,er=E.duration?1e3*E.duration:1e3*vl*.8;return this._moveStart(!0,E.noMoveStart),function ah(){var Ai=(Date.now()-Sr)/er,yl=function gu(Ai){return 1-Math.pow(1-Ai,1.5)}(Ai)*vl;Ai<=1?(this._flyToFrame=rt(ah,this),this._move(this.unproject(M.add(N.subtract(M).multiplyBy(sh(yl)/ct)),ce),this.getScaleZoom(Se/function Ws(Ai){return Se*(Bi(Ao)/Bi(Ao+Rt*Ai))}(yl),ce),{flyTo:!0})):this._move(f,m)._moveEnd(!0)}.call(this),this},flyToBounds:function(f,m){var E=this._getBoundsCenterZoom(f,m);return this.flyTo(E.center,E.zoom,m)},setMaxBounds:function(f){return f=Je(f),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),f.isValid()?(this.options.maxBounds=f,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(f){var m=this.options.minZoom;return this.options.minZoom=f,this._loaded&&m!==f&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(f):this},setMaxZoom:function(f){var m=this.options.maxZoom;return this.options.maxZoom=f,this._loaded&&m!==f&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(f):this},panInsideBounds:function(f,m){this._enforcingBounds=!0;var E=this.getCenter(),M=this._limitCenter(E,this._zoom,Je(f));return E.equals(M)||this.panTo(M,m),this._enforcingBounds=!1,this},panInside:function(f,m){var E=Ie((m=m||{}).paddingTopLeft||m.padding||[0,0]),M=Ie(m.paddingBottomRight||m.padding||[0,0]),N=this.project(this.getCenter()),H=this.project(f),ce=this.getPixelBounds(),Se=Ke([ce.min.add(E),ce.max.subtract(M)]),ke=Se.getSize();if(!Se.contains(H)){this._enforcingBounds=!0;var ct=H.subtract(Se.getCenter()),Rt=Se.extend(H).getSize().subtract(ke);N.x+=ct.x<0?-Rt.x:Rt.x,N.y+=ct.y<0?-Rt.y:Rt.y,this.panTo(this.unproject(N),m),this._enforcingBounds=!1}return this},invalidateSize:function(f){if(!this._loaded)return this;f=te({animate:!1,pan:!0},!0===f?{animate:!0}:f);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),M=m.divideBy(2).round(),N=E.divideBy(2).round(),H=M.subtract(N);return H.x||H.y?(f.animate&&f.pan?this.panBy(H):(f.pan&&this._rawPanBy(H),this.fire("move"),f.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(Ce(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:E})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(f){if(f=this._locateOptions=te({timeout:1e4,watch:!1},f),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=Ce(this._handleGeolocationResponse,this),E=Ce(this._handleGeolocationError,this);return f.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,E,f):navigator.geolocation.getCurrentPosition(m,E,f),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(f){if(this._container._leaflet_id){var m=f.code,E=f.message||(1===m?"permission denied":2===m?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(f){if(this._container._leaflet_id){var M=new We(f.coords.latitude,f.coords.longitude),N=M.toBounds(2*f.coords.accuracy),H=this._locateOptions;if(H.setView){var ce=this.getBoundsZoom(N);this.setView(M,H.maxZoom?Math.min(ce,H.maxZoom):ce)}var Se={latlng:M,bounds:N,timestamp:f.timestamp};for(var ke in f.coords)"number"==typeof f.coords[ke]&&(Se[ke]=f.coords[ke]);this.fire("locationfound",Se)}},addHandler:function(f,m){if(!m)return this;var E=this[f]=new m(this);return this._handlers.push(E),this.options[f]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var f;for(f in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Sn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ae(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[f].remove();for(f in this._panes)Sn(this._panes[f]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(f,m){var M=Ot("div","leaflet-pane"+(f?" leaflet-"+f.replace("Pane","")+"-pane":""),m||this._mapPane);return f&&(this._panes[f]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var f=this.getPixelBounds();return new pt(this.unproject(f.getBottomLeft()),this.unproject(f.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(f,m,E){f=Je(f),E=Ie(E||[0,0]);var M=this.getZoom()||0,N=this.getMinZoom(),H=this.getMaxZoom(),ce=f.getNorthWest(),Se=f.getSouthEast(),ke=this.getSize().subtract(E),ct=Ke(this.project(Se,M),this.project(ce,M)).getSize(),Rt=De.any3d?this.options.zoomSnap:1,sn=ke.x/ct.x,jn=ke.y/ct.y,ni=m?Math.max(sn,jn):Math.min(sn,jn);return M=this.getScaleZoom(ni,M),Rt&&(M=Math.round(M/(Rt/100))*(Rt/100),M=m?Math.ceil(M/Rt)*Rt:Math.floor(M/Rt)*Rt),Math.max(N,Math.min(H,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Cn(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(f,m){var E=this._getTopLeftPoint(f,m);return new ze(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(f){return this.options.crs.getProjectedBounds(void 0===f?this.getZoom():f)},getPane:function(f){return"string"==typeof f?this._panes[f]:f},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(f,m){var E=this.options.crs;return m=void 0===m?this._zoom:m,E.scale(f)/E.scale(m)},getScaleZoom:function(f,m){var E=this.options.crs,M=E.zoom(f*E.scale(m=void 0===m?this._zoom:m));return isNaN(M)?1/0:M},project:function(f,m){return m=void 0===m?this._zoom:m,this.options.crs.latLngToPoint(gt(f),m)},unproject:function(f,m){return m=void 0===m?this._zoom:m,this.options.crs.pointToLatLng(Ie(f),m)},layerPointToLatLng:function(f){var m=Ie(f).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(f){return this.project(gt(f))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(f){return this.options.crs.wrapLatLng(gt(f))},wrapLatLngBounds:function(f){return this.options.crs.wrapLatLngBounds(Je(f))},distance:function(f,m){return this.options.crs.distance(gt(f),gt(m))},containerPointToLayerPoint:function(f){return Ie(f).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(f){return Ie(f).add(this._getMapPanePos())},containerPointToLatLng:function(f){var m=this.containerPointToLayerPoint(Ie(f));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(f){return this.layerPointToContainerPoint(this.latLngToLayerPoint(gt(f)))},mouseEventToContainerPoint:function(f){return Gu(f,this._container)},mouseEventToLayerPoint:function(f){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(f))},mouseEventToLatLng:function(f){return this.layerPointToLatLng(this.mouseEventToLayerPoint(f))},_initContainer:function(f){var m=this._container=Tr(f);if(!m)throw new Error("Map container not found.");if(m._leaflet_id)throw new Error("Map container is already initialized.");an(m,"scroll",this._onScroll,this),this._containerId=Ee(m)},_initLayout:function(){var f=this._container;this._fadeAnimated=this.options.fadeAnimation&&De.any3d,Qt(f,"leaflet-container"+(De.touch?" leaflet-touch":"")+(De.retina?" leaflet-retina":"")+(De.ielt9?" leaflet-oldie":"")+(De.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=It(f,"position");"absolute"!==m&&"relative"!==m&&"fixed"!==m&&"sticky"!==m&&(f.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var f=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Yn(this._mapPane,new Cn(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Qt(f.markerPane,"leaflet-zoom-hide"),Qt(f.shadowPane,"leaflet-zoom-hide"))},_resetView:function(f,m,E){Yn(this._mapPane,new Cn(0,0));var M=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var N=this._zoom!==m;this._moveStart(N,E)._move(f,m)._moveEnd(N),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(f,m){return f&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(f,m,E,M){void 0===m&&(m=this._zoom);var N=this._zoom!==m;return this._zoom=m,this._lastCenter=f,this._pixelOrigin=this._getNewPixelOrigin(f),M?E&&E.pinch&&this.fire("zoom",E):((N||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(f){return f&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ae(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(f){Yn(this._mapPane,this._getMapPanePos().subtract(f))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(f){this._targets={},this._targets[Ee(this._container)]=this;var m=f?hi:an;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),De.any3d&&this.options.transform3DLimit&&(f?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ae(this._resizeRequest),this._resizeRequest=rt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var f=this._getMapPanePos();Math.max(Math.abs(f.x),Math.abs(f.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(f,m){for(var M,E=[],N="mouseout"===m||"mouseover"===m,H=f.target||f.srcElement,ce=!1;H;){if((M=this._targets[Ee(H)])&&("click"===m||"preclick"===m)&&this._draggableMoved(M)){ce=!0;break}if(M&&M.listens(m,!0)&&(N&&!au(H,f)||(E.push(M),N))||H===this._container)break;H=H.parentNode}return!E.length&&!ce&&!N&&this.listens(m,!0)&&(E=[this]),E},_isClickDisabled:function(f){for(;f&&f!==this._container;){if(f._leaflet_disable_click)return!0;f=f.parentNode}},_handleDOMEvent:function(f){var m=f.target||f.srcElement;if(!(!this._loaded||m._leaflet_disable_events||"click"===f.type&&this._isClickDisabled(m))){var E=f.type;"mousedown"===E&&ka(m),this._fireDOMEvent(f,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(f,m,E){if("click"===f.type){var M=te({},f);M.type="preclick",this._fireDOMEvent(M,M.type,E)}var N=this._findEventTargets(f,m);if(E){for(var H=[],ce=0;ce<E.length;ce++)E[ce].listens(m,!0)&&H.push(E[ce]);N=H.concat(N)}if(N.length){"contextmenu"===m&&co(f);var Se=N[0],ke={originalEvent:f};if("keypress"!==f.type&&"keydown"!==f.type&&"keyup"!==f.type){var ct=Se.getLatLng&&(!Se._radius||Se._radius<=10);ke.containerPoint=ct?this.latLngToContainerPoint(Se.getLatLng()):this.mouseEventToContainerPoint(f),ke.layerPoint=this.containerPointToLayerPoint(ke.containerPoint),ke.latlng=ct?Se.getLatLng():this.layerPointToLatLng(ke.layerPoint)}for(ce=0;ce<N.length;ce++)if(N[ce].fire(m,ke,!0),ke.originalEvent._stopped||!1===N[ce].options.bubblingMouseEvents&&-1!==st(this._mouseEvents,m))return}},_draggableMoved:function(f){return(f=f.dragging&&f.dragging.enabled()?f:this).dragging&&f.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var f=0,m=this._handlers.length;f<m;f++)this._handlers[f].disable()},whenReady:function(f,m){return this._loaded?f.call(m||this,{target:this}):this.on("load",f,m),this},_getMapPanePos:function(){return Ko(this._mapPane)||new Cn(0,0)},_moved:function(){var f=this._getMapPanePos();return f&&!f.equals([0,0])},_getTopLeftPoint:function(f,m){return(f&&void 0!==m?this._getNewPixelOrigin(f,m):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(f,m){var E=this.getSize()._divideBy(2);return this.project(f,m)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(f,m,E){var M=this._getNewPixelOrigin(E,m);return this.project(f,m)._subtract(M)},_latLngBoundsToNewLayerBounds:function(f,m,E){var M=this._getNewPixelOrigin(E,m);return Ke([this.project(f.getSouthWest(),m)._subtract(M),this.project(f.getNorthWest(),m)._subtract(M),this.project(f.getSouthEast(),m)._subtract(M),this.project(f.getNorthEast(),m)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(f){return this.latLngToLayerPoint(f).subtract(this._getCenterLayerPoint())},_limitCenter:function(f,m,E){if(!E)return f;var M=this.project(f,m),N=this.getSize().divideBy(2),H=new ze(M.subtract(N),M.add(N)),ce=this._getBoundsOffset(H,E,m);return Math.abs(ce.x)<=1&&Math.abs(ce.y)<=1?f:this.unproject(M.add(ce),m)},_limitOffset:function(f,m){if(!m)return f;var E=this.getPixelBounds(),M=new ze(E.min.add(f),E.max.add(f));return f.add(this._getBoundsOffset(M,m))},_getBoundsOffset:function(f,m,E){var M=Ke(this.project(m.getNorthEast(),E),this.project(m.getSouthWest(),E)),N=M.min.subtract(f.min),H=M.max.subtract(f.max);return new Cn(this._rebound(N.x,-H.x),this._rebound(N.y,-H.y))},_rebound:function(f,m){return f+m>0?Math.round(f-m)/2:Math.max(0,Math.ceil(f))-Math.max(0,Math.floor(m))},_limitZoom:function(f){var m=this.getMinZoom(),E=this.getMaxZoom(),M=De.any3d?this.options.zoomSnap:1;return M&&(f=Math.round(f/M)*M),Math.max(m,Math.min(E,f))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Li(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(f,m){var E=this._getCenterOffset(f)._trunc();return!(!0!==(m&&m.animate)&&!this.getSize().contains(E)||(this.panBy(E,m),0))},_createAnimProxy:function(){var f=this._proxy=Ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(f),this.on("zoomanim",function(m){var E=Ll,M=this._proxy.style[E];Ro(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),M===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Sn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var f=this.getCenter(),m=this.getZoom();Ro(this._proxy,this.project(f,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(f){this._animatingZoom&&f.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(f,m,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||!1===E.animate||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(m),N=this._getCenterOffset(f)._divideBy(1-1/M);return!(!0!==E.animate&&!this.getSize().contains(N)||(rt(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(f,m,!0)},this),0))},_animateZoom:function(f,m,E,M){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=f,this._animateToZoom=m,Qt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:f,zoom:m,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(Ce(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Li(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Is=tn.extend({options:{position:"topright"},initialize:function(f){tt(this,f)},getPosition:function(){return this.options.position},setPosition:function(f){var m=this._map;return m&&m.removeControl(this),this.options.position=f,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(f){this.remove(),this._map=f;var m=this._container=this.onAdd(f),E=this.getPosition(),M=f._controlCorners[E];return Qt(m,"leaflet-control"),-1!==E.indexOf("bottom")?M.insertBefore(m,M.firstChild):M.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Sn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(f){this._map&&f&&f.screenX>0&&f.screenY>0&&this._map.getContainer().focus()}}),Bs=function(f){return new Is(f)};Un.include({addControl:function(f){return f.addTo(this),this},removeControl:function(f){return f.remove(),this},_initControlPos:function(){var f=this._controlCorners={},m="leaflet-",E=this._controlContainer=Ot("div",m+"control-container",this._container);function M(N,H){f[N+H]=Ot("div",m+N+" "+m+H,E)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var f in this._controlCorners)Sn(this._controlCorners[f]);Sn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Qd=Is.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(f,m,E,M){return E<M?-1:M<E?1:0}},initialize:function(f,m,E){for(var M in tt(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,f)this._addLayer(f[M],M);for(M in m)this._addLayer(m[M],M,!0)},onAdd:function(f){this._initLayout(),this._update(),this._map=f,f.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(f){return Is.prototype.addTo.call(this,f),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(f,m){return this._addLayer(f,m),this._map?this._update():this},addOverlay:function(f,m){return this._addLayer(f,m,!0),this._map?this._update():this},removeLayer:function(f){f.off("add remove",this._onLayerChange,this);var m=this._getLayer(Ee(f));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){Qt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var f=this._map.getSize().y-(this._container.offsetTop+50);return f<this._section.clientHeight?(Qt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=f+"px"):Li(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Li(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var f="leaflet-control-layers",m=this._container=Ot("div",f),E=this.options.collapsed;m.setAttribute("aria-haspopup",!0),Lo(m),$d(m);var M=this._section=Ot("section",f+"-list");E&&(this._map.on("click",this.collapse,this),an(m,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var N=this._layersLink=Ot("a",f+"-toggle",m);N.href="#",N.title="Layers",N.setAttribute("role","button"),an(N,{keydown:function(H){13===H.keyCode&&this._expandSafely()},click:function(H){co(H),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=Ot("div",f+"-base",M),this._separator=Ot("div",f+"-separator",M),this._overlaysList=Ot("div",f+"-overlays",M),m.appendChild(M)},_getLayer:function(f){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&Ee(this._layers[m].layer)===f)return this._layers[m]},_addLayer:function(f,m,E){this._map&&f.on("add remove",this._onLayerChange,this),this._layers.push({layer:f,name:m,overlay:E}),this.options.sortLayers&&this._layers.sort(Ce(function(M,N){return this.options.sortFunction(M.layer,N.layer,M.name,N.name)},this)),this.options.autoZIndex&&f.setZIndex&&(this._lastZIndex++,f.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;oi(this._baseLayersList),oi(this._overlaysList),this._layerControlInputs=[];var f,m,E,M,N=0;for(E=0;E<this._layers.length;E++)this._addItem(M=this._layers[E]),m=m||M.overlay,f=f||!M.overlay,N+=M.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(f=f&&N>1)?"":"none"),this._separator.style.display=m&&f?"":"none",this},_onLayerChange:function(f){this._handlingClick||this._update();var m=this._getLayer(Ee(f.target)),E=m.overlay?"add"===f.type?"overlayadd":"overlayremove":"add"===f.type?"baselayerchange":null;E&&this._map.fire(E,m)},_createRadioElement:function(f,m){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+f+'"'+(m?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=E,M.firstChild},_addItem:function(f){var M,m=document.createElement("label"),E=this._map.hasLayer(f.layer);f.overlay?((M=document.createElement("input")).type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=E):M=this._createRadioElement("leaflet-base-layers_"+Ee(this),E),this._layerControlInputs.push(M),M.layerId=Ee(f.layer),an(M,"click",this._onInputClick,this);var N=document.createElement("span");N.innerHTML=" "+f.name;var H=document.createElement("span");return m.appendChild(H),H.appendChild(M),H.appendChild(N),(f.overlay?this._overlaysList:this._baseLayersList).appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){if(!this._preventClick){var m,E,f=this._layerControlInputs,M=[],N=[];this._handlingClick=!0;for(var H=f.length-1;H>=0;H--)E=this._getLayer((m=f[H]).layerId).layer,m.checked?M.push(E):m.checked||N.push(E);for(H=0;H<N.length;H++)this._map.hasLayer(N[H])&&this._map.removeLayer(N[H]);for(H=0;H<M.length;H++)this._map.hasLayer(M[H])||this._map.addLayer(M[H]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var m,E,f=this._layerControlInputs,M=this._map.getZoom(),N=f.length-1;N>=0;N--)E=this._getLayer((m=f[N]).layerId).layer,m.disabled=void 0!==E.options.minZoom&&M<E.options.minZoom||void 0!==E.options.maxZoom&&M>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var f=this._section;this._preventClick=!0,an(f,"click",co),this.expand();var m=this;setTimeout(function(){hi(f,"click",co),m._preventClick=!1})}}),ca=Is.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(f){var m="leaflet-control-zoom",E=Ot("div",m+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,m+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,m+"-out",E,this._zoomOut),this._updateDisabled(),f.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(f){f.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(f){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(f.shiftKey?3:1))},_zoomOut:function(f){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(f.shiftKey?3:1))},_createButton:function(f,m,E,M,N){var H=Ot("a",E,M);return H.innerHTML=f,H.href="#",H.title=m,H.setAttribute("role","button"),H.setAttribute("aria-label",m),Lo(H),an(H,"click",Ra),an(H,"click",N,this),an(H,"click",this._refocusOnMap,this),H},_updateDisabled:function(){var f=this._map,m="leaflet-disabled";Li(this._zoomInButton,m),Li(this._zoomOutButton,m),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||f._zoom===f.getMinZoom())&&(Qt(this._zoomOutButton,m),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||f._zoom===f.getMaxZoom())&&(Qt(this._zoomInButton,m),this._zoomInButton.setAttribute("aria-disabled","true"))}});Un.mergeOptions({zoomControl:!0}),Un.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ca,this.addControl(this.zoomControl))});var Vs=Is.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(f){var m="leaflet-control-scale",E=Ot("div",m),M=this.options;return this._addScales(M,m+"-line",E),f.on(M.updateWhenIdle?"moveend":"move",this._update,this),f.whenReady(this._update,this),E},onRemove:function(f){f.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(f,m,E){f.metric&&(this._mScale=Ot("div",m,E)),f.imperial&&(this._iScale=Ot("div",m,E))},_update:function(){var f=this._map,m=f.getSize().y/2,E=f.distance(f.containerPointToLatLng([0,m]),f.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(E)},_updateScales:function(f){this.options.metric&&f&&this._updateMetric(f),this.options.imperial&&f&&this._updateImperial(f)},_updateMetric:function(f){var m=this._getRoundNum(f);this._updateScale(this._mScale,m<1e3?m+" m":m/1e3+" km",m/f)},_updateImperial:function(f){var E,M,N,m=3.2808399*f;m>5280?(M=this._getRoundNum(E=m/5280),this._updateScale(this._iScale,M+" mi",M/E)):(N=this._getRoundNum(m),this._updateScale(this._iScale,N+" ft",N/m))},_updateScale:function(f,m,E){f.style.width=Math.round(this.options.maxWidth*E)+"px",f.innerHTML=m},_getRoundNum:function(f){var m=Math.pow(10,(Math.floor(f)+"").length-1),E=f/m;return m*(E>=10?10:E>=5?5:E>=3?3:E>=2?2:1)}}),Ul=Is.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(De.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(f){tt(this,f),this._attributions={}},onAdd:function(f){for(var m in f.attributionControl=this,this._container=Ot("div","leaflet-control-attribution"),Lo(this._container),f._layers)f._layers[m].getAttribution&&this.addAttribution(f._layers[m].getAttribution());return this._update(),f.on("layeradd",this._addAttribution,this),this._container},onRemove:function(f){f.off("layeradd",this._addAttribution,this)},_addAttribution:function(f){f.layer.getAttribution&&(this.addAttribution(f.layer.getAttribution()),f.layer.once("remove",function(){this.removeAttribution(f.layer.getAttribution())},this))},setPrefix:function(f){return this.options.prefix=f,this._update(),this},addAttribution:function(f){return f?(this._attributions[f]||(this._attributions[f]=0),this._attributions[f]++,this._update(),this):this},removeAttribution:function(f){return f?(this._attributions[f]&&(this._attributions[f]--,this._update()),this):this},_update:function(){if(this._map){var f=[];for(var m in this._attributions)this._attributions[m]&&f.push(m);var E=[];this.options.prefix&&E.push(this.options.prefix),f.length&&E.push(f.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});Un.mergeOptions({attributionControl:!0}),Un.addInitHook(function(){this.options.attributionControl&&(new Ul).addTo(this)});Is.Layers=Qd,Is.Zoom=ca,Is.Scale=Vs,Is.Attribution=Ul,Bs.layers=function(f,m,E){return new Qd(f,m,E)},Bs.zoom=function(f){return new ca(f)},Bs.scale=function(f){return new Vs(f)},Bs.attribution=function(f){return new Ul(f)};var Kr=tn.extend({initialize:function(f){this._map=f},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Kr.addTo=function(f,m){return f.addHandler(m,this),this};var Ku={Events:dn},wc=De.touch?"touchstart mousedown":"mousedown",ua=zt.extend({options:{clickTolerance:3},initialize:function(f,m,E,M){tt(this,M),this._element=f,this._dragStartTarget=m||f,this._preventOutline=E},enable:function(){this._enabled||(an(this._dragStartTarget,wc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ua._dragging===this&&this.finishDrag(!0),hi(this._dragStartTarget,wc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(f){if(this._enabled&&(this._moved=!1,!Xi(this._element,"leaflet-zoom-anim"))){if(f.touches&&1!==f.touches.length)return void(ua._dragging===this&&this.finishDrag());if(!(ua._dragging||f.shiftKey||1!==f.which&&1!==f.button&&!f.touches||(ua._dragging=this,this._preventOutline&&ka(this._element),Ci(),Es(),this._moving))){this.fire("down");var m=f.touches?f.touches[0]:f,E=Oa(this._element);this._startPoint=new Cn(m.clientX,m.clientY),this._startPos=Ko(this._element),this._parentScale=Ir(E);var M="mousedown"===f.type;an(document,M?"mousemove":"touchmove",this._onMove,this),an(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(f){if(this._enabled){if(f.touches&&f.touches.length>1)return void(this._moved=!0);var m=f.touches&&1===f.touches.length?f.touches[0]:f,E=new Cn(m.clientX,m.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,co(f),this._moved||(this.fire("dragstart"),this._moved=!0,Qt(document.body,"leaflet-dragging"),this._lastTarget=f.target||f.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Qt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=f,this._updatePosition())}},_updatePosition:function(){var f={originalEvent:this._lastEvent};this.fire("predrag",f),Yn(this._element,this._newPos),this.fire("drag",f)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(f){Li(document.body,"leaflet-dragging"),this._lastTarget&&(Li(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),hi(document,"mousemove touchmove",this._onMove,this),hi(document,"mouseup touchend touchcancel",this._onUp,this),No(),Gr();var m=this._moved&&this._moving;this._moving=!1,ua._dragging=!1,m&&this.fire("dragend",{noInertia:f,distance:this._newPos.distanceTo(this._startPos)})}});function sl(f,m,E){var M,H,ce,Se,ke,ct,Rt,sn,jn,N=[1,4,2,8];for(H=0,Rt=f.length;H<Rt;H++)f[H]._code=xs(f[H],m);for(Se=0;Se<4;Se++){for(sn=N[Se],M=[],H=0,ce=(Rt=f.length)-1;H<Rt;ce=H++)ct=f[ce],(ke=f[H])._code&sn?ct._code&sn||((jn=ur(ct,ke,sn,m,E))._code=xs(jn,m),M.push(jn)):(ct._code&sn&&((jn=ur(ct,ke,sn,m,E))._code=xs(jn,m),M.push(jn)),M.push(ke));f=M}return f}function Na(f,m){var E,M,N,H,ce,Se,ke,ct;if(!f||0===f.length)throw new Error("latlngs not passed");vr(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var sn=gt([0,0]),jn=Je(f);jn.getNorthWest().distanceTo(jn.getSouthWest())*jn.getNorthEast().distanceTo(jn.getNorthWest())<1700&&(sn=Fi(f));var Bi=f.length,So=[];for(E=0;E<Bi;E++){var Ao=gt(f[E]);So.push(m.project(gt([Ao.lat-sn.lat,Ao.lng-sn.lng])))}for(Se=ke=ct=0,E=0,M=Bi-1;E<Bi;M=E++)ke+=((N=So[E]).x+(H=So[M]).x)*(ce=N.y*H.x-H.y*N.x),ct+=(N.y+H.y)*ce,Se+=3*ce;var Ws=m.unproject(Ie(0===Se?So[0]:[ke/Se,ct/Se]));return gt([Ws.lat+sn.lat,Ws.lng+sn.lng])}function Fi(f){for(var m=0,E=0,M=0,N=0;N<f.length;N++){var H=gt(f[N]);m+=H.lat,E+=H.lng,M++}return gt([m/M,E/M])}var Ec,bc={__proto__:null,clipPolygon:sl,polygonCenter:Na,centroid:Fi};function Cc(f,m){if(!m||!f.length)return f.slice();var E=m*m;return function ll(f,m){var E=f.length,N=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(E);N[0]=N[E-1]=1,xr(f,N,m,0,E-1);var H,ce=[];for(H=0;H<E;H++)N[H]&&ce.push(f[H]);return ce}(f=function cf(f,m){for(var E=[f[0]],M=1,N=0,H=f.length;M<H;M++)La(f[M],f[N])>m&&(E.push(f[M]),N=M);return N<H-1&&E.push(f[H-1]),E}(f,E),E)}function _r(f,m,E){return Math.sqrt(Bl(f,m,E,!0))}function xr(f,m,E,M,N){var ce,Se,ke,H=0;for(Se=M+1;Se<=N-1;Se++)(ke=Bl(f[Se],f[M],f[N],!0))>H&&(ce=Se,H=ke);H>E&&(m[ce]=1,xr(f,m,E,M,ce),xr(f,m,E,ce,N))}function uo(f,m,E,M,N){var Se,ke,ct,H=M?Ec:xs(f,E),ce=xs(m,E);for(Ec=ce;;){if(!(H|ce))return[f,m];if(H&ce)return!1;ct=xs(ke=ur(f,m,Se=H||ce,E,N),E),Se===H?(f=ke,H=ct):(m=ke,ce=ct)}}function ur(f,m,E,M,N){var ct,Rt,H=m.x-f.x,ce=m.y-f.y,Se=M.min,ke=M.max;return 8&E?(ct=f.x+H*(ke.y-f.y)/ce,Rt=ke.y):4&E?(ct=f.x+H*(Se.y-f.y)/ce,Rt=Se.y):2&E?(ct=ke.x,Rt=f.y+ce*(ke.x-f.x)/H):1&E&&(ct=Se.x,Rt=f.y+ce*(Se.x-f.x)/H),new Cn(ct,Rt,N)}function xs(f,m){var E=0;return f.x<m.min.x?E|=1:f.x>m.max.x&&(E|=2),f.y<m.min.y?E|=4:f.y>m.max.y&&(E|=8),E}function La(f,m){var E=m.x-f.x,M=m.y-f.y;return E*E+M*M}function Bl(f,m,E,M){var ct,N=m.x,H=m.y,ce=E.x-N,Se=E.y-H,ke=ce*ce+Se*Se;return ke>0&&((ct=((f.x-N)*ce+(f.y-H)*Se)/ke)>1?(N=E.x,H=E.y):ct>0&&(N+=ce*ct,H+=Se*ct)),ce=f.x-N,Se=f.y-H,M?ce*ce+Se*Se:new Cn(N,H)}function vr(f){return!Be(f[0])||"object"!=typeof f[0][0]&&typeof f[0][0]<"u"}function Vl(f){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),vr(f)}function cl(f,m){var E,M,N,H,ce,Se,ke,ct;if(!f||0===f.length)throw new Error("latlngs not passed");vr(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Rt=gt([0,0]),sn=Je(f);sn.getNorthWest().distanceTo(sn.getSouthWest())*sn.getNorthEast().distanceTo(sn.getNorthWest())<1700&&(Rt=Fi(f));var ni=f.length,Bi=[];for(E=0;E<ni;E++){var So=gt(f[E]);Bi.push(m.project(gt([So.lat-Rt.lat,So.lng-Rt.lng])))}for(E=0,M=0;E<ni-1;E++)M+=Bi[E].distanceTo(Bi[E+1])/2;if(0===M)ct=Bi[0];else for(E=0,H=0;E<ni-1;E++)if((H+=N=(ce=Bi[E]).distanceTo(Se=Bi[E+1]))>M){ct=[Se.x-(ke=(H-M)/N)*(Se.x-ce.x),Se.y-ke*(Se.y-ce.y)];break}var Ao=m.unproject(Ie(ct));return gt([Ao.lat+Rt.lat,Ao.lng+Rt.lng])}var xn={__proto__:null,simplify:Cc,pointToSegmentDistance:_r,closestPointOnSegment:function al(f,m,E){return Bl(f,m,E)},clipSegment:uo,_getEdgeIntersection:ur,_getBitCode:xs,_sqClosestPointOnSegment:Bl,isFlat:vr,_flat:Vl,polylineCenter:cl},Zl={project:function(f){return new Cn(f.lng,f.lat)},unproject:function(f){return new We(f.y,f.x)},bounds:new ze([-180,-90],[180,90])},Qu={R:6378137,R_MINOR:6356752.314245179,bounds:new ze([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(f){var m=Math.PI/180,E=this.R,M=f.lat*m,N=this.R_MINOR/E,H=Math.sqrt(1-N*N),ce=H*Math.sin(M),Se=Math.tan(Math.PI/4-M/2)/Math.pow((1-ce)/(1+ce),H/2);return M=-E*Math.log(Math.max(Se,1e-10)),new Cn(f.lng*m*E,M)},unproject:function(f){for(var ct,m=180/Math.PI,E=this.R,M=this.R_MINOR/E,N=Math.sqrt(1-M*M),H=Math.exp(-f.y/E),ce=Math.PI/2-2*Math.atan(H),Se=0,ke=.1;Se<15&&Math.abs(ke)>1e-7;Se++)ct=N*Math.sin(ce),ct=Math.pow((1-ct)/(1+ct),N/2),ce+=ke=Math.PI/2-2*Math.atan(H*ct)-ce;return new We(ce*m,f.x*m/E)}},Ju={__proto__:null,LonLat:Zl,Mercator:Qu,SphericalMercator:Vn},Xu=te({},Pt,{code:"EPSG:3395",projection:Qu,transformation:function(){var f=.5/(Math.PI*Qu.R);return mi(f,.5,-f,.5)}()}),lu=te({},Pt,{code:"EPSG:4326",projection:Zl,transformation:mi(1/180,1,-1/180,.5)}),th=te({},ci,{projection:Zl,transformation:mi(1,0,-1,0),scale:function(f){return Math.pow(2,f)},zoom:function(f){return Math.log(f)/Math.LN2},distance:function(f,m){var E=m.lng-f.lng,M=m.lat-f.lat;return Math.sqrt(E*E+M*M)},infinite:!0});ci.Earth=Pt,ci.EPSG3395=Xu,ci.EPSG3857=kr,ci.EPSG900913=ar,ci.EPSG4326=lu,ci.Simple=th;var cs=zt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(f){return f.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(f){return f&&f.removeLayer(this),this},getPane:function(f){return this._map.getPane(f?this.options[f]||f:this.options.pane)},addInteractiveTarget:function(f){return this._map._targets[Ee(f)]=this,this},removeInteractiveTarget:function(f){return delete this._map._targets[Ee(f)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(f){var m=f.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var E=this.getEvents();m.on(E,this),this.once("remove",function(){m.off(E,this)},this)}this.onAdd(m),this.fire("add"),m.fire("layeradd",{layer:this})}}});Un.include({addLayer:function(f){if(!f._layerAdd)throw new Error("The provided object is not a Layer.");var m=Ee(f);return this._layers[m]||(this._layers[m]=f,f._mapToAdd=this,f.beforeAdd&&f.beforeAdd(this),this.whenReady(f._layerAdd,f)),this},removeLayer:function(f){var m=Ee(f);return this._layers[m]?(this._loaded&&f.onRemove(this),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:f}),f.fire("remove")),f._map=f._mapToAdd=null,this):this},hasLayer:function(f){return Ee(f)in this._layers},eachLayer:function(f,m){for(var E in this._layers)f.call(m,this._layers[E]);return this},_addLayers:function(f){for(var m=0,E=(f=f?Be(f)?f:[f]:[]).length;m<E;m++)this.addLayer(f[m])},_addZoomLimit:function(f){(!isNaN(f.options.maxZoom)||!isNaN(f.options.minZoom))&&(this._zoomBoundLayers[Ee(f)]=f,this._updateZoomLevels())},_removeZoomLimit:function(f){var m=Ee(f);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var f=1/0,m=-1/0,E=this._getZoomSpan();for(var M in this._zoomBoundLayers){var N=this._zoomBoundLayers[M].options;f=void 0===N.minZoom?f:Math.min(f,N.minZoom),m=void 0===N.maxZoom?m:Math.max(m,N.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=f===1/0?void 0:f,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Tc=cs.extend({initialize:function(f,m){var E,M;if(tt(this,m),this._layers={},f)for(E=0,M=f.length;E<M;E++)this.addLayer(f[E])},addLayer:function(f){var m=this.getLayerId(f);return this._layers[m]=f,this._map&&this._map.addLayer(f),this},removeLayer:function(f){var m=f in this._layers?f:this.getLayerId(f);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(f){return("number"==typeof f?f:this.getLayerId(f))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(f){var E,M,m=Array.prototype.slice.call(arguments,1);for(E in this._layers)(M=this._layers[E])[f]&&M[f].apply(M,m);return this},onAdd:function(f){this.eachLayer(f.addLayer,f)},onRemove:function(f){this.eachLayer(f.removeLayer,f)},eachLayer:function(f,m){for(var E in this._layers)f.call(m,this._layers[E]);return this},getLayer:function(f){return this._layers[f]},getLayers:function(){var f=[];return this.eachLayer(f.push,f),f},setZIndex:function(f){return this.invoke("setZIndex",f)},getLayerId:function(f){return Ee(f)}}),hn=Tc.extend({addLayer:function(f){return this.hasLayer(f)?this:(f.addEventParent(this),Tc.prototype.addLayer.call(this,f),this.fire("layeradd",{layer:f}))},removeLayer:function(f){return this.hasLayer(f)?(f in this._layers&&(f=this._layers[f]),f.removeEventParent(this),Tc.prototype.removeLayer.call(this,f),this.fire("layerremove",{layer:f})):this},setStyle:function(f){return this.invoke("setStyle",f)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var f=new pt;for(var m in this._layers){var E=this._layers[m];f.extend(E.getBounds?E.getBounds():E.getLatLng())}return f}}),Zs=tn.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(f){tt(this,f)},createIcon:function(f){return this._createIcon("icon",f)},createShadow:function(f){return this._createIcon("shadow",f)},_createIcon:function(f,m){var E=this._getIconUrl(f);if(!E){if("icon"===f)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(E,m&&"IMG"===m.tagName?m:null);return this._setIconStyles(M,f),(this.options.crossOrigin||""===this.options.crossOrigin)&&(M.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),M},_setIconStyles:function(f,m){var E=this.options,M=E[m+"Size"];"number"==typeof M&&(M=[M,M]);var N=Ie(M),H=Ie("shadow"===m&&E.shadowAnchor||E.iconAnchor||N&&N.divideBy(2,!0));f.className="leaflet-marker-"+m+" "+(E.className||""),H&&(f.style.marginLeft=-H.x+"px",f.style.marginTop=-H.y+"px"),N&&(f.style.width=N.x+"px",f.style.height=N.y+"px")},_createImg:function(f,m){return(m=m||document.createElement("img")).src=f,m},_getIconUrl:function(f){return De.retina&&this.options[f+"RetinaUrl"]||this.options[f+"Url"]}});var zl=Zs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(f){return"string"!=typeof zl.imagePath&&(zl.imagePath=this._detectIconPath()),(this.options.imagePath||zl.imagePath)+Zs.prototype._getIconUrl.call(this,f)},_stripUrl:function(f){var m=function(E,M,N){var H=M.exec(E);return H&&H[N]};return(f=m(f,/^url\((['"])?(.+)\1\)$/,2))&&m(f,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var f=Ot("div","leaflet-default-icon-path",document.body),m=It(f,"background-image")||It(f,"backgroundImage");if(document.body.removeChild(f),m=this._stripUrl(m))return m;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),ul=Kr.extend({initialize:function(f){this._marker=f},addHooks:function(){var f=this._marker._icon;this._draggable||(this._draggable=new ua(f,f,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Qt(f,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Li(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(f){var m=this._marker,E=m._map,M=this._marker.options.autoPanSpeed,N=this._marker.options.autoPanPadding,H=Ko(m._icon),ce=E.getPixelBounds(),Se=E.getPixelOrigin(),ke=Ke(ce.min._subtract(Se).add(N),ce.max._subtract(Se).subtract(N));if(!ke.contains(H)){var ct=Ie((Math.max(ke.max.x,H.x)-ke.max.x)/(ce.max.x-ke.max.x)-(Math.min(ke.min.x,H.x)-ke.min.x)/(ce.min.x-ke.min.x),(Math.max(ke.max.y,H.y)-ke.max.y)/(ce.max.y-ke.max.y)-(Math.min(ke.min.y,H.y)-ke.min.y)/(ce.min.y-ke.min.y)).multiplyBy(M);E.panBy(ct,{animate:!1}),this._draggable._newPos._add(ct),this._draggable._startPos._add(ct),Yn(m._icon,this._draggable._newPos),this._onDrag(f),this._panRequest=rt(this._adjustPan.bind(this,f))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(f){this._marker.options.autoPan&&(Ae(this._panRequest),this._panRequest=rt(this._adjustPan.bind(this,f)))},_onDrag:function(f){var m=this._marker,E=m._shadow,M=Ko(m._icon),N=m._map.layerPointToLatLng(M);E&&Yn(E,M),m._latlng=N,f.latlng=N,f.oldLatLng=this._oldLatLng,m.fire("move",f).fire("drag",f)},_onDragEnd:function(f){Ae(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",f)}}),xo=cs.extend({options:{icon:new zl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(f,m){tt(this,m),this._latlng=gt(f)},onAdd:function(f){this._zoomAnimated=this._zoomAnimated&&f.options.markerZoomAnimation,this._zoomAnimated&&f.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(f){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&f.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(f){var m=this._latlng;return this._latlng=gt(f),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(f){return this.options.zIndexOffset=f,this.update()},getIcon:function(){return this.options.icon},setIcon:function(f){return this.options.icon=f,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var f=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(f)}return this},_initIcon:function(){var f=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=f.icon.createIcon(this._icon),M=!1;E!==this._icon&&(this._icon&&this._removeIcon(),M=!0,f.title&&(E.title=f.title),"IMG"===E.tagName&&(E.alt=f.alt||"")),Qt(E,m),f.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,f.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&an(E,"focus",this._panOnFocus,this);var N=f.icon.createShadow(this._shadow),H=!1;N!==this._shadow&&(this._removeShadow(),H=!0),N&&(Qt(N,m),N.alt=""),this._shadow=N,f.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),N&&H&&this.getPane(f.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&hi(this._icon,"focus",this._panOnFocus,this),Sn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Sn(this._shadow),this._shadow=null},_setPos:function(f){this._icon&&Yn(this._icon,f),this._shadow&&Yn(this._shadow,f),this._zIndex=f.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(f){this._icon&&(this._icon.style.zIndex=this._zIndex+f)},_animateZoom:function(f){var m=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(Qt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ul)){var f=this.options.draggable;this.dragging&&(f=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ul(this),f&&this.dragging.enable()}},setOpacity:function(f){return this.options.opacity=f,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var f=this.options.opacity;this._icon&&Io(this._icon,f),this._shadow&&Io(this._shadow,f)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var f=this._map;if(f){var m=this.options.icon.options,E=m.iconSize?Ie(m.iconSize):Ie(0,0),M=m.iconAnchor?Ie(m.iconAnchor):Ie(0,0);f.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:E.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var da=cs.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(f){this._renderer=f.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(f){return tt(this,f),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&f&&Object.prototype.hasOwnProperty.call(f,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Dc=da.extend({options:{fill:!0,radius:10},initialize:function(f,m){tt(this,m),this._latlng=gt(f),this._radius=this.options.radius},setLatLng:function(f){var m=this._latlng;return this._latlng=gt(f),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(f){return this.options.radius=this._radius=f,this.redraw()},getRadius:function(){return this._radius},setStyle:function(f){var m=f&&f.radius||this._radius;return da.prototype.setStyle.call(this,f),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var f=this._radius,m=this._radiusY||f,E=this._clickTolerance(),M=[f+E,m+E];this._pxBounds=new ze(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(f){return f.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Ua=Dc.extend({initialize:function(f,m,E){if("number"==typeof m&&(m=te({},E,{radius:m})),tt(this,m),this._latlng=gt(f),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(f){return this._mRadius=f,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var f=[this._radius,this._radiusY||this._radius];return new pt(this._map.layerPointToLatLng(this._point.subtract(f)),this._map.layerPointToLatLng(this._point.add(f)))},setStyle:da.prototype.setStyle,_project:function(){var f=this._latlng.lng,m=this._latlng.lat,E=this._map,M=E.options.crs;if(M.distance===Pt.distance){var N=Math.PI/180,H=this._mRadius/Pt.R/N,ce=E.project([m+H,f]),Se=E.project([m-H,f]),ke=ce.add(Se).divideBy(2),ct=E.unproject(ke).lat,Rt=Math.acos((Math.cos(H*N)-Math.sin(m*N)*Math.sin(ct*N))/(Math.cos(m*N)*Math.cos(ct*N)))/N;(isNaN(Rt)||0===Rt)&&(Rt=H/Math.cos(Math.PI/180*m)),this._point=ke.subtract(E.getPixelOrigin()),this._radius=isNaN(Rt)?0:ke.x-E.project([ct,f-Rt]).x,this._radiusY=ke.y-ce.y}else{var sn=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(sn).x}this._updateBounds()}});var or=da.extend({options:{smoothFactor:1,noClip:!1},initialize:function(f,m){tt(this,m),this._setLatLngs(f)},getLatLngs:function(){return this._latlngs},setLatLngs:function(f){return this._setLatLngs(f),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(f){for(var N,H,m=1/0,E=null,M=Bl,ce=0,Se=this._parts.length;ce<Se;ce++)for(var ke=this._parts[ce],ct=1,Rt=ke.length;ct<Rt;ct++){var sn=M(f,N=ke[ct-1],H=ke[ct],!0);sn<m&&(m=sn,E=M(f,N,H))}return E&&(E.distance=Math.sqrt(m)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(f,m){return m=m||this._defaultShape(),f=gt(f),m.push(f),this._bounds.extend(f),this.redraw()},_setLatLngs:function(f){this._bounds=new pt,this._latlngs=this._convertLatLngs(f)},_defaultShape:function(){return vr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(f){for(var m=[],E=vr(f),M=0,N=f.length;M<N;M++)E?(m[M]=gt(f[M]),this._bounds.extend(m[M])):m[M]=this._convertLatLngs(f[M]);return m},_project:function(){var f=new ze;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,f),this._bounds.isValid()&&f.isValid()&&(this._rawPxBounds=f,this._updateBounds())},_updateBounds:function(){var f=this._clickTolerance(),m=new Cn(f,f);this._rawPxBounds&&(this._pxBounds=new ze([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)]))},_projectLatlngs:function(f,m,E){var H,ce,N=f.length;if(f[0]instanceof We){for(ce=[],H=0;H<N;H++)ce[H]=this._map.latLngToLayerPoint(f[H]),E.extend(ce[H]);m.push(ce)}else for(H=0;H<N;H++)this._projectLatlngs(f[H],m,E)},_clipPoints:function(){var f=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(f)){if(this.options.noClip)return void(this._parts=this._rings);var E,M,N,H,ce,Se,ke,m=this._parts;for(E=0,N=0,H=this._rings.length;E<H;E++)for(M=0,ce=(ke=this._rings[E]).length;M<ce-1;M++)(Se=uo(ke[M],ke[M+1],f,M,!0))&&(m[N]=m[N]||[],m[N].push(Se[0]),(Se[1]!==ke[M+1]||M===ce-2)&&(m[N].push(Se[1]),N++))}},_simplifyPoints:function(){for(var f=this._parts,m=this.options.smoothFactor,E=0,M=f.length;E<M;E++)f[E]=Cc(f[E],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(f,m){var E,M,N,H,ce,Se,ke=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(E=0,H=this._parts.length;E<H;E++)for(M=0,N=(ce=(Se=this._parts[E]).length)-1;M<ce;N=M++)if((m||0!==M)&&_r(f,Se[N],Se[M])<=ke)return!0;return!1}});or._flat=Vl;var Fo=or.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Na(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(f){var m=or.prototype._convertLatLngs.call(this,f),E=m.length;return E>=2&&m[0]instanceof We&&m[0].equals(m[E-1])&&m.pop(),m},_setLatLngs:function(f){or.prototype._setLatLngs.call(this,f),vr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return vr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var f=this._renderer._bounds,m=this.options.weight,E=new Cn(m,m);if(f=new ze(f.min.subtract(E),f.max.add(E)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(f)){if(this.options.noClip)return void(this._parts=this._rings);for(var H,M=0,N=this._rings.length;M<N;M++)(H=sl(this._rings[M],f,!0)).length&&this._parts.push(H)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(f){var E,M,N,H,ce,Se,ke,ct,m=!1;if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(H=0,ke=this._parts.length;H<ke;H++)for(ce=0,Se=(ct=(E=this._parts[H]).length)-1;ce<ct;Se=ce++)(M=E[ce]).y>f.y!=(N=E[Se]).y>f.y&&f.x<(N.x-M.x)*(f.y-M.y)/(N.y-M.y)+M.x&&(m=!m);return m||or.prototype._containsPoint.call(this,f,!0)}});var Hs=hn.extend({initialize:function(f,m){tt(this,m),this._layers={},f&&this.addData(f)},addData:function(f){var E,M,N,m=Be(f)?f:f.features;if(m){for(E=0,M=m.length;E<M;E++)((N=m[E]).geometries||N.geometry||N.features||N.coordinates)&&this.addData(N);return this}var H=this.options;if(H.filter&&!H.filter(f))return this;var ce=qs(f,H);return ce?(ce.feature=hl(f),ce.defaultOptions=ce.options,this.resetStyle(ce),H.onEachFeature&&H.onEachFeature(f,ce),this.addLayer(ce)):this},resetStyle:function(f){return void 0===f?this.eachLayer(this.resetStyle,this):(f.options=te({},f.defaultOptions),this._setLayerStyle(f,this.options.style),this)},setStyle:function(f){return this.eachLayer(function(m){this._setLayerStyle(m,f)},this)},_setLayerStyle:function(f,m){f.setStyle&&("function"==typeof m&&(m=m(f.feature)),f.setStyle(m))}});function qs(f,m){var Se,ke,ct,Rt,E="Feature"===f.type?f.geometry:f,M=E?E.coordinates:null,N=[],H=m&&m.pointToLayer,ce=m&&m.coordsToLatLng||nh;if(!M&&!E)return null;switch(E.type){case"Point":return td(H,f,Se=ce(M),m);case"MultiPoint":for(ct=0,Rt=M.length;ct<Rt;ct++)Se=ce(M[ct]),N.push(td(H,f,Se,m));return new hn(N);case"LineString":case"MultiLineString":return ke=Hi(M,"LineString"===E.type?0:1,ce),new or(ke,m);case"Polygon":case"MultiPolygon":return ke=Hi(M,"Polygon"===E.type?1:2,ce),new Fo(ke,m);case"GeometryCollection":for(ct=0,Rt=E.geometries.length;ct<Rt;ct++){var sn=qs({geometry:E.geometries[ct],type:"Feature",properties:f.properties},m);sn&&N.push(sn)}return new hn(N);case"FeatureCollection":for(ct=0,Rt=E.features.length;ct<Rt;ct++){var jn=qs(E.features[ct],m);jn&&N.push(jn)}return new hn(N);default:throw new Error("Invalid GeoJSON object.")}}function td(f,m,E,M){return f?f(m,E):new xo(E,M&&M.markersInheritOptions&&M)}function nh(f){return new We(f[1],f[0],f[2])}function Hi(f,m,E){for(var ce,M=[],N=0,H=f.length;N<H;N++)ce=m?Hi(f[N],m-1,E):(E||nh)(f[N]),M.push(ce);return M}function Hl(f,m){return void 0!==(f=gt(f)).alt?[he(f.lng,m),he(f.lat,m),he(f.alt,m)]:[he(f.lng,m),he(f.lat,m)]}function Va(f,m,E,M){for(var N=[],H=0,ce=f.length;H<ce;H++)N.push(m?Va(f[H],vr(f[H])?0:m-1,E,M):Hl(f[H],M));return!m&&E&&N.length>0&&N.push(N[0].slice()),N}function dl(f,m){return f.feature?te({},f.feature,{geometry:m}):hl(m)}function hl(f){return"Feature"===f.type||"FeatureCollection"===f.type?f:{type:"Feature",properties:{},geometry:f}}var uu={toGeoJSON:function(f){return dl(this,{type:"Point",coordinates:Hl(this.getLatLng(),f)})}};function fl(f,m){return new Hs(f,m)}xo.include(uu),Ua.include(uu),Dc.include(uu),or.include({toGeoJSON:function(f){var m=!vr(this._latlngs);return dl(this,{type:(m?"Multi":"")+"LineString",coordinates:Va(this._latlngs,m?1:0,!1,f)})}}),Fo.include({toGeoJSON:function(f){var m=!vr(this._latlngs),E=m&&!vr(this._latlngs[0]),M=Va(this._latlngs,E?2:m?1:0,!0,f);return m||(M=[M]),dl(this,{type:(E?"Multi":"")+"Polygon",coordinates:M})}}),Tc.include({toMultiPoint:function(f){var m=[];return this.eachLayer(function(E){m.push(E.toGeoJSON(f).geometry.coordinates)}),dl(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(f){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===m)return this.toMultiPoint(f);var E="GeometryCollection"===m,M=[];return this.eachLayer(function(N){if(N.toGeoJSON){var H=N.toGeoJSON(f);if(E)M.push(H.geometry);else{var ce=hl(H);"FeatureCollection"===ce.type?M.push.apply(M,ce.features):M.push(ce)}}}),E?dl(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});var nd=fl,Za=cs.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(f,m,E){this._url=f,this._bounds=Je(m),tt(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Qt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Sn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(f){return this.options.opacity=f,this._image&&this._updateOpacity(),this},setStyle:function(f){return f.opacity&&this.setOpacity(f.opacity),this},bringToFront:function(){return this._map&&Yo(this._image),this},bringToBack:function(){return this._map&&Ji(this._image),this},setUrl:function(f){return this._url=f,this._image&&(this._image.src=f),this},setBounds:function(f){return this._bounds=Je(f),this._map&&this._reset(),this},getEvents:function(){var f={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var f="IMG"===this._url.tagName,m=this._image=f?this._url:Ot("img");Qt(m,"leaflet-image-layer"),this._zoomAnimated&&Qt(m,"leaflet-zoom-animated"),this.options.className&&Qt(m,this.options.className),m.onselectstart=Ne,m.onmousemove=Ne,m.onload=Ce(this.fire,this,"load"),m.onerror=Ce(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(m.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),f?this._url=m.src:(m.src=this._url,m.alt=this.options.alt)},_animateZoom:function(f){var m=this._map.getZoomScale(f.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,f.zoom,f.center).min;Ro(this._image,E,m)},_reset:function(){var f=this._image,m=new ze(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=m.getSize();Yn(f,m.min),f.style.width=E.x+"px",f.style.height=E.y+"px"},_updateOpacity:function(){Io(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var f=this.options.errorOverlayUrl;f&&this._url!==f&&(this._url=f,this._image.src=f)},getCenter:function(){return this._bounds.getCenter()}}),Ic=Za.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var f="VIDEO"===this._url.tagName,m=this._image=f?this._url:Ot("video");if(Qt(m,"leaflet-image-layer"),this._zoomAnimated&&Qt(m,"leaflet-zoom-animated"),this.options.className&&Qt(m,this.options.className),m.onselectstart=Ne,m.onmousemove=Ne,m.onloadeddata=Ce(this.fire,this,"load"),f){for(var E=m.getElementsByTagName("source"),M=[],N=0;N<E.length;N++)M.push(E[N].src);this._url=E.length>0?M:[m.src]}else{Be(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,m.playsInline=!!this.options.playsInline;for(var H=0;H<this._url.length;H++){var ce=Ot("source");ce.src=this._url[H],m.appendChild(ce)}}}});var du=Za.extend({_initImage:function(){var f=this._image=this._url;Qt(f,"leaflet-image-layer"),this._zoomAnimated&&Qt(f,"leaflet-zoom-animated"),this.options.className&&Qt(f,this.options.className),f.onselectstart=Ne,f.onmousemove=Ne}});var Ui=cs.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(f,m){f&&(f instanceof We||Be(f))?(this._latlng=gt(f),tt(this,m)):(tt(this,f),this._source=m),this.options.content&&(this._content=this.options.content)},openOn:function(f){return(f=arguments.length?f:this._source._map).hasLayer(this)||f.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(f){return this._map?this.close():(arguments.length?this._source=f:f=this._source,this._prepareOpen(),this.openOn(f._map)),this},onAdd:function(f){this._zoomAnimated=f._zoomAnimated,this._container||this._initLayout(),f._fadeAnimated&&Io(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),f._fadeAnimated&&Io(this._container,1),this.bringToFront(),this.options.interactive&&(Qt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(f){f._fadeAnimated?(Io(this._container,0),this._removeTimeout=setTimeout(Ce(Sn,void 0,this._container),200)):Sn(this._container),this.options.interactive&&(Li(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(f){return this._latlng=gt(f),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(f){return this._content=f,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var f={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Yo(this._container),this},bringToBack:function(){return this._map&&Ji(this._container),this},_prepareOpen:function(f){var m=this._source;if(!m._map)return!1;if(m instanceof hn){m=null;var E=this._source._layers;for(var M in E)if(E[M]._map){m=E[M];break}if(!m)return!1;this._source=m}if(!f)if(m.getCenter)f=m.getCenter();else if(m.getLatLng)f=m.getLatLng();else{if(!m.getBounds)throw new Error("Unable to get source layer LatLng.");f=m.getBounds().getCenter()}return this.setLatLng(f),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var f=this._contentNode,m="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof m)f.innerHTML=m;else{for(;f.hasChildNodes();)f.removeChild(f.firstChild);f.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var f=this._map.latLngToLayerPoint(this._latlng),m=Ie(this.options.offset),E=this._getAnchor();this._zoomAnimated?Yn(this._container,f.add(E)):m=m.add(f).add(E);var M=this._containerBottom=-m.y,N=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=M+"px",this._container.style.left=N+"px"}},_getAnchor:function(){return[0,0]}});Un.include({_initOverlay:function(f,m,E,M){var N=m;return N instanceof f||(N=new f(M).setContent(m)),E&&N.setLatLng(E),N}}),cs.include({_initOverlay:function(f,m,E,M){var N=E;return N instanceof f?(tt(N,M),N._source=this):(N=m&&!M?m:new f(M,this)).setContent(E),N}});var Jo=Ui.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(f){return!(f=arguments.length?f:this._source._map).hasLayer(this)&&f._popup&&f._popup.options.autoClose&&f.removeLayer(f._popup),f._popup=this,Ui.prototype.openOn.call(this,f)},onAdd:function(f){Ui.prototype.onAdd.call(this,f),f.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof da||this._source.on("preclick",Qo))},onRemove:function(f){Ui.prototype.onRemove.call(this,f),f.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof da||this._source.off("preclick",Qo))},getEvents:function(){var f=Ui.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(f.preclick=this.close),this.options.keepInView&&(f.moveend=this._adjustPan),f},_initLayout:function(){var f="leaflet-popup",m=this._container=Ot("div",f+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=Ot("div",f+"-content-wrapper",m);if(this._contentNode=Ot("div",f+"-content",E),Lo(m),$d(this._contentNode),an(m,"contextmenu",Qo),this._tipContainer=Ot("div",f+"-tip-container",m),this._tip=Ot("div",f+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=Ot("a",f+"-close-button",m);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',an(M,"click",function(N){co(N),this.close()},this)}},_updateLayout:function(){var f=this._contentNode,m=f.style;m.width="",m.whiteSpace="nowrap";var E=f.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),m.width=E+1+"px",m.whiteSpace="",m.height="";var N=this.options.maxHeight,H="leaflet-popup-scrolled";N&&f.offsetHeight>N?(m.height=N+"px",Qt(f,H)):Li(f,H),this._containerWidth=this._container.offsetWidth},_animateZoom:function(f){var m=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center),E=this._getAnchor();Yn(this._container,m.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var f=this._map,m=parseInt(It(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+m,M=this._containerWidth,N=new Cn(this._containerLeft,-E-this._containerBottom);N._add(Ko(this._container));var H=f.layerPointToContainerPoint(N),ce=Ie(this.options.autoPanPadding),Se=Ie(this.options.autoPanPaddingTopLeft||ce),ke=Ie(this.options.autoPanPaddingBottomRight||ce),ct=f.getSize(),Rt=0,sn=0;H.x+M+ke.x>ct.x&&(Rt=H.x+M-ct.x+ke.x),H.x-Rt-Se.x<0&&(Rt=H.x-Se.x),H.y+E+ke.y>ct.y&&(sn=H.y+E-ct.y+ke.y),H.y-sn-Se.y<0&&(sn=H.y-Se.y),(Rt||sn)&&(this.options.keepInView&&(this._autopanning=!0),f.fire("autopanstart").panBy([Rt,sn]))}},_getAnchor:function(){return Ie(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Un.mergeOptions({closePopupOnClick:!0}),Un.include({openPopup:function(f,m,E){return this._initOverlay(Jo,f,m,E).openOn(this),this},closePopup:function(f){return(f=arguments.length?f:this._popup)&&f.close(),this}}),cs.include({bindPopup:function(f,m){return this._popup=this._initOverlay(Jo,this._popup,f,m),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(f){return this._popup&&(this instanceof hn||(this._popup._source=this),this._popup._prepareOpen(f||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(f){return this._popup&&this._popup.setContent(f),this},getPopup:function(){return this._popup},_openPopup:function(f){if(this._popup&&this._map){Ra(f);var m=f.layer||f.target;if(this._popup._source===m&&!(m instanceof da))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(f.latlng));this._popup._source=m,this.openPopup(f.latlng)}},_movePopup:function(f){this._popup.setLatLng(f.latlng)},_onKeyPress:function(f){13===f.originalEvent.keyCode&&this._openPopup(f)}});var xc=Ui.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(f){Ui.prototype.onAdd.call(this,f),this.setOpacity(this.options.opacity),f.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(f){Ui.prototype.onRemove.call(this,f),f.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var f=Ui.prototype.getEvents.call(this);return this.options.permanent||(f.preclick=this.close),f},_initLayout:function(){this._contentNode=this._container=Ot("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+Ee(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(f){var m,E,M=this._map,N=this._container,H=M.latLngToContainerPoint(M.getCenter()),ce=M.layerPointToContainerPoint(f),Se=this.options.direction,ke=N.offsetWidth,ct=N.offsetHeight,Rt=Ie(this.options.offset),sn=this._getAnchor();"top"===Se?(m=ke/2,E=ct):"bottom"===Se?(m=ke/2,E=0):"center"===Se?(m=ke/2,E=ct/2):"right"===Se?(m=0,E=ct/2):"left"===Se?(m=ke,E=ct/2):ce.x<H.x?(Se="right",m=0,E=ct/2):(Se="left",m=ke+2*(Rt.x+sn.x),E=ct/2),f=f.subtract(Ie(m,E,!0)).add(Rt).add(sn),Li(N,"leaflet-tooltip-right"),Li(N,"leaflet-tooltip-left"),Li(N,"leaflet-tooltip-top"),Li(N,"leaflet-tooltip-bottom"),Qt(N,"leaflet-tooltip-"+Se),Yn(N,f)},_updatePosition:function(){var f=this._map.latLngToLayerPoint(this._latlng);this._setPosition(f)},setOpacity:function(f){this.options.opacity=f,this._container&&Io(this._container,f)},_animateZoom:function(f){var m=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center);this._setPosition(m)},_getAnchor:function(){return Ie(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Un.include({openTooltip:function(f,m,E){return this._initOverlay(xc,f,m,E).openOn(this),this},closeTooltip:function(f){return f.close(),this}}),cs.include({bindTooltip:function(f,m){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(xc,this._tooltip,f,m),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(f){if(f||!this._tooltipHandlersAdded){var m=f?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[m](E),this._tooltipHandlersAdded=!f}},openTooltip:function(f){return this._tooltip&&(this instanceof hn||(this._tooltip._source=this),this._tooltip._prepareOpen(f)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(f){return this._tooltip&&this._tooltip.setContent(f),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(f){var m="function"==typeof f.getElement&&f.getElement();m&&(an(m,"focus",function(){this._tooltip._source=f,this.openTooltip()},this),an(m,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(f){var m="function"==typeof f.getElement&&f.getElement();m&&m.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(f){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var m=this;return void this._map.once("moveend",function(){m._openOnceFlag=!1,m._openTooltip(f)})}this._tooltip._source=f.layer||f.target,this.openTooltip(this._tooltip.options.sticky?f.latlng:void 0)}},_moveTooltip:function(f){var E,M,m=f.latlng;this._tooltip.options.sticky&&f.originalEvent&&(E=this._map.mouseEventToContainerPoint(f.originalEvent),M=this._map.containerPointToLayerPoint(E),m=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(m)}});var hu=Zs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(f){var m=f&&"DIV"===f.tagName?f:document.createElement("div"),E=this.options;if(E.html instanceof Element?(oi(m),m.appendChild(E.html)):m.innerHTML=!1!==E.html?E.html:"",E.bgPos){var M=Ie(E.bgPos);m.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});Zs.Default=zl;var jl=cs.extend({options:{tileSize:256,opacity:1,updateWhenIdle:De.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(f){tt(this,f)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(f){f._addZoomLimit(this)},onRemove:function(f){this._removeAllTiles(),Sn(this._container),f._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Yo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ji(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(f){return this.options.opacity=f,this._updateOpacity(),this},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var f=this._clampZoom(this._map.getZoom());f!==this._tileZoom&&(this._tileZoom=f,this._updateLevels()),this._update()}return this},getEvents:function(){var f={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=$e(this._onMoveEnd,this.options.updateInterval,this)),f.move=this._onMove),this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},createTile:function(){return document.createElement("div")},getTileSize:function(){var f=this.options.tileSize;return f instanceof Cn?f:new Cn(f,f)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(f){for(var H,m=this.getPane().children,E=-f(-1/0,1/0),M=0,N=m.length;M<N;M++)H=m[M].style.zIndex,m[M]!==this._container&&H&&(E=f(E,+H));isFinite(E)&&(this.options.zIndex=E+f(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!De.ielt9){Io(this._container,this.options.opacity);var f=+new Date,m=!1,E=!1;for(var M in this._tiles){var N=this._tiles[M];if(N.current&&N.loaded){var H=Math.min(1,(f-N.loaded)/200);Io(N.el,H),H<1?m=!0:(N.active?E=!0:this._onOpaqueTile(N),N.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),m&&(Ae(this._fadeFrame),this._fadeFrame=rt(this._updateOpacity,this))}},_onOpaqueTile:Ne,_initContainer:function(){this._container||(this._container=Ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var f=this._tileZoom,m=this.options.maxZoom;if(void 0!==f){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===f?(this._levels[E].el.style.zIndex=m-Math.abs(f-E),this._onUpdateLevel(E)):(Sn(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var M=this._levels[f],N=this._map;return M||((M=this._levels[f]={}).el=Ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=m,M.origin=N.project(N.unproject(N.getPixelOrigin()),f).round(),M.zoom=f,this._setZoomTransform(M,N.getCenter(),N.getZoom()),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:Ne,_onRemoveLevel:Ne,_onCreateLevel:Ne,_pruneTiles:function(){if(this._map){var f,m,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom)return void this._removeAllTiles();for(f in this._tiles)(m=this._tiles[f]).retain=m.current;for(f in this._tiles)if((m=this._tiles[f]).current&&!m.active){var M=m.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(f in this._tiles)this._tiles[f].retain||this._removeTile(f)}},_removeTilesAtZoom:function(f){for(var m in this._tiles)this._tiles[m].coords.z===f&&this._removeTile(m)},_removeAllTiles:function(){for(var f in this._tiles)this._removeTile(f)},_invalidateAll:function(){for(var f in this._levels)Sn(this._levels[f].el),this._onRemoveLevel(Number(f)),delete this._levels[f];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(f,m,E,M){var N=Math.floor(f/2),H=Math.floor(m/2),ce=E-1,Se=new Cn(+N,+H);Se.z=+ce;var ke=this._tileCoordsToKey(Se),ct=this._tiles[ke];return ct&&ct.active?(ct.retain=!0,!0):(ct&&ct.loaded&&(ct.retain=!0),ce>M&&this._retainParent(N,H,ce,M))},_retainChildren:function(f,m,E,M){for(var N=2*f;N<2*f+2;N++)for(var H=2*m;H<2*m+2;H++){var ce=new Cn(N,H);ce.z=E+1;var Se=this._tileCoordsToKey(ce),ke=this._tiles[Se];ke&&ke.active?ke.retain=!0:(ke&&ke.loaded&&(ke.retain=!0),E+1<M&&this._retainChildren(N,H,E+1,M))}},_resetView:function(f){var m=f&&(f.pinch||f.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(f){this._setView(f.center,f.zoom,!0,f.noUpdate)},_clampZoom:function(f){var m=this.options;return void 0!==m.minNativeZoom&&f<m.minNativeZoom?m.minNativeZoom:void 0!==m.maxNativeZoom&&m.maxNativeZoom<f?m.maxNativeZoom:f},_setView:function(f,m,E,M){var N=Math.round(m);N=void 0!==this.options.maxZoom&&N>this.options.maxZoom||void 0!==this.options.minZoom&&N<this.options.minZoom?void 0:this._clampZoom(N),(!M||this.options.updateWhenZooming&&N!==this._tileZoom)&&(this._tileZoom=N,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==N&&this._update(f),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(f,m)},_setZoomTransforms:function(f,m){for(var E in this._levels)this._setZoomTransform(this._levels[E],f,m)},_setZoomTransform:function(f,m,E){var M=this._map.getZoomScale(E,f.zoom),N=f.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(m,E)).round();De.any3d?Ro(f.el,N,M):Yn(f.el,N)},_resetGrid:function(){var f=this._map,m=f.options.crs,E=this._tileSize=this.getTileSize(),M=this._tileZoom,N=this._map.getPixelWorldBounds(this._tileZoom);N&&(this._globalTileRange=this._pxBoundsToTileRange(N)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(f.project([0,m.wrapLng[0]],M).x/E.x),Math.ceil(f.project([0,m.wrapLng[1]],M).x/E.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(f.project([m.wrapLat[0],0],M).y/E.x),Math.ceil(f.project([m.wrapLat[1],0],M).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(f){var m=this._map,E=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),M=m.getZoomScale(E,this._tileZoom),N=m.project(f,this._tileZoom).floor(),H=m.getSize().divideBy(2*M);return new ze(N.subtract(H),N.add(H))},_update:function(f){var m=this._map;if(m){var E=this._clampZoom(m.getZoom());if(void 0===f&&(f=m.getCenter()),void 0!==this._tileZoom){var M=this._getTiledPixelBounds(f),N=this._pxBoundsToTileRange(M),H=N.getCenter(),ce=[],Se=this.options.keepBuffer,ke=new ze(N.getBottomLeft().subtract([Se,-Se]),N.getTopRight().add([Se,-Se]));if(!(isFinite(N.min.x)&&isFinite(N.min.y)&&isFinite(N.max.x)&&isFinite(N.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ct in this._tiles){var Rt=this._tiles[ct].coords;(Rt.z!==this._tileZoom||!ke.contains(new Cn(Rt.x,Rt.y)))&&(this._tiles[ct].current=!1)}if(Math.abs(E-this._tileZoom)>1)return void this._setView(f,E);for(var sn=N.min.y;sn<=N.max.y;sn++)for(var jn=N.min.x;jn<=N.max.x;jn++){var ni=new Cn(jn,sn);if(ni.z=this._tileZoom,this._isValidTile(ni)){var Bi=this._tiles[this._tileCoordsToKey(ni)];Bi?Bi.current=!0:ce.push(ni)}}if(ce.sort(function(Ao,Ws){return Ao.distanceTo(H)-Ws.distanceTo(H)}),0!==ce.length){this._loading||(this._loading=!0,this.fire("loading"));var So=document.createDocumentFragment();for(jn=0;jn<ce.length;jn++)this._addTile(ce[jn],So);this._level.el.appendChild(So)}}}},_isValidTile:function(f){var m=this._map.options.crs;if(!m.infinite){var E=this._globalTileRange;if(!m.wrapLng&&(f.x<E.min.x||f.x>E.max.x)||!m.wrapLat&&(f.y<E.min.y||f.y>E.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(f);return Je(this.options.bounds).overlaps(M)},_keyToBounds:function(f){return this._tileCoordsToBounds(this._keyToTileCoords(f))},_tileCoordsToNwSe:function(f){var m=this._map,E=this.getTileSize(),M=f.scaleBy(E),N=M.add(E);return[m.unproject(M,f.z),m.unproject(N,f.z)]},_tileCoordsToBounds:function(f){var m=this._tileCoordsToNwSe(f),E=new pt(m[0],m[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(f){return f.x+":"+f.y+":"+f.z},_keyToTileCoords:function(f){var m=f.split(":"),E=new Cn(+m[0],+m[1]);return E.z=+m[2],E},_removeTile:function(f){var m=this._tiles[f];m&&(Sn(m.el),delete this._tiles[f],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(f)}))},_initTile:function(f){Qt(f,"leaflet-tile");var m=this.getTileSize();f.style.width=m.x+"px",f.style.height=m.y+"px",f.onselectstart=Ne,f.onmousemove=Ne,De.ielt9&&this.options.opacity<1&&Io(f,this.options.opacity)},_addTile:function(f,m){var E=this._getTilePos(f),M=this._tileCoordsToKey(f),N=this.createTile(this._wrapCoords(f),Ce(this._tileReady,this,f));this._initTile(N),this.createTile.length<2&&rt(Ce(this._tileReady,this,f,null,N)),Yn(N,E),this._tiles[M]={el:N,coords:f,current:!0},m.appendChild(N),this.fire("tileloadstart",{tile:N,coords:f})},_tileReady:function(f,m,E){m&&this.fire("tileerror",{error:m,tile:E,coords:f});var M=this._tileCoordsToKey(f);(E=this._tiles[M])&&(E.loaded=+new Date,this._map._fadeAnimated?(Io(E.el,0),Ae(this._fadeFrame),this._fadeFrame=rt(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),m||(Qt(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:f})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),De.ielt9||!this._map._fadeAnimated?rt(this._pruneTiles,this):setTimeout(Ce(this._pruneTiles,this),250)))},_getTilePos:function(f){return f.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(f){var m=new Cn(this._wrapX?je(f.x,this._wrapX):f.x,this._wrapY?je(f.y,this._wrapY):f.y);return m.z=f.z,m},_pxBoundsToTileRange:function(f){var m=this.getTileSize();return new ze(f.min.unscaleBy(m).floor(),f.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var f in this._tiles)if(!this._tiles[f].loaded)return!1;return!0}});var ha=jl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(f,m){this._url=f,(m=tt(this,m)).detectRetina&&De.retina&&m.maxZoom>0?(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom=Math.min(m.maxZoom,m.minZoom+1)):(m.zoomOffset++,m.maxZoom=Math.max(m.minZoom,m.maxZoom-1)),m.minZoom=Math.max(0,m.minZoom)):m.zoomReverse?m.minZoom=Math.min(m.maxZoom,m.minZoom):m.maxZoom=Math.max(m.minZoom,m.maxZoom),"string"==typeof m.subdomains&&(m.subdomains=m.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(f,m){return this._url===f&&void 0===m&&(m=!0),this._url=f,m||this.redraw(),this},createTile:function(f,m){var E=document.createElement("img");return an(E,"load",Ce(this._tileOnLoad,this,m,E)),an(E,"error",Ce(this._tileOnError,this,m,E)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(E.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(f),E},getTileUrl:function(f){var m={r:De.retina?"@2x":"",s:this._getSubdomain(f),x:f.x,y:f.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-f.y;this.options.tms&&(m.y=E),m["-y"]=E}return Vt(this._url,te(m,this.options))},_tileOnLoad:function(f,m){De.ielt9?setTimeout(Ce(f,this,null,m),0):f(null,m)},_tileOnError:function(f,m,E){var M=this.options.errorTileUrl;M&&m.getAttribute("src")!==M&&(m.src=M),f(E,m)},_onTileRemove:function(f){f.tile.onload=null},_getZoomForUrl:function(){var f=this._tileZoom;return this.options.zoomReverse&&(f=this.options.maxZoom-f),f+this.options.zoomOffset},_getSubdomain:function(f){var m=Math.abs(f.x+f.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var f,m;for(f in this._tiles)if(this._tiles[f].coords.z!==this._tileZoom&&((m=this._tiles[f].el).onload=Ne,m.onerror=Ne,!m.complete)){m.src=dt;var E=this._tiles[f].coords;Sn(m),delete this._tiles[f],this.fire("tileabort",{tile:m,coords:E})}},_removeTile:function(f){var m=this._tiles[f];if(m)return m.el.setAttribute("src",dt),jl.prototype._removeTile.call(this,f)},_tileReady:function(f,m,E){if(this._map&&(!E||E.getAttribute("src")!==dt))return jl.prototype._tileReady.call(this,f,m,E)}});function fu(f,m){return new ha(f,m)}var rd=ha.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(f,m){this._url=f;var E=te({},this.defaultWmsParams);for(var M in m)M in this.options||(E[M]=m[M]);var N=(m=tt(this,m)).detectRetina&&De.retina?2:1,H=this.getTileSize();E.width=H.x*N,E.height=H.y*N,this.wmsParams=E},onAdd:function(f){this._crs=this.options.crs||f.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,ha.prototype.onAdd.call(this,f)},getTileUrl:function(f){var m=this._tileCoordsToNwSe(f),E=this._crs,M=Ke(E.project(m[0]),E.project(m[1])),N=M.min,H=M.max,ce=(this._wmsVersion>=1.3&&this._crs===lu?[N.y,N.x,H.y,H.x]:[N.x,N.y,H.x,H.y]).join(","),Se=ha.prototype.getTileUrl.call(this,f);return Se+it(this.wmsParams,Se,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ce},setParams:function(f,m){return te(this.wmsParams,f),m||this.redraw(),this}});ha.WMS=rd,fu.wms=function oh(f,m){return new rd(f,m)};var us=cs.extend({options:{padding:.1},initialize:function(f){tt(this,f),Ee(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Qt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var f={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(f.zoomanim=this._onAnimZoom),f},_onAnimZoom:function(f){this._updateTransform(f.center,f.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(f,m){var E=this._map.getZoomScale(m,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),N=this._map.project(this._center,m),H=M.multiplyBy(-E).add(N).subtract(this._map._getNewPixelOrigin(f,m));De.any3d?Ro(this._container,H,E):Yn(this._container,H)},_reset:function(){for(var f in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[f]._reset()},_onZoomEnd:function(){for(var f in this._layers)this._layers[f]._project()},_updatePaths:function(){for(var f in this._layers)this._layers[f]._update()},_update:function(){var f=this.options.padding,m=this._map.getSize(),E=this._map.containerPointToLayerPoint(m.multiplyBy(-f)).round();this._bounds=new ze(E,E.add(m.multiplyBy(1+2*f)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),pl=us.extend({options:{tolerance:0},getEvents:function(){var f=us.prototype.getEvents.call(this);return f.viewprereset=this._onViewPreReset,f},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){us.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var f=this._container=document.createElement("canvas");an(f,"mousemove",this._onMouseMove,this),an(f,"click dblclick mousedown mouseup contextmenu",this._onClick,this),an(f,"mouseout",this._handleMouseOut,this),f._leaflet_disable_events=!0,this._ctx=f.getContext("2d")},_destroyContainer:function(){Ae(this._redrawRequest),delete this._ctx,Sn(this._container),hi(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var m in this._redrawBounds=null,this._layers)this._layers[m]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){us.prototype._update.call(this);var f=this._bounds,m=this._container,E=f.getSize(),M=De.retina?2:1;Yn(m,f.min),m.width=M*E.x,m.height=M*E.y,m.style.width=E.x+"px",m.style.height=E.y+"px",De.retina&&this._ctx.scale(2,2),this._ctx.translate(-f.min.x,-f.min.y),this.fire("update")}},_reset:function(){us.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(f){this._updateDashArray(f),this._layers[Ee(f)]=f;var m=f._order={layer:f,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(f){this._requestRedraw(f)},_removePath:function(f){var m=f._order,E=m.next,M=m.prev;E?E.prev=M:this._drawLast=M,M?M.next=E:this._drawFirst=E,delete f._order,delete this._layers[Ee(f)],this._requestRedraw(f)},_updatePath:function(f){this._extendRedrawBounds(f),f._project(),f._update(),this._requestRedraw(f)},_updateStyle:function(f){this._updateDashArray(f),this._requestRedraw(f)},_updateDashArray:function(f){if("string"==typeof f.options.dashArray){var M,N,m=f.options.dashArray.split(/[, ]+/),E=[];for(N=0;N<m.length;N++){if(M=Number(m[N]),isNaN(M))return;E.push(M)}f.options._dashArray=E}else f.options._dashArray=f.options.dashArray},_requestRedraw:function(f){this._map&&(this._extendRedrawBounds(f),this._redrawRequest=this._redrawRequest||rt(this._redraw,this))},_extendRedrawBounds:function(f){if(f._pxBounds){var m=(f.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ze,this._redrawBounds.extend(f._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(f._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var f=this._redrawBounds;if(f){var m=f.getSize();this._ctx.clearRect(f.min.x,f.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var f,m=this._redrawBounds;if(this._ctx.save(),m){var E=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)f=M.layer,(!m||f._pxBounds&&f._pxBounds.intersects(m))&&f._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(f,m){if(this._drawing){var E,M,N,H,ce=f._parts,Se=ce.length,ke=this._ctx;if(Se){for(ke.beginPath(),E=0;E<Se;E++){for(M=0,N=ce[E].length;M<N;M++)ke[M?"lineTo":"moveTo"]((H=ce[E][M]).x,H.y);m&&ke.closePath()}this._fillStroke(ke,f)}}},_updateCircle:function(f){if(this._drawing&&!f._empty()){var m=f._point,E=this._ctx,M=Math.max(Math.round(f._radius),1),N=(Math.max(Math.round(f._radiusY),1)||M)/M;1!==N&&(E.save(),E.scale(1,N)),E.beginPath(),E.arc(m.x,m.y/N,M,0,2*Math.PI,!1),1!==N&&E.restore(),this._fillStroke(E,f)}},_fillStroke:function(f,m){var E=m.options;E.fill&&(f.globalAlpha=E.fillOpacity,f.fillStyle=E.fillColor||E.color,f.fill(E.fillRule||"evenodd")),E.stroke&&0!==E.weight&&(f.setLineDash&&f.setLineDash(m.options&&m.options._dashArray||[]),f.globalAlpha=E.opacity,f.lineWidth=E.weight,f.strokeStyle=E.color,f.lineCap=E.lineCap,f.lineJoin=E.lineJoin,f.stroke())},_onClick:function(f){for(var E,M,m=this._map.mouseEventToLayerPoint(f),N=this._drawFirst;N;N=N.next)(E=N.layer).options.interactive&&E._containsPoint(m)&&("click"!==f.type&&"preclick"!==f.type||!this._map._draggableMoved(E))&&(M=E);this._fireEvent(!!M&&[M],f)},_onMouseMove:function(f){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var m=this._map.mouseEventToLayerPoint(f);this._handleMouseHover(f,m)}},_handleMouseOut:function(f){var m=this._hoveredLayer;m&&(Li(this._container,"leaflet-interactive"),this._fireEvent([m],f,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(f,m){if(!this._mouseHoverThrottled){for(var E,M,N=this._drawFirst;N;N=N.next)(E=N.layer).options.interactive&&E._containsPoint(m)&&(M=E);M!==this._hoveredLayer&&(this._handleMouseOut(f),M&&(Qt(this._container,"leaflet-interactive"),this._fireEvent([M],f,"mouseover"),this._hoveredLayer=M)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],f),this._mouseHoverThrottled=!0,setTimeout(Ce(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(f,m,E){this._map._fireDOMEvent(m,E||m.type,f)},_bringToFront:function(f){var m=f._order;if(m){var E=m.next,M=m.prev;if(!E)return;E.prev=M,M?M.next=E:E&&(this._drawFirst=E),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(f)}},_bringToBack:function(f){var m=f._order;if(m){var E=m.next,M=m.prev;if(!M)return;M.next=E,E?E.prev=M:M&&(this._drawLast=M),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(f)}}});function Wl(f){return De.canvas?new pl(f):null}var Xo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(f){return document.createElement("<lvml:"+f+' class="lvml">')}}catch{}return function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),xp={_initContainer:function(){this._container=Ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(us.prototype._update.call(this),this.fire("update"))},_initPath:function(f){var m=f._container=Xo("shape");Qt(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",f._path=Xo("path"),m.appendChild(f._path),this._updateStyle(f),this._layers[Ee(f)]=f},_addPath:function(f){var m=f._container;this._container.appendChild(m),f.options.interactive&&f.addInteractiveTarget(m)},_removePath:function(f){var m=f._container;Sn(m),f.removeInteractiveTarget(m),delete this._layers[Ee(f)]},_updateStyle:function(f){var m=f._stroke,E=f._fill,M=f.options,N=f._container;N.stroked=!!M.stroke,N.filled=!!M.fill,M.stroke?(m||(m=f._stroke=Xo("stroke")),N.appendChild(m),m.weight=M.weight+"px",m.color=M.color,m.opacity=M.opacity,m.dashStyle=M.dashArray?Be(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):"",m.endcap=M.lineCap.replace("butt","flat"),m.joinstyle=M.lineJoin):m&&(N.removeChild(m),f._stroke=null),M.fill?(E||(E=f._fill=Xo("fill")),N.appendChild(E),E.color=M.fillColor||M.color,E.opacity=M.fillOpacity):E&&(N.removeChild(E),f._fill=null)},_updateCircle:function(f){var m=f._point.round(),E=Math.round(f._radius),M=Math.round(f._radiusY||E);this._setPath(f,f._empty()?"M0 0":"AL "+m.x+","+m.y+" "+E+","+M+" 0,23592600")},_setPath:function(f,m){f._path.v=m},_bringToFront:function(f){Yo(f._container)},_bringToBack:function(f){Ji(f._container)}},pu=De.vml?Xo:Or,za=us.extend({_initContainer:function(){this._container=pu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=pu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Sn(this._container),hi(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){us.prototype._update.call(this);var f=this._bounds,m=f.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,E.setAttribute("width",m.x),E.setAttribute("height",m.y)),Yn(E,f.min),E.setAttribute("viewBox",[f.min.x,f.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(f){var m=f._path=pu("path");f.options.className&&Qt(m,f.options.className),f.options.interactive&&Qt(m,"leaflet-interactive"),this._updateStyle(f),this._layers[Ee(f)]=f},_addPath:function(f){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(f._path),f.addInteractiveTarget(f._path)},_removePath:function(f){Sn(f._path),f.removeInteractiveTarget(f._path),delete this._layers[Ee(f)]},_updatePath:function(f){f._project(),f._update()},_updateStyle:function(f){var m=f._path,E=f.options;m&&(E.stroke?(m.setAttribute("stroke",E.color),m.setAttribute("stroke-opacity",E.opacity),m.setAttribute("stroke-width",E.weight),m.setAttribute("stroke-linecap",E.lineCap),m.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?m.setAttribute("stroke-dasharray",E.dashArray):m.removeAttribute("stroke-dasharray"),E.dashOffset?m.setAttribute("stroke-dashoffset",E.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),E.fill?(m.setAttribute("fill",E.fillColor||E.color),m.setAttribute("fill-opacity",E.fillOpacity),m.setAttribute("fill-rule",E.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(f,m){this._setPath(f,ir(f._parts,m))},_updateCircle:function(f){var m=f._point,E=Math.max(Math.round(f._radius),1),N="a"+E+","+(Math.max(Math.round(f._radiusY),1)||E)+" 0 1,0 ",H=f._empty()?"M0 0":"M"+(m.x-E)+","+m.y+N+2*E+",0 "+N+2*-E+",0 ";this._setPath(f,H)},_setPath:function(f,m){f._path.setAttribute("d",m)},_bringToFront:function(f){Yo(f._path)},_bringToBack:function(f){Ji(f._path)}});function od(f){return De.svg||De.vml?new za(f):null}De.vml&&za.include(xp),Un.include({getRenderer:function(f){var m=f.options.renderer||this._getPaneRenderer(f.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(f){if("overlayPane"===f||void 0===f)return!1;var m=this._paneRenderers[f];return void 0===m&&(m=this._createRenderer({pane:f}),this._paneRenderers[f]=m),m},_createRenderer:function(f){return this.options.preferCanvas&&Wl(f)||od(f)}});var js=Fo.extend({initialize:function(f,m){Fo.prototype.initialize.call(this,this._boundsToLatLngs(f),m)},setBounds:function(f){return this.setLatLngs(this._boundsToLatLngs(f))},_boundsToLatLngs:function(f){return[(f=Je(f)).getSouthWest(),f.getNorthWest(),f.getNorthEast(),f.getSouthEast()]}});za.create=pu,za.pointsToPath=ir,Hs.geometryToLayer=qs,Hs.coordsToLatLng=nh,Hs.coordsToLatLngs=Hi,Hs.latLngToCoords=Hl,Hs.latLngsToCoords=Va,Hs.getFeature=dl,Hs.asFeature=hl,Un.mergeOptions({boxZoom:!0});var $l=Kr.extend({initialize:function(f){this._map=f,this._container=f._container,this._pane=f._panes.overlayPane,this._resetStateTimeout=0,f.on("unload",this._destroy,this)},addHooks:function(){an(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){hi(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Sn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(f){if(!f.shiftKey||1!==f.which&&1!==f.button)return!1;this._clearDeferredResetState(),this._resetState(),Es(),Ci(),this._startPoint=this._map.mouseEventToContainerPoint(f),an(document,{contextmenu:Ra,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(f){this._moved||(this._moved=!0,this._box=Ot("div","leaflet-zoom-box",this._container),Qt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(f);var m=new ze(this._point,this._startPoint),E=m.getSize();Yn(this._box,m.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(Sn(this._box),Li(this._container,"leaflet-crosshair")),Gr(),No(),hi(document,{contextmenu:Ra,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(f){if((1===f.which||1===f.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(Ce(this._resetState,this),0);var m=new pt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(f){27===f.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Un.addInitHook("addHandler","boxZoom",$l),Un.mergeOptions({doubleClickZoom:!0});var Sc=Kr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(f){var m=this._map,E=m.getZoom(),M=m.options.zoomDelta,N=f.originalEvent.shiftKey?E-M:E+M;"center"===m.options.doubleClickZoom?m.setZoom(N):m.setZoomAround(f.containerPoint,N)}});Un.addInitHook("addHandler","doubleClickZoom",Sc),Un.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var gl=Kr.extend({addHooks:function(){if(!this._draggable){var f=this._map;this._draggable=new ua(f._mapPane,f._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),f.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),f.on("zoomend",this._onZoomEnd,this),f.whenReady(this._onZoomEnd,this))}Qt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Li(this._map._container,"leaflet-grab"),Li(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var f=this._map;if(f._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=Je(this._map.options.maxBounds);this._offsetLimit=Ke(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;f.fire("movestart").fire("dragstart"),f.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(f){if(this._map.options.inertia){var m=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(m),this._prunePositions(m)}this._map.fire("move",f).fire("drag",f)},_prunePositions:function(f){for(;this._positions.length>1&&f-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var f=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(f).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(f,m){return f-(f-m)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var f=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;f.x<m.min.x&&(f.x=this._viscousLimit(f.x,m.min.x)),f.y<m.min.y&&(f.y=this._viscousLimit(f.y,m.min.y)),f.x>m.max.x&&(f.x=this._viscousLimit(f.x,m.max.x)),f.y>m.max.y&&(f.y=this._viscousLimit(f.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(f)}},_onPreDragWrap:function(){var f=this._worldWidth,m=Math.round(f/2),E=this._initialWorldOffset,M=this._draggable._newPos.x,N=(M-m+E)%f+m-E,H=(M+m+E)%f-m-E,ce=Math.abs(N+E)<Math.abs(H+E)?N:H;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ce},_onDragEnd:function(f){var m=this._map,E=m.options,M=!E.inertia||f.noInertia||this._times.length<2;if(m.fire("dragend",f),M)m.fire("moveend");else{this._prunePositions(+new Date);var N=this._lastPos.subtract(this._positions[0]),ce=E.easeLinearity,Se=N.multiplyBy(ce/((this._lastTime-this._times[0])/1e3)),ke=Se.distanceTo([0,0]),ct=Math.min(E.inertiaMaxSpeed,ke),Rt=Se.multiplyBy(ct/ke),sn=ct/(E.inertiaDeceleration*ce),jn=Rt.multiplyBy(-sn/2).round();jn.x||jn.y?(jn=m._limitOffset(jn,m.options.maxBounds),rt(function(){m.panBy(jn,{duration:sn,easeLinearity:ce,noMoveStart:!0,animate:!0})})):m.fire("moveend")}}});Un.addInitHook("addHandler","dragging",gl),Un.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ad=Kr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(f){this._map=f,this._setPanDelta(f.options.keyboardPanDelta),this._setZoomDelta(f.options.zoomDelta)},addHooks:function(){var f=this._map._container;f.tabIndex<=0&&(f.tabIndex="0"),an(f,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),hi(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var f=document.body,m=document.documentElement,E=f.scrollTop||m.scrollTop,M=f.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(M,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(f){var M,N,m=this._panKeys={},E=this.keyCodes;for(M=0,N=E.left.length;M<N;M++)m[E.left[M]]=[-1*f,0];for(M=0,N=E.right.length;M<N;M++)m[E.right[M]]=[f,0];for(M=0,N=E.down.length;M<N;M++)m[E.down[M]]=[0,f];for(M=0,N=E.up.length;M<N;M++)m[E.up[M]]=[0,-1*f]},_setZoomDelta:function(f){var M,N,m=this._zoomKeys={},E=this.keyCodes;for(M=0,N=E.zoomIn.length;M<N;M++)m[E.zoomIn[M]]=f;for(M=0,N=E.zoomOut.length;M<N;M++)m[E.zoomOut[M]]=-f},_addHooks:function(){an(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){hi(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(f){if(!(f.altKey||f.ctrlKey||f.metaKey)){var M,m=f.keyCode,E=this._map;if(m in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(M=this._panKeys[m],f.shiftKey&&(M=Ie(M).multiplyBy(3)),E.options.maxBounds&&(M=E._limitOffset(Ie(M),E.options.maxBounds)),E.options.worldCopyJump){var N=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(M)));E.panTo(N)}else E.panBy(M)}else if(m in this._zoomKeys)E.setZoom(E.getZoom()+(f.shiftKey?3:1)*this._zoomKeys[m]);else{if(27!==m||!E._popup||!E._popup.options.closeOnEscapeKey)return;E.closePopup()}Ra(f)}}});Un.addInitHook("addHandler","keyboard",ad),Un.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var fa=Kr.extend({addHooks:function(){an(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){hi(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(f){var m=Yu(f),E=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(f),this._startTime||(this._startTime=+new Date);var M=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(Ce(this._performZoom,this),M),Ra(f)},_performZoom:function(){var f=this._map,m=f.getZoom(),E=this._map.options.zoomSnap||0;f._stop();var N=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,H=E?Math.ceil(N/E)*E:N,ce=f._limitZoom(m+(this._delta>0?H:-H))-m;this._delta=0,this._startTime=null,ce&&("center"===f.options.scrollWheelZoom?f.setZoom(m+ce):f.setZoomAround(this._lastMousePos,m+ce))}});Un.addInitHook("addHandler","scrollWheelZoom",fa);Un.mergeOptions({tapHold:De.touchNative&&De.safari&&De.mobile,tapTolerance:15});var _l=Kr.extend({addHooks:function(){an(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){hi(this._map._container,"touchstart",this._onDown,this)},_onDown:function(f){if(clearTimeout(this._holdTimeout),1===f.touches.length){var m=f.touches[0];this._startPos=this._newPos=new Cn(m.clientX,m.clientY),this._holdTimeout=setTimeout(Ce(function(){this._cancel(),this._isTapValid()&&(an(document,"touchend",co),an(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",m))},this),600),an(document,"touchend touchcancel contextmenu",this._cancel,this),an(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function f(){hi(document,"touchend",co),hi(document,"touchend touchcancel",f)},_cancel:function(){clearTimeout(this._holdTimeout),hi(document,"touchend touchcancel contextmenu",this._cancel,this),hi(document,"touchmove",this._onMove,this)},_onMove:function(f){var m=f.touches[0];this._newPos=new Cn(m.clientX,m.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(f,m){var E=new MouseEvent(f,{bubbles:!0,cancelable:!0,view:window,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY});E._simulated=!0,m.target.dispatchEvent(E)}});Un.addInitHook("addHandler","tapHold",_l),Un.mergeOptions({touchZoom:De.touch,bounceAtZoomLimits:!0});var Ha=Kr.extend({addHooks:function(){Qt(this._map._container,"leaflet-touch-zoom"),an(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Li(this._map._container,"leaflet-touch-zoom"),hi(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(f){var m=this._map;if(f.touches&&2===f.touches.length&&!m._animatingZoom&&!this._zooming){var E=m.mouseEventToContainerPoint(f.touches[0]),M=m.mouseEventToContainerPoint(f.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),"center"!==m.options.touchZoom&&(this._pinchStartLatLng=m.containerPointToLatLng(E.add(M)._divideBy(2))),this._startDist=E.distanceTo(M),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),an(document,"touchmove",this._onTouchMove,this),an(document,"touchend touchcancel",this._onTouchEnd,this),co(f)}},_onTouchMove:function(f){if(f.touches&&2===f.touches.length&&this._zooming){var m=this._map,E=m.mouseEventToContainerPoint(f.touches[0]),M=m.mouseEventToContainerPoint(f.touches[1]),N=E.distanceTo(M)/this._startDist;if(this._zoom=m.getScaleZoom(N,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&N<1||this._zoom>m.getMaxZoom()&&N>1)&&(this._zoom=m._limitZoom(this._zoom)),"center"===m.options.touchZoom){if(this._center=this._startLatLng,1===N)return}else{var H=E._add(M)._divideBy(2)._subtract(this._centerPoint);if(1===N&&0===H.x&&0===H.y)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(H),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),Ae(this._animRequest);var ce=Ce(m._move,m,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=rt(ce,this,!0),co(f)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Ae(this._animRequest),hi(document,"touchmove",this._onTouchMove,this),hi(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Un.addInitHook("addHandler","touchZoom",Ha),Un.BoxZoom=$l,Un.DoubleClickZoom=Sc,Un.Drag=gl,Un.Keyboard=ad,Un.ScrollWheelZoom=fa,Un.TapHold=_l,Un.TouchZoom=Ha,z.Bounds=ze,z.Browser=De,z.CRS=ci,z.Canvas=pl,z.Circle=Ua,z.CircleMarker=Dc,z.Class=tn,z.Control=Is,z.DivIcon=hu,z.DivOverlay=Ui,z.DomEvent=Yd,z.DomUtil=Wd,z.Draggable=ua,z.Evented=zt,z.FeatureGroup=hn,z.GeoJSON=Hs,z.GridLayer=jl,z.Handler=Kr,z.Icon=Zs,z.ImageOverlay=Za,z.LatLng=We,z.LatLngBounds=pt,z.Layer=cs,z.LayerGroup=Tc,z.LineUtil=xn,z.Map=Un,z.Marker=xo,z.Mixin=Ku,z.Path=da,z.Point=Cn,z.PolyUtil=bc,z.Polygon=Fo,z.Polyline=or,z.Popup=Jo,z.PosAnimation=Kd,z.Projection=Ju,z.Rectangle=js,z.Renderer=us,z.SVG=za,z.SVGOverlay=du,z.TileLayer=ha,z.Tooltip=xc,z.Transformation=ri,z.Util=Lt,z.VideoOverlay=Ic,z.bind=Ce,z.bounds=Ke,z.canvas=Wl,z.circle=function Qr(f,m,E){return new Ua(f,m,E)},z.circleMarker=function Fa(f,m){return new Dc(f,m)},z.control=Bs,z.divIcon=function Dp(f){return new hu(f)},z.extend=te,z.featureGroup=function(f,m){return new hn(f,m)},z.geoJSON=fl,z.geoJson=nd,z.gridLayer=function Ip(f){return new jl(f)},z.icon=function dr(f){return new Zs(f)},z.imageOverlay=function(f,m,E){return new Za(f,m,E)},z.latLng=gt,z.latLngBounds=Je,z.layerGroup=function(f,m){return new Tc(f,m)},z.map=function Ds(f,m){return new Un(f,m)},z.marker=function cu(f,m){return new xo(f,m)},z.point=Ie,z.polygon=function zs(f,m){return new Fo(f,m)},z.polyline=function Ba(f,m){return new or(f,m)},z.popup=function(f,m){return new Jo(f,m)},z.rectangle=function sd(f,m){return new js(f,m)},z.setOptions=tt,z.stamp=Ee,z.svg=od,z.svgOverlay=function rh(f,m,E){return new du(f,m,E)},z.tileLayer=fu,z.tooltip=function(f,m){return new xc(f,m)},z.transformation=mi,z.version="1.9.4",z.videoOverlay=function ih(f,m,E){return new Ic(f,m,E)};var Gl=window.L;z.noConflict=function(){return window.L=Gl,this},window.L=z}(Xe)},9751:(Yt,Xe,z)=>{"use strict";z.d(Xe,{y:()=>je});var o=z(930),te=z(727),W=z(8822),Ce=z(9635),Oe=z(2416),Ee=z(576),$e=z(2806);let je=(()=>{class be{constructor(it){it&&(this._subscribe=it)}lift(it){const Tt=new be;return Tt.source=this,Tt.operator=it,Tt}subscribe(it,Tt,Vt){const Be=function fe(be){return be&&be instanceof o.Lv||function he(be){return be&&(0,Ee.m)(be.next)&&(0,Ee.m)(be.error)&&(0,Ee.m)(be.complete)}(be)&&(0,te.Nn)(be)}(it)?it:new o.Hp(it,Tt,Vt);return(0,$e.x)(()=>{const{operator:st,source:dt}=this;Be.add(st?st.call(Be,dt):dt?this._subscribe(Be):this._trySubscribe(Be))}),Be}_trySubscribe(it){try{return this._subscribe(it)}catch(Tt){it.error(Tt)}}forEach(it,Tt){return new(Tt=Ne(Tt))((Vt,Be)=>{const st=new o.Hp({next:dt=>{try{it(dt)}catch(mt){Be(mt),st.unsubscribe()}},error:Be,complete:Vt});this.subscribe(st)})}_subscribe(it){var Tt;return null===(Tt=this.source)||void 0===Tt?void 0:Tt.subscribe(it)}[W.L](){return this}pipe(...it){return(0,Ce.U)(it)(this)}toPromise(it){return new(it=Ne(it))((Tt,Vt)=>{let Be;this.subscribe(st=>Be=st,st=>Vt(st),()=>Tt(Be))})}}return be.create=tt=>new be(tt),be})();function Ne(be){var tt;return null!==(tt=be??Oe.v.Promise)&&void 0!==tt?tt:Promise}},7579:(Yt,Xe,z)=>{"use strict";z.d(Xe,{x:()=>$e});var o=z(9751),te=z(727);const Ce=(0,z(3888).d)(Ne=>function(){Ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Oe=z(8737),Ee=z(2806);let $e=(()=>{class Ne extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const be=new je(this,this);return be.operator=fe,be}_throwIfClosed(){if(this.closed)throw new Ce}next(fe){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(fe)}})}error(fe){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:be}=this;for(;be.length;)be.shift().error(fe)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:be,isStopped:tt,observers:it}=this;return be||tt?te.Lc:(this.currentObservers=null,it.push(fe),new te.w0(()=>{this.currentObservers=null,(0,Oe.P)(it,fe)}))}_checkFinalizedStatuses(fe){const{hasError:be,thrownError:tt,isStopped:it}=this;be?fe.error(tt):it&&fe.complete()}asObservable(){const fe=new o.y;return fe.source=this,fe}}return Ne.create=(he,fe)=>new je(he,fe),Ne})();class je extends $e{constructor(he,fe){super(),this.destination=he,this.source=fe}next(he){var fe,be;null===(be=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===be||be.call(fe,he)}error(he){var fe,be;null===(be=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===be||be.call(fe,he)}complete(){var he,fe;null===(fe=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===fe||fe.call(he)}_subscribe(he){var fe,be;return null!==(be=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(he))&&void 0!==be?be:te.Lc}}},930:(Yt,Xe,z)=>{"use strict";z.d(Xe,{Hp:()=>Vt,Lv:()=>be});var o=z(576),te=z(727),W=z(2416),Ce=z(7849),Oe=z(5032);const Ee=Ne("C",void 0,void 0);function Ne(nt,Qe,lt){return{kind:nt,value:Qe,error:lt}}var he=z(3410),fe=z(2806);class be extends te.w0{constructor(Qe){super(),this.isStopped=!1,Qe?(this.destination=Qe,(0,te.Nn)(Qe)&&Qe.add(this)):this.destination=mt}static create(Qe,lt,vt){return new Vt(Qe,lt,vt)}next(Qe){this.isStopped?dt(function je(nt){return Ne("N",nt,void 0)}(Qe),this):this._next(Qe)}error(Qe){this.isStopped?dt(function $e(nt){return Ne("E",void 0,nt)}(Qe),this):(this.isStopped=!0,this._error(Qe))}complete(){this.isStopped?dt(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Qe){this.destination.next(Qe)}_error(Qe){try{this.destination.error(Qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tt=Function.prototype.bind;function it(nt,Qe){return tt.call(nt,Qe)}class Tt{constructor(Qe){this.partialObserver=Qe}next(Qe){const{partialObserver:lt}=this;if(lt.next)try{lt.next(Qe)}catch(vt){Be(vt)}}error(Qe){const{partialObserver:lt}=this;if(lt.error)try{lt.error(Qe)}catch(vt){Be(vt)}else Be(Qe)}complete(){const{partialObserver:Qe}=this;if(Qe.complete)try{Qe.complete()}catch(lt){Be(lt)}}}class Vt extends be{constructor(Qe,lt,vt){let rt;if(super(),(0,o.m)(Qe)||!Qe)rt={next:Qe??void 0,error:lt??void 0,complete:vt??void 0};else{let Ae;this&&W.v.useDeprecatedNextContext?(Ae=Object.create(Qe),Ae.unsubscribe=()=>this.unsubscribe(),rt={next:Qe.next&&it(Qe.next,Ae),error:Qe.error&&it(Qe.error,Ae),complete:Qe.complete&&it(Qe.complete,Ae)}):rt=Qe}this.destination=new Tt(rt)}}function Be(nt){W.v.useDeprecatedSynchronousErrorHandling?(0,fe.O)(nt):(0,Ce.h)(nt)}function dt(nt,Qe){const{onStoppedNotification:lt}=W.v;lt&&he.z.setTimeout(()=>lt(nt,Qe))}const mt={closed:!0,next:Oe.Z,error:function st(nt){throw nt},complete:Oe.Z}},727:(Yt,Xe,z)=>{"use strict";z.d(Xe,{Lc:()=>Ee,w0:()=>Oe,Nn:()=>$e});var o=z(576);const W=(0,z(3888).d)(Ne=>function(fe){Ne(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map((be,tt)=>`${tt+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var Ce=z(8737);class Oe{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const it of fe)it.remove(this);else fe.remove(this);const{initialTeardown:be}=this;if((0,o.m)(be))try{be()}catch(it){he=it instanceof W?it.errors:[it]}const{_finalizers:tt}=this;if(tt){this._finalizers=null;for(const it of tt)try{je(it)}catch(Tt){he=he??[],Tt instanceof W?he=[...he,...Tt.errors]:he.push(Tt)}}if(he)throw new W(he)}}add(he){var fe;if(he&&he!==this)if(this.closed)je(he);else{if(he instanceof Oe){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(he)}}_hasParent(he){const{_parentage:fe}=this;return fe===he||Array.isArray(fe)&&fe.includes(he)}_addParent(he){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(he),fe):fe?[fe,he]:he}_removeParent(he){const{_parentage:fe}=this;fe===he?this._parentage=null:Array.isArray(fe)&&(0,Ce.P)(fe,he)}remove(he){const{_finalizers:fe}=this;fe&&(0,Ce.P)(fe,he),he instanceof Oe&&he._removeParent(this)}}Oe.EMPTY=(()=>{const Ne=new Oe;return Ne.closed=!0,Ne})();const Ee=Oe.EMPTY;function $e(Ne){return Ne instanceof Oe||Ne&&"closed"in Ne&&(0,o.m)(Ne.remove)&&(0,o.m)(Ne.add)&&(0,o.m)(Ne.unsubscribe)}function je(Ne){(0,o.m)(Ne)?Ne():Ne.unsubscribe()}},2416:(Yt,Xe,z)=>{"use strict";z.d(Xe,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Yt,Xe,z)=>{"use strict";z.d(Xe,{E:()=>te});const te=new(z(9751).y)(Oe=>Oe.complete())},8996:(Yt,Xe,z)=>{"use strict";z.d(Xe,{D:()=>Qe});var o=z(8421),te=z(5363),W=z(9468),Ee=z(9751),je=z(2202),Ne=z(576),he=z(9672);function be(lt,vt){if(!lt)throw new Error("Iterable cannot be null");return new Ee.y(rt=>{(0,he.f)(rt,vt,()=>{const Ae=lt[Symbol.asyncIterator]();(0,he.f)(rt,vt,()=>{Ae.next().then(Lt=>{Lt.done?rt.complete():rt.next(Lt.value)})},0,!0)})})}var tt=z(3670),it=z(8239),Tt=z(1144),Vt=z(6495),Be=z(2206),st=z(4532),dt=z(3260);function Qe(lt,vt){return vt?function nt(lt,vt){if(null!=lt){if((0,tt.c)(lt))return function Ce(lt,vt){return(0,o.Xf)(lt).pipe((0,W.R)(vt),(0,te.Q)(vt))}(lt,vt);if((0,Tt.z)(lt))return function $e(lt,vt){return new Ee.y(rt=>{let Ae=0;return vt.schedule(function(){Ae===lt.length?rt.complete():(rt.next(lt[Ae++]),rt.closed||this.schedule())})})}(lt,vt);if((0,it.t)(lt))return function Oe(lt,vt){return(0,o.Xf)(lt).pipe((0,W.R)(vt),(0,te.Q)(vt))}(lt,vt);if((0,Be.D)(lt))return be(lt,vt);if((0,Vt.T)(lt))return function fe(lt,vt){return new Ee.y(rt=>{let Ae;return(0,he.f)(rt,vt,()=>{Ae=lt[je.h](),(0,he.f)(rt,vt,()=>{let Lt,tn;try{({value:Lt,done:tn}=Ae.next())}catch(Zt){return void rt.error(Zt)}tn?rt.complete():rt.next(Lt)},0,!0)}),()=>(0,Ne.m)(Ae?.return)&&Ae.return()})}(lt,vt);if((0,dt.L)(lt))return function mt(lt,vt){return be((0,dt.Q)(lt),vt)}(lt,vt)}throw(0,st.z)(lt)}(lt,vt):(0,o.Xf)(lt)}},8421:(Yt,Xe,z)=>{"use strict";z.d(Xe,{Xf:()=>tt});var o=z(7582),te=z(1144),W=z(8239),Ce=z(9751),Oe=z(3670),Ee=z(2206),$e=z(4532),je=z(6495),Ne=z(3260),he=z(576),fe=z(7849),be=z(8822);function tt(nt){if(nt instanceof Ce.y)return nt;if(null!=nt){if((0,Oe.c)(nt))return function it(nt){return new Ce.y(Qe=>{const lt=nt[be.L]();if((0,he.m)(lt.subscribe))return lt.subscribe(Qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(nt);if((0,te.z)(nt))return function Tt(nt){return new Ce.y(Qe=>{for(let lt=0;lt<nt.length&&!Qe.closed;lt++)Qe.next(nt[lt]);Qe.complete()})}(nt);if((0,W.t)(nt))return function Vt(nt){return new Ce.y(Qe=>{nt.then(lt=>{Qe.closed||(Qe.next(lt),Qe.complete())},lt=>Qe.error(lt)).then(null,fe.h)})}(nt);if((0,Ee.D)(nt))return st(nt);if((0,je.T)(nt))return function Be(nt){return new Ce.y(Qe=>{for(const lt of nt)if(Qe.next(lt),Qe.closed)return;Qe.complete()})}(nt);if((0,Ne.L)(nt))return function dt(nt){return st((0,Ne.Q)(nt))}(nt)}throw(0,$e.z)(nt)}function st(nt){return new Ce.y(Qe=>{(function mt(nt,Qe){var lt,vt,rt,Ae;return(0,o.mG)(this,void 0,void 0,function*(){try{for(lt=(0,o.KL)(nt);!(vt=yield lt.next()).done;)if(Qe.next(vt.value),Qe.closed)return}catch(Lt){rt={error:Lt}}finally{try{vt&&!vt.done&&(Ae=lt.return)&&(yield Ae.call(lt))}finally{if(rt)throw rt.error}}Qe.complete()})})(nt,Qe).catch(lt=>Qe.error(lt))})}},6451:(Yt,Xe,z)=>{"use strict";z.d(Xe,{T:()=>Ee});var o=z(8189),te=z(8421),W=z(515),Ce=z(3269),Oe=z(8996);function Ee(...$e){const je=(0,Ce.yG)($e),Ne=(0,Ce._6)($e,1/0),he=$e;return he.length?1===he.length?(0,te.Xf)(he[0]):(0,o.J)(Ne)((0,Oe.D)(he,je)):W.E}},5403:(Yt,Xe,z)=>{"use strict";z.d(Xe,{x:()=>te});var o=z(930);function te(Ce,Oe,Ee,$e,je){return new W(Ce,Oe,Ee,$e,je)}class W extends o.Lv{constructor(Oe,Ee,$e,je,Ne,he){super(Oe),this.onFinalize=Ne,this.shouldUnsubscribe=he,this._next=Ee?function(fe){try{Ee(fe)}catch(be){Oe.error(be)}}:super._next,this._error=je?function(fe){try{je(fe)}catch(be){Oe.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=$e?function(){try{$e()}catch(fe){Oe.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(Oe=this.onFinalize)||void 0===Oe||Oe.call(this))}}}},4004:(Yt,Xe,z)=>{"use strict";z.d(Xe,{U:()=>W});var o=z(4482),te=z(5403);function W(Ce,Oe){return(0,o.e)((Ee,$e)=>{let je=0;Ee.subscribe((0,te.x)($e,Ne=>{$e.next(Ce.call(Oe,Ne,je++))}))})}},8189:(Yt,Xe,z)=>{"use strict";z.d(Xe,{J:()=>W});var o=z(5577),te=z(4671);function W(Ce=1/0){return(0,o.z)(te.y,Ce)}},5577:(Yt,Xe,z)=>{"use strict";z.d(Xe,{z:()=>je});var o=z(4004),te=z(8421),W=z(4482),Ce=z(9672),Oe=z(5403),$e=z(576);function je(Ne,he,fe=1/0){return(0,$e.m)(he)?je((be,tt)=>(0,o.U)((it,Tt)=>he(be,it,tt,Tt))((0,te.Xf)(Ne(be,tt))),fe):("number"==typeof he&&(fe=he),(0,W.e)((be,tt)=>function Ee(Ne,he,fe,be,tt,it,Tt,Vt){const Be=[];let st=0,dt=0,mt=!1;const nt=()=>{mt&&!Be.length&&!st&&he.complete()},Qe=vt=>st<be?lt(vt):Be.push(vt),lt=vt=>{it&&he.next(vt),st++;let rt=!1;(0,te.Xf)(fe(vt,dt++)).subscribe((0,Oe.x)(he,Ae=>{tt?.(Ae),it?Qe(Ae):he.next(Ae)},()=>{rt=!0},void 0,()=>{if(rt)try{for(st--;Be.length&&st<be;){const Ae=Be.shift();Tt?(0,Ce.f)(he,Tt,()=>lt(Ae)):lt(Ae)}nt()}catch(Ae){he.error(Ae)}}))};return Ne.subscribe((0,Oe.x)(he,Qe,()=>{mt=!0,nt()})),()=>{Vt?.()}}(be,tt,Ne,fe)))}},5363:(Yt,Xe,z)=>{"use strict";z.d(Xe,{Q:()=>Ce});var o=z(9672),te=z(4482),W=z(5403);function Ce(Oe,Ee=0){return(0,te.e)(($e,je)=>{$e.subscribe((0,W.x)(je,Ne=>(0,o.f)(je,Oe,()=>je.next(Ne),Ee),()=>(0,o.f)(je,Oe,()=>je.complete(),Ee),Ne=>(0,o.f)(je,Oe,()=>je.error(Ne),Ee)))})}},3099:(Yt,Xe,z)=>{"use strict";z.d(Xe,{B:()=>Oe});var o=z(8421),te=z(7579),W=z(930),Ce=z(4482);function Oe($e={}){const{connector:je=(()=>new te.x),resetOnError:Ne=!0,resetOnComplete:he=!0,resetOnRefCountZero:fe=!0}=$e;return be=>{let tt,it,Tt,Vt=0,Be=!1,st=!1;const dt=()=>{it?.unsubscribe(),it=void 0},mt=()=>{dt(),tt=Tt=void 0,Be=st=!1},nt=()=>{const Qe=tt;mt(),Qe?.unsubscribe()};return(0,Ce.e)((Qe,lt)=>{Vt++,!st&&!Be&&dt();const vt=Tt=Tt??je();lt.add(()=>{Vt--,0===Vt&&!st&&!Be&&(it=Ee(nt,fe))}),vt.subscribe(lt),!tt&&Vt>0&&(tt=new W.Hp({next:rt=>vt.next(rt),error:rt=>{st=!0,dt(),it=Ee(mt,Ne,rt),vt.error(rt)},complete:()=>{Be=!0,dt(),it=Ee(mt,he),vt.complete()}}),(0,o.Xf)(Qe).subscribe(tt))})(be)}}function Ee($e,je,...Ne){if(!0===je)return void $e();if(!1===je)return;const he=new W.Hp({next:()=>{he.unsubscribe(),$e()}});return(0,o.Xf)(je(...Ne)).subscribe(he)}},9468:(Yt,Xe,z)=>{"use strict";z.d(Xe,{R:()=>te});var o=z(4482);function te(W,Ce=0){return(0,o.e)((Oe,Ee)=>{Ee.add(W.schedule(()=>Oe.subscribe(Ee),Ce))})}},8505:(Yt,Xe,z)=>{"use strict";z.d(Xe,{b:()=>Oe});var o=z(576),te=z(4482),W=z(5403),Ce=z(4671);function Oe(Ee,$e,je){const Ne=(0,o.m)(Ee)||$e||je?{next:Ee,error:$e,complete:je}:Ee;return Ne?(0,te.e)((he,fe)=>{var be;null===(be=Ne.subscribe)||void 0===be||be.call(Ne);let tt=!0;he.subscribe((0,W.x)(fe,it=>{var Tt;null===(Tt=Ne.next)||void 0===Tt||Tt.call(Ne,it),fe.next(it)},()=>{var it;tt=!1,null===(it=Ne.complete)||void 0===it||it.call(Ne),fe.complete()},it=>{var Tt;tt=!1,null===(Tt=Ne.error)||void 0===Tt||Tt.call(Ne,it),fe.error(it)},()=>{var it,Tt;tt&&(null===(it=Ne.unsubscribe)||void 0===it||it.call(Ne)),null===(Tt=Ne.finalize)||void 0===Tt||Tt.call(Ne)}))}):Ce.y}},4408:(Yt,Xe,z)=>{"use strict";z.d(Xe,{o:()=>Oe});var o=z(727);class te extends o.w0{constructor($e,je){super()}schedule($e,je=0){return this}}const W={setInterval(Ee,$e,...je){const{delegate:Ne}=W;return Ne?.setInterval?Ne.setInterval(Ee,$e,...je):setInterval(Ee,$e,...je)},clearInterval(Ee){const{delegate:$e}=W;return($e?.clearInterval||clearInterval)(Ee)},delegate:void 0};var Ce=z(8737);class Oe extends te{constructor($e,je){super($e,je),this.scheduler=$e,this.work=je,this.pending=!1}schedule($e,je=0){var Ne;if(this.closed)return this;this.state=$e;const he=this.id,fe=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(fe,he,je)),this.pending=!0,this.delay=je,this.id=null!==(Ne=this.id)&&void 0!==Ne?Ne:this.requestAsyncId(fe,this.id,je),this}requestAsyncId($e,je,Ne=0){return W.setInterval($e.flush.bind($e,this),Ne)}recycleAsyncId($e,je,Ne=0){if(null!=Ne&&this.delay===Ne&&!1===this.pending)return je;null!=je&&W.clearInterval(je)}execute($e,je){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ne=this._execute($e,je);if(Ne)return Ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute($e,je){let he,Ne=!1;try{this.work($e)}catch(fe){Ne=!0,he=fe||new Error("Scheduled action threw falsy error")}if(Ne)return this.unsubscribe(),he}unsubscribe(){if(!this.closed){const{id:$e,scheduler:je}=this,{actions:Ne}=je;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(Ne,this),null!=$e&&(this.id=this.recycleAsyncId(je,$e,null)),this.delay=null,super.unsubscribe()}}}},7565:(Yt,Xe,z)=>{"use strict";z.d(Xe,{v:()=>W});var o=z(6063);class te{constructor(Oe,Ee=te.now){this.schedulerActionCtor=Oe,this.now=Ee}schedule(Oe,Ee=0,$e){return new this.schedulerActionCtor(this,Oe).schedule($e,Ee)}}te.now=o.l.now;class W extends te{constructor(Oe,Ee=te.now){super(Oe,Ee),this.actions=[],this._active=!1}flush(Oe){const{actions:Ee}=this;if(this._active)return void Ee.push(Oe);let $e;this._active=!0;do{if($e=Oe.execute(Oe.state,Oe.delay))break}while(Oe=Ee.shift());if(this._active=!1,$e){for(;Oe=Ee.shift();)Oe.unsubscribe();throw $e}}}},4986:(Yt,Xe,z)=>{"use strict";z.d(Xe,{P:()=>Ce,z:()=>W});var o=z(4408);const W=new(z(7565).v)(o.o),Ce=W},6063:(Yt,Xe,z)=>{"use strict";z.d(Xe,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(Yt,Xe,z)=>{"use strict";z.d(Xe,{z:()=>o});const o={setTimeout(te,W,...Ce){const{delegate:Oe}=o;return Oe?.setTimeout?Oe.setTimeout(te,W,...Ce):setTimeout(te,W,...Ce)},clearTimeout(te){const{delegate:W}=o;return(W?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(Yt,Xe,z)=>{"use strict";z.d(Xe,{h:()=>te});const te=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Yt,Xe,z)=>{"use strict";z.d(Xe,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Yt,Xe,z)=>{"use strict";z.d(Xe,{_6:()=>Ee,jO:()=>Ce,yG:()=>Oe});var o=z(576),te=z(3532);function W($e){return $e[$e.length-1]}function Ce($e){return(0,o.m)(W($e))?$e.pop():void 0}function Oe($e){return(0,te.K)(W($e))?$e.pop():void 0}function Ee($e,je){return"number"==typeof W($e)?$e.pop():je}},8737:(Yt,Xe,z)=>{"use strict";function o(te,W){if(te){const Ce=te.indexOf(W);0<=Ce&&te.splice(Ce,1)}}z.d(Xe,{P:()=>o})},3888:(Yt,Xe,z)=>{"use strict";function o(te){const Ce=te(Oe=>{Error.call(Oe),Oe.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}z.d(Xe,{d:()=>o})},2806:(Yt,Xe,z)=>{"use strict";z.d(Xe,{O:()=>Ce,x:()=>W});var o=z(2416);let te=null;function W(Oe){if(o.v.useDeprecatedSynchronousErrorHandling){const Ee=!te;if(Ee&&(te={errorThrown:!1,error:null}),Oe(),Ee){const{errorThrown:$e,error:je}=te;if(te=null,$e)throw je}}else Oe()}function Ce(Oe){o.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=Oe)}},9672:(Yt,Xe,z)=>{"use strict";function o(te,W,Ce,Oe=0,Ee=!1){const $e=W.schedule(function(){Ce(),Ee?te.add(this.schedule(null,Oe)):this.unsubscribe()},Oe);if(te.add($e),!Ee)return $e}z.d(Xe,{f:()=>o})},4671:(Yt,Xe,z)=>{"use strict";function o(te){return te}z.d(Xe,{y:()=>o})},1144:(Yt,Xe,z)=>{"use strict";z.d(Xe,{z:()=>o});const o=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(Yt,Xe,z)=>{"use strict";z.d(Xe,{D:()=>te});var o=z(576);function te(W){return Symbol.asyncIterator&&(0,o.m)(W?.[Symbol.asyncIterator])}},576:(Yt,Xe,z)=>{"use strict";function o(te){return"function"==typeof te}z.d(Xe,{m:()=>o})},3670:(Yt,Xe,z)=>{"use strict";z.d(Xe,{c:()=>W});var o=z(8822),te=z(576);function W(Ce){return(0,te.m)(Ce[o.L])}},6495:(Yt,Xe,z)=>{"use strict";z.d(Xe,{T:()=>W});var o=z(2202),te=z(576);function W(Ce){return(0,te.m)(Ce?.[o.h])}},8239:(Yt,Xe,z)=>{"use strict";z.d(Xe,{t:()=>te});var o=z(576);function te(W){return(0,o.m)(W?.then)}},3260:(Yt,Xe,z)=>{"use strict";z.d(Xe,{L:()=>Ce,Q:()=>W});var o=z(7582),te=z(576);function W(Oe){return(0,o.FC)(this,arguments,function*(){const $e=Oe.getReader();try{for(;;){const{value:je,done:Ne}=yield(0,o.qq)($e.read());if(Ne)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(je)}}finally{$e.releaseLock()}})}function Ce(Oe){return(0,te.m)(Oe?.getReader)}},3532:(Yt,Xe,z)=>{"use strict";z.d(Xe,{K:()=>te});var o=z(576);function te(W){return W&&(0,o.m)(W.schedule)}},4482:(Yt,Xe,z)=>{"use strict";z.d(Xe,{A:()=>te,e:()=>W});var o=z(576);function te(Ce){return(0,o.m)(Ce?.lift)}function W(Ce){return Oe=>{if(te(Oe))return Oe.lift(function(Ee){try{return Ce(Ee,this)}catch($e){this.error($e)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Yt,Xe,z)=>{"use strict";function o(){}z.d(Xe,{Z:()=>o})},9635:(Yt,Xe,z)=>{"use strict";z.d(Xe,{U:()=>W,z:()=>te});var o=z(4671);function te(...Ce){return W(Ce)}function W(Ce){return 0===Ce.length?o.y:1===Ce.length?Ce[0]:function(Ee){return Ce.reduce(($e,je)=>je($e),Ee)}}},7849:(Yt,Xe,z)=>{"use strict";z.d(Xe,{h:()=>W});var o=z(2416),te=z(3410);function W(Ce){te.z.setTimeout(()=>{const{onUnhandledError:Oe}=o.v;if(!Oe)throw Ce;Oe(Ce)})}},4532:(Yt,Xe,z)=>{"use strict";function o(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(Xe,{z:()=>o})},4650:(Yt,Xe,z)=>{"use strict";z.d(Xe,{$8M:()=>ud,$WT:()=>lo,$Z:()=>_1,AFp:()=>OC,ALo:()=>qf,AaK:()=>je,AcB:()=>hh,AsE:()=>Wb,CHM:()=>ed,CRH:()=>VO,CZH:()=>Uy,CqO:()=>K,D6c:()=>vR,EJc:()=>wg,EpF:()=>sy,F$t:()=>ay,F4k:()=>Vo,FYo:()=>Kw,FiY:()=>Oc,G7q:()=>ix,Gf:()=>cx,GfV:()=>KD,Gpc:()=>fe,HOy:()=>fy,Hsn:()=>ly,IIB:()=>kC,JOm:()=>bn,KtG:()=>Zs,LFG:()=>Rn,LSH:()=>Uw,Lbi:()=>v_,Lck:()=>fC,MAs:()=>O1,MMx:()=>My,MR2:()=>bP,NdJ:()=>Il,OlP:()=>ui,Oqu:()=>jb,P3R:()=>ZD,PXZ:()=>_s,PiD:()=>Jl,Q6J:()=>Ab,QGY:()=>Te,QbO:()=>Ru,Qsj:()=>AP,R0b:()=>uc,RDi:()=>sP,Rgc:()=>Ry,SBq:()=>Jp,Sil:()=>yx,Suo:()=>BO,TTD:()=>eh,TgZ:()=>Pb,VKq:()=>vC,WLB:()=>yC,X6Q:()=>xx,XFs:()=>jt,Xpm:()=>Tn,Xts:()=>Vw,Y36:()=>ig,YKP:()=>hC,YNc:()=>k1,Yjl:()=>Nn,Yz7:()=>rn,Z0I:()=>kr,ZZ4:()=>Kf,_Bn:()=>h_,_UZ:()=>Ob,_Vd:()=>Qp,_c5:()=>Bx,_uU:()=>rI,aQg:()=>Qf,c2e:()=>NC,cJS:()=>ri,cg1:()=>Sd,dDg:()=>ZC,dqk:()=>ti,eFA:()=>Dx,eJc:()=>ux,ekj:()=>Zb,eoX:()=>zC,f3M:()=>Qi,g9A:()=>_x,gM2:()=>nx,h0i:()=>Fh,hGG:()=>Vx,hij:()=>r_,iGM:()=>UO,ifc:()=>Y,ip1:()=>Pd,jDz:()=>pC,kL8:()=>mI,kYT:()=>ht,l5B:()=>AO,lG2:()=>wn,lcZ:()=>PO,lqb:()=>Pf,lri:()=>jy,n5z:()=>cd,n_E:()=>TC,oAB:()=>Me,oxw:()=>Lr,q4F:()=>QD,qLn:()=>Um,qOj:()=>Cd,qZA:()=>kb,rWj:()=>Wy,r_U:()=>oR,s9C:()=>Nb,sBO:()=>Sx,s_b:()=>jf,soG:()=>Vy,tBr:()=>mh,tb:()=>Ex,tp0:()=>qt,uIk:()=>P1,vHH:()=>Be,vpe:()=>Md,wAp:()=>Mn,xi3:()=>tx,xp6:()=>c1,z2F:()=>Jy,zSh:()=>xh,zs3:()=>eg});var o=z(7579),te=z(727),W=z(9751),Ce=z(6451),Oe=z(3099);function Ee(l){for(let u in l)if(l[u]===Ee)return u;throw Error("Could not find renamed property on target object.")}function $e(l,u){for(const d in u)u.hasOwnProperty(d)&&!l.hasOwnProperty(d)&&(l[d]=u[d])}function je(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(je).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const u=l.toString();if(null==u)return""+u;const d=u.indexOf("\n");return-1===d?u:u.substring(0,d)}function Ne(l,u){return null==l||""===l?null===u?"":u:null==u||""===u?l:l+" "+u}const he=Ee({__forward_ref__:Ee});function fe(l){return l.__forward_ref__=fe,l.toString=function(){return je(this())},l}function be(l){return tt(l)?l():l}function tt(l){return"function"==typeof l&&l.hasOwnProperty(he)&&l.__forward_ref__===fe}function it(l){return l&&!!l.\u0275providers}const Vt="https://g.co/ng/security#xss";class Be extends Error{constructor(u,d){super(st(u,d)),this.code=u}}function st(l,u){return`NG0${Math.abs(l)}${u?": "+u.trim():""}`}function dt(l){return"string"==typeof l?l:null==l?"":String(l)}function vt(l,u){throw new Be(-201,!1)}function Je(l,u){null==l&&function We(l,u,d,g){throw new Error(`ASSERTION ERROR: ${l}`+(null==g?"":` [Expected=> ${d} ${g} ${u} <=Actual]`))}(u,l,null,"!=")}function rn(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function ri(l){return{providers:l.providers||[],imports:l.imports||[]}}function mi(l){return ar(l,oo)||ar(l,nl)}function kr(l){return null!==mi(l)}function ar(l,u){return l.hasOwnProperty(u)?l[u]:null}function ir(l){return l&&(l.hasOwnProperty(Co)||l.hasOwnProperty(Gi))?l[Co]:null}const oo=Ee({\u0275prov:Ee}),Co=Ee({\u0275inj:Ee}),nl=Ee({ngInjectableDef:Ee}),Gi=Ee({ngInjectorDef:Ee});var jt=(()=>((jt=jt||{})[jt.Default=0]="Default",jt[jt.Host=1]="Host",jt[jt.Self=2]="Self",jt[jt.SkipSelf=4]="SkipSelf",jt[jt.Optional=8]="Optional",jt))();let Yi;function lr(l){const u=Yi;return Yi=l,u}function so(l,u,d){const g=mi(l);return g&&"root"==g.providedIn?void 0===g.value?g.value=g.factory():g.value:d&jt.Optional?null:void 0!==u?u:void vt(je(l))}const ti=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Zn={},jr="__NG_DI_FLAG__",zi="ngTempTokenPath",Wr="ngTokenPath",Ki=/\n/gm,Cr="\u0275",kn="__source";let Go;function zn(l){const u=Go;return Go=l,u}function Eo(l,u=jt.Default){if(void 0===Go)throw new Be(-203,!1);return null===Go?so(l,void 0,u):Go.get(l,u&jt.Optional?null:void 0,u)}function Rn(l,u=jt.Default){return(function Cs(){return Yi}()||Eo)(be(l),u)}function Qi(l,u=jt.Default){return Rn(l,$r(u))}function $r(l){return typeof l>"u"||"number"==typeof l?l:0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)}function cr(l){const u=[];for(let d=0;d<l.length;d++){const g=be(l[d]);if(Array.isArray(g)){if(0===g.length)throw new Be(900,!1);let _,w=jt.Default;for(let T=0;T<g.length;T++){const A=g[T],O=ao(A);"number"==typeof O?-1===O?_=A.token:w|=O:_=A}u.push(Rn(_,w))}else u.push(Rn(g))}return u}function To(l,u){return l[jr]=u,l.prototype[jr]=u,l}function ao(l){return l[jr]}function oe(l){return{toString:l}.toString()}var G=(()=>((G=G||{})[G.OnPush=0]="OnPush",G[G.Default=1]="Default",G))(),Y=(()=>{return(l=Y||(Y={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",Y;var l})();const q={},ge=[],De=Ee({\u0275cmp:Ee}),kt=Ee({\u0275dir:Ee}),pn=Ee({\u0275pipe:Ee}),cn=Ee({\u0275mod:Ee}),Fn=Ee({\u0275fac:Ee}),_n=Ee({__NG_ELEMENT_ID__:Ee});let xi=0;function Tn(l){return oe(()=>{const u=Ll(l),d={...u,decls:l.decls,vars:l.vars,template:l.template,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,onPush:l.changeDetection===G.OnPush,directiveDefs:null,pipeDefs:null,dependencies:u.standalone&&l.dependencies||null,getStandaloneInjector:null,data:l.data||{},encapsulation:l.encapsulation||Y.Emulated,id:"c"+xi++,styles:l.styles||ge,_:null,schemas:l.schemas||null,tView:null};vc(d);const g=l.dependencies;return d.directiveDefs=la(g,!1),d.pipeDefs=la(g,!0),d})}function aa(l){return on(l)||fi(l)}function He(l){return null!==l}function Me(l){return oe(()=>({type:l.type,bootstrap:l.bootstrap||ge,declarations:l.declarations||ge,imports:l.imports||ge,exports:l.exports||ge,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function ht(l,u){return oe(()=>{const d=Rr(l,!0);d.declarations=u.declarations||ge,d.imports=u.imports||ge,d.exports=u.exports||ge})}function Kt(l,u){if(null==l)return q;const d={};for(const g in l)if(l.hasOwnProperty(g)){let _=l[g],w=_;Array.isArray(_)&&(w=_[1],_=_[0]),d[_]=g,u&&(u[_]=w)}return d}function wn(l){return oe(()=>{const u=Ll(l);return vc(u),u})}function Nn(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function on(l){return l[De]||null}function fi(l){return l[kt]||null}function Xn(l){return l[pn]||null}function lo(l){const u=on(l)||fi(l)||Xn(l);return null!==u&&u.standalone}function Rr(l,u){const d=l[cn]||null;if(!d&&!0===u)throw new Error(`Type ${je(l)} does not have '\u0275mod' property.`);return d}function Ll(l){const u={};return{type:l.type,providersResolver:null,factory:null,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:u,exportAs:l.exportAs||null,standalone:!0===l.standalone,selectors:l.selectors||ge,viewQuery:l.viewQuery||null,features:l.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Kt(l.inputs,u),outputs:Kt(l.outputs)}}function vc(l){l.features?.forEach(u=>u(l))}function la(l,u){if(!l)return null;const d=u?Xn:aa;return()=>("function"==typeof l?l():l).map(g=>d(g)).filter(He)}const Tr=0,It=1,Ot=2,Sn=3,oi=4,Yo=5,Ji=6,Xi=7,Qt=8,Li=9,_i=10,On=11,Io=12,ls=13,Pa=14,Ro=15,Yn=16,Ko=17,Es=18,Gr=19,Dr=20,mr=21,Ci=22,Fl=1,il=2,ka=7,Ts=8,Oa=9,Ir=10;function an(l){return Array.isArray(l)&&"object"==typeof l[Fl]}function Si(l){return Array.isArray(l)&&!0===l[Fl]}function hi(l){return 0!=(4&l.flags)}function yc(l){return l.componentOffset>-1}function rl(l){return 1==(1&l.flags)}function Yr(l){return!!l.template}function Us(l){return 0!=(256&l[Ot])}function Vs(l,u){return l.hasOwnProperty(Fn)?l[Fn]:null}class Xd{constructor(u,d,g){this.previousValue=u,this.currentValue=d,this.firstChange=g}isFirstChange(){return this.firstChange}}function eh(){return Ul}function Ul(l){return l.type.prototype.ngOnChanges&&(l.setInput=Kr),lf}function lf(){const l=wc(this),u=l?.current;if(u){const d=l.previous;if(d===q)l.previous=u;else for(let g in u)d[g]=u[g];l.current=null,this.ngOnChanges(u)}}function Kr(l,u,d,g){const _=this.declaredInputs[d],w=wc(l)||function ua(l,u){return l[Ku]=u}(l,{previous:q,current:null}),T=w.current||(w.current={}),A=w.previous,O=A[_];T[_]=new Xd(O&&O.currentValue,u,A===q),l[g]=u}eh.ngInherit=!0;const Ku="__ngSimpleChanges__";function wc(l){return l[Ku]||null}const Fi=function(l,u,d){};function _r(l){for(;Array.isArray(l);)l=l[Tr];return l}function ll(l,u){return _r(u[l])}function xr(l,u){return _r(u[l.index])}function Ec(l,u){return l.data[u]}function uo(l,u){return l[u]}function ur(l,u){const d=u[l];return an(d)?d:d[Tr]}function La(l){return 64==(64&l[Ot])}function vr(l,u){return null==u?null:l[u]}function Vl(l){l[Es]=0}function cl(l,u){l[Yo]+=u;let d=l,g=l[Sn];for(;null!==g&&(1===u&&1===d[Yo]||-1===u&&0===d[Yo]);)g[Yo]+=u,d=g,g=g[Sn]}const xn={lFrame:Za(null),bindingsEnabled:!0};function th(){return xn.bindingsEnabled}function qe(){return xn.lFrame.lView}function hn(){return xn.lFrame.tView}function ed(l){return xn.lFrame.contextLView=l,l[Qt]}function Zs(l){return xn.lFrame.contextLView=null,l}function dr(){let l=zl();for(;null!==l&&64===l.type;)l=l.parent;return l}function zl(){return xn.lFrame.currentTNode}function xo(l,u){const d=xn.lFrame;d.currentTNode=l,d.isParent=u}function cu(){return xn.lFrame.isParent}function da(){xn.lFrame.isParent=!1}function Qr(){const l=xn.lFrame;let u=l.bindingRootIndex;return-1===u&&(u=l.bindingRootIndex=l.tView.bindingStartIndex),u}function or(){return xn.lFrame.bindingIndex}function Fo(){return xn.lFrame.bindingIndex++}function zs(l){const u=xn.lFrame,d=u.bindingIndex;return u.bindingIndex=u.bindingIndex+l,d}function td(l,u){const d=xn.lFrame;d.bindingIndex=d.bindingRootIndex=l,Hi(u)}function Hi(l){xn.lFrame.currentDirectiveIndex=l}function Va(){return xn.lFrame.currentQueryIndex}function dl(l){xn.lFrame.currentQueryIndex=l}function hl(l){const u=l[It];return 2===u.type?u.declTNode:1===u.type?l[Ji]:null}function uu(l,u,d){if(d&jt.SkipSelf){let _=u,w=l;for(;!(_=_.parent,null!==_||d&jt.Host||(_=hl(w),null===_||(w=w[Ro],10&_.type))););if(null===_)return!1;u=_,l=w}const g=xn.lFrame=nd();return g.currentTNode=u,g.lView=l,!0}function fl(l){const u=nd(),d=l[It];xn.lFrame=u,u.currentTNode=d.firstChild,u.lView=l,u.tView=d,u.contextLView=l,u.bindingIndex=d.bindingStartIndex,u.inI18n=!1}function nd(){const l=xn.lFrame,u=null===l?null:l.child;return null===u?Za(l):u}function Za(l){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=u),u}function id(){const l=xn.lFrame;return xn.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const Ic=id;function ih(){const l=id();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function Ui(){return xn.lFrame.selectedIndex}function Jo(l){xn.lFrame.selectedIndex=l}function qi(){const l=xn.lFrame;return Ec(l.tView,l.selectedIndex)}function ha(l,u){for(let d=u.directiveStart,g=u.directiveEnd;d<g;d++){const w=l.data[d].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:A,ngAfterViewInit:O,ngAfterViewChecked:U,ngOnDestroy:j}=w;T&&(l.contentHooks??(l.contentHooks=[])).push(-d,T),A&&((l.contentHooks??(l.contentHooks=[])).push(d,A),(l.contentCheckHooks??(l.contentCheckHooks=[])).push(d,A)),O&&(l.viewHooks??(l.viewHooks=[])).push(-d,O),U&&((l.viewHooks??(l.viewHooks=[])).push(d,U),(l.viewCheckHooks??(l.viewCheckHooks=[])).push(d,U)),null!=j&&(l.destroyHooks??(l.destroyHooks=[])).push(d,j)}}function fu(l,u,d){us(l,u,3,d)}function rd(l,u,d,g){(3&l[Ot])===d&&us(l,u,d,g)}function oh(l,u){let d=l[Ot];(3&d)===u&&(d&=2047,d+=1,l[Ot]=d)}function us(l,u,d,g){const w=g??-1,T=u.length-1;let A=0;for(let O=void 0!==g?65535&l[Es]:0;O<T;O++)if("number"==typeof u[O+1]){if(A=u[O],null!=g&&A>=g)break}else u[O]<0&&(l[Es]+=65536),(A<w||-1==w)&&(pl(l,d,u,O),l[Es]=(4294901760&l[Es])+O+2),O++}function pl(l,u,d,g){const _=d[g]<0,w=d[g+1],A=l[_?-d[g]:d[g]];if(_){if(l[Ot]>>11<l[Es]>>16&&(3&l[Ot])===u){l[Ot]+=2048,Fi(4,A,w);try{w.call(A)}finally{Fi(5,A,w)}}}else{Fi(4,A,w);try{w.call(A)}finally{Fi(5,A,w)}}}const Wl=-1;class Xo{constructor(u,d,g){this.factory=u,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=g}}function gl(l,u,d){let g=0;for(;g<d.length;){const _=d[g];if("number"==typeof _){if(0!==_)break;g++;const w=d[g++],T=d[g++],A=d[g++];l.setAttribute(u,T,A,w)}else{const w=_,T=d[++g];fa(w)?l.setProperty(u,w,T):l.setAttribute(u,w,T),g++}}return g}function ad(l){return 3===l||4===l||6===l}function fa(l){return 64===l.charCodeAt(0)}function ml(l,u){if(null!==u&&0!==u.length)if(null===l||0===l.length)l=u.slice();else{let d=-1;for(let g=0;g<u.length;g++){const _=u[g];"number"==typeof _?d=_:0===d||_l(l,d,_,null,-1===d||2===d?u[++g]:null)}}return l}function _l(l,u,d,g,_){let w=0,T=l.length;if(-1===u)T=-1;else for(;w<l.length;){const A=l[w++];if("number"==typeof A){if(A===u){T=-1;break}if(A>u){T=w-1;break}}}for(;w<l.length;){const A=l[w];if("number"==typeof A)break;if(A===d){if(null===g)return void(null!==_&&(l[w+1]=_));if(g===l[w+1])return void(l[w+2]=_)}w++,null!==g&&w++,null!==_&&w++}-1!==T&&(l.splice(T,0,u),w=T+1),l.splice(w++,0,d),null!==g&&l.splice(w++,0,g),null!==_&&l.splice(w++,0,_)}function Ha(l){return l!==Wl}function Gl(l){return 32767&l}function m(l,u){let d=function f(l){return l>>16}(l),g=u;for(;d>0;)g=g[Ro],d--;return g}let E=!0;function M(l){const u=E;return E=l,u}const H=255,ce=5;let Se=0;const ke={};function Rt(l,u){const d=jn(l,u);if(-1!==d)return d;const g=u[It];g.firstCreatePass&&(l.injectorIndex=u.length,sn(g.data,l),sn(u,null),sn(g.blueprint,null));const _=ni(l,u),w=l.injectorIndex;if(Ha(_)){const T=Gl(_),A=m(_,u),O=A[It].data;for(let U=0;U<8;U++)u[w+U]=A[T+U]|O[T+U]}return u[w+8]=_,w}function sn(l,u){l.push(0,0,0,0,0,0,0,0,u)}function jn(l,u){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===u[l.injectorIndex+8]?-1:l.injectorIndex}function ni(l,u){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let d=0,g=null,_=u;for(;null!==_;){if(g=wl(_),null===g)return Wl;if(d++,_=_[Ro],-1!==g.injectorIndex)return g.injectorIndex|d<<16}return Wl}function Bi(l,u,d){!function ct(l,u,d){let g;"string"==typeof d?g=d.charCodeAt(0)||0:d.hasOwnProperty(_n)&&(g=d[_n]),null==g&&(g=d[_n]=Se++);const _=g&H;u.data[l+(_>>ce)]|=1<<_}(l,u,d)}function Ao(l,u,d){if(d&jt.Optional||void 0!==l)return l;vt()}function Ws(l,u,d,g){if(d&jt.Optional&&void 0===g&&(g=null),!(d&(jt.Self|jt.Host))){const _=l[Li],w=lr(void 0);try{return _?_.get(u,g,d&jt.Optional):so(u,g,d&jt.Optional)}finally{lr(w)}}return Ao(g,0,d)}function sh(l,u,d,g=jt.Default,_){if(null!==l){if(1024&u[Ot]){const T=function lh(l,u,d,g,_){let w=l,T=u;for(;null!==w&&null!==T&&1024&T[Ot]&&!(256&T[Ot]);){const A=gu(w,T,d,g|jt.Self,ke);if(A!==ke)return A;let O=w.parent;if(!O){const U=T[mr];if(U){const j=U.get(d,ke,g);if(j!==ke)return j}O=wl(T),T=T[Ro]}w=O}return _}(l,u,d,g,ke);if(T!==ke)return T}const w=gu(l,u,d,g,ke);if(w!==ke)return w}return Ws(u,d,g,_)}function gu(l,u,d,g,_){const w=function ah(l){if("string"==typeof l)return l.charCodeAt(0)||0;const u=l.hasOwnProperty(_n)?l[_n]:void 0;return"number"==typeof u?u>=0?u&H:ld:u}(d);if("function"==typeof w){if(!uu(u,l,g))return g&jt.Host?Ao(_,0,g):Ws(u,d,g,_);try{const T=w(g);if(null!=T||g&jt.Optional)return T;vt()}finally{Ic()}}else if("number"==typeof w){let T=null,A=jn(l,u),O=Wl,U=g&jt.Host?u[Yn][Ji]:null;for((-1===A||g&jt.SkipSelf)&&(O=-1===A?ni(l,u):u[A+8],O!==Wl&&yl(g,!1)?(T=u[It],A=Gl(O),u=m(O,u)):A=-1);-1!==A;){const j=u[It];if(Ai(w,A,j.data)){const ne=Sr(A,u,d,T,g,U);if(ne!==ke)return ne}O=u[A+8],O!==Wl&&yl(g,u[It].data[A+8]===U)&&Ai(w,A,u)?(T=j,A=Gl(O),u=m(O,u)):A=-1}}return _}function Sr(l,u,d,g,_,w){const T=u[It],A=T.data[l+8],j=vl(A,T,d,null==g?yc(A)&&E:g!=T&&0!=(3&A.type),_&jt.Host&&w===A);return null!==j?er(u,T,j,A):ke}function vl(l,u,d,g,_){const w=l.providerIndexes,T=u.data,A=1048575&w,O=l.directiveStart,j=w>>20,ve=_?A+j:l.directiveEnd;for(let Pe=g?A:A+j;Pe<ve;Pe++){const Ye=T[Pe];if(Pe<O&&d===Ye||Pe>=O&&Ye.type===d)return Pe}if(_){const Pe=T[O];if(Pe&&Yr(Pe)&&Pe.type===d)return O}return null}function er(l,u,d,g){let _=l[d];const w=u.data;if(function xp(l){return l instanceof Xo}(_)){const T=_;T.resolving&&function nt(l,u){const d=u?`. Dependency path: ${u.join(" > ")} > ${l}`:"";throw new Be(-200,`Circular dependency in DI detected for ${l}${d}`)}(function mt(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():dt(l)}(w[d]));const A=M(T.canSeeViewProviders);T.resolving=!0;const O=T.injectImpl?lr(T.injectImpl):null;uu(l,g,jt.Default);try{_=l[d]=T.factory(void 0,w,l,g),u.firstCreatePass&&d>=g.directiveStart&&function Ip(l,u,d){const{ngOnChanges:g,ngOnInit:_,ngDoCheck:w}=u.type.prototype;if(g){const T=Ul(u);(d.preOrderHooks??(d.preOrderHooks=[])).push(l,T),(d.preOrderCheckHooks??(d.preOrderCheckHooks=[])).push(l,T)}_&&(d.preOrderHooks??(d.preOrderHooks=[])).push(0-l,_),w&&((d.preOrderHooks??(d.preOrderHooks=[])).push(l,w),(d.preOrderCheckHooks??(d.preOrderCheckHooks=[])).push(l,w))}(d,w[d],u)}finally{null!==O&&lr(O),M(A),T.resolving=!1,Ic()}}return _}function Ai(l,u,d){return!!(d[u+(l>>ce)]&1<<l)}function yl(l,u){return!(l&jt.Self||l&jt.Host&&u)}class Yl{constructor(u,d){this._tNode=u,this._lView=d}get(u,d,g){return sh(this._tNode,this._lView,u,$r(g),d)}}function ld(){return new Yl(dr(),qe())}function cd(l){return oe(()=>{const u=l.prototype.constructor,d=u[Fn]||$s(u),g=Object.prototype;let _=Object.getPrototypeOf(l.prototype).constructor;for(;_&&_!==g;){const w=_[Fn]||$s(_);if(w&&w!==d)return w;_=Object.getPrototypeOf(_)}return w=>new w})}function $s(l){return tt(l)?()=>{const u=$s(be(l));return u&&u()}:Vs(l)}function wl(l){const u=l[It],d=u.type;return 2===d?u.declTNode:1===d?l[Ji]:null}function ud(l){return function So(l,u){if("class"===u)return l.classes;if("style"===u)return l.styles;const d=l.attrs;if(d){const g=d.length;let _=0;for(;_<g;){const w=d[_];if(ad(w))break;if(0===w)_+=2;else if("number"==typeof w)for(_++;_<g&&"string"==typeof d[_];)_++;else{if(w===u)return d[_+1];_+=2}}}return null}(dr(),l)}const Mc="__parameters__",ch="__prop__metadata__";function Sp(l){return function(...d){if(l){const g=l(...d);for(const _ in g)this[_]=g[_]}}}function Pc(l,u,d){return oe(()=>{const g=Sp(u);function _(...w){if(this instanceof _)return g.apply(this,w),this;const T=new _(...w);return A.annotation=T,A;function A(O,U,j){const ne=O.hasOwnProperty(Mc)?O[Mc]:Object.defineProperty(O,Mc,{value:[]})[Mc];for(;ne.length<=j;)ne.push(null);return(ne[j]=ne[j]||[]).push(T),O}}return d&&(_.prototype=Object.create(d.prototype)),_.prototype.ngMetadataName=l,_.annotationCls=_,_})}function uh(l,u,d,g){return oe(()=>{const _=Sp(u);function w(...T){if(this instanceof w)return _.apply(this,T),this;const A=new w(...T);return function O(U,j){const ne=U.constructor,ve=ne.hasOwnProperty(ch)?ne[ch]:Object.defineProperty(ne,ch,{value:{}})[ch];ve[j]=ve.hasOwnProperty(j)&&ve[j]||[],ve[j].unshift(A),g&&g(U,j,...T)}}return d&&(w.prototype=Object.create(d.prototype)),w.prototype.ngMetadataName=l,w.annotationCls=w,w})}class ui{constructor(u,d){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=rn({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}class dh{}const hh=uh("ContentChildren",(l,u={})=>({selector:l,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...u}),dh);function Kl(l,u){l.forEach(d=>Array.isArray(d)?Kl(d,u):u(d))}function pf(l,u,d){u>=l.length?l.push(d):l.splice(u,0,d)}function dd(l,u){return u>=l.length-1?l.pop():l.splice(u,1)[0]}function mu(l,u){const d=[];for(let g=0;g<l;g++)d.push(u);return d}function Gs(l,u,d){let g=Ys(l,u);return g>=0?l[1|g]=d:(g=~g,function gh(l,u,d,g){let _=l.length;if(_==u)l.push(d,g);else if(1===_)l.push(g,l[0]),l[0]=d;else{for(_--,l.push(l[_-1],l[_]);_>u;)l[_]=l[_-2],_--;l[u]=d,l[u+1]=g}}(l,g,u,d)),g}function si(l,u){const d=Ys(l,u);if(d>=0)return l[1|d]}function Ys(l,u){return function ds(l,u,d){let g=0,_=l.length>>d;for(;_!==g;){const w=g+(_-g>>1),T=l[w<<d];if(u===T)return w<<d;T>u?_=w:g=w+1}return~(_<<d)}(l,u,1)}const mh=To(Pc("Inject",l=>({token:l})),-1),Oc=To(Pc("Optional"),8),Jl=To(Pc("Self"),2),qt=To(Pc("SkipSelf"),4);var bn=(()=>((bn=bn||{})[bn.Important=1]="Important",bn[bn.DashCase=2]="DashCase",bn))();const Ef=new Map;let El=0;const me="__ngContext__";function ye(l,u){an(u)?(l[me]=u[Dr],function Fp(l){Ef.set(l[Dr],l)}(u)):l[me]=u}let Ms;function Uo(l,u){return Ms(l,u)}function Bp(l){const u=l[Sn];return Si(u)?u[Sn]:u}function vd(l){return wm(l[ls])}function yd(l){return wm(l[oi])}function wm(l){for(;null!==l&&!Si(l);)l=l[oi];return l}function Tu(l,u,d,g,_){if(null!=g){let w,T=!1;Si(g)?w=g:an(g)&&(T=!0,g=g[Tr]);const A=_r(g);0===l&&null!==d?null==_?fs(u,d,A):Hn(u,d,A,_||null,!0):1===l&&null!==d?Hn(u,d,A,_||null,!0):2===l?function Iw(l,u,d){const g=Tl(l,u);g&&function Du(l,u,d,g){l.removeChild(u,d,g)}(l,g,u,d)}(u,A,T):3===l&&u.destroyNode(A),null!=w&&function xm(l,u,d,g,_){const w=d[ka];w!==_r(d)&&Tu(u,l,g,w,_);for(let A=Ir;A<d.length;A++){const O=d[A];Im(O[It],O,l,u,g,w)}}(u,l,w,d,_)}}function Cm(l,u,d){return l.createElement(u,d)}function S(l,u){const d=l[Oa],g=d.indexOf(u),_=u[Sn];512&u[Ot]&&(u[Ot]&=-513,cl(_,-1)),d.splice(g,1)}function Z(l,u){if(l.length<=Ir)return;const d=Ir+u,g=l[d];if(g){const _=g[Ko];null!==_&&_!==l&&S(_,g),u>0&&(l[d-1][oi]=g[oi]);const w=dd(l,Ir+u);!function Pv(l,u){Im(l,u,u[On],2,null,null),u[Tr]=null,u[Ji]=null}(g[It],g);const T=w[Gr];null!==T&&T.detachView(w[It]),g[Sn]=null,g[oi]=null,g[Ot]&=-65}return g}function $(l,u){if(!(128&u[Ot])){const d=u[On];d.destroyNode&&Im(l,u,d,3,null,null),function I(l){let u=l[ls];if(!u)return we(l[It],l);for(;u;){let d=null;if(an(u))d=u[ls];else{const g=u[Ir];g&&(d=g)}if(!d){for(;u&&!u[oi]&&u!==l;)an(u)&&we(u[It],u),u=u[Sn];null===u&&(u=l),an(u)&&we(u[It],u),d=u&&u[oi]}u=d}}(u)}}function we(l,u){if(!(128&u[Ot])){u[Ot]&=-65,u[Ot]|=128,function yt(l,u){let d;if(null!=l&&null!=(d=l.destroyHooks))for(let g=0;g<d.length;g+=2){const _=u[d[g]];if(!(_ instanceof Xo)){const w=d[g+1];if(Array.isArray(w))for(let T=0;T<w.length;T+=2){const A=_[w[T]],O=w[T+1];Fi(4,A,O);try{O.call(A)}finally{Fi(5,A,O)}}else{Fi(4,_,w);try{w.call(_)}finally{Fi(5,_,w)}}}}}(l,u),function Ue(l,u){const d=l.cleanup,g=u[Xi];let _=-1;if(null!==d)for(let w=0;w<d.length-1;w+=2)if("string"==typeof d[w]){const T=d[w+3];T>=0?g[_=T]():g[_=-T].unsubscribe(),w+=2}else{const T=g[_=d[w+1]];d[w].call(T)}if(null!==g){for(let w=_+1;w<g.length;w++)(0,g[w])();u[Xi]=null}}(l,u),1===u[It].type&&u[On].destroy();const d=u[Ko];if(null!==d&&Si(u[Sn])){d!==u[Sn]&&S(d,u);const g=u[Gr];null!==g&&g.detachView(l)}!function Up(l){Ef.delete(l[Dr])}(u)}}function St(l,u,d){return function ln(l,u,d){let g=u;for(;null!==g&&40&g.type;)g=(u=g).parent;if(null===g)return d[Tr];{const{componentOffset:_}=g;if(_>-1){const{encapsulation:w}=l.data[g.directiveStart+_];if(w===Y.None||w===Y.Emulated)return null}return xr(g,d)}}(l,u.parent,d)}function Hn(l,u,d,g,_){l.insertBefore(u,d,g,_)}function fs(l,u,d){l.appendChild(u,d)}function Uc(l,u,d,g,_){null!==g?Hn(l,u,d,g,_):fs(l,u,d)}function Tl(l,u){return l.parentNode(u)}function Vp(l,u,d){return Iu(l,u,d)}let Zp,Aw,kv,Iu=function Sf(l,u,d){return 40&l.type?xr(l,d):null};function Th(l,u,d,g){const _=St(l,g,u),w=u[On],A=Vp(g.parent||u[Ji],g,u);if(null!=_)if(Array.isArray(d))for(let O=0;O<d.length;O++)Uc(w,_,d[O],A,!1);else Uc(w,_,d,A,!1);void 0!==Zp&&Zp(w,g,u,d,_)}function Hp(l,u){if(null!==u){const d=u.type;if(3&d)return xr(u,l);if(4&d)return xu(-1,l[u.index]);if(8&d){const g=u.child;if(null!==g)return Hp(l,g);{const _=l[u.index];return Si(_)?xu(-1,_):_r(_)}}if(32&d)return Uo(u,l)()||_r(l[u.index]);{const g=Dh(l,u);return null!==g?Array.isArray(g)?g[0]:Hp(Bp(l[Yn]),g):Hp(l,u.next)}}return null}function Dh(l,u){return null!==u?l[Yn][Ji].projection[u.projection]:null}function xu(l,u){const d=Ir+l+1;if(d<u.length){const g=u[d],_=g[It].firstChild;if(null!==_)return Hp(g,_)}return u[ka]}function Dm(l,u,d,g,_,w,T){for(;null!=d;){const A=g[d.index],O=d.type;if(T&&0===u&&(A&&ye(_r(A),g),d.flags|=2),32!=(32&d.flags))if(8&O)Dm(l,u,d.child,g,_,w,!1),Tu(u,l,_,A,w);else if(32&O){const U=Uo(d,g);let j;for(;j=U();)Tu(u,l,_,j,w);Tu(u,l,_,A,w)}else 16&O?xw(l,u,g,d,_,w):Tu(u,l,_,A,w);d=T?d.projectionNext:d.next}}function Im(l,u,d,g,_,w){Dm(d,g,l.firstChild,u,_,w,!1)}function xw(l,u,d,g,_,w){const T=d[Yn],O=T[Ji].projection[g.projection];if(Array.isArray(O))for(let U=0;U<O.length;U++)Tu(u,l,_,O[U],w);else Dm(l,u,O,T[Sn],_,w,!0)}function Ih(l,u,d){""===d?l.removeAttribute(u,"class"):l.setAttribute(u,"class",d)}function Sm(l,u,d){const{mergedAttrs:g,classes:_,styles:w}=d;null!==g&&gl(l,u,g),null!==_&&Ih(l,u,_),null!==w&&function Sw(l,u,d){l.setAttribute(u,"style",d)}(l,u,w)}function sP(l){Aw=l}function MD(l){return function Mw(){if(void 0===kv&&(kv=null,ti.trustedTypes))try{kv=ti.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return kv}()?.createScriptURL(l)||l}class PD{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Vt})`}}function Au(l){return l instanceof PD?l.changingThisBreaksApplicationSecurity:l}function Dl(l,u){const d=function jp(l){return l instanceof PD&&l.getTypeName()||null}(l);if(null!=d&&d!==u){if("ResourceURL"===d&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${d} (see ${Vt})`)}return d===u}const ND=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var fo=(()=>((fo=fo||{})[fo.NONE=0]="NONE",fo[fo.HTML=1]="HTML",fo[fo.STYLE=2]="STYLE",fo[fo.SCRIPT=3]="SCRIPT",fo[fo.URL=4]="URL",fo[fo.RESOURCE_URL=5]="RESOURCE_URL",fo))();function Uw(l){const u=Nm();return u?u.sanitize(fo.URL,l)||"":Dl(l,"URL")?Au(l):function Pm(l){return(l=String(l)).match(ND)?l:"unsafe:"+l}(dt(l))}function Fv(l){const u=Nm();if(u)return MD(u.sanitize(fo.RESOURCE_URL,l)||"");if(Dl(l,"ResourceURL"))return MD(Au(l));throw new Be(904,!1)}function ZD(l,u,d){return function yP(l,u){return"src"===u&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===u&&("base"===l||"link"===l)?Fv:Uw}(u,d)(l)}function Nm(){const l=qe();return l&&l[Io]}const Vw=new ui("ENVIRONMENT_INITIALIZER"),Mf=new ui("INJECTOR",-1),$p=new ui("INJECTOR_DEF_TYPES");class zD{get(u,d=Zn){if(d===Zn){const g=new Error(`NullInjectorError: No provider for ${je(u)}!`);throw g.name="NullInjectorError",g}return d}}function bP(l){return{\u0275providers:l}}function Lm(...l){return{\u0275providers:Gp(0,l),\u0275fromNgModule:!0}}function Gp(l,...u){const d=[],g=new Set;let _;return Kl(u,w=>{const T=w;Zw(T,d,[],g)&&(_||(_=[]),_.push(T))}),void 0!==_&&HD(_,d),d}function HD(l,u){for(let d=0;d<l.length;d++){const{providers:_}=l[d];zw(_,w=>{u.push(w)})}}function Zw(l,u,d,g){if(!(l=be(l)))return!1;let _=null,w=ir(l);const T=!w&&on(l);if(w||T){if(T&&!T.standalone)return!1;_=l}else{const O=l.ngModule;if(w=ir(O),!w)return!1;_=O}const A=g.has(_);if(T){if(A)return!1;if(g.add(_),T.dependencies){const O="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const U of O)Zw(U,u,d,g)}}else{if(!w)return!1;{if(null!=w.imports&&!A){let U;g.add(_);try{Kl(w.imports,j=>{Zw(j,u,d,g)&&(U||(U=[]),U.push(j))})}finally{}void 0!==U&&HD(U,u)}if(!A){const U=Vs(_)||(()=>new _);u.push({provide:_,useFactory:U,deps:ge},{provide:$p,useValue:_,multi:!0},{provide:Vw,useValue:()=>Rn(_),multi:!0})}const O=w.providers;null==O||A||zw(O,j=>{u.push(j)})}}return _!==l&&void 0!==l.providers}function zw(l,u){for(let d of l)it(d)&&(d=d.\u0275providers),Array.isArray(d)?zw(d,u):u(d)}const CP=Ee({provide:String,useValue:Ee});function Hw(l){return null!==l&&"object"==typeof l&&CP in l}function wd(l){return"function"==typeof l}const xh=new ui("Set Injector scope."),Bv={},TP={};let qw;function Vv(){return void 0===qw&&(qw=new zD),qw}class Pf{}class jD extends Pf{get destroyed(){return this._destroyed}constructor(u,d,g,_){super(),this.parent=d,this.source=g,this.scopes=_,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kp(u,T=>this.processProvider(T)),this.records.set(Mf,Yp(void 0,this)),_.has("environment")&&this.records.set(Pf,Yp(void 0,this));const w=this.records.get(xh);null!=w&&"string"==typeof w.value&&this.scopes.add(w.value),this.injectorDefTypes=new Set(this.get($p.multi,ge,jt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();for(const u of this._onDestroyHooks)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(u){this._onDestroyHooks.push(u)}runInContext(u){this.assertNotDestroyed();const d=zn(this),g=lr(void 0);try{return u()}finally{zn(d),lr(g)}}get(u,d=Zn,g=jt.Default){this.assertNotDestroyed(),g=$r(g);const _=zn(this),w=lr(void 0);try{if(!(g&jt.SkipSelf)){let A=this.records.get(u);if(void 0===A){const O=function Gw(l){return"function"==typeof l||"object"==typeof l&&l instanceof ui}(u)&&mi(u);A=O&&this.injectableDefInScope(O)?Yp(jw(u),Bv):null,this.records.set(u,A)}if(null!=A)return this.hydrate(u,A)}return(g&jt.Self?Vv():this.parent).get(u,d=g&jt.Optional&&d===Zn?null:d)}catch(T){if("NullInjectorError"===T.name){if((T[zi]=T[zi]||[]).unshift(je(u)),_)throw T;return function Do(l,u,d,g){const _=l[zi];throw u[kn]&&_.unshift(u[kn]),l.message=function le(l,u,d,g=null){l=l&&"\n"===l.charAt(0)&&l.charAt(1)==Cr?l.slice(2):l;let _=je(u);if(Array.isArray(u))_=u.map(je).join(" -> ");else if("object"==typeof u){let w=[];for(let T in u)if(u.hasOwnProperty(T)){let A=u[T];w.push(T+":"+("string"==typeof A?JSON.stringify(A):je(A)))}_=`{${w.join(", ")}}`}return`${d}${g?"("+g+")":""}[${_}]: ${l.replace(Ki,"\n  ")}`}("\n"+l.message,_,d,g),l[Wr]=_,l[zi]=null,l}(T,u,"R3InjectorError",this.source)}throw T}finally{lr(w),zn(_)}}resolveInjectorInitializers(){const u=zn(this),d=lr(void 0);try{const g=this.get(Vw.multi,ge,jt.Self);for(const _ of g)_()}finally{zn(u),lr(d)}}toString(){const u=[],d=this.records;for(const g of d.keys())u.push(je(g));return`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(u){let d=wd(u=be(u))?u:be(u&&u.provide);const g=function IP(l){return Hw(l)?Yp(void 0,l.useValue):Yp(Ww(l),Bv)}(u);if(wd(u)||!0!==u.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=Yp(void 0,Bv,!0),_.factory=()=>cr(_.multi),this.records.set(d,_)),d=u,_.multi.push(u)}this.records.set(d,g)}hydrate(u,d){return d.value===Bv&&(d.value=TP,d.value=d.factory()),"object"==typeof d.value&&d.value&&function WD(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(u){if(!u.providedIn)return!1;const d=be(u.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function jw(l){const u=mi(l),d=null!==u?u.factory:Vs(l);if(null!==d)return d;if(l instanceof ui)throw new Be(204,!1);if(l instanceof Function)return function DP(l){const u=l.length;if(u>0)throw mu(u,"?"),new Be(204,!1);const d=function Or(l){return l&&(l[oo]||l[nl])||null}(l);return null!==d?()=>d.factory(l):()=>new l}(l);throw new Be(204,!1)}function Ww(l,u,d){let g;if(wd(l)){const _=be(l);return Vs(_)||jw(_)}if(Hw(l))g=()=>be(l.useValue);else if(function qD(l){return!(!l||!l.useFactory)}(l))g=()=>l.useFactory(...cr(l.deps||[]));else if(function EP(l){return!(!l||!l.useExisting)}(l))g=()=>Rn(be(l.useExisting));else{const _=be(l&&(l.useClass||l.provide));if(!function $w(l){return!!l.deps}(l))return Vs(_)||jw(_);g=()=>new _(...cr(l.deps))}return g}function Yp(l,u,d=!1){return{factory:l,value:u,multi:d?[]:void 0}}function Kp(l,u){for(const d of l)Array.isArray(d)?Kp(d,u):d&&it(d)?Kp(d.\u0275providers,u):u(d)}class xP{}class $D{}class YD{resolveComponentFactory(u){throw function SP(l){const u=Error(`No component factory found for ${je(l)}. Did you add it to @NgModule.entryComponents?`);return u.ngComponent=l,u}(u)}}let Qp=(()=>{class l{}return l.NULL=new YD,l})();function Zv(){return bd(dr(),qe())}function bd(l,u){return new Jp(xr(l,u))}let Jp=(()=>{class l{constructor(d){this.nativeElement=d}}return l.__NG_ELEMENT_ID__=Zv,l})();function Fm(l){return l instanceof Jp?l.nativeElement:l}class Kw{}let AP=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function MP(){const l=qe(),d=ur(dr().index,l);return(an(d)?d:l)[On]}(),l})(),PP=(()=>{class l{}return l.\u0275prov=rn({token:l,providedIn:"root",factory:()=>null}),l})();class KD{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const QD=new KD("15.2.9"),zv={},Qw="ngOriginalError";function Jw(l){return l[Qw]}class Um{constructor(){this._console=console}handleError(u){const d=this._findOriginalError(u);this._console.error("ERROR",u),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(u){let d=u&&Jw(u);for(;d&&Jw(d);)d=Jw(d);return d||null}}function Mu(l){return l instanceof Function?l():l}function r1(l,u,d){let g=l.length;for(;;){const _=l.indexOf(u,d);if(-1===_)return _;if(0===_||l.charCodeAt(_-1)<=32){const w=u.length;if(_+w===g||l.charCodeAt(_+w)<=32)return _}d=_+1}}const Xw="ng-template";function eb(l,u,d){let g=0,_=!0;for(;g<l.length;){let w=l[g++];if("string"==typeof w&&_){const T=l[g++];if(d&&"class"===w&&-1!==r1(T.toLowerCase(),u,0))return!0}else{if(1===w){for(;g<l.length&&"string"==typeof(w=l[g++]);)if(w.toLowerCase()===u)return!0;return!1}"number"==typeof w&&(_=!1)}}return!1}function tb(l){return 4===l.type&&l.value!==Xw}function Xp(l,u,d){return u===(4!==l.type||d?l.value:Xw)}function nb(l,u,d){let g=4;const _=l.attrs||[],w=function s1(l){for(let u=0;u<l.length;u++)if(ad(l[u]))return u;return l.length}(_);let T=!1;for(let A=0;A<u.length;A++){const O=u[A];if("number"!=typeof O){if(!T)if(4&g){if(g=2|1&g,""!==O&&!Xp(l,O,d)||""===O&&1===u.length){if(Vc(g))return!1;T=!0}}else{const U=8&g?O:u[++A];if(8&g&&null!==l.attrs){if(!eb(l.attrs,U,d)){if(Vc(g))return!1;T=!0}continue}const ne=o1(8&g?"class":O,_,tb(l),d);if(-1===ne){if(Vc(g))return!1;T=!0;continue}if(""!==U){let ve;ve=ne>w?"":_[ne+1].toLowerCase();const Pe=8&g?ve:null;if(Pe&&-1!==r1(Pe,U,0)||2&g&&U!==ve){if(Vc(g))return!1;T=!0}}}}else{if(!T&&!Vc(g)&&!Vc(O))return!1;if(T&&Vc(O))continue;T=!1,g=O|1&g}}return Vc(g)||T}function Vc(l){return 0==(1&l)}function o1(l,u,d,g){if(null===u)return-1;let _=0;if(g||!d){let w=!1;for(;_<u.length;){const T=u[_];if(T===l)return _;if(3===T||6===T)w=!0;else{if(1===T||2===T){let A=u[++_];for(;"string"==typeof A;)A=u[++_];continue}if(4===T)break;if(0===T){_+=4;continue}}_+=w?1:2}return-1}return function a1(l,u){let d=l.indexOf(4);if(d>-1)for(d++;d<l.length;){const g=l[d];if("number"==typeof g)return-1;if(g===u)return d;d++}return-1}(u,l)}function Vm(l,u,d=!1){for(let g=0;g<u.length;g++)if(nb(l,u[g],d))return!0;return!1}function UP(l,u){e:for(let d=0;d<u.length;d++){const g=u[d];if(l.length===g.length){for(let _=0;_<l.length;_++)if(l[_]!==g[_])continue e;return!0}}return!1}function l1(l,u){return l?":not("+u.trim()+")":u}function BP(l){let u=l[0],d=1,g=2,_="",w=!1;for(;d<l.length;){let T=l[d];if("string"==typeof T)if(2&g){const A=l[++d];_+="["+T+(A.length>0?'="'+A+'"':"")+"]"}else 8&g?_+="."+T:4&g&&(_+=" "+T);else""!==_&&!Vc(T)&&(u+=l1(w,_),_=""),g=T,w=w||!Vc(g);d++}return""!==_&&(u+=l1(w,_)),u}const Bn={};function c1(l){u1(hn(),qe(),Ui()+l,!1)}function u1(l,u,d,g){if(!g)if(3==(3&u[Ot])){const w=l.preOrderCheckHooks;null!==w&&fu(u,w,d)}else{const w=l.preOrderHooks;null!==w&&rd(u,w,0,d)}Jo(d)}function h1(l,u=null,d=null,g){const _=ib(l,u,d,g);return _.resolveInjectorInitializers(),_}function ib(l,u=null,d=null,g,_=new Set){const w=[d||ge,Lm(l)];return g=g||("object"==typeof l?void 0:je(l)),new jD(w,u||Vv(),g||null,_)}let eg=(()=>{class l{static create(d,g){if(Array.isArray(d))return h1({name:""},g,d,"");{const _=d.name??"";return h1({name:_},d.parent,d.providers,_)}}}return l.THROW_IF_NOT_FOUND=Zn,l.NULL=new zD,l.\u0275prov=rn({token:l,providedIn:"any",factory:()=>Rn(Mf)}),l.__NG_ELEMENT_ID__=-1,l})();function ig(l,u=jt.Default){const d=qe();return null===d?Rn(l,u):sh(dr(),d,be(l),u)}function _1(){throw new Error("invalid")}function v1(l,u){const d=l.contentQueries;if(null!==d)for(let g=0;g<d.length;g+=2){const w=d[g+1];if(-1!==w){const T=l.data[w];dl(d[g]),T.contentQueries(2,u[w],w)}}}function $v(l,u,d,g,_,w,T,A,O,U,j){const ne=u.blueprint.slice();return ne[Tr]=_,ne[Ot]=76|g,(null!==j||l&&1024&l[Ot])&&(ne[Ot]|=1024),Vl(ne),ne[Sn]=ne[Ro]=l,ne[Qt]=d,ne[_i]=T||l&&l[_i],ne[On]=A||l&&l[On],ne[Io]=O||l&&l[Io]||null,ne[Li]=U||l&&l[Li]||null,ne[Ji]=w,ne[Dr]=function Tf(){return El++}(),ne[mr]=j,ne[Yn]=2==u.type?l[Yn]:ne,ne}function jm(l,u,d,g,_){let w=l.data[u];if(null===w)w=function Wm(l,u,d,g,_){const w=zl(),T=cu(),O=l.data[u]=function K3(l,u,d,g,_,w){return{type:d,index:g,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:_,attrs:w,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?w:w&&w.parent,d,u,g,_);return null===l.firstChild&&(l.firstChild=O),null!==w&&(T?null==w.child&&null!==O.parent&&(w.child=O):null===w.next&&(w.next=O,O.prev=w)),O}(l,u,d,g,_),function Hs(){return xn.lFrame.inI18n}()&&(w.flags|=32);else if(64&w.type){w.type=d,w.value=g,w.attrs=_;const T=function ul(){const l=xn.lFrame,u=l.currentTNode;return l.isParent?u:u.parent}();w.injectorIndex=null===T?-1:T.injectorIndex}return xo(w,!0),w}function Gv(l,u,d,g){if(0===d)return-1;const _=u.length;for(let w=0;w<d;w++)u.push(g),l.blueprint.push(g),l.data.push(null);return _}function Yv(l,u,d){fl(u);try{const g=l.viewQuery;null!==g&&Zc(1,g,d);const _=l.template;null!==_&&ae(l,u,_,1,d),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&v1(l,u),l.staticViewQueries&&Zc(2,l.viewQuery,d);const w=l.components;null!==w&&function y1(l,u){for(let d=0;d<u.length;d++)uk(l,u[d])}(u,w)}catch(g){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),g}finally{u[Ot]&=-5,ih()}}function lb(l,u,d,g){const _=u[Ot];if(128!=(128&_)){fl(u);try{Vl(u),function Ba(l){return xn.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==d&&ae(l,u,d,2,g);const T=3==(3&_);if(T){const U=l.preOrderCheckHooks;null!==U&&fu(u,U,null)}else{const U=l.preOrderHooks;null!==U&&rd(u,U,0,null),oh(u,0)}if(function mb(l){for(let u=vd(l);null!==u;u=yd(u)){if(!u[il])continue;const d=u[Oa];for(let g=0;g<d.length;g++){const _=d[g];512&_[Ot]||cl(_[Sn],1),_[Ot]|=512}}}(u),function gb(l){for(let u=vd(l);null!==u;u=yd(u))for(let d=Ir;d<u.length;d++){const g=u[d],_=g[It];La(g)&&lb(_,g,_.template,g[Qt])}}(u),null!==l.contentQueries&&v1(l,u),T){const U=l.contentCheckHooks;null!==U&&fu(u,U)}else{const U=l.contentHooks;null!==U&&rd(u,U,1),oh(u,1)}!function tk(l,u){const d=l.hostBindingOpCodes;if(null!==d)try{for(let g=0;g<d.length;g++){const _=d[g];if(_<0)Jo(~_);else{const w=_,T=d[++g],A=d[++g];td(T,w),A(2,u[w])}}}finally{Jo(-1)}}(l,u);const A=l.components;null!==A&&function nk(l,u){for(let d=0;d<u.length;d++)ck(l,u[d])}(u,A);const O=l.viewQuery;if(null!==O&&Zc(2,O,g),T){const U=l.viewCheckHooks;null!==U&&fu(u,U)}else{const U=l.viewHooks;null!==U&&rd(u,U,2),oh(u,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),u[Ot]&=-41,512&u[Ot]&&(u[Ot]&=-513,cl(u[Sn],-1))}finally{ih()}}}function ae(l,u,d,g,_){const w=Ui(),T=2&g;try{Jo(-1),T&&u.length>Ci&&u1(l,u,Ci,!1),Fi(T?2:0,_),d(g,_)}finally{Jo(w),Fi(T?3:1,_)}}function Of(l,u,d){if(hi(u)){const _=u.directiveEnd;for(let w=u.directiveStart;w<_;w++){const T=l.data[w];T.contentQueries&&T.contentQueries(1,d[w],w)}}}function se(l,u,d){th()&&(function sk(l,u,d,g){const _=d.directiveStart,w=d.directiveEnd;yc(d)&&function db(l,u,d){const g=xr(u,l),_=ik(d),w=l[_i],T=Xv(l,$v(l,_,null,d.onPush?32:16,g,u,w,w.createRenderer(g,d),null,null,null));l[u.index]=T}(u,d,l.data[_+d.componentOffset]),l.firstCreatePass||Rt(d,u),ye(g,u);const T=d.initialInputs;for(let A=_;A<w;A++){const O=l.data[A],U=er(u,l,A,d);ye(U,u),null!==T&&fb(0,A-_,U,O,0,T),Yr(O)&&(ur(d.index,u)[Qt]=er(u,l,A,d))}}(l,u,d,xr(d,u)),64==(64&d.flags)&&D1(l,u,d))}function Pu(l,u,d=xr){const g=u.localNames;if(null!==g){let _=u.index+1;for(let w=0;w<g.length;w+=2){const T=g[w+1],A=-1===T?d(u,l):l[T];l[_++]=A}}}function ik(l){const u=l.tView;return null===u||u.incompleteFirstPass?l.tView=w1(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):u}function w1(l,u,d,g,_,w,T,A,O,U){const j=Ci+g,ne=j+_,ve=function Y3(l,u){const d=[];for(let g=0;g<u;g++)d.push(g<l?null:Bn);return d}(j,ne),Pe="function"==typeof U?U():U;return ve[It]={type:l,blueprint:ve,template:d,queries:null,viewQuery:A,declTNode:u,data:ve.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:ne,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof w?w():w,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:O,consts:Pe,incompleteFirstPass:!1}}function C1(l,u,d,g){const _=rg(u);null===d?_.push(g):(_.push(d),l.firstCreatePass&&x1(l).push(g,_.length-1))}function rk(l,u,d,g){for(let _ in l)if(l.hasOwnProperty(_)){d=null===d?{}:d;const w=l[_];null===g?$m(d,u,_,w):g.hasOwnProperty(_)&&$m(d,u,g[_],w)}return d}function $m(l,u,d,g){l.hasOwnProperty(d)?l[d].push(u,g):l[d]=[u,g]}function ic(l,u,d,g,_,w,T,A){const O=xr(u,d);let j,U=u.inputs;!A&&null!=U&&(j=U[g])?(Km(l,d,j,g,_),yc(u)&&function X3(l,u){const d=ur(u,l);16&d[Ot]||(d[Ot]|=32)}(d,u.index)):3&u.type&&(g=function J3(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(g),_=null!=T?T(_,u.value||"",g):_,w.setProperty(O,g,_))}function E1(l,u,d,g){if(th()){const _=null===g?null:{"":-1},w=function Qv(l,u){const d=l.directiveRegistry;let g=null,_=null;if(d)for(let w=0;w<d.length;w++){const T=d[w];if(Vm(u,T.selectors,!1))if(g||(g=[]),Yr(T))if(null!==T.findHostDirectiveDefs){const A=[];_=_||new Map,T.findHostDirectiveDefs(T,A,_),g.unshift(...A,T),cb(l,u,A.length)}else g.unshift(T),cb(l,u,0);else _=_||new Map,T.findHostDirectiveDefs?.(T,g,_),g.push(T)}return null===g?null:[g,_]}(l,d);let T,A;null===w?T=A=null:[T,A]=w,null!==T&&ok(l,u,d,T,_,A),_&&function ub(l,u,d){if(u){const g=l.localNames=[];for(let _=0;_<u.length;_+=2){const w=d[u[_+1]];if(null==w)throw new Be(-301,!1);g.push(u[_],w)}}}(d,g,_)}d.mergedAttrs=ml(d.mergedAttrs,d.attrs)}function ok(l,u,d,g,_,w){for(let U=0;U<g.length;U++)Bi(Rt(d,u),l,g[U].type);!function Gm(l,u,d){l.flags|=1,l.directiveStart=u,l.directiveEnd=u+d,l.providerIndexes=u}(d,l.data.length,g.length);for(let U=0;U<g.length;U++){const j=g[U];j.providersResolver&&j.providersResolver(j)}let T=!1,A=!1,O=Gv(l,u,g.length,null);for(let U=0;U<g.length;U++){const j=g[U];d.mergedAttrs=ml(d.mergedAttrs,j.hostAttrs),ak(l,d,u,O,j),Jv(O,j,_),null!==j.contentQueries&&(d.flags|=4),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(d.flags|=64);const ne=j.type.prototype;!T&&(ne.ngOnChanges||ne.ngOnInit||ne.ngDoCheck)&&((l.preOrderHooks??(l.preOrderHooks=[])).push(d.index),T=!0),!A&&(ne.ngOnChanges||ne.ngDoCheck)&&((l.preOrderCheckHooks??(l.preOrderCheckHooks=[])).push(d.index),A=!0),O++}!function Q3(l,u,d){const _=u.directiveEnd,w=l.data,T=u.attrs,A=[];let O=null,U=null;for(let j=u.directiveStart;j<_;j++){const ne=w[j],ve=d?d.get(ne):null,Ye=ve?ve.outputs:null;O=rk(ne.inputs,j,O,ve?ve.inputs:null),U=rk(ne.outputs,j,U,Ye);const wt=null===O||null===T||tb(u)?null:lk(O,j,T);A.push(wt)}null!==O&&(O.hasOwnProperty("class")&&(u.flags|=8),O.hasOwnProperty("style")&&(u.flags|=16)),u.initialInputs=A,u.inputs=O,u.outputs=U}(l,d,w)}function D1(l,u,d){const g=d.directiveStart,_=d.directiveEnd,w=d.index,T=function nh(){return xn.lFrame.currentDirectiveIndex}();try{Jo(w);for(let A=g;A<_;A++){const O=l.data[A],U=u[A];Hi(A),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&I1(O,U)}}finally{Jo(-1),Hi(T)}}function I1(l,u){null!==l.hostBindings&&l.hostBindings(1,u)}function cb(l,u,d){u.componentOffset=d,(l.components??(l.components=[])).push(u.index)}function Jv(l,u,d){if(d){if(u.exportAs)for(let g=0;g<u.exportAs.length;g++)d[u.exportAs[g]]=l;Yr(u)&&(d[""]=l)}}function ak(l,u,d,g,_){l.data[g]=_;const w=_.factory||(_.factory=Vs(_.type)),T=new Xo(w,Yr(_),ig);l.blueprint[g]=T,d[g]=T,function Kv(l,u,d,g,_){const w=_.hostBindings;if(w){let T=l.hostBindingOpCodes;null===T&&(T=l.hostBindingOpCodes=[]);const A=~u.index;(function T1(l){let u=l.length;for(;u>0;){const d=l[--u];if("number"==typeof d&&d<0)return d}return 0})(T)!=A&&T.push(A),T.push(d,g,w)}}(l,u,g,Gv(l,d,_.hostVars,Bn),_)}function ku(l,u,d,g,_,w){const T=xr(l,u);!function hb(l,u,d,g,_,w,T){if(null==w)l.removeAttribute(u,_,d);else{const A=null==T?dt(w):T(w,g||"",_);l.setAttribute(u,_,A,d)}}(u[On],T,w,l.value,d,g,_)}function fb(l,u,d,g,_,w){const T=w[u];if(null!==T){const A=g.setInput;for(let O=0;O<T.length;){const U=T[O++],j=T[O++],ne=T[O++];null!==A?g.setInput(d,ne,U,j):d[j]=ne}}}function lk(l,u,d){let g=null,_=0;for(;_<d.length;){const w=d[_];if(0!==w)if(5!==w){if("number"==typeof w)break;if(l.hasOwnProperty(w)){null===g&&(g=[]);const T=l[w];for(let A=0;A<T.length;A+=2)if(T[A]===u){g.push(w,T[A+1],d[_+1]);break}}_+=2}else _+=2;else _+=4}return g}function pb(l,u,d,g){return[l,!0,!1,u,null,0,g,d,null,null]}function ck(l,u){const d=ur(u,l);if(La(d)){const g=d[It];48&d[Ot]?lb(g,d,g.template,d[Qt]):d[Yo]>0&&_b(d)}}function _b(l){for(let g=vd(l);null!==g;g=yd(g))for(let _=Ir;_<g.length;_++){const w=g[_];if(La(w))if(512&w[Ot]){const T=w[It];lb(T,w,T.template,w[Qt])}else w[Yo]>0&&_b(w)}const d=l[It].components;if(null!==d)for(let g=0;g<d.length;g++){const _=ur(d[g],l);La(_)&&_[Yo]>0&&_b(_)}}function uk(l,u){const d=ur(u,l),g=d[It];(function dk(l,u){for(let d=u.length;d<l.blueprint.length;d++)u.push(l.blueprint[d])})(g,d),Yv(g,d,d[Qt])}function Xv(l,u){return l[ls]?l[Pa][oi]=u:l[ls]=u,l[Pa]=u,u}function ey(l){for(;l;){l[Ot]|=32;const u=Bp(l);if(Us(l)&&!u)return l;l=u}return null}function ty(l,u,d,g=!0){const _=u[_i];_.begin&&_.begin();try{lb(l,u,l.template,d)}catch(T){throw g&&Ym(u,T),T}finally{_.end&&_.end()}}function Zc(l,u,d){dl(0),u(l,d)}function rg(l){return l[Xi]||(l[Xi]=[])}function x1(l){return l.cleanup||(l.cleanup=[])}function Ym(l,u){const d=l[Li],g=d?d.get(Um,null):null;g&&g.handleError(u)}function Km(l,u,d,g,_){for(let w=0;w<d.length;){const T=d[w++],A=d[w++],O=u[T],U=l.data[T];null!==U.setInput?U.setInput(O,_,g,A):O[A]=_}}function Kn(l,u,d){const g=ll(u,l);!function bm(l,u,d){l.setValue(u,d)}(l[On],g,d)}function Sh(l,u,d){let g=d?l.styles:null,_=d?l.classes:null,w=0;if(null!==u)for(let T=0;T<u.length;T++){const A=u[T];"number"==typeof A?w=A:1==w?_=Ne(_,A):2==w&&(g=Ne(g,A+": "+u[++T]+";"))}d?l.styles=g:l.stylesWithoutHost=g,d?l.classes=_:l.classesWithoutHost=_}function og(l,u,d,g,_=!1){for(;null!==d;){const w=u[d.index];if(null!==w&&g.push(_r(w)),Si(w))for(let A=Ir;A<w.length;A++){const O=w[A],U=O[It].firstChild;null!==U&&og(O[It],O,U,g)}const T=d.type;if(8&T)og(l,u,d.child,g);else if(32&T){const A=Uo(d,u);let O;for(;O=A();)g.push(O)}else if(16&T){const A=Dh(u,d);if(Array.isArray(A))g.push(...A);else{const O=Bp(u[Yn]);og(O[It],O,A,g,!0)}}d=_?d.projectionNext:d.next}return g}class Qm{get rootNodes(){const u=this._lView,d=u[It];return og(d,u,d.firstChild,[])}constructor(u,d){this._lView=u,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qt]}set context(u){this._lView[Qt]=u}get destroyed(){return 128==(128&this._lView[Ot])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[Sn];if(Si(u)){const d=u[Ts],g=d?d.indexOf(this):-1;g>-1&&(Z(u,g),dd(d,g))}this._attachedToViewContainer=!1}$(this._lView[It],this._lView)}onDestroy(u){C1(this._lView[It],this._lView,null,u)}markForCheck(){ey(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ot]&=-65}reattach(){this._lView[Ot]|=64}detectChanges(){ty(this._lView[It],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Em(l,u){Im(l,u,u[On],2,null,null)}(this._lView[It],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=u}}class rc extends Qm{constructor(u){super(u),this._view=u}detectChanges(){const u=this._view;ty(u[It],u,u[Qt],!1)}checkNoChanges(){}get context(){return null}}class Jm extends Qp{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const d=on(u);return new Ah(d,this.ngModule)}}function Rf(l){const u=[];for(let d in l)l.hasOwnProperty(d)&&u.push({propName:l[d],templateName:d});return u}class sg{constructor(u,d){this.injector=u,this.parentInjector=d}get(u,d,g){g=$r(g);const _=this.injector.get(u,zv,g);return _!==zv||d===zv?_:this.parentInjector.get(u,d,g)}}class Ah extends $D{get inputs(){return Rf(this.componentDef.inputs)}get outputs(){return Rf(this.componentDef.outputs)}constructor(u,d){super(),this.componentDef=u,this.ngModule=d,this.componentType=u.type,this.selector=function VP(l){return l.map(BP).join(",")}(u.selectors),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!d}create(u,d,g,_){let w=(_=_||this.ngModule)instanceof Pf?_:_?.injector;w&&null!==this.componentDef.getStandaloneInjector&&(w=this.componentDef.getStandaloneInjector(w)||w);const T=w?new sg(u,w):u,A=T.get(Kw,null);if(null===A)throw new Be(407,!1);const O=T.get(PP,null),U=A.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",ne=g?function b1(l,u,d){return l.selectRootElement(u,d===Y.ShadowDom)}(U,g,this.componentDef.encapsulation):Cm(U,j,function fk(l){const u=l.toLowerCase();return"svg"===u?"svg":"math"===u?"math":null}(j)),ve=this.componentDef.onPush?288:272,Pe=w1(0,null,null,1,0,null,null,null,null,null),Ye=$v(null,Pe,null,ve,null,null,A,U,O,T,null);let wt,Mt;fl(Ye);try{const Xt=this.componentDef;let Pn,ft=null;Xt.findHostDirectiveDefs?(Pn=[],ft=new Map,Xt.findHostDirectiveDefs(Xt,Pn,ft),Pn.push(Xt)):Pn=[Xt];const $n=function ps(l,u){const d=l[It],g=Ci;return l[g]=u,jm(d,g,2,"#host",null)}(Ye,ne),Ur=function ny(l,u,d,g,_,w,T,A){const O=_[It];!function yb(l,u,d,g){for(const _ of l)u.mergedAttrs=ml(u.mergedAttrs,_.hostAttrs);null!==u.mergedAttrs&&(Sh(u,u.mergedAttrs,!0),null!==d&&Sm(g,d,u))}(g,l,u,T);const U=w.createRenderer(u,d),j=$v(_,ik(d),null,d.onPush?32:16,_[l.index],l,w,U,A||null,null,null);return O.firstCreatePass&&cb(O,l,g.length-1),Xv(_,j),_[l.index]=j}($n,ne,Xt,Pn,Ye,A,U);Mt=Ec(Pe,Ci),ne&&function gs(l,u,d,g){if(g)gl(l,d,["ng-version",QD.full]);else{const{attrs:_,classes:w}=function ZP(l){const u=[],d=[];let g=1,_=2;for(;g<l.length;){let w=l[g];if("string"==typeof w)2===_?""!==w&&u.push(w,l[++g]):8===_&&d.push(w);else{if(!Vc(_))break;_=w}g++}return{attrs:u,classes:d}}(u.selectors[0]);_&&gl(l,d,_),w&&w.length>0&&Ih(l,d,w.join(" "))}}(U,Xt,ne,g),void 0!==d&&function wb(l,u,d){const g=l.projection=[];for(let _=0;_<u.length;_++){const w=d[_];g.push(null!=w?Array.from(w):null)}}(Mt,this.ngContentSelectors,d),wt=function pk(l,u,d,g,_,w){const T=dr(),A=_[It],O=xr(T,_);ok(A,_,T,d,null,g);for(let j=0;j<d.length;j++)ye(er(_,A,T.directiveStart+j,T),_);D1(A,_,T),O&&ye(O,_);const U=er(_,A,T.directiveStart+T.componentOffset,T);if(l[Qt]=_[Qt]=U,null!==w)for(const j of w)j(U,u);return Of(A,T,l),U}(Ur,Xt,Pn,ft,Ye,[nB]),Yv(Pe,Ye,null)}finally{ih()}return new vb(this.componentType,wt,bd(Mt,Ye),Ye,Mt)}}class vb extends xP{constructor(u,d,g,_,w){super(),this.location=g,this._rootLView=_,this._tNode=w,this.instance=d,this.hostView=this.changeDetectorRef=new rc(_),this.componentType=u}setInput(u,d){const g=this._tNode.inputs;let _;if(null!==g&&(_=g[u])){const w=this._rootLView;Km(w[It],w,_,u,d),ey(ur(this._tNode.index,w))}}get injector(){return new Yl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}function nB(){const l=dr();ha(qe()[It],l)}function Cd(l){let u=function Xm(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),d=!0;const g=[l];for(;u;){let _;if(Yr(l))_=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new Be(903,!1);_=u.\u0275dir}if(_){if(d){g.push(_);const T=l;T.inputs=ag(l.inputs),T.declaredInputs=ag(l.declaredInputs),T.outputs=ag(l.outputs);const A=_.hostBindings;A&&Cb(l,A);const O=_.viewQuery,U=_.contentQueries;if(O&&bb(l,O),U&&vn(l,U),$e(l.inputs,_.inputs),$e(l.declaredInputs,_.declaredInputs),$e(l.outputs,_.outputs),Yr(_)&&_.data.animation){const j=l.data;j.animation=(j.animation||[]).concat(_.data.animation)}}const w=_.features;if(w)for(let T=0;T<w.length;T++){const A=w[T];A&&A.ngInherit&&A(l),A===Cd&&(d=!1)}}u=Object.getPrototypeOf(u)}!function oc(l){let u=0,d=null;for(let g=l.length-1;g>=0;g--){const _=l[g];_.hostVars=u+=_.hostVars,_.hostAttrs=ml(_.hostAttrs,d=ml(d,_.hostAttrs))}}(g)}function ag(l){return l===q?{}:l===ge?[]:l}function bb(l,u){const d=l.viewQuery;l.viewQuery=d?(g,_)=>{u(g,_),d(g,_)}:u}function vn(l,u){const d=l.contentQueries;l.contentQueries=d?(g,_,w)=>{u(g,_,w),d(g,_,w)}:u}function Cb(l,u){const d=l.hostBindings;l.hostBindings=d?(g,_)=>{u(g,_),d(g,_)}:u}function lg(l){return!!Tb(l)&&(Array.isArray(l)||!(l instanceof Map)&&Symbol.iterator in l)}function Tb(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function Ed(l,u,d){return l[u]=d}function ya(l,u,d){return!Object.is(l[u],d)&&(l[u]=d,!0)}function cg(l,u,d,g){const _=ya(l,u,d);return ya(l,u+1,g)||_}function zc(l,u,d,g,_,w){const T=cg(l,u,d,g);return cg(l,u+2,_,w)||T}function P1(l,u,d,g){const _=qe();return ya(_,Fo(),u)&&(hn(),ku(qi(),_,l,u,d,g)),P1}function wa(l,u,d,g){return ya(l,Fo(),d)?u+dt(d)+g:Bn}function k1(l,u,d,g,_,w,T,A){const O=qe(),U=hn(),j=l+Ci,ne=U.firstCreatePass?function Sb(l,u,d,g,_,w,T,A,O){const U=u.consts,j=jm(u,l,4,T||null,vr(U,A));E1(u,d,j,vr(U,O)),ha(u,j);const ne=j.tView=w1(2,j,g,_,w,u.directiveRegistry,u.pipeRegistry,null,u.schemas,U);return null!==u.queries&&(u.queries.template(u,j),ne.queries=u.queries.embeddedTView(j)),j}(j,U,O,u,d,g,_,w,T):U.data[j];xo(ne,!1);const ve=O[On].createComment("");Th(U,O,ve,ne),ye(ve,O),Xv(O,O[j]=pb(ve,O,ve,ne)),rl(ne)&&se(U,O,ne),null!=T&&Pu(O,ne,A)}function O1(l){return uo(function Dc(){return xn.lFrame.contextLView}(),Ci+l)}function Ab(l,u,d){const g=qe();return ya(g,Fo(),u)&&ic(hn(),qi(),g,l,u,g[On],d,!1),Ab}function Mb(l,u,d,g,_){const T=_?"class":"style";Km(l,d,u.inputs[T],T,g)}function Pb(l,u,d,g){const _=qe(),w=hn(),T=Ci+l,A=_[On],O=w.firstCreatePass?function rB(l,u,d,g,_,w){const T=u.consts,O=jm(u,l,2,g,vr(T,_));return E1(u,d,O,vr(T,w)),null!==O.attrs&&Sh(O,O.attrs,!1),null!==O.mergedAttrs&&Sh(O,O.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,O),O}(T,w,_,u,d,g):w.data[T],U=_[T]=Cm(A,u,function jl(){return xn.lFrame.currentNamespace}()),j=rl(O);return xo(O,!0),Sm(A,U,O),32!=(32&O.flags)&&Th(w,_,U,O),0===function Ju(){return xn.lFrame.elementDepthCount}()&&ye(U,_),function Xu(){xn.lFrame.elementDepthCount++}(),j&&(se(w,_,O),Of(w,O,_)),null!==g&&Pu(_,O),Pb}function kb(){let l=dr();cu()?da():(l=l.parent,xo(l,!1));const u=l;!function lu(){xn.lFrame.elementDepthCount--}();const d=hn();return d.firstCreatePass&&(ha(d,l),hi(l)&&d.queries.elementEnd(l)),null!=u.classesWithoutHost&&function js(l){return 0!=(8&l.flags)}(u)&&Mb(d,u,qe(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function sd(l){return 0!=(16&l.flags)}(u)&&Mb(d,u,qe(),u.stylesWithoutHost,!1),kb}function Ob(l,u,d,g){return Pb(l,u,d,g),kb(),Ob}function sy(){return qe()}function Te(l){return!!l&&"function"==typeof l.then}function Vo(l){return!!l&&"function"==typeof l.subscribe}const K=Vo;function Il(l,u,d,g){const _=qe(),w=hn(),T=dr();return function U1(l,u,d,g,_,w,T){const A=rl(g),U=l.firstCreatePass&&x1(l),j=u[Qt],ne=rg(u);let ve=!0;if(3&g.type||T){const wt=xr(g,u),Mt=T?T(wt):wt,Xt=ne.length,Pn=T?$n=>T(_r($n[g.index])):g.index;let ft=null;if(!T&&A&&(ft=function F1(l,u,d,g){const _=l.cleanup;if(null!=_)for(let w=0;w<_.length-1;w+=2){const T=_[w];if(T===d&&_[w+1]===g){const A=u[Xi],O=_[w+2];return A.length>O?A[O]:null}"string"==typeof T&&(w+=2)}return null}(l,u,_,g.index)),null!==ft)(ft.__ngLastListenerFn__||ft).__ngNextListenerFn__=w,ft.__ngLastListenerFn__=w,ve=!1;else{w=V1(g,u,j,w,!1);const $n=d.listen(Mt,_,w);ne.push(w,$n),U&&U.push(_,Pn,Xt,Xt+1)}}else w=V1(g,u,j,w,!1);const Pe=g.outputs;let Ye;if(ve&&null!==Pe&&(Ye=Pe[_])){const wt=Ye.length;if(wt)for(let Mt=0;Mt<wt;Mt+=2){const Ur=u[Ye[Mt]][Ye[Mt+1]].subscribe(w),Po=ne.length;ne.push(w,Ur),U&&U.push(_,g.index,Po,-(Po+1))}}}(w,_,_[On],T,l,u,g),Il}function B1(l,u,d,g){try{return Fi(6,u,d),!1!==d(g)}catch(_){return Ym(l,_),!1}finally{Fi(7,u,d)}}function V1(l,u,d,g,_){return function w(T){if(T===Function)return g;ey(l.componentOffset>-1?ur(l.index,u):u);let O=B1(u,d,g,T),U=w.__ngNextListenerFn__;for(;U;)O=B1(u,d,U,T)&&O,U=U.__ngNextListenerFn__;return _&&!1===O&&(T.preventDefault(),T.returnValue=!1),O}}function Lr(l=1){return function du(l){return(xn.lFrame.contextLView=function rh(l,u){for(;l>0;)u=u[Ro],l--;return u}(l,xn.lFrame.contextLView))[Qt]}(l)}function br(l,u){let d=null;const g=function Hv(l){const u=l.attrs;if(null!=u){const d=u.indexOf(5);if(!(1&d))return u[d+1]}return null}(l);for(let _=0;_<u.length;_++){const w=u[_];if("*"!==w){if(null===g?Vm(l,w,!0):UP(g,w))return _}else d=_}return d}function ay(l){const u=qe()[Yn][Ji];if(!u.projection){const g=u.projection=mu(l?l.length:1,null),_=g.slice();let w=u.child;for(;null!==w;){const T=l?br(w,l):0;null!==T&&(_[T]?_[T].projectionNext=w:g[T]=w,_[T]=w),w=w.next}}}function ly(l,u=0,d){const g=qe(),_=hn(),w=jm(_,Ci+l,16,null,d||null);null===w.projection&&(w.projection=u),da(),32!=(32&w.flags)&&function xD(l,u,d){xw(u[On],0,u,d,St(l,d,u),Vp(d.parent||u[Ji],d,u))}(_,g,w)}function Nb(l,u,d){return Lb(l,"",u,"",d),Nb}function Lb(l,u,d,g,_){const w=qe(),T=wa(w,u,d,g);return T!==Bn&&ic(hn(),qi(),w,l,T,w[On],_,!1),Lb}function t_(l,u){return l<<17|u<<2}function Oh(l){return l>>17&32767}function Rh(l){return 2|l}function Nh(l){return(131068&l)>>2}function cy(l,u){return-131069&l|u<<2}function Ff(l){return 1|l}function $1(l,u,d,g,_){const w=l[d+1],T=null===u;let A=g?Oh(w):Nh(w),O=!1;for(;0!==A&&(!1===O||T);){const j=l[A+1];Dk(l[A],u)&&(O=!0,l[A+1]=g?Ff(j):Rh(j)),A=g?Oh(j):Nh(j)}O&&(l[d+1]=g?Rh(w):Ff(w))}function Dk(l,u){return null===l||null==u||(Array.isArray(l)?l[1]:l)===u||!(!Array.isArray(l)||"string"!=typeof u)&&Ys(l,u)>=0}function Zb(l,u){return function xl(l,u,d,g){const _=qe(),w=hn(),T=zs(2);w.firstUpdatePass&&function J1(l,u,d,g){const _=l.data;if(null===_[d+1]){const w=_[Ui()],T=function zb(l,u){return u>=l.expandoStartIndex}(l,d);(function hg(l,u){return 0!=(l.flags&(u?8:16))})(w,g)&&null===u&&!T&&(u=!1),u=function X1(l,u,d,g){const _=function Hl(l){const u=xn.lFrame.currentDirectiveIndex;return-1===u?null:l[u]}(l);let w=g?u.residualClasses:u.residualStyles;if(null===_)0===(g?u.classBindings:u.styleBindings)&&(d=qa(d=Hb(null,l,u,d,g),u.attrs,g),w=null);else{const T=u.directiveStylingLast;if(-1===T||l[T]!==_)if(d=Hb(_,l,u,d,g),null===w){let O=function eI(l,u,d){const g=d?u.classBindings:u.styleBindings;if(0!==Nh(g))return l[Oh(g)]}(l,u,g);void 0!==O&&Array.isArray(O)&&(O=Hb(null,l,u,O[1],g),O=qa(O,u.attrs,g),function Mk(l,u,d,g){l[Oh(d?u.classBindings:u.styleBindings)]=g}(l,u,g,O))}else w=function Pk(l,u,d){let g;const _=u.directiveEnd;for(let w=1+u.directiveStylingLast;w<_;w++)g=qa(g,l[w].hostAttrs,d);return qa(g,u.attrs,d)}(l,u,g)}return void 0!==w&&(g?u.residualClasses=w:u.residualStyles=w),d}(_,w,u,g),function Ek(l,u,d,g,_,w){let T=w?u.classBindings:u.styleBindings,A=Oh(T),O=Nh(T);l[g]=d;let j,U=!1;if(Array.isArray(d)?(j=d[1],(null===j||Ys(d,j)>0)&&(U=!0)):j=d,_)if(0!==O){const ve=Oh(l[A+1]);l[g+1]=t_(ve,A),0!==ve&&(l[ve+1]=cy(l[ve+1],g)),l[A+1]=function Ck(l,u){return 131071&l|u<<17}(l[A+1],g)}else l[g+1]=t_(A,0),0!==A&&(l[A+1]=cy(l[A+1],g)),A=g;else l[g+1]=t_(O,0),0===A?A=g:l[O+1]=cy(l[O+1],g),O=g;U&&(l[g+1]=Rh(l[g+1])),$1(l,j,g,!0),$1(l,j,g,!1),function Tk(l,u,d,g,_){const w=_?l.residualClasses:l.residualStyles;null!=w&&"string"==typeof u&&Ys(w,u)>=0&&(d[g+1]=Ff(d[g+1]))}(u,j,l,g,w),T=t_(A,O),w?u.classBindings=T:u.styleBindings=T}(_,w,u,d,T,g)}}(w,l,T,g),u!==Bn&&ya(_,T,u)&&function iI(l,u,d,g,_,w,T,A){if(!(3&u.type))return;const O=l.data,U=O[A+1],j=function n_(l){return 1==(1&l)}(U)?Js(O,u,d,_,Nh(U),T):void 0;Bf(j)||(Bf(w)||function bk(l){return 2==(2&l)}(U)&&(w=Js(O,null,d,_,A,T)),function Su(l,u,d,g,_){if(u)_?l.addClass(d,g):l.removeClass(d,g);else{let w=-1===g.indexOf("-")?void 0:bn.DashCase;null==_?l.removeStyle(d,g,w):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),w|=bn.Important),l.setStyle(d,g,_,w))}}(g,T,ll(Ui(),d),_,w))}(w,w.data[Ui()],_,_[On],l,_[T+1]=function Ok(l,u){return null==l||""===l||("string"==typeof u?l+=u:"object"==typeof l&&(l=je(Au(l)))),l}(u,d),g,T)}(l,u,null,!0),Zb}function Hb(l,u,d,g,_){let w=null;const T=d.directiveEnd;let A=d.directiveStylingLast;for(-1===A?A=d.directiveStart:A++;A<T&&(w=u[A],g=qa(g,w.hostAttrs,_),w!==l);)A++;return null!==l&&(d.directiveStylingLast=A),g}function qa(l,u,d){const g=d?1:2;let _=-1;if(null!==u)for(let w=0;w<u.length;w++){const T=u[w];"number"==typeof T?_=T:_===g&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),Gs(l,T,!!d||u[++w]))}return void 0===l?null:l}function Js(l,u,d,g,_,w){const T=null===u;let A;for(;_>0;){const O=l[_],U=Array.isArray(O),j=U?O[1]:O,ne=null===j;let ve=d[_+1];ve===Bn&&(ve=ne?ge:void 0);let Pe=ne?si(ve,g):j===g?ve:void 0;if(U&&!Bf(Pe)&&(Pe=si(O,g)),Bf(Pe)&&(A=Pe,T))return A;const Ye=l[_+1];_=T?Oh(Ye):Nh(Ye)}if(null!==u){let O=w?u.residualClasses:u.residualStyles;null!=O&&(A=si(O,g))}return A}function Bf(l){return void 0!==l}function rI(l,u=""){const d=qe(),g=hn(),_=l+Ci,w=g.firstCreatePass?jm(g,_,1,u,null):g.data[_],T=d[_]=function Eh(l,u){return l.createText(u)}(d[On],u);Th(g,d,T,w),xo(w,!1)}function jb(l){return r_("",l,""),jb}function r_(l,u,d){const g=qe(),_=wa(g,l,u,d);return _!==Bn&&Kn(g,Ui(),_),r_}function Wb(l,u,d,g,_){const w=qe(),T=function Mh(l,u,d,g,_,w){const A=cg(l,or(),d,_);return zs(2),A?u+dt(d)+g+dt(_)+w:Bn}(w,l,u,d,g,_);return T!==Bn&&Kn(w,Ui(),T),Wb}function fy(l,u,d,g,_,w,T,A,O){const U=qe(),j=function ug(l,u,d,g,_,w,T,A,O,U){const ne=zc(l,or(),d,_,T,O);return zs(4),ne?u+dt(d)+g+dt(_)+w+dt(T)+A+dt(O)+U:Bn}(U,l,u,d,g,_,w,T,A,O);return j!==Bn&&Kn(U,Ui(),j),fy}const Zf=void 0;var qk=["en",[["a","p"],["AM","PM"],Zf],[["AM","PM"],Zf,Zf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zf,"{1} 'at' {0}",Zf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Hk(l){const d=Math.floor(Math.abs(l)),g=l.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===g?1:5}];let pg={};function Sd(l){const u=function Wk(l){return l.toLowerCase().replace(/_/g,"-")}(l);let d=Qb(u);if(d)return d;const g=u.split("-")[0];if(d=Qb(g),d)return d;if("en"===g)return qk;throw new Be(701,!1)}function mI(l){return Sd(l)[Mn.PluralCase]}function Qb(l){return l in pg||(pg[l]=ti.ng&&ti.ng.common&&ti.ng.common.locales&&ti.ng.common.locales[l]),pg[l]}var Mn=(()=>((Mn=Mn||{})[Mn.LocaleId=0]="LocaleId",Mn[Mn.DayPeriodsFormat=1]="DayPeriodsFormat",Mn[Mn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mn[Mn.DaysFormat=3]="DaysFormat",Mn[Mn.DaysStandalone=4]="DaysStandalone",Mn[Mn.MonthsFormat=5]="MonthsFormat",Mn[Mn.MonthsStandalone=6]="MonthsStandalone",Mn[Mn.Eras=7]="Eras",Mn[Mn.FirstDayOfWeek=8]="FirstDayOfWeek",Mn[Mn.WeekendRange=9]="WeekendRange",Mn[Mn.DateFormat=10]="DateFormat",Mn[Mn.TimeFormat=11]="TimeFormat",Mn[Mn.DateTimeFormat=12]="DateTimeFormat",Mn[Mn.NumberSymbols=13]="NumberSymbols",Mn[Mn.NumberFormats=14]="NumberFormats",Mn[Mn.CurrencyCode=15]="CurrencyCode",Mn[Mn.CurrencySymbol=16]="CurrencySymbol",Mn[Mn.CurrencyName=17]="CurrencyName",Mn[Mn.Currencies=18]="Currencies",Mn[Mn.Directionality=19]="Directionality",Mn[Mn.PluralCase=20]="PluralCase",Mn[Mn.ExtraData=21]="ExtraData",Mn))();const zf="en-US";let vI=zf;function cC(l,u,d,g,_){if(l=be(l),Array.isArray(l))for(let w=0;w<l.length;w++)cC(l[w],u,d,g,_);else{const w=hn(),T=qe();let A=wd(l)?l:be(l.provide),O=Ww(l);const U=dr(),j=1048575&U.providerIndexes,ne=U.directiveStart,ve=U.providerIndexes>>20;if(wd(l)||!l.multi){const Pe=new Xo(O,_,ig),Ye=d_(A,u,_?j:j+ve,ne);-1===Ye?(Bi(Rt(U,T),w,A),u_(w,l,u.length),u.push(A),U.directiveStart++,U.directiveEnd++,_&&(U.providerIndexes+=1048576),d.push(Pe),T.push(Pe)):(d[Ye]=Pe,T[Ye]=Pe)}else{const Pe=d_(A,u,j+ve,ne),Ye=d_(A,u,j,j+ve),Mt=Ye>=0&&d[Ye];if(_&&!Mt||!_&&!(Pe>=0&&d[Pe])){Bi(Rt(U,T),w,A);const Xt=function wO(l,u,d,g,_){const w=new Xo(l,d,ig);return w.multi=[],w.index=u,w.componentProviders=0,xy(w,_,g&&!d),w}(_?yO:uC,d.length,_,g,O);!_&&Mt&&(d[Ye].providerFactory=Xt),u_(w,l,u.length,0),u.push(A),U.directiveStart++,U.directiveEnd++,_&&(U.providerIndexes+=1048576),d.push(Xt),T.push(Xt)}else u_(w,l,Pe>-1?Pe:Ye,xy(d[_?Ye:Pe],O,!_&&g));!_&&g&&Mt&&d[Ye].componentProviders++}}}function u_(l,u,d,g){const _=wd(u),w=function Uv(l){return!!l.useClass}(u);if(_||w){const O=(w?be(u.useClass):u).prototype.ngOnDestroy;if(O){const U=l.destroyHooks||(l.destroyHooks=[]);if(!_&&u.multi){const j=U.indexOf(d);-1===j?U.push(d,[g,O]):U[j+1].push(g,O)}else U.push(d,O)}}}function xy(l,u,d){return d&&l.componentProviders++,l.multi.push(u)-1}function d_(l,u,d,g){for(let _=d;_<g;_++)if(u[_]===l)return _;return-1}function uC(l,u,d,g){return dC(this.multi,[])}function yO(l,u,d,g){const _=this.multi;let w;if(this.providerFactory){const T=this.providerFactory.componentProviders,A=er(d,d[It],this.providerFactory.index,g);w=A.slice(0,T),dC(_,w);for(let O=T;O<A.length;O++)w.push(A[O])}else w=[],dC(_,w);return w}function dC(l,u){for(let d=0;d<l.length;d++)u.push((0,l[d])());return u}function h_(l,u=[]){return d=>{d.providersResolver=(g,_)=>function lC(l,u,d){const g=hn();if(g.firstCreatePass){const _=Yr(l);cC(d,g.data,g.blueprint,_,!0),cC(u,g.data,g.blueprint,_,!1)}}(g,_?_(l):l,u)}}class Fh{}class hC{}function fC(l,u){return new Sy(l,u??null)}class Sy extends Fh{constructor(u,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Jm(this);const g=Rr(u);this._bootstrapComponents=Mu(g.bootstrap),this._r3Injector=ib(u,d,[{provide:Fh,useValue:this},{provide:Qp,useValue:this.componentFactoryResolver}],je(u),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(u)}get injector(){return this._r3Injector}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class Ay extends hC{constructor(u){super(),this.moduleType=u}create(u){return new Sy(this.moduleType,u)}}class bO extends Fh{constructor(u,d,g){super(),this.componentFactoryResolver=new Jm(this),this.instance=null;const _=new jD([...u,{provide:Fh,useValue:this},{provide:Qp,useValue:this.componentFactoryResolver}],d||Vv(),g,new Set(["environment"]));this.injector=_,_.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(u){this.injector.onDestroy(u)}}function My(l,u,d=null){return new bO(l,u,d).injector}let yg=(()=>{class l{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const g=Gp(0,d.type),_=g.length>0?My([g],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,_)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return l.\u0275prov=rn({token:l,providedIn:"environment",factory:()=>new l(Rn(Pf))}),l})();function pC(l){l.getStandaloneInjector=u=>u.get(yg).getOrCreateStandaloneInjector(l)}function vC(l,u,d,g){return JI(qe(),Qr(),l,u,d,g)}function yC(l,u,d,g,_){return bC(qe(),Qr(),l,u,d,g,_)}function AO(l,u,d,g,_,w,T){return CC(qe(),Qr(),l,u,d,g,_,w,T)}function Py(l,u){const d=l[u];return d===Bn?void 0:d}function JI(l,u,d,g,_,w){const T=u+d;return ya(l,T,_)?Ed(l,T+1,w?g.call(w,_):g(_)):Py(l,T+1)}function bC(l,u,d,g,_,w,T){const A=u+d;return cg(l,A,_,w)?Ed(l,A+2,T?g.call(T,_,w):g(_,w)):Py(l,A+2)}function CC(l,u,d,g,_,w,T,A,O){const U=u+d;return zc(l,U,_,w,T,A)?Ed(l,U+4,O?g.call(O,_,w,T,A):g(_,w,T,A)):Py(l,U+4)}function qf(l,u){const d=hn();let g;const _=l+Ci;d.firstCreatePass?(g=function mB(l,u){if(u)for(let d=u.length-1;d>=0;d--){const g=u[d];if(l===g.name)return g}}(u,d.pipeRegistry),d.data[_]=g,g.onDestroy&&(d.destroyHooks??(d.destroyHooks=[])).push(_,g.onDestroy)):g=d.data[_];const w=g.factory||(g.factory=Vs(g.type)),T=lr(ig);try{const A=M(!1),O=w();return M(A),function wk(l,u,d,g){d>=l.data.length&&(l.data[d]=null,l.blueprint[d]=null),u[d]=g}(d,qe(),_,O),O}finally{lr(T)}}function PO(l,u,d){const g=l+Ci,_=qe(),w=uo(_,g);return Oy(_,g)?JI(_,Qr(),u,w.transform,d,w):w.transform(d)}function tx(l,u,d,g){const _=l+Ci,w=qe(),T=uo(w,_);return Oy(w,_)?bC(w,Qr(),u,T.transform,d,g,T):T.transform(d,g)}function nx(l,u,d,g,_,w){const T=l+Ci,A=qe(),O=uo(A,T);return Oy(A,T)?CC(A,Qr(),u,O.transform,d,g,_,w,O):O.transform(d,g,_,w)}function ix(l,u,d){const g=l+Ci,_=qe(),w=uo(_,g);return Oy(_,g)?function ky(l,u,d,g,_,w){let T=u+d,A=!1;for(let O=0;O<_.length;O++)ya(l,T++,_[O])&&(A=!0);return A?Ed(l,T,g.apply(w,_)):Py(l,T)}(_,Qr(),u,w.transform,d,w):w.transform.apply(w,d)}function Oy(l,u){return l[It].data[u].pure}function EC(l){return u=>{setTimeout(l,void 0,u)}}const Md=class vB extends o.x{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,d,g){let _=u,w=d||(()=>null),T=g;if(u&&"object"==typeof u){const O=u;_=O.next?.bind(O),w=O.error?.bind(O),T=O.complete?.bind(O)}this.__isAsync&&(w=EC(w),_&&(_=EC(_)),T&&(T=EC(T)));const A=super.subscribe({next:_,error:w,complete:T});return u instanceof te.w0&&u.add(A),A}};function yB(){return this._results[Symbol.iterator]()}class TC{get changes(){return this._changes||(this._changes=new Md)}constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=TC.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=yB)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,d){return this._results.reduce(u,d)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,d){const g=this;g.dirty=!1;const _=function Ss(l){return l.flat(Number.POSITIVE_INFINITY)}(u);(this._changesDetected=!function ff(l,u,d){if(l.length!==u.length)return!1;for(let g=0;g<l.length;g++){let _=l[g],w=u[g];if(d&&(_=d(_),w=d(w)),w!==_)return!1}return!0}(g._results,_,d))&&(g._results=_,g.length=_.length,g.last=_[this.length-1],g.first=_[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ry=(()=>{class l{}return l.__NG_ELEMENT_ID__=kO,l})();const wB=Ry,DC=class extends wB{constructor(u,d,g){super(),this._declarationLView=u,this._declarationTContainer=d,this.elementRef=g}createEmbeddedView(u,d){const g=this._declarationTContainer.tView,_=$v(this._declarationLView,g,u,16,null,g.declTNode,null,null,null,null,d||null);_[Ko]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[Gr];return null!==T&&(_[Gr]=T.createEmbeddedView(g)),Yv(g,_,u),new Qm(_)}};function kO(){return p_(dr(),qe())}function p_(l,u){return 4&l.type?new DC(u,l,bd(l,u)):null}let jf=(()=>{class l{}return l.__NG_ELEMENT_ID__=OO,l})();function OO(){return NO(dr(),qe())}const RO=jf,rx=class extends RO{constructor(u,d,g){super(),this._lContainer=u,this._hostTNode=d,this._hostLView=g}get element(){return bd(this._hostTNode,this._hostLView)}get injector(){return new Yl(this._hostTNode,this._hostLView)}get parentInjector(){const u=ni(this._hostTNode,this._hostLView);if(Ha(u)){const d=m(u,this._hostLView),g=Gl(u);return new Yl(d[It].data[g+8],d)}return new Yl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const d=ox(this._lContainer);return null!==d&&d[u]||null}get length(){return this._lContainer.length-Ir}createEmbeddedView(u,d,g){let _,w;"number"==typeof g?_=g:null!=g&&(_=g.index,w=g.injector);const T=u.createEmbeddedView(d||{},w);return this.insert(T,_),T}createComponent(u,d,g,_,w){const T=u&&!function ph(l){return"function"==typeof l}(u);let A;if(T)A=d;else{const ne=d||{};A=ne.index,g=ne.injector,_=ne.projectableNodes,w=ne.environmentInjector||ne.ngModuleRef}const O=T?u:new Ah(on(u)),U=g||this.parentInjector;if(!w&&null==O.ngModule){const ve=(T?U:this.parentInjector).get(Pf,null);ve&&(w=ve)}const j=O.create(U,_,void 0,w);return this.insert(j.hostView,A),j}insert(u,d){const g=u._lView,_=g[It];if(function Bl(l){return Si(l[Sn])}(g)){const j=this.indexOf(u);if(-1!==j)this.detach(j);else{const ne=g[Sn],ve=new rx(ne,ne[Ji],ne[Sn]);ve.detach(ve.indexOf(u))}}const w=this._adjustIndex(d),T=this._lContainer;!function y(l,u,d,g){const _=Ir+g,w=d.length;g>0&&(d[_-1][oi]=u),g<w-Ir?(u[oi]=d[_],pf(d,Ir+g,u)):(d.push(u),u[oi]=null),u[Sn]=d;const T=u[Ko];null!==T&&d!==T&&function C(l,u){const d=l[Oa];u[Yn]!==u[Sn][Sn][Yn]&&(l[il]=!0),null===d?l[Oa]=[u]:d.push(u)}(T,u);const A=u[Gr];null!==A&&A.insertView(l),u[Ot]|=64}(_,g,T,w);const A=xu(w,T),O=g[On],U=Tl(O,T[ka]);return null!==U&&function Dw(l,u,d,g,_,w){g[Tr]=_,g[Ji]=u,Im(l,g,d,1,_,w)}(_,T[Ji],O,g,U,A),u.attachToViewContainerRef(),pf(IC(T),w,u),u}move(u,d){return this.insert(u,d)}indexOf(u){const d=ox(this._lContainer);return null!==d?d.indexOf(u):-1}remove(u){const d=this._adjustIndex(u,-1),g=Z(this._lContainer,d);g&&(dd(IC(this._lContainer),d),$(g[It],g))}detach(u){const d=this._adjustIndex(u,-1),g=Z(this._lContainer,d);return g&&null!=dd(IC(this._lContainer),d)?new Qm(g):null}_adjustIndex(u,d=0){return u??this.length+d}};function ox(l){return l[Ts]}function IC(l){return l[Ts]||(l[Ts]=[])}function NO(l,u){let d;const g=u[l.index];if(Si(g))d=g;else{let _;if(8&l.type)_=_r(g);else{const w=u[On];_=w.createComment("");const T=xr(l,u);Hn(w,Tl(w,T),_,function Tm(l,u){return l.nextSibling(u)}(w,T),!1)}u[l.index]=d=pb(g,u,_,l),Xv(u,d)}return new rx(d,l,u)}class xC{constructor(u){this.queryList=u,this.matches=null}clone(){return new xC(this.queryList)}setDirty(){this.queryList.setDirty()}}class SC{constructor(u=[]){this.queries=u}createEmbeddedView(u){const d=u.queries;if(null!==d){const g=null!==u.contentQueries?u.contentQueries[0]:d.length,_=[];for(let w=0;w<g;w++){const T=d.getByIndex(w);_.push(this.queries[T.indexInDeclarationView].clone())}return new SC(_)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let d=0;d<this.queries.length;d++)null!==HO(u,d).matches&&this.queries[d].setDirty()}}class LO{constructor(u,d,g=null){this.predicate=u,this.flags=d,this.read=g}}class Ny{constructor(u=[]){this.queries=u}elementStart(u,d){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(u,d)}elementEnd(u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(u)}embeddedTView(u){let d=null;for(let g=0;g<this.length;g++){const _=null!==d?d.length:0,w=this.getByIndex(g).embeddedTView(u,_);w&&(w.indexInDeclarationView=g,null!==d?d.push(w):d=[w])}return null!==d?new Ny(d):null}template(u,d){for(let g=0;g<this.queries.length;g++)this.queries[g].template(u,d)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class g_{constructor(u,d=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(u,d){this.isApplyingToNode(d)&&this.matchTNode(u,d)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,d){this.elementStart(u,d)}embeddedTView(u,d){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,d),new g_(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let g=u.parent;for(;null!==g&&8&g.type&&g.index!==d;)g=g.parent;return d===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(u,d){const g=this.metadata.predicate;if(Array.isArray(g))for(let _=0;_<g.length;_++){const w=g[_];this.matchTNodeWithReadOption(u,d,sx(d,w)),this.matchTNodeWithReadOption(u,d,vl(d,u,w,!1,!1))}else g===Ry?4&d.type&&this.matchTNodeWithReadOption(u,d,-1):this.matchTNodeWithReadOption(u,d,vl(d,u,g,!1,!1))}matchTNodeWithReadOption(u,d,g){if(null!==g){const _=this.metadata.read;if(null!==_)if(_===Jp||_===jf||_===Ry&&4&d.type)this.addMatch(d.index,-2);else{const w=vl(d,u,_,!1,!1);null!==w&&this.addMatch(d.index,w)}else this.addMatch(d.index,g)}}addMatch(u,d){null===this.matches?this.matches=[u,d]:this.matches.push(u,d)}}function sx(l,u){const d=l.localNames;if(null!==d)for(let g=0;g<d.length;g+=2)if(d[g]===u)return d[g+1];return null}function AC(l,u,d,g){return-1===d?function bB(l,u){return 11&l.type?bd(l,u):4&l.type?p_(l,u):null}(u,l):-2===d?function FO(l,u,d){return d===Jp?bd(u,l):d===Ry?p_(u,l):d===jf?NO(u,l):void 0}(l,u,g):er(l,l[It],d,u)}function ax(l,u,d,g){const _=u[Gr].queries[g];if(null===_.matches){const w=l.data,T=d.matches,A=[];for(let O=0;O<T.length;O+=2){const U=T[O];A.push(U<0?null:AC(u,w[U],T[O+1],d.metadata.read))}_.matches=A}return _.matches}function lx(l,u,d,g){const _=l.queries.getByIndex(d),w=_.matches;if(null!==w){const T=ax(l,u,_,d);for(let A=0;A<w.length;A+=2){const O=w[A];if(O>0)g.push(T[A/2]);else{const U=w[A+1],j=u[-O];for(let ne=Ir;ne<j.length;ne++){const ve=j[ne];ve[Ko]===ve[Sn]&&lx(ve[It],ve,U,g)}if(null!==j[Oa]){const ne=j[Oa];for(let ve=0;ve<ne.length;ve++){const Pe=ne[ve];lx(Pe[It],Pe,U,g)}}}}}return g}function UO(l){const u=qe(),d=hn(),g=Va();dl(g+1);const _=HO(d,g);if(l.dirty&&function xs(l){return 4==(4&l[Ot])}(u)===(2==(2&_.metadata.flags))){if(null===_.matches)l.reset([]);else{const w=_.crossesNgTemplate?lx(d,u,g,[]):ax(d,u,_,g);l.reset(w,Fm),l.notifyOnChanges()}return!0}return!1}function cx(l,u,d){const g=hn();g.firstCreatePass&&(zO(g,new LO(l,u,d),-1),2==(2&u)&&(g.staticViewQueries=!0)),ZO(g,qe(),u)}function BO(l,u,d,g){const _=hn();if(_.firstCreatePass){const w=dr();zO(_,new LO(u,d,g),w.index),function EB(l,u){const d=l.contentQueries||(l.contentQueries=[]);u!==(d.length?d[d.length-1]:-1)&&d.push(l.queries.length-1,u)}(_,l),2==(2&d)&&(_.staticContentQueries=!0)}ZO(_,qe(),d)}function VO(){return function CB(l,u){return l[Gr].queries[u].queryList}(qe(),Va())}function ZO(l,u,d){const g=new TC(4==(4&d));C1(l,u,g,g.destroy),null===u[Gr]&&(u[Gr]=new SC),u[Gr].queries.push(new xC(g))}function zO(l,u,d){null===l.queries&&(l.queries=new Ny),l.queries.track(new g_(u,d))}function HO(l,u){return l.queries.getByIndex(u)}function ux(l){return!!Rr(l)}const kC=uh("Input",l=>({bindingPropertyName:l})),oR=uh("Output",l=>({bindingPropertyName:l}));function Wf(...l){}const Pd=new ui("Application Initializer");let Uy=(()=>{class l{constructor(d){this.appInits=d,this.resolve=Wf,this.reject=Wf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((g,_)=>{this.resolve=g,this.reject=_})}runInitializers(){if(this.initialized)return;const d=[],g=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let _=0;_<this.appInits.length;_++){const w=this.appInits[_]();if(Te(w))d.push(w);else if(K(w)){const T=new Promise((A,O)=>{w.subscribe({complete:A,error:O})});d.push(T)}}Promise.all(d).then(()=>{g()}).catch(_=>{this.reject(_)}),0===d.length&&g(),this.initialized=!0}}return l.\u0275fac=function(d){return new(d||l)(Rn(Pd,8))},l.\u0275prov=rn({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const OC=new ui("AppId",{providedIn:"root",factory:function By(){return`${ms()}${ms()}${ms()}`}});function ms(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _x=new ui("Platform Initializer"),v_=new ui("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ru=new ui("AnimationModuleType");let NC=(()=>{class l{log(d){console.log(d)}warn(d){console.warn(d)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=rn({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const Vy=new ui("LocaleId",{providedIn:"root",factory:()=>Qi(Vy,jt.Optional|jt.SkipSelf)||function aR(){return typeof $localize<"u"&&$localize.locale||zf}()}),wg=new ui("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class uR{constructor(u,d){this.ngModuleFactory=u,this.componentFactories=d}}let yx=(()=>{class l{compileModuleSync(d){return new Ay(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const g=this.compileModuleSync(d),w=Mu(Rr(d).declarations).reduce((T,A)=>{const O=on(A);return O&&T.push(new Ah(O)),T},[]);return new uR(g,w)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=rn({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const y_=(()=>Promise.resolve(0))();function UC(l){typeof Zone>"u"?y_.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class uc{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:g=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Md(!1),this.onMicrotaskEmpty=new Md(!1),this.onStable=new Md(!1),this.onError=new Md(!1),typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();const _=this;_._nesting=0,_._outer=_._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!g&&d,_.shouldCoalesceRunChangeDetection=g,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function w_(){let l=ti.requestAnimationFrame,u=ti.cancelAnimationFrame;if(typeof Zone<"u"&&l&&u){const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d);const g=u[Zone.__symbol__("OriginalDelegate")];g&&(u=g)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function bx(l){const u=()=>{!function hR(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(ti,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,qy(l),l.isCheckStableRunning=!0,b_(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),qy(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,g,_,w,T,A)=>{try{return BC(l),d.invokeTask(_,w,T,A)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||l.shouldCoalesceRunChangeDetection)&&u(),C_(l)}},onInvoke:(d,g,_,w,T,A,O)=>{try{return BC(l),d.invoke(_,w,T,A,O)}finally{l.shouldCoalesceRunChangeDetection&&u(),C_(l)}},onHasTask:(d,g,_,w)=>{d.hasTask(_,w),g===_&&("microTask"==w.change?(l._hasPendingMicrotasks=w.microTask,qy(l),b_(l)):"macroTask"==w.change&&(l.hasPendingMacrotasks=w.macroTask))},onHandleError:(d,g,_,w)=>(d.handleError(_,w),l.runOutsideAngular(()=>l.onError.emit(w)),!1)})}(_)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!uc.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(uc.isInAngularZone())throw new Be(909,!1)}run(u,d,g){return this._inner.run(u,d,g)}runTask(u,d,g,_){const w=this._inner,T=w.scheduleEventTask("NgZoneEvent: "+_,u,Hy,Wf,Wf);try{return w.runTask(T,d,g)}finally{w.cancelTask(T)}}runGuarded(u,d,g){return this._inner.runGuarded(u,d,g)}runOutsideAngular(u){return this._outer.run(u)}}const Hy={};function b_(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function qy(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function BC(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function C_(l){l._nesting--,b_(l)}class VC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Md,this.onMicrotaskEmpty=new Md,this.onStable=new Md,this.onError=new Md}run(u,d,g){return u.apply(d,g)}runGuarded(u,d,g){return u.apply(d,g)}runOutsideAngular(u){return u()}runTask(u,d,g,_){return u.apply(d,g)}}const jy=new ui(""),Wy=new ui("");let HC,ZC=(()=>{class l{constructor(d,g,_){this._ngZone=d,this.registry=g,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,HC||(function Cx(l){HC=l}(_),_.addToWindow(g)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{uc.assertNotInAngularZone(),UC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())UC(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(d)||(clearTimeout(g.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,g,_){let w=-1;g&&g>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==w),d(this._didWork,this.getPendingTasks())},g)),this._callbacks.push({doneCb:d,timeoutId:w,updateCb:_})}whenStable(d,g,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,g,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,g,_){return[]}}return l.\u0275fac=function(d){return new(d||l)(Rn(uc),Rn(zC),Rn(Wy))},l.\u0275prov=rn({token:l,factory:l.\u0275fac}),l})(),zC=(()=>{class l{constructor(){this._applications=new Map}registerApplication(d,g){this._applications.set(d,g)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,g=!0){return HC?.findTestabilityInTree(this,d,g)??null}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=rn({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const Nu=!1;let kd=null;const $y=new ui("AllowMultipleToken"),Gy=new ui("PlatformDestroyListeners"),Ex=new ui("appBootstrapListener");class _s{constructor(u,d){this.name=u,this.token=d}}function Dx(l,u,d=[]){const g=`Platform: ${u}`,_=new ui(g);return(w=[])=>{let T=$C();if(!T||T.injector.get($y,!1)){const A=[...d,...w,{provide:_,useValue:!0}];l?l(A):function Os(l){if(kd&&!kd.get($y,!1))throw new Be(400,!1);kd=l;const u=l.get(Ix);(function Ky(l){const u=l.get(_x,null);u&&u.forEach(d=>d())})(l)}(function WC(l=[],u){return eg.create({name:u,providers:[{provide:xh,useValue:"platform"},{provide:Gy,useValue:new Set([()=>kd=null])},...l]})}(A,g))}return function fR(l){const u=$C();if(!u)throw new Be(401,!1);return u}()}}function $C(){return kd?.get(Ix)??null}let Ix=(()=>{class l{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,g){const _=function Cg(l,u){let d;return d="noop"===l?new VC:("zone.js"===l?void 0:l)||new uc(u),d}(g?.ngZone,function bg(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!l||!l.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!l||!l.ngZoneRunCoalescing)||!1}}(g)),w=[{provide:uc,useValue:_}];return _.run(()=>{const T=eg.create({providers:w,parent:this.injector,name:d.moduleType.name}),A=d.create(T),O=A.injector.get(Um,null);if(!O)throw new Be(402,!1);return _.runOutsideAngular(()=>{const U=_.onError.subscribe({next:j=>{O.handleError(j)}});A.onDestroy(()=>{$f(this._modules,A),U.unsubscribe()})}),function Qy(l,u,d){try{const g=d();return Te(g)?g.catch(_=>{throw u.runOutsideAngular(()=>l.handleError(_)),_}):g}catch(g){throw u.runOutsideAngular(()=>l.handleError(g)),g}}(O,_,()=>{const U=A.injector.get(Uy);return U.runInitializers(),U.donePromise.then(()=>(function yI(l){Je(l,"Expected localeId to be defined"),"string"==typeof l&&(vI=l.toLowerCase().replace(/_/g,"-"))}(A.injector.get(Vy,zf)||zf),this._moduleDoBootstrap(A),A))})})}bootstrapModule(d,g=[]){const _=GC({},g);return function qC(l,u,d){const g=new Ay(d);return Promise.resolve(g)}(0,0,d).then(w=>this.bootstrapModuleFactory(w,_))}_moduleDoBootstrap(d){const g=d.injector.get(Jy);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(_=>g.bootstrap(_));else{if(!d.instance.ngDoBootstrap)throw new Be(-403,!1);d.instance.ngDoBootstrap(g)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,!1);this._modules.slice().forEach(g=>g.destroy()),this._destroyListeners.forEach(g=>g());const d=this._injector.get(Gy,null);d&&(d.forEach(g=>g()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(d){return new(d||l)(Rn(eg))},l.\u0275prov=rn({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();function GC(l,u){return Array.isArray(u)?u.reduce(GC,l):{...l,...u}}let Jy=(()=>{class l{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(d,g,_){this._zone=d,this._injector=g,this._exceptionHandler=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new W.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),T=new W.y(A=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{uc.assertNotInAngularZone(),UC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{uc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{O.unsubscribe(),U.unsubscribe()}});this.isStable=(0,Ce.T)(w,T.pipe((0,Oe.B)()))}bootstrap(d,g){const _=d instanceof $D;if(!this._injector.get(Uy).done){!_&&lo(d);throw new Be(405,Nu)}let T;T=_?d:this._injector.get(Qp).resolveComponentFactory(d),this.componentTypes.push(T.componentType);const A=function jC(l){return l.isBoundToModule}(T)?void 0:this._injector.get(Fh),U=T.create(eg.NULL,[],g||T.selector,A),j=U.location.nativeElement,ne=U.injector.get(jy,null);return ne?.registerApplication(j),U.onDestroy(()=>{this.detachView(U.hostView),$f(this.components,U),ne?.unregisterApplication(j)}),this._loadComponent(U),U}tick(){if(this._runningTick)throw new Be(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const g=d;this._views.push(g),g.attachToAppRef(this)}detachView(d){const g=d;$f(this._views,g),g.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const g=this._injector.get(Ex,[]);g.push(...this._bootstrapListeners),g.forEach(_=>_(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>$f(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new Be(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return l.\u0275fac=function(d){return new(d||l)(Rn(uc),Rn(Pf),Rn(Um))},l.\u0275prov=rn({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function $f(l,u){const d=l.indexOf(u);d>-1&&l.splice(d,1)}function xx(){return!1}let Sx=(()=>{class l{}return l.__NG_ELEMENT_ID__=t0,l})();function t0(l){return function gR(l,u,d){if(yc(l)&&!d){const g=ur(l.index,u);return new Qm(g,g)}return 47&l.type?new Qm(u[Yn],u):null}(dr(),qe(),16==(16&l))}class x_{constructor(){}supports(u){return lg(u)}create(u){return new Nx(u)}}const S_=(l,u)=>u;class Nx{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||S_}forEachItem(u){let d;for(d=this._itHead;null!==d;d=d._next)u(d)}forEachOperation(u){let d=this._itHead,g=this._removalsHead,_=0,w=null;for(;d||g;){const T=!g||d&&d.currentIndex<o0(g,_,w)?d:g,A=o0(T,_,w),O=T.currentIndex;if(T===g)_--,g=g._nextRemoved;else if(d=d._next,null==T.previousIndex)_++;else{w||(w=[]);const U=A-_,j=O-_;if(U!=j){for(let ve=0;ve<U;ve++){const Pe=ve<w.length?w[ve]:w[ve]=0,Ye=Pe+ve;j<=Ye&&Ye<U&&(w[ve]=Pe+1)}w[T.previousIndex]=j-U}}A!==O&&u(T,A,O)}}forEachPreviousItem(u){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)u(d)}forEachAddedItem(u){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)u(d)}forEachMovedItem(u){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)u(d)}forEachRemovedItem(u){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)u(d)}forEachIdentityChange(u){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)u(d)}diff(u){if(null==u&&(u=[]),!lg(u))throw new Be(900,!1);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let _,w,T,d=this._itHead,g=!1;if(Array.isArray(u)){this.length=u.length;for(let A=0;A<this.length;A++)w=u[A],T=this._trackByFn(A,w),null!==d&&Object.is(d.trackById,T)?(g&&(d=this._verifyReinsertion(d,w,T,A)),Object.is(d.item,w)||this._addIdentityChange(d,w)):(d=this._mismatch(d,w,T,A),g=!0),d=d._next}else _=0,function mk(l,u){if(Array.isArray(l))for(let d=0;d<l.length;d++)u(l[d]);else{const d=l[Symbol.iterator]();let g;for(;!(g=d.next()).done;)u(g.value)}}(u,A=>{T=this._trackByFn(_,A),null!==d&&Object.is(d.trackById,T)?(g&&(d=this._verifyReinsertion(d,A,T,_)),Object.is(d.item,A)||this._addIdentityChange(d,A)):(d=this._mismatch(d,A,T,_),g=!0),d=d._next,_++}),this.length=_;return this._truncate(d),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,d,g,_){let w;return null===u?w=this._itTail:(w=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null))?(Object.is(u.item,d)||this._addIdentityChange(u,d),this._reinsertAfter(u,w,_)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(g,_))?(Object.is(u.item,d)||this._addIdentityChange(u,d),this._moveAfter(u,w,_)):u=this._addAfter(new mR(d,g),w,_),u}_verifyReinsertion(u,d,g,_){let w=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null);return null!==w?u=this._reinsertAfter(w,u._prev,_):u.currentIndex!=_&&(u.currentIndex=_,this._addToMoves(u,_)),u}_truncate(u){for(;null!==u;){const d=u._next;this._addToRemovals(this._unlink(u)),u=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,d,g){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const _=u._prevRemoved,w=u._nextRemoved;return null===_?this._removalsHead=w:_._nextRemoved=w,null===w?this._removalsTail=_:w._prevRemoved=_,this._insertAfter(u,d,g),this._addToMoves(u,g),u}_moveAfter(u,d,g){return this._unlink(u),this._insertAfter(u,d,g),this._addToMoves(u,g),u}_addAfter(u,d,g){return this._insertAfter(u,d,g),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,d,g){const _=null===d?this._itHead:d._next;return u._next=_,u._prev=d,null===_?this._itTail=u:_._prev=u,null===d?this._itHead=u:d._next=u,null===this._linkedRecords&&(this._linkedRecords=new A_),this._linkedRecords.put(u),u.currentIndex=g,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const d=u._prev,g=u._next;return null===d?this._itHead=g:d._next=g,null===g?this._itTail=d:g._prev=d,u}_addToMoves(u,d){return u.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new A_),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,d){return u.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class mR{constructor(u,d){this.item=u,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XC{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,d){let g;for(g=this._head;null!==g;g=g._nextDup)if((null===d||d<=g.currentIndex)&&Object.is(g.trackById,u))return g;return null}remove(u){const d=u._prevDup,g=u._nextDup;return null===d?this._head=g:d._nextDup=g,null===g?this._tail=d:g._prevDup=d,null===this._head}}class A_{constructor(){this.map=new Map}put(u){const d=u.trackById;let g=this.map.get(d);g||(g=new XC,this.map.set(d,g)),g.add(u)}get(u,d){const _=this.map.get(u);return _?_.get(u,d):null}remove(u){const d=u.trackById;return this.map.get(d).remove(u)&&this.map.delete(d),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function o0(l,u,d){const g=l.previousIndex;if(null===g)return g;let _=0;return d&&g<d.length&&(_=d[g]),g+u+_}class eE{constructor(){}supports(u){return u instanceof Map||Tb(u)}create(){return new Lx}}class Lx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let d;for(d=this._mapHead;null!==d;d=d._next)u(d)}forEachPreviousItem(u){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)u(d)}forEachChangedItem(u){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)u(d)}forEachAddedItem(u){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)u(d)}forEachRemovedItem(u){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)u(d)}diff(u){if(u){if(!(u instanceof Map||Tb(u)))throw new Be(900,!1)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(u,(g,_)=>{if(d&&d.key===_)this._maybeAddToChanges(d,g),this._appendAfter=d,d=d._next;else{const w=this._getOrCreateRecordForKey(_,g);d=this._insertBeforeOrAppend(d,w)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let g=d;null!==g;g=g._nextRemoved)g===this._mapHead&&(this._mapHead=null),this._records.delete(g.key),g._nextRemoved=g._next,g.previousValue=g.currentValue,g.currentValue=null,g._prev=null,g._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,d){if(u){const g=u._prev;return d._next=u,d._prev=g,u._prev=d,g&&(g._next=d),u===this._mapHead&&(this._mapHead=d),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(u,d){if(this._records.has(u)){const _=this._records.get(u);this._maybeAddToChanges(_,d);const w=_._prev,T=_._next;return w&&(w._next=T),T&&(T._prev=w),_._next=null,_._prev=null,_}const g=new Fx(u);return this._records.set(u,g),g.currentValue=d,this._addToAdditions(g),g}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,d){Object.is(d,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=d,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,d){u instanceof Map?u.forEach(d):Object.keys(u).forEach(g=>d(u[g],g))}}class Fx{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ux(){return new Kf([new x_])}let Kf=(()=>{class l{constructor(d){this.factories=d}static create(d,g){if(null!=g){const _=g.factories.slice();d=d.concat(_)}return new l(d)}static extend(d){return{provide:l,useFactory:g=>l.create(d,g||Ux()),deps:[[l,new qt,new Oc]]}}find(d){const g=this.factories.find(_=>_.supports(d));if(null!=g)return g;throw new Be(901,!1)}}return l.\u0275prov=rn({token:l,providedIn:"root",factory:Ux}),l})();function M_(){return new Qf([new eE])}let Qf=(()=>{class l{constructor(d){this.factories=d}static create(d,g){if(g){const _=g.factories.slice();d=d.concat(_)}return new l(d)}static extend(d){return{provide:l,useFactory:g=>l.create(d,g||M_()),deps:[[l,new qt,new Oc]]}}find(d){const g=this.factories.find(_=>_.supports(d));if(g)return g;throw new Be(901,!1)}}return l.\u0275prov=rn({token:l,providedIn:"root",factory:M_}),l})();const Bx=Dx(null,"core",[]);let Vx=(()=>{class l{constructor(d){}}return l.\u0275fac=function(d){return new(d||l)(Rn(Jy))},l.\u0275mod=Me({type:l}),l.\u0275inj=ri({}),l})();function vR(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}},3942:(Yt,Xe,z)=>{"use strict";z.d(Xe,{Z:()=>Tt});var o=z(2090),te=z(4859),W=z(6881),Ce=z(1877);class Oe{constructor(Be,st){this._delegate=Be,this.firebase=st,(0,W._addComponent)(Be,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=Be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this._delegate.automaticDataCollectionEnabled=Be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Be=>{this._delegate.checkDestroyed(),Be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(Be,st=W._DEFAULT_ENTRY_NAME){var dt;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(Be);return!mt.isInitialized()&&"EXPLICIT"===(null===(dt=mt.getComponent())||void 0===dt?void 0:dt.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:st})}_removeServiceInstance(Be,st=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Be).clearInstance(st)}_addComponent(Be){(0,W._addComponent)(this._delegate,Be)}_addOrOverwriteComponent(Be){(0,W._addOrOverwriteComponent)(this._delegate,Be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const $e=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),he=function Ne(){const Vt=function je(Vt){const Be={},st={__esModule:!0,initializeApp:function nt(rt,Ae={}){const Lt=W.initializeApp(rt,Ae);if((0,o.r3)(Be,Lt.name))return Be[Lt.name];const tn=new Vt(Lt,st);return Be[Lt.name]=tn,tn},app:mt,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function lt(rt){const Ae=rt.name,Lt=Ae.replace("-compat","");if(W._registerComponent(rt)&&"PUBLIC"===rt.type){const tn=(Zt=mt())=>{if("function"!=typeof Zt[Lt])throw $e.create("invalid-app-argument",{appName:Ae});return Zt[Lt]()};void 0!==rt.serviceProps&&(0,o.ZB)(tn,rt.serviceProps),st[Lt]=tn,Vt.prototype[Lt]=function(...Zt){return this._getService.bind(this,Ae).apply(this,rt.multipleInstances?Zt:[])}}return"PUBLIC"===rt.type?st[Lt]:null},removeApp:function dt(rt){delete Be[rt]},useAsService:function vt(rt,Ae){return"serverAuth"===Ae?null:Ae},modularAPIs:W}};function mt(rt){if(!(0,o.r3)(Be,rt=rt||W._DEFAULT_ENTRY_NAME))throw $e.create("no-app",{appName:rt});return Be[rt]}return st.default=st,Object.defineProperty(st,"apps",{get:function Qe(){return Object.keys(Be).map(rt=>Be[rt])}}),mt.App=Vt,st}(Oe);return Vt.INTERNAL=Object.assign(Object.assign({},Vt.INTERNAL),{createFirebaseNamespace:Ne,extendNamespace:function Be(st){(0,o.ZB)(Vt,st)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Vt}(),fe=new Ce.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){fe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Vt=self.firebase.SDK_VERSION;Vt&&Vt.indexOf("LITE")>=0&&fe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Tt=he;!function it(Vt){(0,W.registerVersion)("@firebase/app-compat","0.2.13",Vt)}()},6881:(Yt,Xe,z)=>{"use strict";z.r(Xe),z.d(Xe,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>Go,_DEFAULT_ENTRY_NAME:()=>so,_addComponent:()=>Wt,_addOrOverwriteComponent:()=>In,_apps:()=>ti,_clearComponents:()=>Wr,_components:()=>Ln,_getProvider:()=>jr,_registerComponent:()=>Zn,_removeServiceInstance:()=>zi,deleteApp:()=>rr,getApp:()=>Eo,getApps:()=>Rn,initializeApp:()=>zn,onLog:()=>cr,registerVersion:()=>$r,setLogLevel:()=>To});var o=z(5861),te=z(4859),W=z(1877),Ce=z(2090);const Oe=(He,Me)=>Me.some(ht=>He instanceof ht);let Ee,$e;const he=new WeakMap,fe=new WeakMap,be=new WeakMap,tt=new WeakMap,it=new WeakMap;let Be={get(He,Me,ht){if(He instanceof IDBTransaction){if("done"===Me)return fe.get(He);if("objectStoreNames"===Me)return He.objectStoreNames||be.get(He);if("store"===Me)return ht.objectStoreNames[1]?void 0:ht.objectStore(ht.objectStoreNames[0])}return nt(He[Me])},set:(He,Me,ht)=>(He[Me]=ht,!0),has:(He,Me)=>He instanceof IDBTransaction&&("done"===Me||"store"===Me)||Me in He};function mt(He){return"function"==typeof He?function dt(He){return He!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ne(){return $e||($e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(He)?function(...Me){return He.apply(Qe(this),Me),nt(he.get(this))}:function(...Me){return nt(He.apply(Qe(this),Me))}:function(Me,...ht){const Kt=He.call(Qe(this),Me,...ht);return be.set(Kt,Me.sort?Me.sort():[Me]),nt(Kt)}}(He):(He instanceof IDBTransaction&&function Vt(He){if(fe.has(He))return;const Me=new Promise((ht,Kt)=>{const wn=()=>{He.removeEventListener("complete",Nn),He.removeEventListener("error",on),He.removeEventListener("abort",on)},Nn=()=>{ht(),wn()},on=()=>{Kt(He.error||new DOMException("AbortError","AbortError")),wn()};He.addEventListener("complete",Nn),He.addEventListener("error",on),He.addEventListener("abort",on)});fe.set(He,Me)}(He),Oe(He,function je(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(He,Be):He)}function nt(He){if(He instanceof IDBRequest)return function Tt(He){const Me=new Promise((ht,Kt)=>{const wn=()=>{He.removeEventListener("success",Nn),He.removeEventListener("error",on)},Nn=()=>{ht(nt(He.result)),wn()},on=()=>{Kt(He.error),wn()};He.addEventListener("success",Nn),He.addEventListener("error",on)});return Me.then(ht=>{ht instanceof IDBCursor&&he.set(ht,He)}).catch(()=>{}),it.set(Me,He),Me}(He);if(tt.has(He))return tt.get(He);const Me=mt(He);return Me!==He&&(tt.set(He,Me),it.set(Me,He)),Me}const Qe=He=>it.get(He),rt=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],Lt=new Map;function tn(He,Me){if(!(He instanceof IDBDatabase)||Me in He||"string"!=typeof Me)return;if(Lt.get(Me))return Lt.get(Me);const ht=Me.replace(/FromIndex$/,""),Kt=Me!==ht,wn=Ae.includes(ht);if(!(ht in(Kt?IDBIndex:IDBObjectStore).prototype)||!wn&&!rt.includes(ht))return;const Nn=function(){var on=(0,o.Z)(function*(fi,...Xn){const lo=this.transaction(fi,wn?"readwrite":"readonly");let Rr=lo.store;return Kt&&(Rr=Rr.index(Xn.shift())),(yield Promise.all([Rr[ht](...Xn),wn&&lo.done]))[0]});return function(Xn){return on.apply(this,arguments)}}();return Lt.set(Me,Nn),Nn}!function st(He){Be=He(Be)}(He=>({...He,get:(Me,ht,Kt)=>tn(Me,ht)||He.get(Me,ht,Kt),has:(Me,ht)=>!!tn(Me,ht)||He.has(Me,ht)}));class Zt{constructor(Me){this.container=Me}getPlatformInfoString(){return this.container.getProviders().map(ht=>{if(function dn(He){return"VERSION"===He.getComponent()?.type}(ht)){const Kt=ht.getImmediate();return`${Kt.library}/${Kt.version}`}return null}).filter(ht=>ht).join(" ")}}const zt="@firebase/app",Fe=new W.Yd("@firebase/app"),so="[DEFAULT]",qr={[zt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ti=new Map,Ln=new Map;function Wt(He,Me){try{He.container.addComponent(Me)}catch(ht){Fe.debug(`Component ${Me.name} failed to register with FirebaseApp ${He.name}`,ht)}}function In(He,Me){He.container.addOrOverwriteComponent(Me)}function Zn(He){const Me=He.name;if(Ln.has(Me))return Fe.debug(`There were multiple attempts to register component ${Me}.`),!1;Ln.set(Me,He);for(const ht of ti.values())Wt(ht,He);return!0}function jr(He,Me){const ht=He.container.getProvider("heartbeat").getImmediate({optional:!0});return ht&&ht.triggerHeartbeat(),He.container.getProvider(Me)}function zi(He,Me,ht=so){jr(He,Me).clearInstance(ht)}function Wr(){Ln.clear()}const Cr=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class kn{constructor(Me,ht,Kt){this._isDeleted=!1,this._options=Object.assign({},Me),this._config=Object.assign({},ht),this._name=ht.name,this._automaticDataCollectionEnabled=ht.automaticDataCollectionEnabled,this._container=Kt,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this.checkDestroyed(),this._automaticDataCollectionEnabled=Me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Me){this._isDeleted=Me}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}const Go="9.23.0";function zn(He,Me={}){let ht=He;"object"!=typeof Me&&(Me={name:Me});const Kt=Object.assign({name:so,automaticDataCollectionEnabled:!1},Me),wn=Kt.name;if("string"!=typeof wn||!wn)throw Cr.create("bad-app-name",{appName:String(wn)});if(ht||(ht=(0,Ce.aH)()),!ht)throw Cr.create("no-options");const Nn=ti.get(wn);if(Nn){if((0,Ce.vZ)(ht,Nn.options)&&(0,Ce.vZ)(Kt,Nn.config))return Nn;throw Cr.create("duplicate-app",{appName:wn})}const on=new te.H0(wn);for(const Xn of Ln.values())on.addComponent(Xn);const fi=new kn(ht,Kt,on);return ti.set(wn,fi),fi}function Eo(He=so){const Me=ti.get(He);if(!Me&&He===so&&(0,Ce.aH)())return zn();if(!Me)throw Cr.create("no-app",{appName:He});return Me}function Rn(){return Array.from(ti.values())}function rr(He){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,o.Z)(function*(He){const Me=He.name;ti.has(Me)&&(ti.delete(Me),yield Promise.all(He.container.getProviders().map(ht=>ht.delete())),He.isDeleted=!0)})).apply(this,arguments)}function $r(He,Me,ht){var Kt;let wn=null!==(Kt=qr[He])&&void 0!==Kt?Kt:He;ht&&(wn+=`-${ht}`);const Nn=wn.match(/\s|\//),on=Me.match(/\s|\//);if(Nn||on){const fi=[`Unable to register library "${wn}" with version "${Me}":`];return Nn&&fi.push(`library name "${wn}" contains illegal characters (whitespace or "/")`),Nn&&on&&fi.push("and"),on&&fi.push(`version name "${Me}" contains illegal characters (whitespace or "/")`),void Fe.warn(fi.join(" "))}Zn(new te.wA(`${wn}-version`,()=>({library:wn,version:Me}),"VERSION"))}function cr(He,Me){if(null!==He&&"function"!=typeof He)throw Cr.create("invalid-log-argument");(0,W.Am)(He,Me)}function To(He){(0,W.Ub)(He)}const ao="firebase-heartbeat-database",Do=1,le="firebase-heartbeat-store";let oe=null;function G(){return oe||(oe=function lt(He,Me,{blocked:ht,upgrade:Kt,blocking:wn,terminated:Nn}={}){const on=indexedDB.open(He,Me),fi=nt(on);return Kt&&on.addEventListener("upgradeneeded",Xn=>{Kt(nt(on.result),Xn.oldVersion,Xn.newVersion,nt(on.transaction),Xn)}),ht&&on.addEventListener("blocked",Xn=>ht(Xn.oldVersion,Xn.newVersion,Xn)),fi.then(Xn=>{Nn&&Xn.addEventListener("close",()=>Nn()),wn&&Xn.addEventListener("versionchange",lo=>wn(lo.oldVersion,lo.newVersion,lo))}).catch(()=>{}),fi}(ao,Do,{upgrade:(He,Me)=>{0===Me&&He.createObjectStore(le)}}).catch(He=>{throw Cr.create("idb-open",{originalErrorMessage:He.message})})),oe}function q(){return(q=(0,o.Z)(function*(He){try{return yield(yield G()).transaction(le).objectStore(le).get(kt(He))}catch(Me){if(Me instanceof Ce.ZR)Fe.warn(Me.message);else{const ht=Cr.create("idb-get",{originalErrorMessage:Me?.message});Fe.warn(ht.message)}}})).apply(this,arguments)}function ge(He,Me){return De.apply(this,arguments)}function De(){return(De=(0,o.Z)(function*(He,Me){try{const Kt=(yield G()).transaction(le,"readwrite");yield Kt.objectStore(le).put(Me,kt(He)),yield Kt.done}catch(ht){if(ht instanceof Ce.ZR)Fe.warn(ht.message);else{const Kt=Cr.create("idb-set",{originalErrorMessage:ht?.message});Fe.warn(Kt.message)}}})).apply(this,arguments)}function kt(He){return`${He.name}!${He.options.appId}`}class Fn{constructor(Me){this.container=Me,this._heartbeatsCache=null;const ht=this.container.getProvider("app").getImmediate();this._storage=new Tn(ht),this._heartbeatsCachePromise=this._storage.read().then(Kt=>(this._heartbeatsCache=Kt,Kt))}triggerHeartbeat(){var Me=this;return(0,o.Z)(function*(){const Kt=Me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wn=_n();if(null===Me._heartbeatsCache&&(Me._heartbeatsCache=yield Me._heartbeatsCachePromise),Me._heartbeatsCache.lastSentHeartbeatDate!==wn&&!Me._heartbeatsCache.heartbeats.some(Nn=>Nn.date===wn))return Me._heartbeatsCache.heartbeats.push({date:wn,agent:Kt}),Me._heartbeatsCache.heartbeats=Me._heartbeatsCache.heartbeats.filter(Nn=>{const on=new Date(Nn.date).valueOf();return Date.now()-on<=2592e6}),Me._storage.overwrite(Me._heartbeatsCache)})()}getHeartbeatsHeader(){var Me=this;return(0,o.Z)(function*(){if(null===Me._heartbeatsCache&&(yield Me._heartbeatsCachePromise),null===Me._heartbeatsCache||0===Me._heartbeatsCache.heartbeats.length)return"";const ht=_n(),{heartbeatsToSend:Kt,unsentEntries:wn}=function xi(He,Me=1024){const ht=[];let Kt=He.slice();for(const wn of He){const Nn=ht.find(on=>on.agent===wn.agent);if(Nn){if(Nn.dates.push(wn.date),Er(ht)>Me){Nn.dates.pop();break}}else if(ht.push({agent:wn.agent,dates:[wn.date]}),Er(ht)>Me){ht.pop();break}Kt=Kt.slice(1)}return{heartbeatsToSend:ht,unsentEntries:Kt}}(Me._heartbeatsCache.heartbeats),Nn=(0,Ce.L)(JSON.stringify({version:2,heartbeats:Kt}));return Me._heartbeatsCache.lastSentHeartbeatDate=ht,wn.length>0?(Me._heartbeatsCache.heartbeats=wn,yield Me._storage.overwrite(Me._heartbeatsCache)):(Me._heartbeatsCache.heartbeats=[],Me._storage.overwrite(Me._heartbeatsCache)),Nn})()}}function _n(){return(new Date).toISOString().substring(0,10)}class Tn{constructor(Me){this.app=Me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Me=this;return(0,o.Z)(function*(){return(yield Me._canUseIndexedDBPromise)&&(yield function Y(He){return q.apply(this,arguments)}(Me.app))||{heartbeats:[]}})()}overwrite(Me){var ht=this;return(0,o.Z)(function*(){var Kt;if(yield ht._canUseIndexedDBPromise){const Nn=yield ht.read();return ge(ht.app,{lastSentHeartbeatDate:null!==(Kt=Me.lastSentHeartbeatDate)&&void 0!==Kt?Kt:Nn.lastSentHeartbeatDate,heartbeats:Me.heartbeats})}})()}add(Me){var ht=this;return(0,o.Z)(function*(){var Kt;if(yield ht._canUseIndexedDBPromise){const Nn=yield ht.read();return ge(ht.app,{lastSentHeartbeatDate:null!==(Kt=Me.lastSentHeartbeatDate)&&void 0!==Kt?Kt:Nn.lastSentHeartbeatDate,heartbeats:[...Nn.heartbeats,...Me.heartbeats]})}})()}}function Er(He){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:He})).length}!function aa(He){Zn(new te.wA("platform-logger",Me=>new Zt(Me),"PRIVATE")),Zn(new te.wA("heartbeat",Me=>new Fn(Me),"PRIVATE")),$r(zt,"0.9.13",He),$r(zt,"0.9.13","esm2017"),$r("fire-js","")}("")},4859:(Yt,Xe,z)=>{"use strict";z.d(Xe,{H0:()=>je,wA:()=>W,zt:()=>Oe});var o=z(5861),te=z(2090);class W{constructor(he,fe,be){this.name=he,this.instanceFactory=fe,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(he){return this.instantiationMode=he,this}setMultipleInstances(he){return this.multipleInstances=he,this}setServiceProps(he){return this.serviceProps=he,this}setInstanceCreatedCallback(he){return this.onInstanceCreated=he,this}}const Ce="[DEFAULT]";class Oe{constructor(he,fe){this.name=he,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(he){const fe=this.normalizeInstanceIdentifier(he);if(!this.instancesDeferred.has(fe)){const be=new te.BH;if(this.instancesDeferred.set(fe,be),this.isInitialized(fe)||this.shouldAutoInitialize())try{const tt=this.getOrInitializeService({instanceIdentifier:fe});tt&&be.resolve(tt)}catch{}}return this.instancesDeferred.get(fe).promise}getImmediate(he){var fe;const be=this.normalizeInstanceIdentifier(he?.identifier),tt=null!==(fe=he?.optional)&&void 0!==fe&&fe;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(it){if(tt)return null;throw it}}getComponent(){return this.component}setComponent(he){if(he.name!==this.name)throw Error(`Mismatching Component ${he.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=he,this.shouldAutoInitialize()){if(function $e(Ne){return"EAGER"===Ne.instantiationMode}(he))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[fe,be]of this.instancesDeferred.entries()){const tt=this.normalizeInstanceIdentifier(fe);try{const it=this.getOrInitializeService({instanceIdentifier:tt});be.resolve(it)}catch{}}}}clearInstance(he=Ce){this.instancesDeferred.delete(he),this.instancesOptions.delete(he),this.instances.delete(he)}delete(){var he=this;return(0,o.Z)(function*(){const fe=Array.from(he.instances.values());yield Promise.all([...fe.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...fe.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(he=Ce){return this.instances.has(he)}getOptions(he=Ce){return this.instancesOptions.get(he)||{}}initialize(he={}){const{options:fe={}}=he,be=this.normalizeInstanceIdentifier(he.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const tt=this.getOrInitializeService({instanceIdentifier:be,options:fe});for(const[it,Tt]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(it)&&Tt.resolve(tt);return tt}onInit(he,fe){var be;const tt=this.normalizeInstanceIdentifier(fe),it=null!==(be=this.onInitCallbacks.get(tt))&&void 0!==be?be:new Set;it.add(he),this.onInitCallbacks.set(tt,it);const Tt=this.instances.get(tt);return Tt&&he(Tt,tt),()=>{it.delete(he)}}invokeOnInitCallbacks(he,fe){const be=this.onInitCallbacks.get(fe);if(be)for(const tt of be)try{tt(he,fe)}catch{}}getOrInitializeService({instanceIdentifier:he,options:fe={}}){let be=this.instances.get(he);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(Ne=he,Ne===Ce?void 0:Ne),options:fe}),this.instances.set(he,be),this.instancesOptions.set(he,fe),this.invokeOnInitCallbacks(be,he),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,he,be)}catch{}var Ne;return be||null}normalizeInstanceIdentifier(he=Ce){return this.component?this.component.multipleInstances?he:Ce:he}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class je{constructor(he){this.name=he,this.providers=new Map}addComponent(he){const fe=this.getProvider(he.name);if(fe.isComponentSet())throw new Error(`Component ${he.name} has already been registered with ${this.name}`);fe.setComponent(he)}addOrOverwriteComponent(he){this.getProvider(he.name).isComponentSet()&&this.providers.delete(he.name),this.addComponent(he)}getProvider(he){if(this.providers.has(he))return this.providers.get(he);const fe=new Oe(he,this);return this.providers.set(he,fe),fe}getProviders(){return Array.from(this.providers.values())}}},1877:(Yt,Xe,z)=>{"use strict";z.d(Xe,{Am:()=>Ne,Ub:()=>je,Yd:()=>$e,in:()=>te});const o=[];var te=(()=>{return(he=te||(te={}))[he.DEBUG=0]="DEBUG",he[he.VERBOSE=1]="VERBOSE",he[he.INFO=2]="INFO",he[he.WARN=3]="WARN",he[he.ERROR=4]="ERROR",he[he.SILENT=5]="SILENT",te;var he})();const W={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},Ce=te.INFO,Oe={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},Ee=(he,fe,...be)=>{if(fe<he.logLevel)return;const tt=(new Date).toISOString(),it=Oe[fe];if(!it)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[it](`[${tt}]  ${he.name}:`,...be)};class $e{constructor(fe){this.name=fe,this._logLevel=Ce,this._logHandler=Ee,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in te))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?W[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...fe),this._logHandler(this,te.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...fe),this._logHandler(this,te.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,te.INFO,...fe),this._logHandler(this,te.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,te.WARN,...fe),this._logHandler(this,te.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...fe),this._logHandler(this,te.ERROR,...fe)}}function je(he){o.forEach(fe=>{fe.setLogLevel(he)})}function Ne(he,fe){for(const be of o){let tt=null;fe&&fe.level&&(tt=W[fe.level]),be.userLogHandler=null===he?null:(it,Tt,...Vt)=>{const Be=Vt.map(st=>{if(null==st)return null;if("string"==typeof st)return st;if("number"==typeof st||"boolean"==typeof st)return st.toString();if(st instanceof Error)return st.message;try{return JSON.stringify(st)}catch{return null}}).filter(st=>st).join(" ");Tt>=(tt??it.logLevel)&&he({level:te[Tt].toLowerCase(),message:Be,args:Vt,type:it.name})}}}},259:(Yt,Xe,z)=>{"use strict";z.d(Xe,{C6:()=>o.getApps,KN:()=>o.registerVersion,Mq:()=>o.getApp,ZF:()=>o.initializeApp});var o=z(6881);(0,o.registerVersion)("firebase","9.23.0","app")},9260:(Yt,Xe,z)=>{"use strict";z.d(Xe,{Z:()=>o.Z});var o=z(3942);o.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(Yt,Xe,z)=>{"use strict";z.r(Xe);var o=z(5861),te=z(3942),W=z(1389),Ce=z(2090),$e=(z(6881),z(1877),z(4859));function je(){return window}const Ne=2e3;function fe(){return fe=(0,o.Z)(function*(G,Y,q){var ge;const{BuildInfo:De}=je();(0,W.as)(Y.sessionId,"AuthEvent did not contain a session ID");const kt=yield function st(G){return dt.apply(this,arguments)}(Y.sessionId),pn={};return(0,W.at)()?pn.ibi=De.packageName:(0,W.au)()?pn.apn=De.packageName:(0,W.av)(G,"operation-not-supported-in-this-environment"),De.displayName&&(pn.appDisplayName=De.displayName),pn.sessionId=kt,(0,W.aw)(G,q,Y.type,void 0,null!==(ge=Y.eventId)&&void 0!==ge?ge:void 0,pn)}),fe.apply(this,arguments)}function tt(){return(tt=(0,o.Z)(function*(G){const{BuildInfo:Y}=je(),q={};(0,W.at)()?q.iosBundleId=Y.packageName:(0,W.au)()?q.androidPackageName=Y.packageName:(0,W.av)(G,"operation-not-supported-in-this-environment"),yield(0,W.ax)(G,q)})).apply(this,arguments)}function Vt(){return(Vt=(0,o.Z)(function*(G,Y,q){const{cordova:ge}=je();let De=()=>{};try{yield new Promise((kt,pn)=>{let cn=null;function Fn(){var Tn;kt();const Er=null===(Tn=ge.plugins.browsertab)||void 0===Tn?void 0:Tn.close;"function"==typeof Er&&Er(),"function"==typeof q?.close&&q.close()}function _n(){cn||(cn=window.setTimeout(()=>{pn((0,W.az)(G,"redirect-cancelled-by-user"))},Ne))}function xi(){"visible"===document?.visibilityState&&_n()}Y.addPassiveListener(Fn),document.addEventListener("resume",_n,!1),(0,W.au)()&&document.addEventListener("visibilitychange",xi,!1),De=()=>{Y.removePassiveListener(Fn),document.removeEventListener("resume",_n,!1),document.removeEventListener("visibilitychange",xi,!1),cn&&window.clearTimeout(cn)}})}finally{De()}})).apply(this,arguments)}function dt(){return(dt=(0,o.Z)(function*(G){const Y=function mt(G){if((0,W.as)(/[0-9a-zA-Z]+/.test(G),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(G);const Y=new ArrayBuffer(G.length),q=new Uint8Array(Y);for(let ge=0;ge<G.length;ge++)q[ge]=G.charCodeAt(ge);return q}(G),q=yield crypto.subtle.digest("SHA-256",Y);return Array.from(new Uint8Array(q)).map(De=>De.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const nt=20;class Qe extends W.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Y=>{this.resolveInialized=Y})}addPassiveListener(Y){this.passiveListeners.add(Y)}removePassiveListener(Y){this.passiveListeners.delete(Y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Y){return this.resolveInialized(),this.passiveListeners.forEach(q=>q(Y)),super.onEvent(Y)}initialized(){var Y=this;return(0,o.Z)(function*(){yield Y.initPromise})()}}function rt(G){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,o.Z)(function*(G){const Y=yield Zt()._get(dn(G));return Y&&(yield Zt()._remove(dn(G))),Y})).apply(this,arguments)}function tn(){const G=[],Y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let q=0;q<nt;q++){const ge=Math.floor(Math.random()*Y.length);G.push(Y.charAt(ge))}return G.join("")}function Zt(){return(0,W.aC)(W.b)}function dn(G){return(0,W.aD)("authEvent",G.config.apiKey,G.name)}function Fe(G){if(!G?.includes("?"))return{};const[Y,...q]=G.split("?");return(0,Ce.zd)(q.join("?"))}const Ke=class ze{constructor(){this._redirectPersistence=W.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=W.aE,this._overrideRedirectResult=W.aF}_initialize(Y){var q=this;return(0,o.Z)(function*(){const ge=Y._key();let De=q.eventManagers.get(ge);return De||(De=new Qe(Y),q.eventManagers.set(ge,De),q.attachCallbackListeners(Y,De)),De})()}_openPopup(Y){(0,W.av)(Y,"operation-not-supported-in-this-environment")}_openRedirect(Y,q,ge,De){var kt=this;return(0,o.Z)(function*(){!function Be(G){var Y,q,ge,De,kt,pn,cn,Fn,_n,xi;const Tn=je();(0,W.aA)("function"==typeof(null===(Y=Tn?.universalLinks)||void 0===Y?void 0:Y.subscribe),G,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,W.aA)(typeof(null===(q=Tn?.BuildInfo)||void 0===q?void 0:q.packageName)<"u",G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,W.aA)("function"==typeof(null===(kt=null===(De=null===(ge=Tn?.cordova)||void 0===ge?void 0:ge.plugins)||void 0===De?void 0:De.browsertab)||void 0===kt?void 0:kt.openUrl),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.aA)("function"==typeof(null===(Fn=null===(cn=null===(pn=Tn?.cordova)||void 0===pn?void 0:pn.plugins)||void 0===cn?void 0:cn.browsertab)||void 0===Fn?void 0:Fn.isAvailable),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.aA)("function"==typeof(null===(xi=null===(_n=Tn?.cordova)||void 0===_n?void 0:_n.InAppBrowser)||void 0===xi?void 0:xi.open),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Y);const pn=yield kt._initialize(Y);yield pn.initialized(),pn.resetRedirect(),(0,W.aG)(),yield kt._originValidation(Y);const cn=function lt(G,Y,q=null){return{type:Y,eventId:q,urlResponse:null,sessionId:tn(),postBody:null,tenantId:G.tenantId,error:(0,W.az)(G,"no-auth-event")}}(Y,ge,De);yield function vt(G,Y){return Zt()._set(dn(G),Y)}(Y,cn);const Fn=yield function he(G,Y,q){return fe.apply(this,arguments)}(Y,cn,q),_n=yield function it(G){const{cordova:Y}=je();return new Promise(q=>{Y.plugins.browsertab.isAvailable(ge=>{let De=null;ge?Y.plugins.browsertab.openUrl(G):De=Y.InAppBrowser.open(G,(0,W.ay)()?"_blank":"_system","location=yes"),q(De)})})}(Fn);return function Tt(G,Y,q){return Vt.apply(this,arguments)}(Y,pn,_n)})()}_isIframeWebStorageSupported(Y,q){throw new Error("Method not implemented.")}_originValidation(Y){const q=Y._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function be(G){return tt.apply(this,arguments)}(Y)),this.originValidationPromises[q]}attachCallbackListeners(Y,q){const{universalLinks:ge,handleOpenURL:De,BuildInfo:kt}=je(),pn=setTimeout((0,o.Z)(function*(){yield rt(Y),q.onEvent(pt())}),500),cn=function(){var xi=(0,o.Z)(function*(Tn){clearTimeout(pn);const Er=yield rt(Y);let aa=null;Er&&Tn?.url&&(aa=function Lt(G,Y){var q,ge;const De=function Cn(G){const Y=Fe(G),q=Y.link?decodeURIComponent(Y.link):void 0,ge=Fe(q).link,De=Y.deep_link_id?decodeURIComponent(Y.deep_link_id):void 0;return Fe(De).link||De||ge||q||G}(Y);if(De.includes("/__/auth/callback")){const kt=Fe(De),pn=kt.firebaseError?function zt(G){try{return JSON.parse(G)}catch{return null}}(decodeURIComponent(kt.firebaseError)):null,cn=null===(ge=null===(q=pn?.code)||void 0===q?void 0:q.split("auth/"))||void 0===ge?void 0:ge[1],Fn=cn?(0,W.az)(cn):null;return Fn?{type:G.type,eventId:G.eventId,tenantId:G.tenantId,error:Fn,urlResponse:null,sessionId:null,postBody:null}:{type:G.type,eventId:G.eventId,tenantId:G.tenantId,sessionId:G.sessionId,urlResponse:De,postBody:null}}return null}(Er,Tn.url)),q.onEvent(aa||pt())});return function(Er){return xi.apply(this,arguments)}}();typeof ge<"u"&&"function"==typeof ge.subscribe&&ge.subscribe(null,cn);const Fn=De,_n=`${kt.packageName.toLowerCase()}://`;je().handleOpenURL=function(){var xi=(0,o.Z)(function*(Tn){if(Tn.toLowerCase().startsWith(_n)&&cn({url:Tn}),"function"==typeof Fn)try{Fn(Tn)}catch(Er){console.error(Er)}});return function(Tn){return xi.apply(this,arguments)}}()}};function pt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,W.az)("no-auth-event")}}const ci=1e3;function Pt(){var G;return(null===(G=self?.location)||void 0===G?void 0:G.protocol)||null}function Vn(G=(0,Ce.z$)()){return!("file:"!==Pt()&&"ionic:"!==Pt()&&"capacitor:"!==Pt()||!G.toLowerCase().match(/iphone|ipad|ipod|android/))}function Or(){try{const G=self.localStorage,Y=W.aL();if(G)return G.setItem(Y,"1"),G.removeItem(Y),!function ar(G=(0,Ce.z$)()){return function mi(){return(0,Ce.w1)()&&11===document?.documentMode}()||function kr(G=(0,Ce.z$)()){return/Edge\/\d+/.test(G)}(G)}()||(0,Ce.hl)()}catch{return ir()&&(0,Ce.hl)()}return!1}function ir(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function oo(){return(function rn(){return"http:"===Pt()||"https:"===Pt()}()||(0,Ce.ru)()||Vn())&&!function ri(){return(0,Ce.b$)()||(0,Ce.UG)()}()&&Or()&&!ir()}function Co(){return Vn()&&typeof document<"u"}function Gi(){return(Gi=(0,o.Z)(function*(){return!!Co()&&new Promise(G=>{const Y=setTimeout(()=>{G(!1)},ci);document.addEventListener("deviceready",()=>{clearTimeout(Y),G(!0)})})})).apply(this,arguments)}const Yi={LOCAL:"local",NONE:"none",SESSION:"session"},Cs=W.aA,lr="persistence";function qr(G){return ti.apply(this,arguments)}function ti(){return(ti=(0,o.Z)(function*(G){yield G._initializationPromise;const Y=Wt(),q=W.aD(lr,G.config.apiKey,G.name);Y&&Y.setItem(q,G._getPersistence())})).apply(this,arguments)}function Wt(){var G;try{return(null===(G=function jt(){return typeof window<"u"?window:null}())||void 0===G?void 0:G.sessionStorage)||null}catch{return null}}const In=W.aA;class Zn{constructor(){this.browserResolver=W.aC(W.k),this.cordovaResolver=W.aC(Ke),this.underlyingResolver=null,this._redirectPersistence=W.a,this._completeRedirectFn=W.aE,this._overrideRedirectResult=W.aF}_initialize(Y){var q=this;return(0,o.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize(Y)})()}_openPopup(Y,q,ge,De){var kt=this;return(0,o.Z)(function*(){return yield kt.selectUnderlyingResolver(),kt.assertedUnderlyingResolver._openPopup(Y,q,ge,De)})()}_openRedirect(Y,q,ge,De){var kt=this;return(0,o.Z)(function*(){return yield kt.selectUnderlyingResolver(),kt.assertedUnderlyingResolver._openRedirect(Y,q,ge,De)})()}_isIframeWebStorageSupported(Y,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Y,q)}_originValidation(Y){return this.assertedUnderlyingResolver._originValidation(Y)}get _shouldInitProactively(){return Co()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return In(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Y=this;return(0,o.Z)(function*(){if(Y.underlyingResolver)return;const q=yield function nl(){return Gi.apply(this,arguments)}();Y.underlyingResolver=q?Y.cordovaResolver:Y.browserResolver})()}}function jr(G){return G.unwrap()}function Wr(G){return Cr(G)}function Cr(G){const{_tokenResponse:Y}=G instanceof Ce.ZR?G.customData:G;if(!Y)return null;if(!(G instanceof Ce.ZR)&&"temporaryProof"in Y&&"phoneNumber"in Y)return W.P.credentialFromResult(G);const q=Y.providerId;if(!q||q===W.p.PASSWORD)return null;let ge;switch(q){case W.p.GOOGLE:ge=W.V;break;case W.p.FACEBOOK:ge=W.U;break;case W.p.GITHUB:ge=W.W;break;case W.p.TWITTER:ge=W.Z;break;default:const{oauthIdToken:De,oauthAccessToken:kt,oauthTokenSecret:pn,pendingToken:cn,nonce:Fn}=Y;return kt||pn||De||cn?cn?q.startsWith("saml.")?W.aO._create(q,cn):W.L._fromParams({providerId:q,signInMethod:q,pendingToken:cn,idToken:De,accessToken:kt}):new W.X(q).credential({idToken:De,accessToken:kt,rawNonce:Fn}):null}return G instanceof Ce.ZR?ge.credentialFromError(G):ge.credentialFromResult(G)}function kn(G,Y){return Y.catch(q=>{throw q instanceof Ce.ZR&&function Ki(G,Y){var q;const ge=null===(q=Y.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===Y?.code)Y.resolver=new Eo(G,W.aq(G,Y));else if(ge){const De=Cr(Y),kt=Y;De&&(kt.credential=De,kt.tenantId=ge.tenantId||void 0,kt.email=ge.email||void 0,kt.phoneNumber=ge.phoneNumber||void 0)}}(G,q),q}).then(q=>{const De=q.user;return{operationType:q.operationType,credential:Wr(q),additionalUserInfo:W.ao(q),user:Rn.getOrCreate(De)}})}function Go(G,Y){return zn.apply(this,arguments)}function zn(){return(zn=(0,o.Z)(function*(G,Y){const q=yield Y;return{verificationId:q.verificationId,confirm:ge=>kn(G,q.confirm(ge))}})).apply(this,arguments)}class Eo{constructor(Y,q){this.resolver=q,this.auth=function zi(G){return G.wrapped()}(Y)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Y){return kn(jr(this.auth),this.resolver.resolveSignIn(Y))}}class Rn{constructor(Y){this._delegate=Y,this.multiFactor=W.ar(Y)}static getOrCreate(Y){return Rn.USER_MAP.has(Y)||Rn.USER_MAP.set(Y,new Rn(Y)),Rn.USER_MAP.get(Y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Y){return this._delegate.getIdTokenResult(Y)}getIdToken(Y){return this._delegate.getIdToken(Y)}linkAndRetrieveDataWithCredential(Y){return this.linkWithCredential(Y)}linkWithCredential(Y){var q=this;return(0,o.Z)(function*(){return kn(q.auth,W.a0(q._delegate,Y))})()}linkWithPhoneNumber(Y,q){var ge=this;return(0,o.Z)(function*(){return Go(ge.auth,W.l(ge._delegate,Y,q))})()}linkWithPopup(Y){var q=this;return(0,o.Z)(function*(){return kn(q.auth,W.d(q._delegate,Y,Zn))})()}linkWithRedirect(Y){var q=this;return(0,o.Z)(function*(){return yield qr(W.aH(q.auth)),W.g(q._delegate,Y,Zn)})()}reauthenticateAndRetrieveDataWithCredential(Y){return this.reauthenticateWithCredential(Y)}reauthenticateWithCredential(Y){var q=this;return(0,o.Z)(function*(){return kn(q.auth,W.a1(q._delegate,Y))})()}reauthenticateWithPhoneNumber(Y,q){return Go(this.auth,W.r(this._delegate,Y,q))}reauthenticateWithPopup(Y){return kn(this.auth,W.e(this._delegate,Y,Zn))}reauthenticateWithRedirect(Y){var q=this;return(0,o.Z)(function*(){return yield qr(W.aH(q.auth)),W.h(q._delegate,Y,Zn)})()}sendEmailVerification(Y){return W.ae(this._delegate,Y)}unlink(Y){var q=this;return(0,o.Z)(function*(){return yield W.an(q._delegate,Y),q})()}updateEmail(Y){return W.aj(this._delegate,Y)}updatePassword(Y){return W.ak(this._delegate,Y)}updatePhoneNumber(Y){return W.u(this._delegate,Y)}updateProfile(Y){return W.ai(this._delegate,Y)}verifyBeforeUpdateEmail(Y,q){return W.af(this._delegate,Y,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Rn.USER_MAP=new WeakMap;const rr=W.aA;let Qi=(()=>{class G{constructor(q,ge){if(this.app=q,ge.isInitialized())return this._delegate=ge.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:De}=q.options;rr(De,"invalid-api-key",{appName:q.name}),rr(De,"invalid-api-key",{appName:q.name});const kt=typeof window<"u"?Zn:void 0;this._delegate=ge.initialize({options:{persistence:cr(De,q.name),popupRedirectResolver:kt}}),this._delegate._updateErrorMap(W.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Rn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,ge){W.I(this._delegate,q,ge)}applyActionCode(q){return W.a5(this._delegate,q)}checkActionCode(q){return W.a6(this._delegate,q)}confirmPasswordReset(q,ge){return W.a4(this._delegate,q,ge)}createUserWithEmailAndPassword(q,ge){var De=this;return(0,o.Z)(function*(){return kn(De._delegate,W.a8(De._delegate,q,ge))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return W.ad(this._delegate,q)}isSignInWithEmailLink(q){return W.ab(this._delegate,q)}getRedirectResult(){var q=this;return(0,o.Z)(function*(){rr(oo(),q._delegate,"operation-not-supported-in-this-environment");const ge=yield W.j(q._delegate,Zn);return ge?kn(q._delegate,Promise.resolve(ge)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function Je(G,Y){(0,W.aH)(G)._logFramework(Y)}(this._delegate,q)}onAuthStateChanged(q,ge,De){const{next:kt,error:pn,complete:cn}=$r(q,ge,De);return this._delegate.onAuthStateChanged(kt,pn,cn)}onIdTokenChanged(q,ge,De){const{next:kt,error:pn,complete:cn}=$r(q,ge,De);return this._delegate.onIdTokenChanged(kt,pn,cn)}sendSignInLinkToEmail(q,ge){return W.aa(this._delegate,q,ge)}sendPasswordResetEmail(q,ge){return W.a3(this._delegate,q,ge||void 0)}setPersistence(q){var ge=this;return(0,o.Z)(function*(){let De;switch(function so(G,Y){Cs(Object.values(Yi).includes(Y),G,"invalid-persistence-type"),(0,Ce.b$)()?Cs(Y!==Yi.SESSION,G,"unsupported-persistence-type"):(0,Ce.UG)()?Cs(Y===Yi.NONE,G,"unsupported-persistence-type"):ir()?Cs(Y===Yi.NONE||Y===Yi.LOCAL&&(0,Ce.hl)(),G,"unsupported-persistence-type"):Cs(Y===Yi.NONE||Or(),G,"unsupported-persistence-type")}(ge._delegate,q),q){case Yi.SESSION:De=W.a;break;case Yi.LOCAL:De=(yield W.aC(W.i)._isAvailable())?W.i:W.b;break;case Yi.NONE:De=W.N;break;default:return W.av("argument-error",{appName:ge._delegate.name})}return ge._delegate.setPersistence(De)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return kn(this._delegate,W._(this._delegate))}signInWithCredential(q){return kn(this._delegate,W.$(this._delegate,q))}signInWithCustomToken(q){return kn(this._delegate,W.a2(this._delegate,q))}signInWithEmailAndPassword(q,ge){return kn(this._delegate,W.a9(this._delegate,q,ge))}signInWithEmailLink(q,ge){return kn(this._delegate,W.ac(this._delegate,q,ge))}signInWithPhoneNumber(q,ge){return Go(this._delegate,W.s(this._delegate,q,ge))}signInWithPopup(q){var ge=this;return(0,o.Z)(function*(){return rr(oo(),ge._delegate,"operation-not-supported-in-this-environment"),kn(ge._delegate,W.c(ge._delegate,q,Zn))})()}signInWithRedirect(q){var ge=this;return(0,o.Z)(function*(){return rr(oo(),ge._delegate,"operation-not-supported-in-this-environment"),yield qr(ge._delegate),W.f(ge._delegate,q,Zn)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return W.a7(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return G.Persistence=Yi,G})();function $r(G,Y,q){let ge=G;"function"!=typeof G&&({next:ge,error:Y,complete:q}=G);const De=ge;return{next:pn=>De(pn&&Rn.getOrCreate(pn)),error:Y,complete:q}}function cr(G,Y){const q=function Ln(G,Y){const q=Wt();if(!q)return[];const ge=W.aD(lr,G,Y);switch(q.getItem(ge)){case Yi.NONE:return[W.N];case Yi.LOCAL:return[W.i,W.a];case Yi.SESSION:return[W.a];default:return[]}}(G,Y);if(typeof self<"u"&&!q.includes(W.i)&&q.push(W.i),typeof window<"u")for(const ge of[W.b,W.a])q.includes(ge)||q.push(ge);return q.includes(W.N)||q.push(W.N),q}class To{constructor(){this.providerId="phone",this._delegate=new W.P(jr(te.Z.auth()))}static credential(Y,q){return W.P.credential(Y,q)}verifyPhoneNumber(Y,q){return this._delegate.verifyPhoneNumber(Y,q)}unwrap(){return this._delegate}}To.PHONE_SIGN_IN_METHOD=W.P.PHONE_SIGN_IN_METHOD,To.PROVIDER_ID=W.P.PROVIDER_ID;const ao=W.aA;class Do{constructor(Y,q,ge=te.Z.app()){var De;ao(null===(De=ge.options)||void 0===De?void 0:De.apiKey,"invalid-api-key",{appName:ge.name}),this._delegate=new W.R(Y,q,ge.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function oe(G){G.INTERNAL.registerComponent(new $e.wA("auth-compat",Y=>{const q=Y.getProvider("app-compat").getImmediate(),ge=Y.getProvider("auth");return new Qi(q,ge)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:W.A.EMAIL_SIGNIN,PASSWORD_RESET:W.A.PASSWORD_RESET,RECOVER_EMAIL:W.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:W.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:W.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:W.A.VERIFY_EMAIL}},EmailAuthProvider:W.Q,FacebookAuthProvider:W.U,GithubAuthProvider:W.W,GoogleAuthProvider:W.V,OAuthProvider:W.X,SAMLAuthProvider:W.Y,PhoneAuthProvider:To,PhoneMultiFactorGenerator:W.m,RecaptchaVerifier:Do,TwitterAuthProvider:W.Z,Auth:Qi,AuthCredential:W.J,Error:Ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),G.registerVersion("@firebase/auth-compat","0.4.2")}(te.Z)},5861:(Yt,Xe,z)=>{"use strict";function o(W,Ce,Oe,Ee,$e,je,Ne){try{var he=W[je](Ne),fe=he.value}catch(be){return void Oe(be)}he.done?Ce(fe):Promise.resolve(fe).then(Ee,$e)}function te(W){return function(){var Ce=this,Oe=arguments;return new Promise(function(Ee,$e){var je=W.apply(Ce,Oe);function Ne(fe){o(je,Ee,$e,Ne,he,"next",fe)}function he(fe){o(je,Ee,$e,Ne,he,"throw",fe)}Ne(void 0)})}}z.d(Xe,{Z:()=>te})},7582:(Yt,Xe,z)=>{"use strict";z.d(Xe,{FC:()=>Qe,KL:()=>vt,_T:()=>Ce,mG:()=>be,pi:()=>W,qq:()=>nt});var W=function(){return W=Object.assign||function(Ie){for(var ze,Ke=1,pt=arguments.length;Ke<pt;Ke++)for(var Je in ze=arguments[Ke])Object.prototype.hasOwnProperty.call(ze,Je)&&(Ie[Je]=ze[Je]);return Ie},W.apply(this,arguments)};function Ce(Fe,Ie){var ze={};for(var Ke in Fe)Object.prototype.hasOwnProperty.call(Fe,Ke)&&Ie.indexOf(Ke)<0&&(ze[Ke]=Fe[Ke]);if(null!=Fe&&"function"==typeof Object.getOwnPropertySymbols){var pt=0;for(Ke=Object.getOwnPropertySymbols(Fe);pt<Ke.length;pt++)Ie.indexOf(Ke[pt])<0&&Object.prototype.propertyIsEnumerable.call(Fe,Ke[pt])&&(ze[Ke[pt]]=Fe[Ke[pt]])}return ze}function be(Fe,Ie,ze,Ke){return new(ze||(ze=Promise))(function(Je,We){function gt(rn){try{Pt(Ke.next(rn))}catch(Vn){We(Vn)}}function ci(rn){try{Pt(Ke.throw(rn))}catch(Vn){We(Vn)}}function Pt(rn){rn.done?Je(rn.value):function pt(Je){return Je instanceof ze?Je:new ze(function(We){We(Je)})}(rn.value).then(gt,ci)}Pt((Ke=Ke.apply(Fe,Ie||[])).next())})}function nt(Fe){return this instanceof nt?(this.v=Fe,this):new nt(Fe)}function Qe(Fe,Ie,ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pt,Ke=ze.apply(Fe,Ie||[]),Je=[];return pt={},We("next"),We("throw"),We("return"),pt[Symbol.asyncIterator]=function(){return this},pt;function We(ri){Ke[ri]&&(pt[ri]=function(mi){return new Promise(function(kr,ar){Je.push([ri,mi,kr,ar])>1||gt(ri,mi)})})}function gt(ri,mi){try{!function ci(ri){ri.value instanceof nt?Promise.resolve(ri.value.v).then(Pt,rn):Vn(Je[0][2],ri)}(Ke[ri](mi))}catch(kr){Vn(Je[0][3],kr)}}function Pt(ri){gt("next",ri)}function rn(ri){gt("throw",ri)}function Vn(ri,mi){ri(mi),Je.shift(),Je.length&&gt(Je[0][0],Je[0][1])}}function vt(Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,Ie=Fe[Symbol.asyncIterator];return Ie?Ie.call(Fe):(Fe=function Vt(Fe){var Ie="function"==typeof Symbol&&Symbol.iterator,ze=Ie&&Fe[Ie],Ke=0;if(ze)return ze.call(Fe);if(Fe&&"number"==typeof Fe.length)return{next:function(){return Fe&&Ke>=Fe.length&&(Fe=void 0),{value:Fe&&Fe[Ke++],done:!Fe}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(Fe),ze={},Ke("next"),Ke("throw"),Ke("return"),ze[Symbol.asyncIterator]=function(){return this},ze);function Ke(Je){ze[Je]=Fe[Je]&&function(We){return new Promise(function(gt,ci){!function pt(Je,We,gt,ci){Promise.resolve(ci).then(function(Pt){Je({value:Pt,done:gt})},We)}(gt,ci,(We=Fe[Je](We)).done,We.value)})}}}}},Yt=>{Yt(Yt.s=8952)}]);